repos:
  - repo: https://github.com/psf/black
    rev: 24.8.0
    hooks:
      - id: black
        args: [--line-length=100]
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.6.0
    hooks:
      - id: ruff
        args: [--fix, --exit-non-zero-on-fix]
  - repo: https://github.com/pre-commit/mirrors-mypy
    rev: v1.10.0
    hooks:
      - id: mypy
        args:
          [
            --strict,
            --config-file,
            cerebras/pyproject.toml,
          ]
        additional_dependencies:
          [
            pydantic>=2.0.0,
            httpx>=0.27.0,
            tenacity>=8.0.0,
            structlog>=24.0.0,
            prometheus-client>=0.20.0,
            opentelemetry-api>=1.20.0,
            fastapi>=0.110.0,
          ]
        files: ^cerebras/src/
        exclude: ^cerebras/(tests/|src/unifiedai/resilience/circuit_breaker\.py)
