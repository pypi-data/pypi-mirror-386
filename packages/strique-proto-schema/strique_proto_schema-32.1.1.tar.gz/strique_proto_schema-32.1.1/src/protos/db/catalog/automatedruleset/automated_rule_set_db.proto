syntax = "proto3";

package strique.model.db.catalog;

import "db/catalog/catalog_enums.proto";
import "types/filter_predicate/filters.proto";
import "widget/catalog/automated_rule_type.proto";

option java_outer_classname = "AutomatedRuleSetDbProto";
option java_package = "com.strique.model.db.catalog";

// Next Id: 2
// Proto definition for a list of automated rule sets.
message AutomatedRuleSetList {
  // The list of automated rule sets.
  repeated AutomatedRuleSetDb automated_rule_sets = 1;
}

// Next Id: 11
// Proto definition for automated rule set Data.
message AutomatedRuleSetDb {
  // unique id to identify the automated rule set.
  string id = 1;

  // platform id to which the rule set belongs.
  string platform_id = 2;

  // The type of the rule.
  widget.catalog.AutomatedRuleTypeColumn rule_type = 3;

  // Next Id: 3
  enum RuleStatus {
    RULESTATUS_UNKNOWN = 0;
    RULESTATUS_LIVE = 1;
    RULESTATUS_DRAFT = 2;
  }
  // The status of the rule.
  RuleStatus rule_status = 4;

  // updated date
  string updated_date = 5;

  // The conditions for the rule.
  optional types.Expression conditions = 6;

  // The attribute value to be set by the rule.
  string attribute_value = 7;

  // The destinations to which the rule applies.
  repeated ProductDestination included_destinations = 8;

  // rule priority
  int32 priority = 9;

  // The condition in English for better understanding.
  string human_readable_condition = 10;
}
