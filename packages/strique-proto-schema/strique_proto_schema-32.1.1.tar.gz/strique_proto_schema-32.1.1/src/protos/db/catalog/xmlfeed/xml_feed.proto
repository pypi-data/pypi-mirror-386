syntax = "proto3";

package strique.model.db.catalog;

option java_outer_classname = "XmlFeedProto";
option java_package = "com.strique.model.db.catalog";

// Next Id: 2
// Proto definition for XML Feed list.
message XmlFeedList {
  // List of XML feeds
  repeated XmlFeed xml_feed_response = 1;
}

// Next Id: 16
// Proto definition for XML Feed
message XmlFeed {
  // Unique identifier for the XML feed
  string id = 1;

  // Last updated timestamp according to platform timezone
  string last_updated_date = 2;

  // Created at timestamp according to platform timezone
  string created_at = 3;

  // Total number of items in the feed
  optional int64 item_count = 4;

  // Name of the XML feed
  string feed_name = 5;

  // Link to the XML feed
  optional string feed_link = 6;

  // Platform identifier associated with the XML feed
  string platform_id = 12;

  SyncSettings sync_settings = 13;

  enum XmlFeedStatus {
    XML_FEED_STATUS_UNKNOWN = 0;
    FEED_CREATED = 1;
    FEED_UPDATED = 2;
    ERROR = 3;
  }
  // Status of the XML feed
  XmlFeedStatus xml_feed_status = 14;

  // Optional message providing additional information about the feed status
  optional string message = 15;

  reserved 7, 8, 9, 10, 11;
}

// Next Id: 11
// Proto definition for Sync Settings
message SyncSettings {
  // Flag indicating if all products should be submitted
  bool is_all_products_need_to_be_submitted_in_feed = 1;

  // List of collections associated with the XML feed
  repeated string collection_ids = 2;

  // Preference for default product title
  bool is_defualt_product_title = 3;

  // Flag indicating if this is the first submission of variants
  bool is_first_variant_only = 4;

  // Flag indicating if variant names should be appended
  bool append_variant_name_to_product_title = 5;

  bool append_utm_tags_to_url = 6;

  optional string utm_source = 7;

  optional string utm_medium = 8;

  optional string utm_campaign = 9;

  bool with_sale_price = 10;
}