syntax = "proto3";

package strique.model.widget.strique_custom.leadgen;

import "constants/ui/render_type.proto";
import "options/strique_enum_options.proto";
import "db/platform/platform_type.proto";
import "types/currency/currency.proto";
import "widget/scorecard.proto";
import "widget/account_list.proto";

option java_outer_classname = "LeadGenBlendedAdSpendProto";
option java_package = "com.strique.model.widget.striquecustom.leadgen";

// Next id: 6
// Proto definitions for Strique Custom Leadgen Blended Ad Spend Data (Donut Chart Data)
message LeadGenBlendedAdSpendData {

  // Title for this widget
  string widget_title = 1;

  // Accumulated data for this widget
  LeadGenBlendedAdSpendAccumulatedData accumulated_data = 2;

  // List of records for this widget
  repeated LeadGenBlendedAdSpendRecord records = 3;

  // Total record.
  optional LeadGenBlendedAdSpendRecord total = 4;

  // Summary data for a subset of records
  optional LeadGenBlendedAdSpendRecord subtotal = 5;
}

// Next Id: 4
// Proto definition for a single record of Leadgen Blended Ad Spend Record
message LeadGenBlendedAdSpendRecord {
  // Platform type
  db.platform.PlatformType platform_type = 1 [json_name = "platformType"];

  // Ad Spend value for the specific platform
  types.Currency platform_value = 2 [json_name = "platformValue"];

  // Account list assoicated with particulart platform type
  repeated AccountList account_list = 3 [json_name = "accountList"];
}

// Next Id: 3
// Proto definition for Strique Custom LeadGen Blended Ad Spend (donut chart) configuration.
message LeadGenBlendedAdSpendConfig {
  // Next Id: 4
  // Enumeration of possible columns in the LeadGen Blended Ad Spend (donut chart).
  enum Column {
    COLUMN_UNKNOWN = 0 [
      (options.label) = 'Unknown',
      (options.accessor_key) = '',
      (options.is_sortable) = false,
      (options.is_filterable) = false
    ];
    COLUMN_PLATFORM_TYPE = 1 [
      (options.label) = 'Platform type',
      (options.accessor_key) = 'platformType',
      (options.is_sortable) = false,
      (options.is_filterable) = false
    ];
    COLUMN_PLATFORM_VALUE = 2 [
      (options.label) = 'Platform value',
      (options.accessor_key) = 'platformValue',
      (options.is_sortable) = false,
      (options.is_filterable) = false
    ];
    COLUMN_ACCOUNT_LIST = 3 [
      (options.label) = 'Account list',
      (options.accessor_key) = 'accountList',
      (options.is_sortable) = false,
      (options.is_filterable) = false
    ];
   }

  // Next Id: 3
  // Configuration for the donut chart displayed in the Strique Custom Leadgen Blended Ad Spend widget.
  message DonutChartConfig {
    // Specifies the dimension for the donut chart.
    Column dimension = 1;

    // Specifies the metric for the donut chart.
    Column metric = 2;
  }

  // Specifies the type of rendering for the widget.
  constants.ui.RenderType render_type = 1;

  // Configuration for the donut chart displayed in the widget.
  DonutChartConfig donut_chart_config = 2;
}

// Next Id: 7
// Proto definitions for the Primary Matrices of this widget
message LeadGenBlendedAdSpendAccumulatedData {
  // Total ad spend value 
  types.Currency total_value = 1;

  // Percent change for ad spend value
  optional float percent_change = 2;

  // Trend type for ad spend value
  optional strique.model.widget.scorecard.ScorecardVariant.TrendType trend_type = 3;

  // Description for ad spend value
  optional string description = 4;

  // Prefix for the ad spend value
  optional string prefix = 5;

  // Suffix for the ad spend value
  optional string suffix = 6;
}