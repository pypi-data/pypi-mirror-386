syntax = "proto3";

package strique.model.db.analytics;

option java_outer_classname = "ProductSetProto";
option java_package = "com.strique.model.db.analytics";

import "google/protobuf/timestamp.proto";
import "db/catalog/product_sets_request.proto";
import "types/filter_predicate/filters.proto";

// Next Id: 2
// Proto definition for ProductSet list.
message ProductSetList {
  repeated ProductSet product_set_response = 1;
}

// Next Id: 7
// Proto definition for ProductSet request.
message CreateProductSetRequest {
  // Product set details
  ProductSet product_set = 1;

  // search keyword for filtering products
  optional string search_keyword = 2;

  // start date for filtering analytics
  string start_date = 3;

  // end date for filtering analytics
  string end_date = 4;

  // Shopify platform id
  string shopify_platform_id = 5;

  // filter expression for select all request
  optional types.Expression filter_expression = 6;
}

// Next Id: 9
// Proto definition for ProductSet data.
message ProductSet {
  // product set id
  string set_id = 1;

  // product set name
  string set_name = 2;

  // platform reference
  string platform_id = 3;

  // total products in the set
  optional uint64 total_products_count = 4;

  // The timestamp when the request was created.
  optional google.protobuf.Timestamp created_at = 5;

  // The timestamp when the request was last updated.
  optional google.protobuf.Timestamp updated_at = 6;

  // Optional list of retailer ids 
  repeated string retailer_ids = 7;

  // Optional product sets fields for tags, collections, product urls
  optional catalog.ProductSetsUpdateRequest product_sets_update_request = 8;
}
