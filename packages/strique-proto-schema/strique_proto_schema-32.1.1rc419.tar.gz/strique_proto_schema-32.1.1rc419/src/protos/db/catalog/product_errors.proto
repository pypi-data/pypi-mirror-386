syntax = "proto3";

package strique.model.db.catalog;

import "db/platform/platform_type.proto";
import "options/strique_enum_options.proto";

option java_outer_classname = "ProductErrorsProto";
option java_package = "com.strique.model.db.catalog";

// Next Id: 2
// Proto definition for Product Errors list.
message ProductErrorsList {
  // list of product errors
  repeated ProductErrors product_errors = 1;
}

// Next Id: 12
// Proto definition for Product Errors.
message ProductErrors {
  // product id
  string product_id = 1;

  // platform type
  platform.PlatformType platform_type = 2;

  // error title
  optional string error_title = 3;

  // error description 
  optional string error_description = 4;

  // error status
  enum ErrorMessagePriority {
    ERROR_MESSAGE_PRIORITY_UNKNOWN = 0;
    ERROR_MESSAGE_PRIORITY_HIGH = 1 [(options.label) = 'High'];
    ERROR_MESSAGE_PRIORITY_MEDIUM = 2 [(options.label) = 'Medium'];
    ERROR_MESSAGE_PRIORITY_LOW = 3 [(options.label) = 'Low'];
    ERROR_MESSAGE_INFO = 4 [(options.label) = 'Info'];
    ERROR_MESSAGE_WARNING = 5 [(options.label) = 'Warning'];
    ERROR_MESSAGE_ERROR = 6 [(options.label) = 'Error'];
    ERROR_MESSAGE_OPTIONAL = 7 [(options.label) = 'Optional'];
  }
  optional ErrorMessagePriority error_message_priority = 5;

  // product status
  enum ProductSyncStatus {
    PRODUCT_SYNC_STATUS_UNKNOWN = 0;
    PRODUCT_APPROVED = 1 [(options.label) = 'Approved'];
    PRODUCT_APPROVED_WITH_WARNING = 2 [(options.label) = 'Approved with warning'];
    PRODUCT_DISAPPROVED = 3 [(options.label) = 'Disapproved'];
    PRODUCT_PENDING = 4 [(options.label) = 'Pending'];
    PRODUCT_EXCLUDED = 5 [(options.label) = 'Excluded'];
  }
  ProductSyncStatus product_sync_status = 6;

  // is error message actionable
  optional bool is_actionable = 7;

  // actionable field name
  optional string actionable_field_name = 8;

  // platform id
  string platform_id = 9;

  optional string created_at = 10;

  // documentation link (how to fix the error)
  optional string documentation_link = 11;
}
