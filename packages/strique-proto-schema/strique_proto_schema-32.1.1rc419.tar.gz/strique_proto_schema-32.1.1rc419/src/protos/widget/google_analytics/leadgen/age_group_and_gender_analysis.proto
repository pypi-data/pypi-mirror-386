syntax = "proto3";

package strique.model.widget.google_analytics.leadgen;

import "constants/ui/chart_orientation.proto";
import "constants/ui/render_type.proto";
import "db/google_analytics/age_bracket.proto";
import "options/strique_enum_options.proto";

option java_outer_classname = "LeadGenAgeGroupAndGenderAnalysisProto";
option java_package = "com.strique.model.widget.googleanalytics.leadgen";

// Next Id: 5
// Proto definition for Age Group And Gender Analysis Data.
message LeadGenAgeGroupAndGenderAnalysisData {
  // Title for this widget.
  string widget_title = 1;

  // List of records for this widget.
  repeated LeadGenAgeGroupAndGenderAnalysisRecord records = 2;

  // Total record.
  optional LeadGenAgeGroupAndGenderAnalysisRecord total = 3;

  // Summary data for a subset of records.
  optional LeadGenAgeGroupAndGenderAnalysisRecord subtotal = 4;
}

// Next Id: 4
// Proto definition for a single record of Age Group And Gender Analysis.
message LeadGenAgeGroupAndGenderAnalysisRecord {
  // Age Bracket
  constants.AgeBracket age_bracket = 1 [json_name = "ageBracket"];

  // Session generated by Male in specfic Age Bracket
  uint64 male_total_session = 2 [json_name = "maleTotalSession"];

  // Session generated by Female in specfic Age Bracket
  uint64 female_total_session = 3 [json_name = "femaleTotalSession"];
}

// Next Id: 3
// Proto definition for Age Group And Gender Analysis Data Configuration.
message LeadGenAgeGroupAndGenderAnalysisConfig {
  // Next Id: 4
  // Enumeration of possible columns in the Age Group And Gender Analysis Data.
  enum Column {
    COLUMN_UNKNOWN = 0 [
      (options.label) = 'Unknown',
      (options.accessor_key) = '',
      (options.is_sortable) = false,
      (options.is_filterable) = false
    ];
    COLUMN_AGE_BRACKET = 1 [
      (options.label) = 'Age bracket',
      (options.accessor_key) = 'ageBracket',
      (options.is_sortable) = true,
      (options.is_filterable) = false
    ];
    COLUMN_MALE_TOTAL_SESSION = 2 [
      (options.label) = 'Male session',
      (options.accessor_key) = 'maleTotalSession',
      (options.is_sortable) = true,
      (options.is_filterable) = false
    ];
    COLUMN_FEMALE_TOTAL_SESSION = 3 [
      (options.label) = 'Female session',
      (options.accessor_key) = 'femaleTotalSession',
      (options.is_sortable) = true,
      (options.is_filterable) = false
    ];
  }

  // Next Id: 4
  // Configuration for the bar chart displayed in the Age Group And Gender Analysis Data.
  message BarChartConfig {
    // Specifies the dimension for the bar chart.
    Column dimension = 1;

    // Specifies the bars for the bar chart.
    repeated Column bars = 2;

    // Specifies the orientation for the bar chart.
    constants.ui.ChartOrientation orientation = 3;
  }

  // Specifies the type of rendering for the widget.
  constants.ui.RenderType render_type = 1;

  // Configuration for the bar chart displayed in the widget.
  BarChartConfig bar_chart_config = 2;
}
