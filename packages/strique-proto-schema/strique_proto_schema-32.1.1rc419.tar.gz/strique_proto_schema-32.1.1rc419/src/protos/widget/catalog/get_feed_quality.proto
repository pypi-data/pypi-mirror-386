syntax = "proto3";

package strique.model.widget.catalog;

import "db/catalog/product_errors.proto";
import "db/platform/platform_type.proto";
import "types/media/media.proto";
import "db/catalog/catalog_enums.proto";

option java_outer_classname = "GetFeedQualityProto";
option java_package = "com.strique.model.widget.catalog";

// Next Id: 7
// Proto definition for Get Feed Quality request.
message GetFeedQualityRequest {
  // platform id for which feed quality is requested
  string platform_id = 1;

  // platform type for which feed quality is requested
  db.platform.PlatformType platform_type = 2;

  // product status on destination platform
  db.catalog.ProductErrors.ProductSyncStatus product_sync_status = 3;

  // optional page size for pagination
  optional uint32 page_size = 4;

  // optional page number for pagination
  optional uint32 page_number = 5;

  // optional error title to filter the products
  optional string error_title = 6;
}

// Next Id: 5
// Proto definition for Get Feed Quality response.
message GetFeedQualityResponse {
  // list of product data
  repeated ProductData product_data = 1;

  // list of error data
  repeated ErrorData error_data = 2;

  // total number of products
  uint32 total_products = 4;

  reserved 3;
}

// Next Id: 4
// Proto definition for Product Data.
message ProductData {
  string product_id = 1;

  types.Media title = 2;

  db.catalog.ProductStatus status = 3;
}

// Next Id: 8
// Proto definition for Error Data.
message ErrorData {
  // error title
  string error_title = 1;

  // error description 
  optional string error_description = 2;

  // error status
  string error_message_priority = 3;

  // is error message actionable
  bool is_actionable = 4;

  // actionable field name
  optional string actionable_field_name = 5;

  // product count
  uint64 product_count = 6;

  // documentation link
  optional string documentation_link = 7;
}