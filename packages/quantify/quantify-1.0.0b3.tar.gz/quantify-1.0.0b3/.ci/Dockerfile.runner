FROM python:3.12-slim

USER root
ENV DEBIAN_FRONTEND=noninteractive
ENV QT_QPA_PLATFORM=minimal

RUN apt-get update -qq \
     && apt-get install -qq -y --no-install-recommends \
     apt-utils \
     git \
     libgl1 \
     libqt5gui5 libqt5widgets5 \
     libhdf5-dev \
     xauth \
     xvfb \
     x11-xserver-utils \
     libatomic1 \
     && rm -rf /var/lib/apt/lists/*
