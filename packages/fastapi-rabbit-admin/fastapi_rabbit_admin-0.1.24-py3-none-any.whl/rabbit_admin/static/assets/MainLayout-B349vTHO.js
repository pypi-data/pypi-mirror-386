import{r as q,i as pe,o as W,c as A,g as N,a as j,n as ze,b as X,h as z,l as ce,d as fe,e as H,f as Y,j as u,w as b,k as We,u as Ae,m as Ne,p as Ee,q as Ie,s as je,t as Ue,v as Ke,x as Ge,y as Je,z as be,A as qe,B as Ce,C as Xe,D as Ye,E as Ze,F as et,G as tt,H as ie,I as G,J as at,K as nt,L as lt,M as ot,N as re,O as ue,P as R,Q as F,R as ye,S as it,T as rt,U as ut,V as st}from"./index-O_ON0DDw.js";import{T as se,Q as ct,a as dt}from"./TouchPan-BxbE_y17.js";import{b as J}from"./format-C6RmEeGd.js";import{factory as ft}from"./crud-BfVkPVC6.js";import"./axios-BPWCx0t4.js";function vt(){const e=q(!pe.value);return e.value===!1&&W(()=>{e.value=!0}),{isHydrated:e}}const Te=typeof ResizeObserver!="undefined",we=Te===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},de=A({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:C}){let l=null,n,o={width:-1,height:-1};function s(c){c===!0||e.debounce===0||e.debounce==="0"?d():l===null&&(l=setTimeout(d,e.debounce))}function d(){if(l!==null&&(clearTimeout(l),l=null),n){const{offsetWidth:c,offsetHeight:f}=n;(c!==o.width||f!==o.height)&&(o={width:c,height:f},C("resize",o))}}const{proxy:y}=N();if(y.trigger=s,Te===!0){let c;const f=a=>{n=y.$el.parentNode,n?(c=new ResizeObserver(s),c.observe(n),d()):a!==!0&&X(()=>{f(!0)})};return W(()=>{f()}),j(()=>{l!==null&&clearTimeout(l),c!==void 0&&(c.disconnect!==void 0?c.disconnect():n&&c.unobserve(n))}),ze}else{let c=function(){l!==null&&(clearTimeout(l),l=null),w!==void 0&&(w.removeEventListener!==void 0&&w.removeEventListener("resize",s,ce.passive),w=void 0)},f=function(){c(),n!=null&&n.contentDocument&&(w=n.contentDocument.defaultView,w.addEventListener("resize",s,ce.passive),d())};const{isHydrated:a}=vt();let w;return W(()=>{X(()=>{n=y.$el,n&&f()})}),j(c),()=>{if(a.value===!0)return z("object",{class:"q--avoid-card-border",style:we.style,tabindex:-1,type:"text/html",data:we.url,"aria-hidden":"true",onLoad:f})}}}}),ht=A({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:C,emit:l}){const{proxy:{$q:n}}=N(),o=fe(Y,H);if(o===H)return console.error("QHeader needs to be child of QLayout"),H;const s=q(parseInt(e.heightHint,10)),d=q(!0),y=u(()=>e.reveal===!0||o.view.value.indexOf("H")!==-1||n.platform.is.ios&&o.isContainer.value===!0),c=u(()=>{if(e.modelValue!==!0)return 0;if(y.value===!0)return d.value===!0?s.value:0;const i=s.value-o.scroll.value.position;return i>0?i:0}),f=u(()=>e.modelValue!==!0||y.value===!0&&d.value!==!0),a=u(()=>e.modelValue===!0&&f.value===!0&&e.reveal===!0),w=u(()=>"q-header q-layout__section--marginal "+(y.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(f.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),S=u(()=>{const i=o.rows.value.top,k={};return i[0]==="l"&&o.left.space===!0&&(k[n.lang.rtl===!0?"right":"left"]=`${o.left.size}px`),i[2]==="r"&&o.right.space===!0&&(k[n.lang.rtl===!0?"left":"right"]=`${o.right.size}px`),k});function v(i,k){o.update("header",i,k)}function m(i,k){i.value!==k&&(i.value=k)}function O({height:i}){m(s,i),v("size",i)}function p(i){a.value===!0&&m(d,!0),l("focusin",i)}b(()=>e.modelValue,i=>{v("space",i),m(d,!0),o.animate()}),b(c,i=>{v("offset",i)}),b(()=>e.reveal,i=>{i===!1&&m(d,e.modelValue)}),b(d,i=>{o.animate(),l("reveal",i)}),b(o.scroll,i=>{e.reveal===!0&&m(d,i.direction==="up"||i.position<=e.revealOffset||i.position-i.inflectionPoint<100)});const g={};return o.instances.header=g,e.modelValue===!0&&v("size",s.value),v("space",e.modelValue),v("offset",c.value),j(()=>{o.instances.header===g&&(o.instances.header=void 0,v("size",0),v("offset",0),v("space",!1))}),()=>{const i=We(C.default,[]);return e.elevated===!0&&i.push(z("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),i.push(z(de,{debounce:0,onResize:O})),z("header",{class:w.value,style:S.value,onFocusin:p},i)}}}),xe=150,mt=A({name:"QDrawer",inheritAttrs:!1,props:{...Ee,...Ne,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Ae,"onLayout","miniState"],setup(e,{slots:C,emit:l,attrs:n}){const o=N(),{proxy:{$q:s}}=o,d=Ie(e,s),{preventBodyScroll:y}=Ge(),{registerTimeout:c,removeTimeout:f}=je(),a=fe(Y,H);if(a===H)return console.error("QDrawer needs to be child of QLayout"),H;let w,S=null,v;const m=q(e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint),O=u(()=>e.mini===!0&&m.value!==!0),p=u(()=>O.value===!0?e.miniWidth:e.width),g=q(e.showIfAbove===!0&&m.value===!1?!0:e.modelValue===!0),i=u(()=>e.persistent!==!0&&(m.value===!0||ke.value===!0));function k(t,r){if(L(),t!==!1&&a.animate(),B(0),m.value===!0){const T=a.instances[U.value];(T==null?void 0:T.belowBreakpoint)===!0&&T.hide(!1),V(1),a.isContainer.value!==!0&&y(!0)}else V(0),t!==!1&&ne(!1);c(()=>{t!==!1&&ne(!0),r!==!0&&l("show",t)},xe)}function h(t,r){E(),t!==!1&&a.animate(),V(0),B(M.value*p.value),le(),r!==!0?c(()=>{l("hide",t)},xe):f()}const{show:x,hide:$}=Ue({showing:g,hideOnRouteChange:i,handleShow:k,handleHide:h}),{addToHistory:L,removeFromHistory:E}=Ke(g,$,i),Q={belowBreakpoint:m,hide:$},P=u(()=>e.side==="right"),M=u(()=>(s.lang.rtl===!0?-1:1)*(P.value===!0?1:-1)),ve=q(0),D=q(!1),Z=q(!1),he=q(p.value*M.value),U=u(()=>P.value===!0?"left":"right"),ee=u(()=>g.value===!0&&m.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:p.value:0),te=u(()=>e.overlay===!0||e.miniToOverlay===!0||a.view.value.indexOf(P.value?"R":"L")!==-1||s.platform.is.ios===!0&&a.isContainer.value===!0),I=u(()=>e.overlay===!1&&g.value===!0&&m.value===!1),ke=u(()=>e.overlay===!0&&g.value===!0&&m.value===!1),$e=u(()=>"fullscreen q-drawer__backdrop"+(g.value===!1&&D.value===!1?" hidden":"")),Le=u(()=>({backgroundColor:`rgba(0,0,0,${ve.value*.4})`})),me=u(()=>P.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),Be=u(()=>P.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),Oe=u(()=>{const t={};return a.header.space===!0&&me.value===!1&&(te.value===!0?t.top=`${a.header.offset}px`:a.header.space===!0&&(t.top=`${a.header.size}px`)),a.footer.space===!0&&Be.value===!1&&(te.value===!0?t.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(t.bottom=`${a.footer.size}px`)),t}),Pe=u(()=>{const t={width:`${p.value}px`,transform:`translateX(${he.value}px)`};return m.value===!0?t:Object.assign(t,Oe.value)}),He=u(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),Ve=u(()=>`q-drawer q-drawer--${e.side}`+(Z.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(d.value===!0?" q-drawer--dark q-dark":"")+(D.value===!0?" no-transition":g.value===!0?"":" q-layout--prevent-focus")+(m.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${O.value===!0?"mini":"standard"}`+(te.value===!0||I.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(me.value===!0?" q-drawer--top-padding":""))),_e=u(()=>{const t=s.lang.rtl===!0?e.side:U.value;return[[se,Re,void 0,{[t]:!0,mouse:!0}]]}),Qe=u(()=>{const t=s.lang.rtl===!0?U.value:e.side;return[[se,ge,void 0,{[t]:!0,mouse:!0}]]}),Me=u(()=>{const t=s.lang.rtl===!0?U.value:e.side;return[[se,ge,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function ae(){Fe(m,e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint)}b(m,t=>{t===!0?(w=g.value,g.value===!0&&$(!1)):e.overlay===!1&&e.behavior!=="mobile"&&w!==!1&&(g.value===!0?(B(0),V(0),le()):x(!1))}),b(()=>e.side,(t,r)=>{a.instances[r]===Q&&(a.instances[r]=void 0,a[r].space=!1,a[r].offset=0),a.instances[t]=Q,a[t].size=p.value,a[t].space=I.value,a[t].offset=ee.value}),b(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&ae()}),b(()=>e.behavior+e.breakpoint,ae),b(a.isContainer,t=>{g.value===!0&&y(t!==!0),t===!0&&ae()}),b(a.scrollbarWidth,()=>{B(g.value===!0?0:void 0)}),b(ee,t=>{_("offset",t)}),b(I,t=>{l("onLayout",t),_("space",t)}),b(P,()=>{B()}),b(p,t=>{B(),oe(e.miniToOverlay,t)}),b(()=>e.miniToOverlay,t=>{oe(t,p.value)}),b(()=>s.lang.rtl,()=>{B()}),b(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(De(),a.animate())}),b(O,t=>{l("miniState",t)});function B(t){t===void 0?X(()=>{t=g.value===!0?0:p.value,B(M.value*t)}):(a.isContainer.value===!0&&P.value===!0&&(m.value===!0||Math.abs(t)===p.value)&&(t+=M.value*a.scrollbarWidth.value),he.value=t)}function V(t){ve.value=t}function ne(t){const r=t===!0?"remove":a.isContainer.value!==!0?"add":"";r!==""&&document.body.classList[r]("q-body--drawer-toggle")}function De(){S!==null&&clearTimeout(S),o.proxy&&o.proxy.$el&&o.proxy.$el.classList.add("q-drawer--mini-animate"),Z.value=!0,S=setTimeout(()=>{var t,r;S=null,Z.value=!1,(r=(t=o==null?void 0:o.proxy)==null?void 0:t.$el)==null||r.classList.remove("q-drawer--mini-animate")},150)}function Re(t){if(g.value!==!1)return;const r=p.value,T=J(t.distance.x,0,r);if(t.isFinal===!0){T>=Math.min(75,r)===!0?x():(a.animate(),V(0),B(M.value*r)),D.value=!1;return}B((s.lang.rtl===!0?P.value!==!0:P.value)?Math.max(r-T,0):Math.min(0,T-r)),V(J(T/r,0,1)),t.isFirst===!0&&(D.value=!0)}function ge(t){if(g.value!==!0)return;const r=p.value,T=t.direction===e.side,K=(s.lang.rtl===!0?T!==!0:T)?J(t.distance.x,0,r):0;if(t.isFinal===!0){Math.abs(K)<Math.min(75,r)===!0?(a.animate(),V(1),B(0)):$(),D.value=!1;return}B(M.value*K),V(J(1-K/r,0,1)),t.isFirst===!0&&(D.value=!0)}function le(){y(!1),ne(!0)}function _(t,r){a.update(e.side,t,r)}function Fe(t,r){t.value!==r&&(t.value=r)}function oe(t,r){_("size",t===!0?e.miniWidth:r)}return a.instances[e.side]=Q,oe(e.miniToOverlay,p.value),_("space",I.value),_("offset",ee.value),e.showIfAbove===!0&&e.modelValue!==!0&&g.value===!0&&e["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!0),W(()=>{l("onLayout",I.value),l("miniState",O.value),w=e.showIfAbove===!0;const t=()=>{(g.value===!0?k:h)(!1,!0)};if(a.totalWidth.value!==0){X(t);return}v=b(a.totalWidth,()=>{v(),v=void 0,g.value===!1&&e.showIfAbove===!0&&m.value===!1?x(!1):t()})}),j(()=>{v==null||v(),S!==null&&(clearTimeout(S),S=null),g.value===!0&&le(),a.instances[e.side]===Q&&(a.instances[e.side]=void 0,_("size",0),_("offset",0),_("space",!1))}),()=>{const t=[];m.value===!0&&(e.noSwipeOpen===!1&&t.push(Je(z("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),_e.value)),t.push(be("div",{ref:"backdrop",class:$e.value,style:Le.value,"aria-hidden":"true",onClick:$},void 0,"backdrop",e.noSwipeBackdrop!==!0&&g.value===!0,()=>Me.value)));const r=O.value===!0&&C.mini!==void 0,T=[z("div",{...n,key:""+r,class:[He.value,n.class]},r===!0?C.mini():qe(C.default))];return e.elevated===!0&&g.value===!0&&T.push(z("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(be("aside",{ref:"content",class:Ve.value,style:Pe.value},T,"contentclose",e.noSwipeClose!==!0&&m.value===!0,()=>Qe.value)),z("div",{class:"q-drawer-container"},t)}}}),gt=A({name:"QPageContainer",setup(e,{slots:C}){const{proxy:{$q:l}}=N(),n=fe(Y,H);if(n===H)return console.error("QPageContainer needs to be child of QLayout"),H;Ce(Xe,!0);const o=u(()=>{const s={};return n.header.space===!0&&(s.paddingTop=`${n.header.size}px`),n.right.space===!0&&(s[`padding${l.lang.rtl===!0?"Left":"Right"}`]=`${n.right.size}px`),n.footer.space===!0&&(s.paddingBottom=`${n.footer.size}px`),n.left.space===!0&&(s[`padding${l.lang.rtl===!0?"Right":"Left"}`]=`${n.left.size}px`),s});return()=>z("div",{class:"q-page-container",style:o.value},qe(C.default))}}),{passive:Se}=ce,bt=["both","horizontal","vertical"],yt=A({name:"QScrollObserver",props:{axis:{type:String,validator:e=>bt.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:Ye},emits:["scroll"],setup(e,{emit:C}){const l={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let n=null,o,s;b(()=>e.scrollTarget,()=>{c(),y()});function d(){n==null||n();const w=Math.max(0,et(o)),S=tt(o),v={top:w-l.position.top,left:S-l.position.left};if(e.axis==="vertical"&&v.top===0||e.axis==="horizontal"&&v.left===0)return;const m=Math.abs(v.top)>=Math.abs(v.left)?v.top<0?"up":"down":v.left<0?"left":"right";l.position={top:w,left:S},l.directionChanged=l.direction!==m,l.delta=v,l.directionChanged===!0&&(l.direction=m,l.inflectionPoint=l.position),C("scroll",{...l})}function y(){o=Ze(s,e.scrollTarget),o.addEventListener("scroll",f,Se),f(!0)}function c(){o!==void 0&&(o.removeEventListener("scroll",f,Se),o=void 0)}function f(w){if(w===!0||e.debounce===0||e.debounce==="0")d();else if(n===null){const[S,v]=e.debounce?[setTimeout(d,e.debounce),clearTimeout]:[requestAnimationFrame(d),cancelAnimationFrame];n=()=>{v(S),n=null}}}const{proxy:a}=N();return b(()=>a.$q.lang.rtl,d),W(()=>{s=a.$el.parentNode,y()}),j(()=>{n==null||n(),c()}),Object.assign(a,{trigger:f,getPosition:()=>l}),ze}}),wt=A({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:C,emit:l}){const{proxy:{$q:n}}=N(),o=q(null),s=q(n.screen.height),d=q(e.container===!0?0:n.screen.width),y=q({position:0,direction:"down",inflectionPoint:0}),c=q(0),f=q(pe.value===!0?0:ie()),a=u(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),w=u(()=>e.container===!1?{minHeight:n.screen.height+"px"}:null),S=u(()=>f.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${f.value}px`}:null),v=u(()=>f.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${f.value}px`,width:`calc(100% + ${f.value}px)`}:null);function m(h){if(e.container===!0||document.qScrollPrevented!==!0){const x={position:h.position.top,direction:h.direction,directionChanged:h.directionChanged,inflectionPoint:h.inflectionPoint.top,delta:h.delta.top};y.value=x,e.onScroll!==void 0&&l("scroll",x)}}function O(h){const{height:x,width:$}=h;let L=!1;s.value!==x&&(L=!0,s.value=x,e.onScrollHeight!==void 0&&l("scrollHeight",x),g()),d.value!==$&&(L=!0,d.value=$),L===!0&&e.onResize!==void 0&&l("resize",h)}function p({height:h}){c.value!==h&&(c.value=h,g())}function g(){if(e.container===!0){const h=s.value>c.value?ie():0;f.value!==h&&(f.value=h)}}let i=null;const k={instances:{},view:u(()=>e.view),isContainer:u(()=>e.container),rootRef:o,height:s,containerHeight:c,scrollbarWidth:f,totalWidth:u(()=>d.value+f.value),rows:u(()=>{const h=e.view.toLowerCase().split(" ");return{top:h[0].split(""),middle:h[1].split(""),bottom:h[2].split("")}}),header:G({size:0,offset:0,space:!1}),right:G({size:300,offset:0,space:!1}),footer:G({size:0,offset:0,space:!1}),left:G({size:300,offset:0,space:!1}),scroll:y,animate(){i!==null?clearTimeout(i):document.body.classList.add("q-body--layout-animate"),i=setTimeout(()=>{i=null,document.body.classList.remove("q-body--layout-animate")},155)},update(h,x,$){k[h][x]=$}};if(Ce(Y,k),ie()>0){let h=function(){L=null,E.classList.remove("hide-scrollbar")},x=function(){if(L===null){if(E.scrollHeight>n.screen.height)return;E.classList.add("hide-scrollbar")}else clearTimeout(L);L=setTimeout(h,300)},$=function(Q){L!==null&&Q==="remove"&&(clearTimeout(L),h()),window[`${Q}EventListener`]("resize",x)},L=null;const E=document.body;b(()=>e.container!==!0?"add":"remove",$),e.container!==!0&&$("add"),at(()=>{$("remove")})}return()=>{const h=nt(C.default,[z(yt,{onScroll:m}),z(de,{onResize:O})]),x=z("div",{class:a.value,style:w.value,ref:e.container===!0?void 0:o,tabindex:-1},h);return e.container===!0?z("div",{class:"q-layout-container overflow-hidden",ref:o},[z(de,{onResize:p}),z("div",{class:"absolute-full",style:S.value},[z("div",{class:"scroll",style:v.value},[x])])]):x}}}),Tt={__name:"MainLayout",setup(e){const C=lt(),l=q(!1);let n;W(async()=>{n=await ft.setup(),console.log(n)});const o=()=>{l.value=!l.value};return(s,d)=>{const y=ot("router-view");return ue(),re(wt,{view:"lHr lpR lFr"},{default:R(()=>[F(ht,{reveal:"",class:"bg-accent text-white"},{default:R(()=>[F(ct,null,{default:R(()=>[l.value?ye("",!0):(ue(),re(it,{key:0,dense:"",flat:"",round:"",icon:"menu",onClick:o})),F(dt,{class:"text-white text-weight-bold text-center cursor-pointer",onClick:d[0]||(d[0]=c=>rt(C).push("/"))},{default:R(()=>[...d[2]||(d[2]=[ut(" rabbit-admin ",-1)])]),_:1})]),_:1})]),_:1}),F(mt,{modelValue:l.value,"onUpdate:modelValue":d[1]||(d[1]=c=>l.value=c),side:"left",class:"bg-accent"},{default:R(()=>[l.value?(ue(),re(st,{key:0,name:"eva-undo-outline",size:"md",class:"text-white absolute-top-right q-ma-sm",onClick:o})):ye("",!0)]),_:1},8,["modelValue"]),F(gt,null,{default:R(()=>[F(y)]),_:1})]),_:1})}}};export{Tt as default};
