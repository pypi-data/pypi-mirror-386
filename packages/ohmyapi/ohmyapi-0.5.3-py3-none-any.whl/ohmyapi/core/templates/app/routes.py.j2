from ohmyapi.router import APIRouter, HTTPException, HTTPStatus

from . import models

from typing import List

# OhMyAPI will automatically pick up all instances of `fastapi.APIRouter` and
# add their routes to the main project router.
#
# Note:
# Use prefixes wisely to avoid cross-app namespace-collisions!
# Tags improve the UX of the OpenAPI docs at /docs.
#
router = APIRouter(prefix="/{{ app_name }}", tags=['{{ app_name }}'])


@router.get("/", response_model=List)
async def list():
    """List all ..."""
    return []


@router.post("/", status_code=HTTPStatus.CREATED)
async def post():
    """Create ..."""
    raise HTTPException(status_code=HTTPStatus.IM_A_TEAPOT)


@router.get("/{id}")
async def get(id: str):
    """Get single ..."""
    return {}


@router.put("/{id}")
async def put(id: str):
    """Update ..."""
    return HTTPException(status_code=HTTPStatus.ACCEPTED)


@router.delete("/{id}", status_code=HTTPStatus.ACCEPTED)
async def delete(id: str):
    return HTTPException(status_code=HTTPStatus.ACCEPTED)

