var P=Object.defineProperty;var u=(k,l)=>P(k,"name",{value:l,configurable:!0});import{defineComponent as $,computed as d,resolveDirective as B,withDirectives as y,openBlock as s,createElementBlock as v,createVNode as b,unref as t,isRef as Q,createBlock as D,withCtx as g,createCommentVNode as I}from"vue";import{s as S}from"./vendor-vue-CQiO0HWB.js";import w from"primevue/button";import M from"primevue/buttongroup";import V from"primevue/splitbutton";import{useI18n as E}from"vue-i18n";import"./vendor-other-_cjyrTf6.js";import{bS as T,h as N,k as q,g as W,b$ as z,b as F}from"./index-CQX5zsr-.js";import"primevue/checkbox";import"primevue/message";import"primevue/divider";import"primevue/scrollpanel";import"primevue/usetoast";import"primevue/card";import"primevue/listbox";import"primevue/skeleton";import"primevue/progressbar";import"primevue/floatlabel";import"primevue/inputtext";import"@primevue/forms";import"@primevue/forms/resolvers/zod";import"primevue/password";import"primevue/progressspinner";import"primevue/tag";import K from"primevue/inputnumber";import"primevue/tabpanels";import"primevue/tabs";import"primevue/iconfield";import"primevue/inputicon";import"primevue/badge";import"primevue/chip";import"primevue/tabpanel";import"primevue/select";import"primevue/toggleswitch";import"primevue/colorpicker";import"primevue/radiobutton";import"primevue/knob";import"primevue/slider";import"primevue/panel";import"primevue/tabmenu";import"primevue/popover";import"primevue/tab";import"primevue/tablist";import"primevue";import"@primevue/themes";import"@primevue/themes/aura";import"primevue/config";import"primevue/confirmationservice";import"primevue/toastservice";import"primevue/tooltip";import"primevue/multiselect";import"./vendor-visualization-Cs6-EN8c.js";import"primevue/contextmenu";import"primevue/tree";import"primevue/toolbar";import"primevue/tieredmenu";import"primevue/chart";import"primevue/galleria";import"primevue/imagecompare";import"primevue/textarea";import"primevue/treeselect";import"primevue/selectbutton";import"primevue/dialog";import"primevue/confirmpopup";import"primevue/useconfirm";import"primevue/confirmdialog";import"primevue/autocomplete";import"primevue/dropdown";import"./vendor-tiptap-BrIJ4TxO.js";import"primevue/blockui";const L=["aria-label"],R=1,j=$({__name:"BatchCountEdit",setup(k){const l=T(),{batchCount:n}=S(l),e=N(),i=d(()=>e.get("Comfy.QueueButton.BatchCountLimit")),m=u(p=>{let r;if(p){const a=n.value-1;r=Math.min(a*2,i.value)}else{const a=n.value+1;r=Math.floor(a/2)}n.value=r},"handleClick");return(p,r)=>{const a=B("tooltip");return y((s(),v("div",{class:"batch-count","aria-label":p.$t("menu.batchCount")},[b(t(K),{modelValue:t(n),"onUpdate:modelValue":r[0]||(r[0]=h=>Q(n)?n.value=h:null),class:"w-14",min:R,max:i.value,fluid:"","show-buttons":"",pt:{incrementButton:{class:"w-6",onmousedown:u(()=>{m(!0)},"onmousedown")},decrementButton:{class:"w-6",onmousedown:u(()=>{m(!1)},"onmousedown")}}},null,8,["modelValue","max","pt"])],8,L)),[[a,{value:p.$t("menu.batchCount"),showDelay:600},void 0,{bottom:!0}]])}}}),G=q(j,[["__scopeId","data-v-19217ad4"]]),O={class:"queue-button-group flex"},U={key:0,class:"icon-[lucide--list-start]"},A={key:1,class:"icon-[lucide--play]"},H={key:2,class:"icon-[lucide--fast-forward]"},J={key:3,class:"icon-[lucide--step-forward]"},X=$({__name:"ComfyQueueButton",setup(k){const l=W(),n=S(z()),{mode:e}=S(T()),{t:i}=E(),m=d(()=>{const o={disabled:{key:"disabled",label:i("menu.run"),tooltip:i("menu.disabledTooltip"),command:u(()=>{e.value="disabled"},"command")},change:{key:"change",label:`${i("menu.run")} (${i("menu.onChange")})`,tooltip:i("menu.onChangeTooltip"),command:u(()=>{e.value="change"},"command")}};return o.instant={key:"instant",label:`${i("menu.run")} (${i("menu.instant")})`,tooltip:i("menu.instantTooltip"),command:u(()=>{e.value="instant"},"command")},o}),p=d(()=>m.value[e.value]||m.value.disabled),r=d(()=>Object.values(m.value)),a=d(()=>!!n.count.value),h=d(()=>n.count.value>1||e.value!=="disabled"),_=F(),x=u(async o=>{const c="shiftKey"in o&&o.shiftKey?"Comfy.QueuePromptFront":"Comfy.QueuePrompt";await _.execute(c)},"queuePrompt");return(o,f)=>{const c=B("tooltip");return s(),v("div",O,[y((s(),D(t(V),{class:"comfyui-queue-button",label:String(p.value?.label??""),severity:"primary",size:"small",model:r.value,"data-testid":"queue-button",onClick:x},{icon:g(()=>[t(l).shiftDown?(s(),v("i",U)):t(e)==="disabled"?(s(),v("i",A)):t(e)==="instant"?(s(),v("i",H)):t(e)==="change"?(s(),v("i",J)):I("",!0)]),item:g(({item:C})=>[y(b(t(w),{label:String(C.label??""),icon:C.icon,severity:C.key===t(e)?"primary":"secondary",size:"small",text:""},null,8,["label","icon","severity"]),[[c,{value:C.tooltip,showDelay:600}]])]),_:1},8,["label","model"])),[[c,{value:t(l).shiftDown?o.$t("menu.runWorkflowFront"):o.$t("menu.runWorkflow"),showDelay:600},void 0,{bottom:!0}]]),b(G),b(t(M),{class:"execution-actions flex flex-nowrap"},{default:g(()=>[y(b(t(w),{icon:"pi pi-times",severity:a.value?"danger":"secondary",disabled:!a.value,text:"","aria-label":o.$t("menu.interrupt"),onClick:f[0]||(f[0]=()=>t(_).execute("Comfy.Interrupt"))},null,8,["severity","disabled","aria-label"]),[[c,{value:o.$t("menu.interrupt"),showDelay:600},void 0,{bottom:!0}]]),y(b(t(w),{icon:"pi pi-stop",severity:h.value?"danger":"secondary",disabled:!h.value,text:"","aria-label":o.$t("sideToolbar.queueTab.clearPendingTasks"),onClick:f[1]||(f[1]=()=>{t(n).count.value>1&&t(_).execute("Comfy.ClearPendingTasks"),e.value="disabled"})},null,8,["severity","disabled","aria-label"]),[[c,{value:o.$t("sideToolbar.queueTab.clearPendingTasks"),showDelay:600},void 0,{bottom:!0}]])]),_:1})])}}}),be=q(X,[["__scopeId","data-v-ecafca74"]]);export{be as default};
//# sourceMappingURL=ComfyQueueButton-NGQuLmd1.js.map
