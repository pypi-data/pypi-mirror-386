var E=Object.defineProperty;var m=(y,a)=>E(y,"name",{value:a,configurable:!0});import{defineComponent as F,watch as b,openBlock as e,createBlock as u,withCtx as l,createElementVNode as i,unref as r,toDisplayString as p,createElementBlock as s,Fragment as d,renderList as v,createVNode as c,createCommentVNode as g}from"vue";import{s as M}from"./vendor-vue-CQiO0HWB.js";import C from"primevue/button";import P from"primevue/divider";import w from"primevue/message";import{useI18n as U}from"vue-i18n";import{h as O,cM as R,cI as q,cN as z,aI as G}from"./index-CQX5zsr-.js";import{u as H}from"./serverConfigStore-BbyQSple.js";import"./vendor-other-_cjyrTf6.js";import"@primevue/themes";import"@primevue/themes/aura";import"primevue/config";import"primevue/confirmationservice";import"primevue/toastservice";import"primevue/tooltip";import"primevue/checkbox";import"primevue/scrollpanel";import"primevue/usetoast";import"primevue/card";import"primevue/listbox";import"primevue/skeleton";import"primevue/multiselect";import"primevue/inputtext";import"primevue/select";import"./vendor-visualization-Cs6-EN8c.js";import"primevue/progressspinner";import"primevue/iconfield";import"primevue/inputicon";import"primevue/badge";import"primevue/chip";import"primevue/contextmenu";import"primevue/tree";import"primevue/toolbar";import"primevue/progressbar";import"primevue/popover";import"primevue";import"primevue/slider";import"primevue/tieredmenu";import"primevue/chart";import"primevue/colorpicker";import"primevue/galleria";import"primevue/imagecompare";import"primevue/inputnumber";import"primevue/textarea";import"primevue/toggleswitch";import"primevue/treeselect";import"primevue/selectbutton";import"primevue/tag";import"primevue/dialog";import"primevue/confirmpopup";import"primevue/useconfirm";import"primevue/confirmdialog";import"primevue/floatlabel";import"@primevue/forms";import"@primevue/forms/resolvers/zod";import"primevue/password";import"primevue/tabpanels";import"primevue/tabs";import"primevue/tabpanel";import"primevue/radiobutton";import"primevue/knob";import"primevue/panel";import"primevue/tabmenu";import"primevue/tab";import"primevue/tablist";import"primevue/autocomplete";import"primevue/dropdown";import"./vendor-tiptap-BrIJ4TxO.js";import"primevue/blockui";const J={class:"flex flex-col gap-2"},K={class:"flex justify-end gap-2"},Q={class:"flex items-center justify-between"},cr=F({__name:"ServerConfigPanel",setup(y){const a=O(),h=H(),{serverConfigsByCategory:x,serverConfigValues:V,launchArgs:I,commandLineArgs:f,modifiedConfigs:_}=M(h),$=m(()=>{h.revertChanges()},"revertChanges"),A=m(async()=>{await G().restartApp()},"restartApp");b(I,async t=>{await a.set("Comfy.Server.LaunchArgs",t)}),b(V,async t=>{await a.set("Comfy.Server.ServerConfigValues",t)});const{copyToClipboard:B}=R(),L=m(async()=>{await B(f.value)},"copyCommandLineArgs"),{t:k}=U(),N=m(t=>({...t,name:k(`serverConfigItems.${t.id}.name`,t.name),tooltip:t.tooltip?k(`serverConfigItems.${t.id}.tooltip`,t.tooltip):void 0}),"translateItem");return(t,S)=>(e(),u(q,{value:"Server-Config",class:"server-config-panel"},{header:l(()=>[i("div",J,[r(_).length>0?(e(),u(r(w),{key:0,severity:"info","pt:text":"w-full"},{default:l(()=>[i("p",null,p(t.$t("serverConfig.modifiedConfigs")),1),i("ul",null,[(e(!0),s(d,null,v(r(_),o=>(e(),s("li",{key:o.id},p(o.name)+": "+p(o.initialValue)+" â†’ "+p(o.value),1))),128))]),i("div",K,[c(r(C),{label:t.$t("serverConfig.revertChanges"),outlined:"",onClick:$},null,8,["label"]),c(r(C),{label:t.$t("serverConfig.restart"),outlined:"",severity:"danger",onClick:A},null,8,["label"])])]),_:1})):g("",!0),r(f)?(e(),u(r(w),{key:1,severity:"secondary","pt:text":"w-full"},{icon:l(()=>S[0]||(S[0]=[i("i",{class:"icon-[lucide--terminal] text-xl font-bold"},null,-1)])),default:l(()=>[i("div",Q,[i("p",null,p(r(f)),1),c(r(C),{icon:"pi pi-clipboard",severity:"secondary",text:"",onClick:L})])]),_:1})):g("",!0)])]),default:l(()=>[(e(!0),s(d,null,v(Object.entries(r(x)),([o,j],T)=>(e(),s("div",{key:o},[T>0?(e(),u(r(P),{key:0})):g("",!0),i("h3",null,p(t.$t(`serverConfigCategories.${o}`,o)),1),(e(!0),s(d,null,v(j,n=>(e(),s("div",{key:n.name,class:"mb-4"},[c(z,{id:n.id,"form-value":n.value,"onUpdate:formValue":m(D=>n.value=D,"onUpdate:formValue"),item:N(n),"label-class":{"text-highlight":n.initialValue!==n.value}},null,8,["id","form-value","onUpdate:formValue","item","label-class"])]))),128))]))),128))]),_:1}))}});export{cr as default};
//# sourceMappingURL=ServerConfigPanel-CIrHObtF.js.map
