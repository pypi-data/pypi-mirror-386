# Generated by the protocol buffer compiler.  DO NOT EDIT!
# sources: envoy/extensions/resource_monitors/downstream_connections/v3/downstream_connections.proto
# plugin: python-betterproto2
# This file has been @generated

__all__ = ("DownstreamConnectionsConfig",)

import typing

import betterproto2
import pydantic
from pydantic.dataclasses import dataclass

from ......message_pool import default_message_pool

_COMPILER_VERSION = "0.9.0"
betterproto2.check_compiler_version(_COMPILER_VERSION)


@dataclass(eq=False, repr=False, config={"extra": "forbid"})
class DownstreamConnectionsConfig(betterproto2.Message):
    """
    [#protodoc-title: Downstream connections]
    [#extension: envoy.resource_monitors.global_downstream_max_connections]

    The downstream connections resource monitor tracks the global number of open downstream connections.
    """

    max_active_downstream_connections: "typing.Annotated[int, pydantic.Field(ge=-2**63, le=2**63 - 1)]" = betterproto2.field(
        1, betterproto2.TYPE_INT64
    )
    """
    Maximum threshold for global open downstream connections, defaults to 0.
    If monitor is enabled in Overload manager api, this field should be explicitly configured with value greater than 0.
    """


default_message_pool.register_message(
    "envoy.extensions.resource_monitors.downstream_connections.v3",
    "DownstreamConnectionsConfig",
    DownstreamConnectionsConfig,
)
