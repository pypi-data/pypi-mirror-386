# Generated by the protocol buffer compiler.  DO NOT EDIT!
# sources: envoy/extensions/transport_sockets/tcp_stats/v3/tcp_stats.proto
# plugin: python-betterproto2
# This file has been @generated

__all__ = ("Config",)

import datetime

import betterproto2
from pydantic.dataclasses import dataclass

from ......message_pool import default_message_pool

_COMPILER_VERSION = "0.9.0"
betterproto2.check_compiler_version(_COMPILER_VERSION)


@dataclass(eq=False, repr=False, config={"extra": "forbid"})
class Config(betterproto2.Message):
    """
    [#protodoc-title: TCP Stats Transport Socket wrapper]
    [#extension: envoy.transport_sockets.tcp_stats]

    Configuration for the TCP Stats transport socket wrapper, which wraps another transport socket for
    all communication, but emits stats about the underlying TCP connection.

    The stats are documented :ref:`here <config_listener_stats_tcp>` for listeners and
    :ref:`here <config_cluster_manager_cluster_stats_tcp>` for clusters.

    This transport socket is currently only supported on Linux.
    """

    transport_socket: "____config__core__v3__.TransportSocket | None" = (
        betterproto2.field(1, betterproto2.TYPE_MESSAGE, optional=True)
    )
    """
    The underlying transport socket being wrapped.
    """

    update_period: "datetime.timedelta | None" = betterproto2.field(
        2,
        betterproto2.TYPE_MESSAGE,
        unwrap=lambda: _____google__protobuf__.Duration,
        optional=True,
    )
    """
    Period to update stats while the connection is open. If unset, updates only happen when the
    connection is closed. Stats are always updated one final time when the connection is closed.
    """


default_message_pool.register_message(
    "envoy.extensions.transport_sockets.tcp_stats.v3", "Config", Config
)


from ......google import protobuf as _____google__protobuf__
from .....config.core import v3 as ____config__core__v3__
