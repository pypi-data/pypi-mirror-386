<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-documentation/installing-and-configuring/configurations" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Configuring Agent Mesh | Solace Agent Mesh</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://solacelabs.github.io/solace-agent-mesh/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://solacelabs.github.io/solace-agent-mesh/img/logo.png"><meta data-rh="true" property="og:url" content="https://solacelabs.github.io/solace-agent-mesh/docs/documentation/installing-and-configuring/configurations"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Configuring Agent Mesh | Solace Agent Mesh"><meta data-rh="true" name="description" content="The shared_config.yaml file is used to define configurations that can be shared across multiple agents or components in Agent Mesh. This centralized approach simplifies management of common configurations such as Solace event broker connections, language model settings, and service definitions."><meta data-rh="true" property="og:description" content="The shared_config.yaml file is used to define configurations that can be shared across multiple agents or components in Agent Mesh. This centralized approach simplifies management of common configurations such as Solace event broker connections, language model settings, and service definitions."><link data-rh="true" rel="icon" href="/solace-agent-mesh/img/logo.png"><link data-rh="true" rel="canonical" href="https://solacelabs.github.io/solace-agent-mesh/docs/documentation/installing-and-configuring/configurations"><link data-rh="true" rel="alternate" href="https://solacelabs.github.io/solace-agent-mesh/docs/documentation/installing-and-configuring/configurations" hreflang="en"><link data-rh="true" rel="alternate" href="https://solacelabs.github.io/solace-agent-mesh/docs/documentation/installing-and-configuring/configurations" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Installing and Configuring Agent Mesh","item":"https://solacelabs.github.io/solace-agent-mesh/docs/documentation/installing-and-configuring/"},{"@type":"ListItem","position":2,"name":"Configuring Agent Mesh","item":"https://solacelabs.github.io/solace-agent-mesh/docs/documentation/installing-and-configuring/configurations"}]}</script><link rel="stylesheet" href="/solace-agent-mesh/assets/css/styles.906a1503.css">
<script src="/solace-agent-mesh/assets/js/runtime~main.0d198646.js" defer="defer"></script>
<script src="/solace-agent-mesh/assets/js/main.7301459a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/solace-agent-mesh/img/logo.png"><link rel="preload" as="image" href="/solace-agent-mesh/img/solace-logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/solace-agent-mesh/docs/documentation/getting-started"><div class="navbar__logo"><img src="/solace-agent-mesh/img/logo.png" alt="Solace Agent Mesh Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/solace-agent-mesh/img/logo.png" alt="Solace Agent Mesh Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Solace Agent Mesh</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/solace-agent-mesh/docs/documentation/getting-started/">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/SolaceLabs/solace-agent-mesh/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/solace-agent-mesh/docs/documentation/getting-started/">Getting Started</a><button aria-label="Collapse sidebar category &#x27;Getting Started&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/getting-started/introduction">What is Agent Mesh?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/getting-started/try-agent-mesh">Try Agent Mesh</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/getting-started/architecture">Architecture Overview</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/solace-agent-mesh/docs/documentation/components/">Components</a><button aria-label="Expand sidebar category &#x27;Components&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/solace-agent-mesh/docs/documentation/installing-and-configuring/">Installing and Configuring Agent Mesh</a><button aria-label="Collapse sidebar category &#x27;Installing and Configuring Agent Mesh&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/installing-and-configuring/installation">Installing Agent Mesh</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/installing-and-configuring/run-project">Creating and Running an Agent Mesh Project</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/solace-agent-mesh/docs/documentation/installing-and-configuring/configurations">Configuring Agent Mesh</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/installing-and-configuring/large_language_models">Configuring LLMs</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/solace-agent-mesh/docs/documentation/developing/">Developing with Agent Mesh</a><button aria-label="Expand sidebar category &#x27;Developing with Agent Mesh&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/solace-agent-mesh/docs/documentation/deploying/">Deploying Agent Mesh</a><button aria-label="Expand sidebar category &#x27;Deploying Agent Mesh&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/solace-agent-mesh/docs/documentation/migrations/a2a-upgrade/a2a-gateway-upgrade-to-0.3.0">Migrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/solace-agent-mesh/docs/documentation/enterprise/">Agent Mesh Enterprise</a><button aria-label="Expand sidebar category &#x27;Agent Mesh Enterprise&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/solace-agent-mesh/docs/documentation/installing-and-configuring/"><span>Installing and Configuring Agent Mesh</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Configuring Agent Mesh</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Configuring Agent Mesh</h1></header><p>The <code>shared_config.yaml</code> file is used to define configurations that can be shared across multiple agents or components in Agent Mesh. This centralized approach simplifies management of common configurations such as Solace event broker connections, language model settings, and service definitions.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="understanding-shared-configuration">Understanding Shared Configuration<a href="#understanding-shared-configuration" class="hash-link" aria-label="Direct link to Understanding Shared Configuration" title="Direct link to Understanding Shared Configuration">​</a></h2>
<p>All agents and gateways require access to a <code>shared_config</code> object. You can provide configuration in the following ways:</p>
<ul>
<li>hard-coding configuration values directly within your agent or gateway YAML files. This method works for simple setups or quick prototyping, but it becomes unwieldy as your deployment grows.</li>
<li>using the <code>!include</code> directive to reference a centralized configuration file. This approach promotes consistency and simplifies maintenance across your entire project.</li>
</ul>
<p>When a plugin is installed, it may come with hard-coded default values. It is a best practice to remove this section and use <code>!include</code> to point to the centralized <code>shared_config</code> file. This ensures that all components are using the same base configuration.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="managing-multiple-shared-configuration-files">Managing Multiple Shared Configuration Files<a href="#managing-multiple-shared-configuration-files" class="hash-link" aria-label="Direct link to Managing Multiple Shared Configuration Files" title="Direct link to Managing Multiple Shared Configuration Files">​</a></h3>
<p>You can use multiple shared configuration files to manage different environments or setups (e.g., for different cloud providers), as follows:</p>
<ul>
<li>
<p>The filename must always begin with <code>shared_config</code>, followed by any descriptive suffix that helps identify the configuration&#x27;s purpose. Examples include <code>shared_config_aws.yaml</code> for Amazon Web Services deployments or <code>shared_config_production.yaml</code> for production environments. This naming convention ensures the system can locate and process these files correctly.</p>
</li>
<li>
<p>You can organize configuration files into subdirectories to further improve project structure. For instance, you might place files in <code>configs/agents/shared_config.yaml</code> or <code>environments/dev/shared_config_dev.yaml</code>. When you use subdirectories, you must update the <code>!include</code> path in your agent or gateway configurations to reflect the correct file location.</p>
</li>
</ul>
<p>The configuration file uses YAML anchors (<code>&amp;anchor_name</code>) to create reusable configuration blocks, which can then be referenced in agent configuration files.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-structure">Configuration Structure<a href="#configuration-structure" class="hash-link" aria-label="Direct link to Configuration Structure" title="Direct link to Configuration Structure">​</a></h2>
<p>The following example shows the structure of the <code>shared_config.yaml</code> configuration file:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">shared_config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">broker_connection</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token important">&amp;broker_connection</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">dev_mode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">SOLACE_DEV_MODE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token boolean important">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">broker_url</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">SOLACE_BROKER_URL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">//localhost</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token number">8008</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">broker_username</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">SOLACE_BROKER_USERNAME</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> default</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">broker_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">SOLACE_BROKER_PASSWORD</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> default</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">broker_vpn</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">SOLACE_BROKER_VPN</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> default</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">temporary_queue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">USE_TEMPORARY_QUEUES</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token boolean important">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)"># Ensure high enough limits if many agents are running</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)"># max_connection_retries: -1 # Retry forever</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">models</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">planning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token important">&amp;planning_model</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)"># This dictionary structure tells ADK to use the LiteLlm wrapper.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)"># &#x27;model&#x27; uses the specific model identifier your endpoint expects.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">model</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">LLM_SERVICE_PLANNING_MODEL_NAME</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># Use env var for model name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)"># &#x27;api_base&#x27; tells LiteLLM where to send the request.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">api_base</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">LLM_SERVICE_ENDPOINT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># Use env var for endpoint URL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)"># &#x27;api_key&#x27; provides authentication.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">api_key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">LLM_SERVICE_API_KEY</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># Use env var for API key</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)"># Enable parallel tool calls for planning model</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">parallel_tool_calls</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token boolean important">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)"># Prompt Caching Strategy</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">cache_strategy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;5m&quot;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># none, 5m, 1h</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)"># max_tokens: ${MAX_TOKENS, 16000} # Set a reasonable max token limit for planning</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)"># temperature: 0.1 # Lower temperature for more deterministic planning</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">general</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token important">&amp;general_model</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)"># This dictionary structure tells ADK to use the LiteLlm wrapper.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)"># &#x27;model&#x27; uses the specific model identifier your endpoint expects.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">model</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">LLM_SERVICE_GENERAL_MODEL_NAME</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># Use env var for model name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)"># &#x27;api_base&#x27; tells LiteLLM where to send the request.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">api_base</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">LLM_SERVICE_ENDPOINT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># Use env var for endpoint URL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)"># &#x27;api_key&#x27; provides authentication.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">api_key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">LLM_SERVICE_API_KEY</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># Use env var for API key</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)"># ... (similar structure)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">services</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># Default session service configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">session_service</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token important">&amp;default_session_service</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;memory&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">default_behavior</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;PERSISTENT&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># Default artifact service configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">artifact_service</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token important">&amp;default_artifact_service</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;filesystem&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">base_path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/tmp/samv2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">artifact_scope</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> namespace</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># Default data tools configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">data_tools_config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token important">&amp;default_data_tools_config</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">sqlite_memory_threshold_mb</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">max_result_preview_rows</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">50</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">max_result_preview_bytes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">4096</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="event-broker-connection">Event Broker Connection<a href="#event-broker-connection" class="hash-link" aria-label="Direct link to Event Broker Connection" title="Direct link to Event Broker Connection">​</a></h2>
<p>The <code>broker_connection</code> section configures the connection to the Solace event broker. The connection parameters are described in the following table:</p>
<table><thead><tr><th style="text-align:left">Parameter</th><th style="text-align:left">Environment Variable</th><th style="text-align:left">Description</th><th style="text-align:left">Default</th></tr></thead><tbody><tr><td style="text-align:left"><code>dev_mode</code></td><td style="text-align:left"><code>SOLACE_DEV_MODE</code></td><td style="text-align:left">When set to <code>true</code>, uses an in-memory broker for testing.</td><td style="text-align:left"><code>false</code></td></tr><tr><td style="text-align:left"><code>broker_url</code></td><td style="text-align:left"><code>SOLACE_BROKER_URL</code></td><td style="text-align:left">The URL of the Solace event broker.</td><td style="text-align:left"><code>ws://localhost:8008</code></td></tr><tr><td style="text-align:left"><code>broker_username</code></td><td style="text-align:left"><code>SOLACE_BROKER_USERNAME</code></td><td style="text-align:left">The username for authenticating with the event broker.</td><td style="text-align:left"><code>default</code></td></tr><tr><td style="text-align:left"><code>broker_password</code></td><td style="text-align:left"><code>SOLACE_BROKER_PASSWORD</code></td><td style="text-align:left">The password for authenticating with the event broker.</td><td style="text-align:left"><code>default</code></td></tr><tr><td style="text-align:left"><code>broker_vpn</code></td><td style="text-align:left"><code>SOLACE_BROKER_VPN</code></td><td style="text-align:left">The Message VPN to connect to on the event broker.</td><td style="text-align:left"><code>default</code></td></tr><tr><td style="text-align:left"><code>temporary_queue</code></td><td style="text-align:left"><code>USE_TEMPORARY_QUEUES</code></td><td style="text-align:left">Whether to use temporary queues for communication. If <code>false</code>, a durable queue will be created.</td><td style="text-align:left"><code>true</code></td></tr><tr><td style="text-align:left"><code>max_connection_retries</code></td><td style="text-align:left"><code>MAX_CONNECTION_RETRIES</code></td><td style="text-align:left">The maximum number of times to retry connecting to the event broker if the connection fails. A value of <code>-1</code> means retry forever.</td><td style="text-align:left"><code>-1</code></td></tr></tbody></table>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>If you need to configure multiple brokers, you can do so by adding additional entries under <code>shared_config</code> with a unique name (For example,  <code>broker_connection_eu: &amp;broker_connection_eu</code> or <code>broker_connection_us: &amp;broker_connection_us</code>). Reference these configurations in your agent files using the appropriate anchor, such as <code>&lt;&lt;: *broker_connection_eu</code>.</p></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Setting the <code>temporary_queue</code> parameter to <code>true</code> (default) will use <a href="https://docs.solace.com/Messaging/Guaranteed-Msg/Endpoints.htm#temporary-endpoints" target="_blank" rel="noopener noreferrer">temporary endpoints</a> for A2A communication. Temporary queues are automatically created and deleted by the broker, which simplifies management and reduces the need for manual cleanup. However, it does not allow for multiple client connections to the same queue, which may be a limitation in some scenarios where you&#x27;re running multiple instances of the same agent or a new instance needs to be started while an old instance is still running.</p><p>If you set <code>temporary_queue</code> to <code>false</code>, the system will create a durable queue for the client. Durable queues persist beyond the lifetime of the client connection, allowing multiple clients to connect to the same queue and ensuring that messages are not lost if the client disconnects. However, this requires manual management of the queues, including cleanup of unused queues.</p><p>Check the <a href="/solace-agent-mesh/docs/documentation/deploying/deployment-options#setting-up-queue-templates">Setting up Queue Templates</a> section for guidance on configuring queue templates to manage message TTL.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="llm-configuration">LLM Configuration<a href="#llm-configuration" class="hash-link" aria-label="Direct link to LLM Configuration" title="Direct link to LLM Configuration">​</a></h2>
<p>The models section configures the various Large Language Models and other generative models that power your agents&#x27; intelligence. This configuration leverages the <a href="https://litellm.ai/" target="_blank" rel="noopener noreferrer">LiteLLM</a> library, which provides a standardized interface for interacting with <a href="https://docs.litellm.ai/docs/providers" target="_blank" rel="noopener noreferrer">different model providers</a>, simplifying the process of switching between or combining multiple AI services.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="model-configuration-parameters">Model Configuration Parameters<a href="#model-configuration-parameters" class="hash-link" aria-label="Direct link to Model Configuration Parameters" title="Direct link to Model Configuration Parameters">​</a></h3>
<p>Each model configuration requires specific parameters that tell the system how to communicate with the model provider. The model parameter specifies the exact model identifier in the format expected by your provider, such as <code>openai/gpt-4</code> or <code>anthropic/claude-3-opus-20240229</code>. The API base URL points to your provider&#x27;s endpoint, but some providers use default endpoints that don&#x27;t require explicit specification.</p>
<p>Authentication typically requires an API key, but some providers use alternative authentication mechanisms. Additional parameters control model behavior, such as enabling parallel tool calls for models that support this feature, setting maximum token limits to control response length and costs, and adjusting temperature values to influence response creativity versus determinism.</p>
<table><thead><tr><th style="text-align:left">Parameter</th><th style="text-align:left">Environment Variable</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>model</code></td><td style="text-align:left"><code>LLM_SERVICE_&lt;MODEL_NAME&gt;_MODEL_NAME</code></td><td style="text-align:left">The specific model identifier that the endpoint expects in the format of <code>provider/model</code> (e.g., <code>openai/gpt-4</code>, <code>anthropic/claude-3-opus-20240229</code>).</td></tr><tr><td style="text-align:left"><code>api_base</code></td><td style="text-align:left"><code>LLM_SERVICE_ENDPOINT</code></td><td style="text-align:left">The base URL of the LLM provider&#x27;s API endpoint.</td></tr><tr><td style="text-align:left"><code>api_key</code></td><td style="text-align:left"><code>LLM_SERVICE_API_KEY</code></td><td style="text-align:left">The API key for authenticating with the service.</td></tr><tr><td style="text-align:left"><code>parallel_tool_calls</code></td><td style="text-align:left"></td><td style="text-align:left">Enable parallel tool calls for the model.</td></tr><tr><td style="text-align:left"><code>cache_strategy</code></td><td style="text-align:left"></td><td style="text-align:left">Set the prompt caching strategy (one of: <code>none</code>, <code>5m</code>, <code>1h</code>). For more details check <a href="/solace-agent-mesh/docs/documentation/installing-and-configuring/large_language_models#prompt-caching">LLM Configuration</a> page.</td></tr><tr><td style="text-align:left"><code>max_tokens</code></td><td style="text-align:left"><code>MAX_TOKENS</code></td><td style="text-align:left">Set a reasonable max token limit for the model.</td></tr><tr><td style="text-align:left"><code>temperature</code></td><td style="text-align:left"><code>TEMPERATURE</code></td><td style="text-align:left">Lower temperature for more deterministic planning.</td></tr></tbody></table>
<p>For Google&#x27;s Gemini models, you can use a simplified configuration approach that references the model directly:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">model</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> gemini</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">2.5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">pro</span><br></span></code></pre></div></div>
<p>For detailed information about configuring Gemini models and setting up the required environment variables, see the <a href="https://google.github.io/adk-docs/agents/models/#using-google-gemini-models" target="_blank" rel="noopener noreferrer">Gemini model documentation</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="predefined-model-types">Predefined Model Types<a href="#predefined-model-types" class="hash-link" aria-label="Direct link to Predefined Model Types" title="Direct link to Predefined Model Types">​</a></h3>
<p>The <code>shared_config.yaml</code> configuration file defines predefined model types that serve as aliases for specific use cases. These aliases allow you to reference models by their intended purpose rather than their technical specifications, making your agent configurations more readable and maintainable. The model types are as follows:</p>
<ul>
<li><code>planning</code>: Used by agents for planning and decision-making. It&#x27;s configured for deterministic outputs (<code>temperature: 0.1</code>) and can use tools in parallel.</li>
<li><code>general</code>: A general-purpose model for various tasks.</li>
<li><code>image_gen</code>: A model for generating images.</li>
<li><code>image_describe</code>: A model for describing the content of images.</li>
<li><code>audio_transcription</code>: A model for transcribing audio files.</li>
<li><code>report_gen</code>: A model specialized for generating reports.</li>
<li><code>multimodal</code>: A simple string reference to a multimodal model (e.g., <code>&quot;gemini-1.5-flash-latest&quot;</code>).</li>
</ul>
<p>You can define any number of models in this section and reference them in your agent configurations. The system uses only the <code>planning</code> and <code>general</code> models by default; you don&#x27;t need to configure the specialized models unless your agents specifically require those capabilities.</p>
<p>For information about configuring different LLM providers and SSL/TLS security settings, see <a href="/solace-agent-mesh/docs/documentation/installing-and-configuring/large_language_models">Configuring LLMs</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="service-configuration">Service Configuration<a href="#service-configuration" class="hash-link" aria-label="Direct link to Service Configuration" title="Direct link to Service Configuration">​</a></h2>
<p>The <code>services</code> section in <code>shared_config.yaml</code> is used to configure various services that are available to agents. These services handle concerns such as session persistence, artifact storage, and data processing optimization.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="session-service">Session Service<a href="#session-service" class="hash-link" aria-label="Direct link to Session Service" title="Direct link to Session Service">​</a></h3>
<p>The session service manages conversation history and context persistence across agent interactions. This service determines whether agents remember previous conversations and how long that memory persists.</p>
<table><thead><tr><th style="text-align:left">Parameter</th><th style="text-align:left">Options</th><th style="text-align:left">Description</th><th style="text-align:left">Default</th></tr></thead><tbody><tr><td style="text-align:left"><code>type</code></td><td style="text-align:left"><code>memory</code>, <code>sql</code>, <code>vertex_rag</code></td><td style="text-align:left">Configuration for ADK Session Service</td><td style="text-align:left"><code>memory</code></td></tr><tr><td style="text-align:left"><code>default_behavior</code></td><td style="text-align:left"><code>PERSISTENT</code>, <code>RUN_BASED</code></td><td style="text-align:left">The default behavior of keeping the session history</td><td style="text-align:left"><code>PERSISTENT</code></td></tr></tbody></table>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Although the default session service type is <code>memory</code>, both Orchestrator Agent and Web UI gateway use <code>sql</code> as their session service to allow for persistent sessions.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="artifact-service">Artifact Service<a href="#artifact-service" class="hash-link" aria-label="Direct link to Artifact Service" title="Direct link to Artifact Service">​</a></h3>
<p>The <code>artifact_service</code> is responsible for managing artifacts, which are files or data generated by agents, such as generated documents, processed data files, and intermediate results.</p>
<table><thead><tr><th style="text-align:left">Parameter</th><th style="text-align:left">Options</th><th style="text-align:left">Description</th><th style="text-align:left">Default</th></tr></thead><tbody><tr><td style="text-align:left"><code>type</code></td><td style="text-align:left"><code>memory</code>, <code>gcs</code>, <code>filesystem</code></td><td style="text-align:left">Service type for artifact storage. Use <code>memory</code> for in-memory, <code>gcs</code> for Google Cloud Storage, or <code>filesystem</code> for local file storage.</td><td style="text-align:left"><code>memory</code></td></tr><tr><td style="text-align:left"><code>base_path</code></td><td style="text-align:left">local path</td><td style="text-align:left">Base directory path for storing artifacts. Required only if <code>type</code> is <code>filesystem</code>.</td><td style="text-align:left">(none)</td></tr><tr><td style="text-align:left"><code>bucket_name</code></td><td style="text-align:left">bucket name</td><td style="text-align:left">Google Cloud Storage bucket name. Required only if <code>type</code> is <code>gcs</code>.</td><td style="text-align:left">(none)</td></tr><tr><td style="text-align:left"><code>artifact_scope</code></td><td style="text-align:left"><code>namespace</code>, <code>app</code></td><td style="text-align:left">Scope for artifact sharing. <code>namespace</code>: shared by all components in the namespace. <code>app</code>: isolated by agent/gateway name. Must be consistent for all components in the same process.</td><td style="text-align:left"><code>namespace</code></td></tr><tr><td style="text-align:left"><code>artifact_scope_value</code></td><td style="text-align:left">custom scope id</td><td style="text-align:left">Custom identifier for artifact scope. Required if <code>artifact_scope</code> is set to a custom value.</td><td style="text-align:left">(none)</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-tools-configuration">Data Tools Configuration<a href="#data-tools-configuration" class="hash-link" aria-label="Direct link to Data Tools Configuration" title="Direct link to Data Tools Configuration">​</a></h3>
<p>The data tools configuration optimizes how agents handle data analysis and processing tasks. These settings balance performance, memory usage, and user experience when agents work with databases and large datasets.</p>
<p>The SQLite memory threshold determines when the system switches from disk-based to memory-based database operations. Lower thresholds favor memory usage for better performance although consume more system RAM. Higher thresholds reduce memory pressure although may slow database operations.</p>
<p>Result preview settings control how much data agents display when showing query results or data samples. These limits prevent overwhelming users with massive datasets while ensuring they see enough information to understand the results.</p>
<table><thead><tr><th style="text-align:left">Parameter</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th><th style="text-align:left">Default</th></tr></thead><tbody><tr><td style="text-align:left"><code>sqlite_memory_threshold_mb</code></td><td style="text-align:left"><code>integer</code></td><td style="text-align:left">The memory threshold in megabytes for using an in-memory SQLite database.</td><td style="text-align:left"><code>100</code></td></tr><tr><td style="text-align:left"><code>max_result_preview_rows</code></td><td style="text-align:left"><code>integer</code></td><td style="text-align:left">The maximum number of rows to show in a result preview.</td><td style="text-align:left"><code>50</code></td></tr><tr><td style="text-align:left"><code>max_result_preview_bytes</code></td><td style="text-align:left"><code>integer</code></td><td style="text-align:left">The maximum number of bytes to show in a result preview.</td><td style="text-align:left"><code>4096</code></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="system-logging">System Logging<a href="#system-logging" class="hash-link" aria-label="Direct link to System Logging" title="Direct link to System Logging">​</a></h2>
<p>System logging configuration controls how Agent Mesh records operational information, errors, and debugging details. Proper logging configuration helps with troubleshooting, monitoring, and maintaining your agent deployments.</p>
<p>For information about configuring log rotation, verbosity levels, and log formatting options, see <a href="/solace-agent-mesh/docs/documentation/deploying/debugging#system-logs">System Logs</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/SolaceLabs/solace-agent-mesh/edit/main/docs/docs/documentation/installing-and-configuring/configurations.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/solace-agent-mesh/docs/documentation/installing-and-configuring/run-project"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Creating and Running an Agent Mesh Project</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/solace-agent-mesh/docs/documentation/installing-and-configuring/large_language_models"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configuring LLMs</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#understanding-shared-configuration" class="table-of-contents__link toc-highlight">Understanding Shared Configuration</a><ul><li><a href="#managing-multiple-shared-configuration-files" class="table-of-contents__link toc-highlight">Managing Multiple Shared Configuration Files</a></li></ul></li><li><a href="#configuration-structure" class="table-of-contents__link toc-highlight">Configuration Structure</a></li><li><a href="#event-broker-connection" class="table-of-contents__link toc-highlight">Event Broker Connection</a></li><li><a href="#llm-configuration" class="table-of-contents__link toc-highlight">LLM Configuration</a><ul><li><a href="#model-configuration-parameters" class="table-of-contents__link toc-highlight">Model Configuration Parameters</a></li><li><a href="#predefined-model-types" class="table-of-contents__link toc-highlight">Predefined Model Types</a></li></ul></li><li><a href="#service-configuration" class="table-of-contents__link toc-highlight">Service Configuration</a><ul><li><a href="#session-service" class="table-of-contents__link toc-highlight">Session Service</a></li><li><a href="#artifact-service" class="table-of-contents__link toc-highlight">Artifact Service</a></li><li><a href="#data-tools-configuration" class="table-of-contents__link toc-highlight">Data Tools Configuration</a></li></ul></li><li><a href="#system-logging" class="table-of-contents__link toc-highlight">System Logging</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Solace Agent Mesh</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/solace-agent-mesh/docs/documentation/getting-started">Documentation</a></li><li class="footer__item"><a href="https://github.com/SolaceLabs/solace-agent-mesh/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/SolaceLabs/solace-agent-mesh-core-plugins/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Official Plugins<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://solace.com/products/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Products<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://solace.com/contact/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://solace.com/support/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Support<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://solace.com/legal/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy and Legal<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/company/solacedotcom/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/SolaceLabs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/SolaceSystems" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/solacedotcom" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/solace-agent-mesh/img/solace-logo.png" alt="Solace Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="10%" height="10%"><img src="/solace-agent-mesh/img/solace-logo.png" alt="Solace Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="10%" height="10%"></div><div class="footer__copyright">Solace Agent Mesh. Copyright © 2025 Solace. Version: 1.6.0</div></div></div></footer></div>
</body>
</html>