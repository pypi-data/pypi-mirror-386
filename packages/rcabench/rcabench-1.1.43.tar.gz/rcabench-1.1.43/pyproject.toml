[project]
name = "rcabench"
version = "1.1.43"
description = "RCABench SDK"
readme = "README.md"
requires-python = ">=3.10"
dependencies = [
    "setuptools>=75.6.0",
    "tqdm>=4.67.1",
    "twine>=5.1.1",
    "wheel>=0.45.1",
    "urllib3>=2.2.3, < 3.0.0",
    "python-dateutil>=2.9.0.post0",
    "typing-extensions>=4.12.2",
    "lazy-imports>=1.0.1",
    "sseclient-py>=1.8.0",
    "pydantic>=2.12.3",
]

# default settings of `uv init --lib`
[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.uv]
dev-dependencies = ["pytest>=8.3.5", "python-dotenv>=1.1.1"]

[tool.ruff]
cache-dir = ".cache/ruff"
line-length = 120

[tool.ruff.lint]
select = [
    "E",  # https://docs.astral.sh/ruff/rules/#error-e
    "F",  # https://docs.astral.sh/ruff/rules/#pyflakes-f
    "I",  # https://docs.astral.sh/ruff/rules/#isort-i
    "UP", # https://docs.astral.sh/ruff/rules/#pyupgrade-up
]
ignore = ["F401", "UP038"]

[tool.pyright]
exclude = [ #
    ".git",
    "**/__pycache__",
    ".cache",
    ".idea",
    ".vscode",
    ".venv",
    ".devbox",
    "db/",
    "data/",
    "temp/",
    "logs/",
    "vendor/",
    "output/",
]


[tool.pytest.ini_options]
asyncio_mode = "auto"
asyncio_default_fixture_loop_scope = "session"
testpaths = ["tests"]
pythonpath = ["."]
addopts = ["-v", "--strict-markers", "--tb=short"]
markers = [
    "async: marks tests as asyncio (async def)",
    "v1: marks tests for RCABench v1 API",
    "v2: marks tests for RCABench v2 API",
    "k8s: marks tests requiring Kubernetes cluster",
]
