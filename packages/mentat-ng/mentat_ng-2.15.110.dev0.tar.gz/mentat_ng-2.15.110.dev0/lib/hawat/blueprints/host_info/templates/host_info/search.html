{% extends "_layout.html" %}

{% block content %}
    <div class="jumbotron bg-light">
        <h2>
            {{ hawat_current_view.get_view_title() }}
        </h2>
        <form method="GET" class="form-inline">
            <div class="form-group{% if search_form.search.errors %}{{ ' has-error' }}{% endif %}">
                {{ search_form.search.label(class_='sr-only') }}
                <div class="input-group mb-3">
                    <div data-bs-toggle="tooltip"
                         class="input-group-text"
                         title="{{ _('Search PassiveDNS:') }}">
                        {{ get_icon("action-search") }}
                    </div>
                    {{ search_form.search(class_='form-control', placeholder=_('Hostname, IPv4 or IPv6 address'), size='50') }}
                </div>

                <div class="btn-group" role="group">
                    {{ search_form.submit(class_='btn btn-primary') }}
                    <a role="button"
                       class="btn btn-secondary"
                       href="{{ url_for('host_info.search') }}">
                        {{ _("Clear") }}
                    </a>
                </div>
            </div>
            {{ macros_form.render_form_errors(search_form.search.errors) }}
        </form>
    </div>

    {%- if searched %}
        <div class="object-additional-data-block onload"
             data-object-type="{{ get_AODS_type(form_data.search) }}"
             data-object-name="{{ form_data.search }}"
             data-render-type="full"
             data-render-flash="false">
        </div>
    {%- endif %}

    {%- if permission_can('developer') %}
        <hr>
        {{ macros_site.render_raw_var('request_args', request.args) }}
        {{ macros_site.render_raw_var('form_data', form_data) }}
        {{ macros_site.render_raw_var('query_params', query_params) }}
    {%- endif %}
{%- endblock content %}
