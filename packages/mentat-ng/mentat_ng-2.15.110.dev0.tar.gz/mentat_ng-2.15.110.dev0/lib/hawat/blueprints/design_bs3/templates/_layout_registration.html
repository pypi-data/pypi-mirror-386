{%- extends "_layout.html" %}

{% block title %}
    {{ hawat_current_view.get_view_title() }}
{% endblock title %}

{%- block content %}
    <div class="row justify-content-center">
        <div class="col-md-6 col-lg-4">
            <div class="card bg-light">
                <div class="card-body">
                    <form method="POST" action="{{ url_for(request.endpoint, next = next) }}">
                        <fieldset>
                            <legend class="card-title">
                                {{ get_icon(hawat_current_view.get_view_icon()) }}
                                {{ hawat_current_view.get_view_title() }}
                            </legend>

                            <div class="d-grid row-gap-2">
                                {%- block registrationformfields %}
                                {% endblock registrationformfields %}

                                {%- set english_privacy_policy = config['PRIVACY_POLICY_LINK'] -%}
                                {%- set czech_privacy_policy = config['PRIVACY_POLICY_LINK_CZ'] -%}

                                {%- if english_privacy_policy or czech_privacy_policy -%}
                                    {%- if english_privacy_policy and czech_privacy_policy -%}
                                        <div>
                                            <a href="{{ english_privacy_policy }}">Privacy policy</a> |
                                            <a href="{{ czech_privacy_policy }}">Ochrana osobních údajů</a>
                                        </div>
                                    {%- elif english_privacy_policy -%}
                                        <a href="{{ english_privacy_policy }}">Privacy policy</a>
                                    {%- elif czech_privacy_policy -%}
                                        <a href="{{ czech_privacy_policy }}">Ochrana osobních údajů</a>
                                    {%- endif -%}

                                    <hr>
                                {%- endif -%}

                                {%- if 'csrf_token' in form %}
                                    {{ macros_form.render_form_errors(form.csrf_token.errors) }}
                                    {{ form.csrf_token }}
                                {%- endif %}

                                {{ form.submit(class_='btn btn-primary') }}
                            </div>
                        </fieldset>
                    </form>
                </div>
            </div>
            <!-- /.card -->
        </div>
        <!-- /.col-md-4 .col-md-offset-4 -->
    </div>
    <!-- /.row -->
{%- endblock content %}
