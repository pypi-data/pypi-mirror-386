"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[504],{20504:(a,e,t)=>{t.r(e),t.d(e,{default:()=>m});var n=t(62012),o=t(68122),r=t(2335),s=t(59179),i=t(7053),l=t(69584),c=t(85181);const d="@jupyterlab/translation-extension:plugin",u={id:"@jupyterlab/translation-extension:translator-connector",description:"Provides the application translation connector.",autoStart:!0,requires:[n.e.IPaths],provides:c.f3,activate:(a,e)=>{const t=e.urls.translations,n=a.serviceManager.serverSettings;return new c.y1(t,n)}},g={id:"@jupyterlab/translation-extension:translator",description:"Provides the application translation object.",autoStart:!0,requires:[n.e.IPaths,l.X],optional:[o.V,c.f3],provides:c.sQ,activate:async(a,e,t,n,o)=>{const s=await t.load(d),i=s.get("locale").composite;let l=s.get("stringsPrefix").composite;l=s.get("displayStringsPrefix").composite?l:"";const u=a.serviceManager.serverSettings,g=new c.ns(e.urls.translations,l,u,null!=o?o:void 0);return await g.fetch(i),document.documentElement.lang=g.languageCode,n&&(n.translator=g),r.lG.translator=g,g}},p={id:d,description:"Adds translation commands and settings.",requires:[l.X,c.sQ,c.f3],optional:[i.I,s.kn],autoStart:!0,activate:(a,e,t,n,o,s)=>{var i;const l=t.load("jupyterlab"),{commands:c}=a,u=o?null===(i=o.settingsMenu.items.find(a=>{var e;return"submenu"===a.type&&"jp-mainmenu-settings-language"===(null===(e=a.submenu)||void 0===e?void 0:e.id)}))||void 0===i?void 0:i.submenu:null;n.fetch().then(a=>{const n=t.languageCode.replace("-","_");for(const t in a.data){const o=a.data[t],i=o.displayName,g=o.nativeName,p=n===t,m=p?`${i}`:`${i} - ${g}`,v=`jupyterlab-translation:${t}`;c.addCommand(v,{label:m,caption:l.__("Change interface language to %1",m),isEnabled:()=>!p,isToggled:()=>p,execute:async()=>{if((await(0,r.ui)({title:l.__("Change interface language?"),body:l.__("After changing the interface language to %1, you will need to reload JupyterLab to see the changes.",m),buttons:[r.lG.cancelButton(),r.lG.okButton({label:l.__("Change and reload")})]})).button.accept)try{await e.set(d,"locale",t),window.location.reload()}catch(a){console.error(`Failed to update language locale to ${t}`,a)}}}),u&&u.addItem({command:v,args:{}}),s&&s.addItem({category:l.__("Display Languages"),command:v})}}).catch(a=>{console.error(`Available locales errored!\n${a}`)})}},m=[u,g,p]}}]);