"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[7565],{57565:(e,s,t)=>{t.r(s),t.d(s,{ExerciseTake:()=>b,default:()=>S});var n=t(9387),a=t(20568),i=t(17781),r=t(98754),l=t(38227),c=t(81461),o=t(72533),d=t(54617),u=t(99180),h=t(38621),x=t(17402),p=t(42968),f=t(9663),j=t(55388),g=t(63437),m=t(60105),y=t(17788),v=t(41273),A=t(99179),k=t(23267),E=t(18683);const b=()=>{const{accountHandle:e,spaceHandle:s,exerciseId:t}=(0,a.g)();if(!t)return(0,E.jsx)(E.Fragment,{});const b=(0,k.mt)(),S=(0,j.LC)(),$=(0,A.J)(),{kernelManager:C,defaultKernel:Q}=(0,p.PD)(),P=(b.layout().organization,b.layout().space),{refreshExercise:T,getExercise:_,cloneExercise:w}=(0,m.E)(),R=(0,y.Z)(),V=(0,i.S)(),{enqueueToast:z}=(0,v.d)(),[H]=(0,n.useState)("exercise-student"),[I,q]=(0,n.useState)(!1),[D,F]=(0,n.useState)(),[M,L]=(0,n.useState)((0,x.YG)()),[Y,G]=(0,n.useState)(!1),N=S.getInput(H),B=(0,n.useMemo)(()=>Q,[C]),J=S.getGradeSuccess(H);(0,n.useEffect)(()=>{J&&(G(J),setTimeout(()=>{G(!1)},5e3))},[J]),(0,n.useEffect)(()=>{T(t).then(e=>{if(e.success){const e=_(t);e||R("/"),F(e)}})},[]);const K=(0,n.useCallback)(async e=>{V({title:"Are you sure?",content:"Please confirm you want to clone this exercise in your private library."}).then(e=>{e&&w(t).then(e=>{e.success&&(z(e.message,{variant:"success"}),b.layout().triggerItemsRefresh(),R(`/${$.handle}/library/exercises`))})})},[V,D]);return D?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(d.z,{children:(0,E.jsxs)(r.A,{display:"flex",children:[(0,E.jsx)(r.A,{flex:1,children:(0,E.jsx)(c.A,{sx:{fontSize:3},children:"Exercise"})}),(0,E.jsx)(r.A,{children:(0,E.jsxs)(l.A,{children:[$&&D&&e&&s&&(0,E.jsx)(u.Q,{variant:"default",size:"small",onClick:()=>R(`/${e}/${s}/exercises/${D.id}`),children:"Edit"}),$&&D&&P&&(0,E.jsx)(u.Q,{variant:"default",size:"small",leadingVisual:h.Nc$,onClick:K,children:"Clone"})]})})]})}),(0,E.jsxs)(r.A,{children:[(0,E.jsx)(o.A,{children:D.name}),(0,E.jsx)(o.A,{as:"p",color:"fg.muted",bg:"neutral.muted",p:2,children:D.description})]}),(0,E.jsx)(r.A,{children:(0,E.jsx)(f.k,{showEditor:!0,autoRun:!1,disableRun:!1,kernel:B,id:H,codePre:D.codePre,code:D.codeQuestion,receipt:M})}),(0,E.jsxs)(r.A,{display:"flex",sx:{gap:3},pt:2,pb:2,children:[(0,E.jsx)(r.A,{children:(0,E.jsx)(u.Q,{variant:"danger",leadingVisual:h.uIH,onClick:e=>{e.preventDefault(),q(!I)},children:"Show help"})}),(0,E.jsx)(r.A,{children:(0,E.jsx)(u.Q,{variant:"default",leadingVisual:h.Fjq,onClick:e=>{e.preventDefault(),S.setExecuteRequest(H,D.codeQuestion)},children:"Reset"})})]}),I&&(0,E.jsx)(o.A,{as:"p",color:"danger.fg",p:2,children:D.help??"No help available."}),(0,E.jsxs)(r.A,{children:[(0,E.jsx)(u.Q,{variant:"default",leadingVisual:h.Qvf,sx:{marginTop:2,marginBottom:2},onClick:e=>{e.preventDefault(),S.setExecuteRequest(H,`\nsetup_state(stu_code = """${D.codePre}\n${N}""", sol_code = """${D.codePre}\n${D.codeSolution}""")\n${D.codeTest}\nfrom IPython.core.display import HTML\nHTML('<div style="display: none">You have passed the exercise! Your receipt is ${M}</div><h1>ðŸŽ‰ Success!</h1>')\n`)},children:"Validate your solution"}),(0,E.jsx)(o.A,{as:"p",color:"fg.onEmphasis",bg:"neutral.emphasis",p:2,children:"Validate your solution with this button."})]}),Y&&(0,E.jsx)(g.e,{})]}):(0,E.jsx)(E.Fragment,{})},S=b}}]);