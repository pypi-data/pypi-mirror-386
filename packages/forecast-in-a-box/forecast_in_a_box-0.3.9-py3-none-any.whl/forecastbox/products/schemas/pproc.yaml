config:
  interp_keys:
    intgrid: "none"
    legendre-loader: "shmem"
    matrix-loader: "file-io"
  metadata_from_output: ["param", "stream", "date"]

  filter:param:
    "*": {}
    "10":
      preprocessing:
        - operation: reshape
          shape: 2
        - operation: norm
      vod2uv: true
    "131/132":
      metadata_from_output: ["stream", "date"]
      vod2uv: true
    "121/122/228026/228027":
      filter:type:
        em/es/pb:
          metadata:
            timeRangeIndicator: 2
          accumulations:
            step:
              type: legacywindow
        "*": {}
    "131068/131069":
      filter:type:
        ep:
          preprocessing:
            - operation: norm
    "132044":
      filter:type:
        efi/efic/sot:
          preprocessing:
          - operation: mask
            select: {param: "228036"}
            mask: [{param: "228035"}, "<=", 10]
    "132059":
      filter:type:
        efi/efic/sot:
          preprocessing:
          - operation: mask
            select: {param: "228035"}
            mask: [{param: "228035"}, "<=", 10]
    "132045":
      filter:type:
        efi/efic/sot:
          preprocessing:
            - operation: norm
    "139":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          filter:stream:
            eefo:
              metadata:
                bottomLevel: 0
        "*": {}
    "207/228249":
      preprocessing:
        - operation: norm
    "140249":
      filter:type:
        fc/cf/pf/em/es/pb/fcmean/fcstdev/fcmin/fcmax:
          preprocessing:
            - operation: "direction"
        cd: {}
    "172142/172143/172144/172228":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          vmin: 0.
          preprocessing:
            - operation: scale
              value: 0.00001157407
          accumulations:
            step:
              include_start: true
              deaccumulate: true
        taem/taes: {}
    "172008/172009/172146/172147/172169/172175/172176/172177/172178/172179/172180/172181/172182/172205/172212":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          preprocessing:
            - operation: scale
              value: 0.00001157407
          accumulations:
            step:
              include_start: true
              deaccumulate: true
        taem/taes: {}
    "172189":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          vmin: 0.
          vmax: 1.
          preprocessing:
            - operation: scale
              value: 0.00001157407
          accumulations:
            step:
              include_start: true
              deaccumulate: true
        taem/taes: {}
    "260033/260053":
      preprocessing:
        - operation: sum
      metadata:
        shortName: tprate
        edition: 2
    "200189/200142/200143/200144/228216/200228":
      accumulations:
        step:
          type: legacywindow
          operation: difference
          include_start: true
          metadata:
            timeRangeIndicator: 5
            stepType: diff
    "235117":
      metadata:
        discipline: 0
        parameterCategory: 7
        parameterNumber: 6
        typeOfFirstFixedSurface: 17
        typeOfStatisticalProcessing: 0
    "234167":
      metadata:
        bitsPerValue: 24
    "234228":
      preprocessing:
        - operation: scale
          value: 604800000
  filter:type:
    pf/cf/fc:
      filter:param:
        "261016/260242/260004/260005/261018/260255":
          entrypoint: pproc-thermal-indices
          metadata:
            edition: 2
            bitsPerValue: 16
            packingType: "grid_ccsds"
            typeOfGeneratingProcess: 2
        "261001/261002/261014/261015":
          entrypoint: pproc-thermal-indices
          metadata:
            edition: 2
            bitsPerValue: 16
            packingType: "grid_ccsds"
            typeOfGeneratingProcess: 2
          accumulations:
            step:
              operation: difference
              include_start: true
        "*":
          entrypoint: pproc-accumulate
          filter:stream:
            "enfh/enwh/eefh/weeh":
              accumulations:
                hdate: {}
            "*": {}
    em/es:
      entrypoint: pproc-ensms
      filter:stream:
        enfo/waef/eefo/weef:
          dtype: float64
          metadata:
            perturbationNumber: 0
            bitsPerValue: 16
            numberOfForecastsInEnsemble: "{num_fields}:int"
          filter:param:
            "10":
              metadata:
                bitsPerValue: 24
            "*": {}
        efhs/wehs/eehs:
          filter:steptype:
            range:
              total_fields: 20
              metadata:
                bitsPerValue: 12
                localDefinitionNumber: 19
                sampleSizeOfModelClimate: "{num_fields}:int"
                versionOfModelClimate: 0
                efiOrder: 0
                numberOfReforecastYearsInModelClimate: 20
                dataDate: "{date}:int"
              accumulations:
                date:
                  operation: "aggregation"
              filter:steplength:
                "*":
                  metadata:
                    numberOfDaysInClimateSamplingWindow: 31
                "168":
                  metadata:
                    numberOfDaysInClimateSamplingWindow: 7
            instantaneous:
              dtype: float64
              metadata:
                perturbationNumber: 0
                numberOfForecastsInEnsemble: "{num_fields}:int"
                bitsPerValue: 16
                dataDate: "{date}:int"
              accumulations:
                step: {}
                hdate:
                  operation: aggregation
                  metadata:
                    legBaseDate: "{end_coord}:int"
                    climateDateFrom: "{start_coord}:int"
                    climateDateTo: "{end_coord}:int"
              filter:param:
                "129":
                  metadata:
                    bitsPerValue: 24
                "*": {}
    efi/sot/efic:
      entrypoint: pproc-extreme
      dtype: float64
      filter:param:
        132044/132059:
          eps: 1e-4
          accumulations:
            step:
              type: legacywindow
              operation: maximum
          metadata:
            typeOfStatisticalProcessing: 1
            edition: 1
            bitsPerValue: 12
            indicatorOfTypeOfLevel: 1
            localDefinitionNumber: 19
        132045/132165/132167:
          eps: -1e-4
          accumulations:
            step:
              type: legacywindow
              operation: mean
          metadata:
            edition: 1
            localDefinitionNumber: 19
            bitsPerValue: 12
            timeRangeIndicator: 3
            stepType: avg
        132049/132201/132216:
          eps: -1e-4
          accumulations:
            step:
              type: legacywindow
              operation: maximum
          metadata:
            edition: 1
            localDefinitionNumber: 19
            bitsPerValue: 12
        "132144":
          eps: 1e-4
          accumulations:
            step:
              type: legacywindow
              operation: difference
              include_start: true
          metadata:
            edition: 1
            localDefinitionNumber: 19
            bitsPerValue: 12
            timeRangeIndicator: 5
            stepType: diff
        "132202":
          eps: -1e-4
          accumulations:
            step:
              type: legacywindow
              operation: minimum
          metadata:
            edition: 1
            localDefinitionNumber: 19
            bitsPerValue: 12
        "132228":
          eps: 1e-4
          accumulations:
            step:
              type: legacywindow
              operation: difference
              include_start: true
          metadata:
            edition: 1
            localDefinitionNumber: 19
            bitsPerValue: 12
            timeRangeIndicator: 5
            stepType: diff
          filter:stream:
            "*": {}
            "eefo":
              preprocessing:
                - operation: scale
                  value: 604800000
    ep:
      entrypoint: pproc-probabilities
      dtype: float64
      accumulations:
        step:
          type: legacywindow
          metadata:
            localDefinitionNumber: 5
            bitsPerValue: 8
      filter:param:
        "131060":
          accumulations:
            step:
              operation: difference
              include_start: true
              metadata:
                timeRangeIndicator: 5
                stepType: diff
          threshold:
            comparison: ">="
            value: 0.001
            local_scale_factor: 3
        "131061":
          accumulations:
            step:
              operation: difference
              include_start: true
              metadata:
                timeRangeIndicator: 5
                stepType: diff
          threshold:
            comparison: ">="
            value: 0.005
            local_scale_factor: 3
        "131062":
          accumulations:
            step:
              operation: difference
              include_start: true
              metadata:
                timeRangeIndicator: 5
                stepType: diff
          threshold:
            comparison: ">="
            value: 0.01
            local_scale_factor: 3
        "131063":
          accumulations:
            step:
              operation: difference
              include_start: true
              metadata:
                timeRangeIndicator: 5
                stepType: diff
          threshold:
            comparison: ">="
            value: 0.02
            local_scale_factor: 3
        "131098":
          accumulations:
            step:
              operation: difference
              include_start: true
              metadata:
                stepType: "accum"
                stepRange: "0-0"
                edition: 2
                typeOfGeneratingProcess: 5
                indicatorOfUnitForTimeIncrement: 1
                timeIncrement: 12
                packingType: "grid_ccsds"
          threshold:
            comparison: ">="
            value: 0.025
            local_scale_factor: 3
            metadata:
              scaleFactorOfLowerLimit: 0
        "131099":
          accumulations:
            step:
              operation: difference
              include_start: true
              metadata:
                stepType: "accum"
                stepRange: "0-0"
                edition: 2
                typeOfGeneratingProcess: 5
                indicatorOfUnitForTimeIncrement: 1
                timeIncrement: 12
                packingType: "grid_ccsds"
          threshold:
            comparison: ">="
            value: 0.05
            local_scale_factor: 3
            metadata:
              scaleFactorOfLowerLimit: 0
        "131085":
          accumulations:
            step:
              operation: difference
              include_start: true
              metadata:
                stepType: "accum"
                stepRange: "0-0"
                edition: 2
                typeOfGeneratingProcess: 5
                indicatorOfUnitForTimeIncrement: 1
                timeIncrement: 12
                packingType: "grid_ccsds"
          threshold:
            comparison: ">="
            value: 0.1
            local_scale_factor: 3
            metadata:
              scaleFactorOfLowerLimit: 0
        "131064":
          accumulations:
            step:
              operation: difference
              include_start: true
              metadata:
                timeRangeIndicator: 5
                stepType: diff
          threshold:
            comparison: '<'
            value: 0.0001
            local_scale_factor: 4
        "131065":
          accumulations:
            step:
              operation: difference_rate
              factor: 0.041666666666666664
              include_start: true
              metadata:
                timeRangeIndicator: 5
                stepType: diff
          threshold:
            comparison: '<'
            value: 0.001
            local_scale_factor: 4
        "131066":
          accumulations:
            step:
              operation: difference_rate
              factor: 0.041666666666666664
              include_start: true
              metadata:
                timeRangeIndicator: 5
                stepType: diff
          threshold:
            comparison: '>='
            value: 0.003
            local_scale_factor: 4
        "131067":
          accumulations:
            step:
              operation: difference_rate
              factor: 0.041666666666666664
              include_start: true
              metadata:
                timeRangeIndicator: 5
                stepType: diff
          threshold:
            comparison: '>='
            value: 0.005
            local_scale_factor: 4
        "131068":
          accumulations:
            step:
              operation: maximum
          threshold:
            comparison: ">="
            value: 10
        "131069":
          accumulations:
            step:
              operation: maximum
          threshold:
            comparison: ">="
            value: 15
        "131070":
          accumulations:
            step:
              operation: maximum
          threshold:
            comparison: ">="
            value: 15
        "131071":
          accumulations:
            step:
              operation: maximum
          threshold:
            comparison: ">="
            value: 20
        "131072":
          accumulations:
            step:
              operation: maximum
          threshold:
            comparison: ">="
            value: 25
        "131100":
          accumulations:
            step:
              operation: maximum
              metadata:
                edition: 2
                productDefinitionTemplateNumber: 9
                typeOfGeneratingProcess: 5
                indicatorOfUnitForTimeIncrement: 1
                timeIncrement: 12
                typeOfTimeIncrement: 2
                packingType: "grid_ccsds"
          threshold:
            comparison: ">="
            value: 10
        "131074":
          accumulations:
            step:
              operation: maximum
          threshold:
            comparison: ">="
            value: 2
        "131075":
          accumulations:
            step:
              operation: maximum
          threshold:
            comparison: ">="
            value: 4
        "131076":
          accumulations:
            step:
              operation: maximum
          threshold:
            comparison: ">="
            value: 6
        "131077":
          accumulations:
            step:
              operation: maximum
          threshold:
            comparison: ">="
            value: 8
        "131078":
          accumulations:
            step:
              operation: maximum
          threshold:
            comparison: ">="
            value: 8
        "131079":
          accumulations:
            step:
              operation: maximum
          threshold:
            comparison: ">="
            value: 10
        "131080":
          accumulations:
            step:
              operation: maximum
          threshold:
            comparison: ">="
            value: 12
        "131081":
          accumulations:
            step:
              operation: maximum
          threshold:
            comparison: ">="
            value: 15
        "131073":
          accumulations:
            step:
              operation: minimum
          threshold:
            comparison: "<="
            value: 273.15
            local_scale_factor: 2
        "131020":
          accumulations:
            step:
              include_start: true
              operation: "mean"
              metadata:
                bitsPerValue: 24
          threshold:
            comparison: "<"
            value: -2
        "131021":
          accumulations:
            step:
              include_start: true
              operation: "mean"
              metadata:
                bitsPerValue: 24
          threshold:
            comparison: ">="
            value: 2
        "131022":
          accumulations:
            step:
              operation: minimum
              metadata:
                bitsPerValue: 24
          threshold:
            comparison: "<"
            value: -8
        "131023":
          accumulations:
            step:
              operation: minimum
              metadata:
                bitsPerValue: 24
          threshold:
            comparison: "<"
            value: -4
        "131024":
          accumulations:
            step:
              operation: maximum
              metadata:
                bitsPerValue: 24
          threshold:
            comparison: ">"
            value: 4
        "131025":
          accumulations:
            step:
              operation: maximum
              metadata:
                bitsPerValue: 24
          threshold:
            comparison: ">"
            value: 8
        "133093":
          accumulations:
            step:
              operation: maximum
              std_anomaly: true
              metadata:
                localDefinitionNumber: 30
                bitsPerValue: 24
                edition: 2
                productDefinitionTemplateNumber: 9
                typeOfGeneratingProcess: 5
                indicatorOfUnitForTimeIncrement: 1
                paramId: 0
                timeIncrement: 12
                typeOfStatisticalProcessing: 10
                packingType: "grid_ccsds"
          threshold:
            comparison: '>'
            value: 1
        "133094":
          accumulations:
            step:
              operation: maximum
              std_anomaly: true
              metadata:
                localDefinitionNumber: 30
                bitsPerValue: 24
                edition: 2
                productDefinitionTemplateNumber: 9
                typeOfGeneratingProcess: 5
                indicatorOfUnitForTimeIncrement: 1
                paramId: 0
                timeIncrement: 12
                typeOfStatisticalProcessing: 10
                packingType: "grid_ccsds"
          threshold:
            comparison: '>'
            value: 1.5
            local_scale_factor: 1
            metadata:
              scaleFactorOfLowerLimit: 1
        "133095":
          accumulations:
            step:
              operation: maximum
              std_anomaly: true
              metadata:
                localDefinitionNumber: 30
                bitsPerValue: 24
                edition: 2
                productDefinitionTemplateNumber: 9
                typeOfGeneratingProcess: 5
                indicatorOfUnitForTimeIncrement: 1
                paramId: 0
                timeIncrement: 12
                typeOfStatisticalProcessing: 10
                packingType: "grid_ccsds"
          threshold:
            comparison: '>'
            value: 2
        "133096":
          accumulations:
            step:
              operation: minimum
              std_anomaly: true
              metadata:
                localDefinitionNumber: 30
                bitsPerValue: 24
                edition: 2
                productDefinitionTemplateNumber: 9
                typeOfGeneratingProcess: 5
                indicatorOfUnitForTimeIncrement: 1
                paramId: 0
                timeIncrement: 12
                typeOfStatisticalProcessing: 10
                packingType: "grid_ccsds"
          threshold:
            comparison: '<'
            value: -1
            limit_type: lower
        "133097":
          accumulations:
            step:
              operation: minimum
              std_anomaly: true
              metadata:
                localDefinitionNumber: 30
                bitsPerValue: 24
                edition: 2
                productDefinitionTemplateNumber: 9
                typeOfGeneratingProcess: 5
                indicatorOfUnitForTimeIncrement: 1
                paramId: 0
                timeIncrement: 12
                typeOfStatisticalProcessing: 10
          threshold:
            comparison: '<'
            value: -1.5
            local_scale_factor: 1
            limit_type: lower
            metadata:
              scaleFactorOfLowerLimit: 1
        "133098":
          accumulations:
            step:
              operation: minimum
              std_anomaly: true
              metadata:
                localDefinitionNumber: 30
                bitsPerValue: 24
                edition: 2
                productDefinitionTemplateNumber: 9
                typeOfGeneratingProcess: 5
                indicatorOfUnitForTimeIncrement: 1
                paramId: 0
                timeIncrement: 12
                typeOfStatisticalProcessing: 10
                packingType: "grid_ccsds"
          threshold:
            comparison: '<'
            value: -2
            limit_type: lower
    fcmean:
      filter:param:
        171130/171139/171151/171167/173228:
          filter:stream:
            eefo:
              entrypoint: pproc-anomaly
              dtype: float64
              metadata:
                bitsPerValue: 24
              accumulations:
                step:
                  type: legacywindow
                  metadata:
                    timeRangeIndicator: 3
                    stepType: avg
              clim:
                accumulations:
                  date:
                    operation: mean
        "*":
          dtype: float64
          filter:stream:
            enfo/waef:
              entrypoint: pproc-accumulate
              accumulations:
                step:
                  type: legacywindow
                  operation: mean
                  metadata:
                    type: fcmean
            eefo/weef:
              entrypoint: pproc-accumulate
              accumulations:
                step:
                  type: legacywindow
                  operation: mean
                  metadata:
                    type: fcmean
                    numberIncludedInAverage: "{num_coords}:int"
              metadata:
                bitsPerValue: 16
                legBaseDate: 0
                legNumber: 0
                timeRangeIndicator: 3
                stepType: avg
            "enfh/enwh/eefh/weeh":
              entrypoint: pproc-accumulate
              accumulations:
                step:
                  type: legacywindow
                hdate: {}
              filter:selection:
                mclimate:
                  dtype: float32
                  filter:param:
                    "123/140229":
                      vmin: 0.
                      accumulations:
                        step:
                          metadata:
                            bitsPerValue: 12
                            type: fcmean
                            timeRangeIndicator: 2
                            stepType: max
                    "140249":
                      vmin: 0.
                      vmax: 360.
                      accumulations:
                        step:
                          metadata:
                            bitsPerValue: 12
                            type: fcmean
                    "162071":
                      preprocessing:
                        - operation: norm
                      accumulations:
                        step:
                          metadata:
                            edition: 1
                            bitsPerValue: 12
                            type: fcmean
                            timeRangeIndicator: 3
                            stepType: avg
                    "164":
                      vmin: 0.
                      vmax: 1.
                      accumulations:
                        step:
                          metadata:
                            bitsPerValue: 12
                            type: fcmean
                            timeRangeIndicator: 3
                            stepType: avg
                    "167":
                      accumulations:
                        step:
                          metadata:
                            bitsPerValue: 12
                            type: fcmean
                            timeRangeIndicator: 3
                            stepType: avg
                    "228/144":
                      vmin: 0.
                      accumulations:
                        step:
                          metadata:
                            bitsPerValue: 12
                            type: fcmean
                            timeRangeIndicator: 5
                            stepType: diff
                    "121":
                      accumulations:
                        step:
                          metadata:
                            bitsPerValue: 12
                            type: fcmean
                            timeRangeIndicator: 2
                            stepType: max
                    "122":
                      accumulations:
                        step:
                          metadata:
                            bitsPerValue: 12
                            type: fcmean
                            timeRangeIndicator: 2
                    "207":
                      vmin: 0.
                      accumulations:
                        step:
                          metadata:
                            bitsPerValue: 12
                            type: fcmean
                            timeRangeIndicator: 3
                            stepType: avg
                    "228044":
                      vmin: 0
                      preprocessing:
                      - operation: mask
                        select: {param: "228036"}
                        mask: [{param: "228035"}, "<=", 10]
                      accumulations:
                        step:
                          metadata:
                            typeOfStatisticalProcessing: 1
                            edition: 1
                            bitsPerValue: 12
                            indicatorOfTypeOfLevel: 1
                            type: fcmean
                            timeRangeIndicator: 2
                            stepType: max
                    "59":
                      vmin: 0
                      preprocessing:
                      - operation: mask
                        select: {param: "228035"}
                        mask: [{param: "228035"}, "<=", 10]
                      accumulations:
                        step:
                          metadata:
                            typeOfStatisticalProcessing: 1
                            edition: 1
                            bitsPerValue: 12
                            indicatorOfTypeOfLevel: 1
                            type: fcmean
                            timeRangeIndicator: 2
                            stepType: max
                  filter:steplength:
                    "*":
                      filter:param:
                        "228/144":
                          accumulations:
                            step:
                              operation: difference
                              include_start: true
                              metadata:
                                numberIncludedInAverage: "{num_coords}:int"
                        "123/140229/121/228044/59":
                          accumulations:
                            step:
                              operation: maximum
                              metadata:
                                numberIncludedInAverage: "{num_coords}:int"
                        "122":
                          accumulations:
                            step:
                              operation: minimum
                              metadata:
                                numberIncludedInAverage: "{num_coords}:int"
                        "164/167/162071/207":
                          accumulations:
                            step:
                              operation: mean
                              metadata:
                                numberIncludedInAverage: "{num_coords}:int"
                        "140249":
                          accumulations:
                            step:
                              operation: aggregation
                              metadata:
                                  numberIncludedInAverage: "{num_coords}:int"
                    "168":
                      accumulations:
                        step:
                          operation: aggregation
                      filter:param:
                        "228":
                          preprocessing:
                          - operation: scale
                            value: 604800000
                        "167": {}
                "*":
                  accumulations:
                    step:
                      type: legacywindow
                      operation: mean
                      metadata:
                        type: fcmean
                    hdate: {}
            msmm/swmm:
              entrypoint: pproc-monthly-stats
              accumulations:
                step:
                  type: legacywindow
                  operation: mean
                  metadata:
                    type: fcmean
              metadata:
                bitsPerValue: 16
    fcstdev:
      dtype: float64
      filter:stream:
        enfo/waef:
          entrypoint: pproc-accumulate
          accumulations:
            step:
              type: legacywindow
              operation: standard_deviation
              metadata:
                type: fcstdev
        eefo/weef:
          entrypoint: pproc-accumulate
          accumulations:
            step:
              type: legacywindow
              operation: standard_deviation
              metadata:
                type: fcstdev
                numberIncludedInAverage: "{num_coords}:int"
          metadata:
            bitsPerValue: 16
            legBaseDate: 0
            legNumber: 0
            timeRangeIndicator: 3
            stepType: avg
        enfh/enwh/eefh/weeh:
          entrypoint: pproc-accumulate
          accumulations:
            step:
              type: legacywindow
              operation: standard_deviation
              metadata:
                type: fcstdev
            hdate: {}
          filter:param:
            "*": {}
            "239117":
              metadata:
                discipline: 0
                parameterCategory: 7
                parameterNumber: 6
                typeOfFirstFixedSurface: 17
                typeOfStatisticalProcessing: 6
        msmm/swmm:
          entrypoint: pproc-monthly-stats
          accumulations:
            step:
              type: legacywindow
              operation: standard_deviation
              metadata:
                type: fcstdev
          metadata:
            bitsPerValue: 16
    fcmin:
      dtype: float64
      filter:stream:
        enfo/waef:
          entrypoint: pproc-accumulate
          accumulations:
            step:
              type: legacywindow
              operation: minimum
              metadata:
                type: fcmin
        eefo/weef:
          entrypoint: pproc-accumulate
          accumulations:
            step:
              type: legacywindow
              operation: minimum
              metadata:
                type: fcmin
                numberIncludedInAverage: "{num_coords}:int"
          metadata:
            bitsPerValue: 16
            legBaseDate: 0
            legNumber: 0
            timeRangeIndicator: 3
            stepType: avg
        enfh/enwh/eefh/weeh:
          entrypoint: pproc-accumulate
          accumulations:
            step:
              type: legacywindow
              operation: minimum
              metadata:
                type: fcmin
            hdate: {}
          filter:param:
            "*": {}
            "238117":
              metadata:
                discipline: 0
                parameterCategory: 7
                parameterNumber: 6
                typeOfFirstFixedSurface: 17
                typeOfStatisticalProcessing: 3
        msmm/swmm:
          entrypoint: pproc-monthly-stats
          accumulations:
            step:
              type: legacywindow
              operation: minimum
              metadata:
                type: fcmin
          metadata:
            bitsPerValue: 16
    fcmax:
      dtype: float64
      filter:stream:
        enfo/waef:
          entrypoint: pproc-accumulate
          accumulations:
            step:
              type: legacywindow
              operation: maximum
              metadata:
                type: fcmax
        eefo/weef:
          entrypoint: pproc-accumulate
          accumulations:
            step:
              type: legacywindow
              operation: maximum
              metadata:
                type: fcmax
                numberIncludedInAverage: "{num_coords}:int"
          metadata:
            bitsPerValue: 16
            legBaseDate: 0
            legNumber: 0
            timeRangeIndicator: 3
            stepType: avg
        enfh/enwh/eefh/weeh:
          entrypoint: pproc-accumulate
          accumulations:
            step:
              type: legacywindow
              operation: maximum
              metadata:
                type: fcmax
            hdate: {}
          filter:param:
            "*": {}
            "237117":
              metadata:
                discipline: 0
                parameterCategory: 7
                parameterNumber: 6
                typeOfFirstFixedSurface: 17
                typeOfStatisticalProcessing: 2
        msmm/swmm:
          entrypoint: pproc-monthly-stats
          accumulations:
            step:
              type: legacywindow
              operation: maximum
              metadata:
                type: fcmax
          metadata:
            bitsPerValue: 16
    pb:
      entrypoint: pproc-quantiles
    taem/taes:
      filter:stream:
        eefo:
          filter:param:
            171130/171139/171151/171167/173228:
              entrypoint: pproc-anomaly
              dtype: float64
              metadata:
                bitsPerValue: 24
              accumulations:
                step:
                  type: legacywindow
                  metadata:
                    timeRangeIndicator: 3
                    stepType: avg
              clim:
                accumulations:
                  date:
                    operation: mean
            234167/234139/234151/234228:
              entrypoint: pproc-significance
              epsilon: 1e-10
              use_clim_anomaly: true
              accumulations:
                step:
                  type: legacywindow
                  metadata:
                    timeRangeIndicator: 3
                    stepType: avg
              clim:
                total_fields: 20
                accumulations:
                  date:
                    operation: aggregation
              clim_em:
                accumulations:
                  date:
                    operation: aggregation
            "*":
              entrypoint: pproc-ensms
              dtype: float64
              metadata:
                perturbationNumber: 0
                bitsPerValue: 16
                timeRangeIndicator: 3
                stepType: "avg"
        efhs/eehs:
          entrypoint: pproc-ensms
          dtype: float64
          metadata:
            perturbationNumber: 0
            numberOfForecastsInEnsemble: "{num_fields}:int"
            bitsPerValue: 16
            timeRangeIndicator: 3
            stepType: avg
            dataDate: "{date}:int"
          accumulations:
            step: {}
            hdate:
              operation: aggregation
              metadata:
                climateDateFrom: "{start_coord}:int"
                climateDateTo: "{end_coord}:int"
    cd:
      filter:stream:
        efhs/wehs/eehs:
          entrypoint: pproc-quantiles
          total_fields: 20
          metadata:
            bitsPerValue: 12
            localDefinitionNumber: 19
            sampleSizeOfModelClimate: "{num_fields}:int"
            versionOfModelClimate: 0
            efiOrder: 0
            numberOfReforecastYearsInModelClimate: 20
            type: cd
          filter:param:
            "140249":
              entrypoint: pproc-histogram
              bins: [-22.5, 22.5, 67.5, 112.5, 157.5, 202.5, 247.5, 292.5, 337.5]
              mod: 360.
              normalise: true
              scale_out: 200.
              metadata:
                numberOfDaysInClimateSamplingWindow: 31
              accumulations:
                date:
                  operation: "sum"
            "*":
              accumulations:
                date:
                  operation: "aggregation"
              filter:steplength:
                "*":
                  metadata:
                    numberOfDaysInClimateSamplingWindow: 31
                "168":
                  metadata:
                    numberOfDaysInClimateSamplingWindow: 7
    pfc:
      entrypoint: pproc-ecpoint
      interp_keys:
        interpolation: grid-box-average
      metadata:
        edition: 2
        bitsPerValue: 24
        generatingProcessIdentifier: 3
        paramId: 228
      quantiles: [0.01, 0.02, 0.03, 0.04, 0.05, 0.06, 0.07, 0.08, 0.09, 0.1, 0.11, 0.12, 0.13, 0.14, 0.15, 0.16, 0.17, 0.18, 0.19, 0.2, 0.21, 0.22, 0.23, 0.24, 0.25, 0.26, 0.27, 0.28, 0.29, 0.3, 0.31, 0.32, 0.33, 0.34, 0.35, 0.36, 0.37, 0.38, 0.39, 0.4, 0.41, 0.42, 0.43, 0.44, 0.45, 0.46, 0.47, 0.48, 0.49, 0.5, 0.51, 0.52, 0.53, 0.54, 0.55, 0.56, 0.57, 0.58, 0.59, 0.6, 0.61, 0.62, 0.63, 0.64, 0.65, 0.66, 0.67, 0.68, 0.69, 0.7, 0.71, 0.72, 0.73, 0.74, 0.75, 0.76, 0.77, 0.78, 0.79, 0.8, 0.81, 0.82, 0.83, 0.84, 0.85, 0.86, 0.87, 0.88, 0.89, 0.9, 0.91, 0.92, 0.93, 0.94, 0.95, 0.96, 0.97, 0.98, 0.99]
      preprocessing:
        - operation: scale
          value: 1000
      accumulations:
        step:
          operation: difference
      filter:steplength:
        "6":
          predictors: ["cpr", "tp", "cdir", "lst", "sdfor", "ws", "mucape"]
          dependencies:
            wind:
              vod2uv: true
              accumulations:
                step:
                  operation: weighted_mean
                  weights: [0.25, 0.5, 0.25]
            cp:
              preprocessing:
                - operation: scale
                  value: 1000
              accumulations:
                step:
                  operation: difference
            cdir:
              preprocessing:
                - operation: scale
                  value: 0.00001157407
              accumulations:
                step:
                  operation: difference
            cape:
              accumulations:
                step:
                  operation: weighted_mean
                  weights: [0.25, 0.5, 0.25]
            sdfor:
              accumulations:
                step: {}
        "12/24":
          predictors: ["cpr", "tp", "ws", "mxcape6", "cdir"]
          dependencies:
            wind:
              vod2uv: true
              accumulations:
                step:
                  operation: weighted_mean
                  weights: [0.25, 0.5, 0.25]
            cp:
              preprocessing:
                - operation: scale
                  value: 1000
              accumulations:
                step:
                  operation: difference
            cdir:
              preprocessing:
                - operation: scale
                  value: 0.00001157407
              accumulations:
                step:
                  operation: difference
            cape:
              accumulations:
                step:
                  type: legacywindow
                  include_start: false
                  operation: maximum
windows:
  defs:
    width6:
      - type: range
        width: 6
        interval: 3
        end: 144
      - type: range
        width: 6
        interval: 6
        start: 144
    width12:
      - type: range
        width: 12
        interval: 3
        end: 144
      - type: range
        width: 12
        interval: 6
        start: 144
    width24:
      - type: range
        width: 24
        interval: 3
        end: 144
      - type: range
        width: 24
        interval: 6
        start: 144
  filter:stream:
    oper:
      in_steps:
        - from: 0
          to: 90
          by: 1
        - from: 90
          to: 144
          by: 3
        - from: 144
          to: 360
          by: 6
    enfo/waef:
      in_steps:
        - from: 0
          to: 90
          by: 1
        - from: 90
          to: 144
          by: 3
        - from: 144
          to: 360
          by: 6
    eefo/weef/eefh/weeh/eehs:
      in_steps:
        - from: 0
          to: 1104
          by: 6
    msmm/swmm:
      in_steps:
        - from: 0
          to: 5160
          by: 6
    enfh/enwh/efhs/wehs:
      in_steps:
        - from: 0
          to: 360
          by: 6
  filter:type:
    em/es/pb:
      filter:stream:
        enfo/waef:
          filter:param:
            "*":
              out_steps:
                - type: instantaneous
                  end: 90
                  interval: 3
                - type: instantaneous
                  start: 90
            121/122:
              out_steps:
                type: instantaneous
                interval: 6
            228026/228027:
              out_steps:
                type: instantaneous
                interval: 3
        eefo/weef:
          type: instantaneous
        efhs/wehs:
          out_steps:
            type: instantaneous
            interval: 12
    fc/cf/pf:
      filter:stream:
        "*":
          filter:param:
            "*":
              out_steps:
                type: instantaneous
            261001/261014/261015/261002:
              out_steps:
                type: instantaneous
                deaccumulate: true
    fcmean/fcstdev/fcmax/fcmin:
      filter:stream:
        "enfo/eefo/oper/eefh/weef":
          out_steps:
            type: range
            interval: 24
            width: 168
        "enfh/enwh":
          out_steps:
            filter:param:
              "*":
                out_steps:
                  - type: range
                    width: 24
                    interval: 24
                  - type: range
                    width: 72
                    end: 240
                    interval: 24
                    end: 216
                  - type: range
                    width: 120
                    end: 240
                    interval: 24
                  - "0-240"
                  - "0-360"
                  - "240-360"
              121/122/123/140229/59/228044/140249/164:
                out_steps:
                  type: range
                  end: 168
                  width: 24
                  interval: 24
        "eefh/weeh":
          filter:param:
            "*":
              out_steps:
                type: range
                interval: 24
                width: 168
        "msmm":
          out_steps:
            type: monthly
            date: "{date}"
    taem/taes:
      filter:stream:
        "enfo/eefo/oper/efhs/eehs":
          out_steps:
            type: range
            interval: 24
            width: 168
    ep:
      filter:stream:
        enfo:
          filter:param:
            131060/131061/131062/131063/131098/131099/131085/131070/131071/131072/131100:
              out_steps:
                type: range
                width: 24
                interval: 12
            131064/131065/131066/131067/131070/131071/131072/131100/131020/131021/131073:
              out_steps:
                - type: range
                  width: 120
                  start: 120
                  interval: 120
                - "120-168"
                - "168-240"
            131068/131069/131073/131022/131023/131024/131025/133093/133094/133095/133096/133097/133098:
              out_steps:
                type: instantaneous
                start: 12
                interval: 12
        waef:
          filter:param:
            131074/131075/131076/131077/131078/131079/131080/131081:
              out_steps:
                - type: range
                  width: 120
                  start: 120
                  interval: 120
                - "120-168"
                - "168-240"
            131074/131075/131076/131077/131078/131079/131080/131081:
              out_steps:
                type: instantaneous
                start: 12
                interval: 12
    efi/efic/sot:
      filter:stream:
        "eefo/weef":
          out_steps:
            type: range
            interval: 24
            width: 168
        "enfo/waef":
          filter:param:
            "*":
              filter:time:
                "1200":
                  out_steps:
                    - type: range
                      start: 12
                      end: 240
                      width: 24
                      interval: 24
                    - type: range
                      start: 12
                      end: 240
                      width: 72
                      interval: 24
                      end: 216
                    - type: range
                      start: 12
                      end: 240
                      width: 120
                      interval: 24
                    - type: range
                      start: 240
                      width: 24
                      interval: 24
                    - "0-240"
                    - "0-360"
                    - "240-360"
                "0000":
                  out_steps:
                    - type: range
                      width: 24
                      interval: 24
                    - type: range
                      width: 72
                      end: 240
                      interval: 24
                      end: 216
                    - type: range
                      width: 120
                      end: 240
                      interval: 24
                    - "0-240"
                    - "0-360"
                    - "240-360"
                "0600/1800":
                  out_steps:
                    - type: range
                      width: 24
                      end: 144
                      interval: 12
            132201/132202/132049/132144/132216/132059/132044:
              filter:time:
                "1200":
                  out_steps:
                    type: range
                    start: 12
                    end: 180
                    width: 24
                    interval: 24
                "0000":
                  out_steps:
                    type: range
                    end: 168
                    width: 24
                    interval: 24
                "0600/1800":
                  out_steps:
                    - type: range
                      width: 24
                      end: 144
                      interval: 12
    cd:
      filter:stream:
        efhs/wehs:
          filter:param:
            "*":
              out_steps:
                - type: range
                  width: 24
                  interval: 12
                - type: range
                  width: 72
                  end: 240
                  interval: 12
                  end: 216
                - type: range
                  width: 120
                  end: 240
                  interval: 12
                - "0-240"
                - "0-360"
                - "240-360"
            "228004/228":
              out_steps:
                - type: range
                  width: 24
                  interval: 12
                - type: range
                  width: 72
                  end: 240
                  interval: 12
                  end: 216
                - type: range
                  width: 120
                  end: 240
                  interval: 12
                - type: range
                  width: 168
                  interval: 24
                - "0-240"
                - "0-360"
                - "240-360"
            "202/201/49/140200/59/228044/140249/228006":
              out_steps:
                type: range
                width: 24
                interval: 12
        eehs:
          out_steps:
            type: range
            width: 168
            interval: 24
    pfc:
      filter:param:
        "228":
          out_steps:
            type: range
            width: 12
            interval: 6
inputs:
  filter:stream:
    oper:
      filter:type:
        fc/fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                stream: oper
                type: fc
    enfo:
      filter:type:
        "em/es/pb/efi/sot/pfc":
          forecast:
            inputs:
              - request:
                  stream: enfo
                  type: "cf"
              - request:
                  stream: enfo
                  type: "pf"
                members:
                  start: 1
                  end: 50
        "cf/efic":
          forecast:
            inputs:
              request:
                stream: enfo
                type: "cf"
        "pf/ep":
          forecast:
            inputs:
              request:
                stream: enfo
                type: "pf"
              members:
                start: 1
                end: 50
        fcmean/fcstdev/fcmin/fcmax:
          filter:number:
            only_zero:
              forecast:
                inputs:
                  request:
                    stream: enfo
                    type: "cf"
            no_zero:
              forecast:
                inputs:
                  request:
                    stream: enfo
                    type: "pf"
                  members:
                    start: 1
                    end: 50
            contains_zero:
              from_inputs: false
              forecast:
                inputs:
                  - request:
                      stream: enfo
                      type: "cf"
                  - request:
                      stream: enfo
                      type: "pf"
                    members:
                      start: 1
                      end: 50
      climatology:
        inputs:
          request:
            stream: "efhs"
            time: "0000"
        scheme: ecmwf-4days
    waef:
      filter:type:
        em/es/pb/efi/sot:
          forecast:
            inputs:
              - request:
                  stream: waef
                  type: "cf"
              - request:
                  stream: waef
                  type: "pf"
                members:
                  start: 1
                  end: 50
        "cf/efic":
          forecast:
            inputs:
              request:
                stream: waef
                type: "cf"
        "pf/ep":
          forecast:
            inputs:
              request:
                stream: waef
                type: "pf"
              members:
                start: 1
                end: 50
        fcmean/fcstdev/fcmin/fcmax:
          filter:number:
            only_zero:
              forecast:
                inputs:
                  request:
                    stream: waef
                    type: "cf"
            no_zero:
              forecast:
                inputs:
                  request:
                    stream: waef
                    type: "pf"
                  members:
                    start: 1
                    end: 50
            contains_zero:
              from_inputs: false
              forecast:
                inputs:
                  - request:
                      stream: waef
                      type: "cf"
                  - request:
                      stream: waef
                      type: "pf"
                    members:
                      start: 1
                      end: 50
      climatology:
        inputs:
          request:
            stream: "wehs"
            time: "0000"
        scheme: ecmwf-4days
    eefo:
      filter:type:
        "em/es/pb":
          forecast:
            inputs:
              - request:
                  stream: eefo
                  type: "cf"
              - request:
                  stream: eefo
                  type: "pf"
                members:
                  start: 1
                  end: 100
        "cf":
          forecast:
            inputs:
              request:
                stream: eefo
                type: "cf"
        "pf":
          forecast:
            inputs:
              request:
                stream: eefo
                type: "pf"
              members:
                start: 1
                end: 100
        fcmean/fcstdev/fcmin/fcmax:
          filter:param:
            "*":
              filter:number:
                only_zero:
                  forecast:
                    inputs:
                      request:
                        stream: eefo
                        type: "cf"
                no_zero:
                  forecast:
                    inputs:
                      request:
                        stream: eefo
                        type: "pf"
                      members:
                        start: 1
                        end: 100
                contains_zero:
                  from_inputs: false
                  forecast:
                    inputs:
                      - request:
                          stream: eefo
                          type: "cf"
                      - request:
                          stream: eefo
                          type: "pf"
                        members:
                          start: 1
                          end: 100
            "171130/171139/171151/171167/173228":
              filter:type:
                fcmean:
                  forecast:
                    inputs:
                      request:
                        stream: eefo
                        type: fcmean
                      members:
                        start: 0
                        end: 100
        "efi/sot/taem/taes":
          forecast:
            inputs:
              - request:
                  stream: eefo
                  type: fcmean
                members:
                  start: 0
                  end: 100
                derive_step:
                  type: default
                  precomputed: true
      climatology:
        inputs:
          request:
            stream: "eehs"
            time: "0000"
        scheme: ecmwf-2days
    weef:
      filter:type:
        "em/es/pb":
          forecast:
            inputs:
              - request:
                  stream: weef
                  type: "cf"
              - request:
                  stream: weef
                  type: "pf"
                members:
                  start: 1
                  end: 100
        "cf":
          forecast:
            inputs:
              request:
                stream: weef
                type: "cf"
        "pf":
          forecast:
            inputs:
              request:
                stream: weef
                type: "pf"
              members:
                start: 1
                end: 100
        fcmean/fcstdev/fcmin/fcmax:
          filter:number:
            only_zero:
              forecast:
                inputs:
                  request:
                    stream: weef
                    type: "cf"
            no_zero:
              forecast:
                inputs:
                  request:
                    stream: weef
                    type: "pf"
                  members:
                    start: 1
                    end: 100
            contains_zero:
              from_inputs: false
              forecast:
                inputs:
                  - request:
                      stream: weef
                      type: "cf"
                  - request:
                      stream: weef
                      type: "pf"
                    members:
                      start: 1
                      end: 100
        "efi/efic/sot/taem/taes":
          forecast:
            inputs:
              - request:
                  stream: weef
                  type: fcmean
                members:
                  start: 0
                  end: 100
                derive_step:
                  type: default
                  precomputed: true
      climatology:
        inputs:
          request:
            stream: "wees"
            time: "0000"
        scheme: ecmwf-2days
    msmm:
      filter:type:
        "fcmean/fcstdev/fcmin/fcmax":
          forecast:
            inputs:
              request:
                stream: mmsf
                type: "fc"
              members:
                start: 0
                end: 50
    swmm:
      filter:type:
        "fcmean/fcstdev/fcmin/fcmax":
          forecast:
            inputs:
              request:
                stream: wasf
                type: "fc"
              members:
                start: 0
                end: 50
    enfh:
      filter:type:
        "fcmean/fcstdev/fcmax/fcmin":
          filter:number:
            only_zero:
              forecast:
                inputs:
                  request:
                    stream: enfh
                    type: "cf"
                    time: "0000"
                scheme: ecmwf-4days
            no_zero:
              forecast:
                inputs:
                  request:
                    stream: enfh
                    type: "pf"
                    time: "0000"
                  members:
                    start: 1
                    end: 10
                scheme: ecmwf-4days
            contains_zero:
              from_inputs: false
              forecast:
                inputs:
                  - request:
                      stream: enfh
                      type: "cf"
                      time: "0000"
                  - request:
                      stream: enfh
                      type: "pf"
                      time: "0000"
                    members:
                      start: 1
                      end: 10
                scheme: ecmwf-4days
    enwh:
      filter:type:
        "fcmean/fcstdev/fcmax/fcmin":
          filter:number:
            only_zero:
              forecast:
                inputs:
                  request:
                    stream: enwh
                    type: "cf"
                    time: "0000"
                scheme: ecmwf-4days
            no_zero:
              forecast:
                inputs:
                  request:
                    stream: enwh
                    type: "pf"
                    time: "0000"
                  members:
                    start: 1
                    end: 10
                scheme: ecmwf-4days
            contains_zero:
              from_inputs: false
              forecast:
                inputs:
                  - request:
                      stream: enwh
                      type: "cf"
                      time: "0000"
                  - request:
                      stream: enwh
                      type: "pf"
                      time: "0000"
                    members:
                      start: 1
                      end: 10
                scheme: ecmwf-4days
    eefh:
      filter:type:
        "fcmean/fcstdev/fcmax/fcmin":
          filter:number:
            only_zero:
              forecast:
                inputs:
                  request:
                    stream: eefh
                    type: "cf"
                    time: "0000"
                scheme: ecmwf-2days
            no_zero:
              forecast:
                inputs:
                  request:
                    stream: eefh
                    type: "pf"
                    time: "0000"
                  members:
                    start: 1
                    end: 10
                scheme: ecmwf-2days
            contains_zero:
              from_inputs: false
              forecast:
                inputs:
                  - request:
                      stream: eefh
                      type: "cf"
                      time: "0000"
                  - request:
                      stream: eefh
                      type: "pf"
                      time: "0000"
                    members:
                      start: 1
                      end: 10
                scheme: ecmwf-2days
    weeh:
      filter:type:
        "fcmean/fcstdev/fcmax/fcmin":
          filter:number:
            only_zero:
              forecast:
                inputs:
                  request:
                    stream: weeh
                    type: "cf"
                    time: "0000"
                scheme: ecmwf-2days
            no_zero:
              forecast:
                inputs:
                  request:
                    stream: weeh
                    type: "pf"
                    time: "0000"
                  members:
                    start: 1
                    end: 10
                scheme: ecmwf-2days
            contains_zero:
              from_inputs: false
              forecast:
                inputs:
                  - request:
                      stream: weeh
                      type: "cf"
                      time: "0000"
                  - request:
                      stream: weeh
                      type: "pf"
                      time: "0000"
                    members:
                      start: 1
                      end: 10
                scheme: ecmwf-2days
    efhs:
      forecast:
        inputs:
          - request:
              stream: enfh
              type: "cf"
              time: "0000"
          - request:
              stream: enfh
              type: "pf"
              time: "0000"
            members:
              start: 1
              end: 10
        scheme: ecmwf-4days
    wehs:
      forecast:
        inputs:
          - request:
              stream: enwh
              type: "cf"
              time: "0000"
          - request:
              stream: enwh
              type: "pf"
              time: "0000"
            members:
              start: 1
              end: 10
        scheme: ecmwf-4days
    eehs:
      forecast:
        inputs:
          - request:
              stream: eefh
              type: cf
              time: "0000"
          - request:
              stream: eefh
              type: pf
              time: "0000"
            members:
              start: 1
              end: 10
        scheme: ecmwf-2days
  filter:param:
    "*":
      filter:type:
        "fc/cf/pf":
          from_inputs: False
          forecast:
            inputs:
              request:
                param: "{param}"
        "em/es/pb/cd/fcmean/fcstdev/fcmin/fcmax/taem/taes":
          forecast:
            inputs:
              request:
                param: "{param}"
    "10/131/132":
      filter:type:
        fc/cf/pf/em/es/pb/fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: ["138", "155"]
    "121/122":
      forecast:
        inputs:
          request:
            param: "{param}"
      filter:type:
        em/es/pb:
          forecast:
            inputs:
              derive_step:
                type: default
                by: 6
        "*":
          from_inputs: false
    "228":
      filter:type:
        pfc:
          from_inputs: false
          filter:steplength:
            "6":
              forecast:
                update_request_method: product
                inputs:
                  - request:
                      param: "228"
                    derive_step:
                      type: default
                      deaccumulation: true
                  - request:
                      param: ["138", "155"]
                      levtype: pl
                      levelist: 700
                    derive_step:
                      type: default
                      by: 3
                  - request:
                      param: "143"
                    derive_step:
                      type: default
                      deaccumulation: true
                  - request:
                      param: "228022"
                    derive_step:
                      type: default
                      deaccumulation: true
                      by: 24
                  - request:
                      param: "228235"
                    derive_step:
                      type: default
                      by: 3
                  - request:
                      param: "74"
                      stream: oper
                      type: fc
                    members: null
                    derive_step:
                      type: select
                      index: -1
            "12":
              forecast:
                update_request_method: product
                inputs:
                  - request:
                      param: "228"
                    derive_step:
                      type: default
                      deaccumulation: true
                  - request:
                      param: ["138", "155"]
                      levtype: pl
                      levelist: 700
                    derive_step:
                      type: default
                      by: 6
                  - request:
                      param: "143"
                    derive_step:
                      type: default
                      deaccumulation: true
                  - request:
                      param: "228022"
                    derive_step:
                      type: default
                      deaccumulation: true
                      by: 24
                  - request:
                      param: "228035"
                    derive_step:
                      type: default
                      by: 6
            "24":
              forecast:
                update_request_method: product
                inputs:
                  - request:
                      param: "228"
                    derive_step:
                      type: default
                      deaccumulation: true
                  - request:
                      param: ["138", "155"]
                      levtype: pl
                      levelist: 700
                    derive_step:
                      type: default
                      by: 12
                  - request:
                      param: "143"
                    derive_step:
                      type: default
                      deaccumulation: true
                  - request:
                      param: "228022"
                    derive_step:
                      type: default
                      deaccumulation: true
                      by: 24
                  - request:
                      param: "228035"
                    derive_step:
                      type: default
                      by: 12
        "fc/cf/pf/fcmean":
          from_inputs: False
          forecast:
            inputs:
              request:
                param: "{param}"
        "em/es/pb/cd":
          forecast:
            inputs:
              request:
                param: "{param}"
    "228026/228027":
      filter:type:
        em/es/pb:
          forecast:
            inputs:
              request:
                param: "{param}"
              derive_step:
                type: default
                by: 3
    131020/131021/131022/131023/131024/131025/133093/133094/133095/133096/133097/133098:
      filter:type:
        ep:
          forecast:
            inputs:
              - request:
                  param: "130"
                  type: "cf"
                derive_step:
                  type: default
                  by: 12
                members: null
              - request:
                  param: "130"
                  type: "pf"
                derive_step:
                  type: default
                  by: 12
          climatology:
            required: true
            inputs:
              - request:
                  param: "130"
                  type: "em"
                derive_date:
                  option: previous
                  strict: False
                derive_step:
                  type: instantaneous
              - request:
                  param: "130"
                  type: "es"
                derive_date:
                  option: previous
                  strict: False
                derive_step:
                  type: instantaneous
    131060/131061/131062/131063/131064/131065/131066/131067/131098/131099/131085:
      filter:type:
        ep:
          forecast:
            inputs:
              request:
                param: "228"
              derive_step:
                type: default
                deaccumulation: true
    "131068/131069":
      filter:type:
        ep:
          forecast:
            inputs:
              request:
                param: ["165", "166"]
    131070/131071/131072/131100:
      filter:type:
        ep:
          forecast:
            inputs:
              request:
                param: "123"
              derive_step:
                type: default
                by: 6
    "131073":
      filter:type:
        ep:
          filter:steptype:
            instantaneous:
              forecast:
                inputs:
                  request:
                    param: "167"
            range:
              forecast:
                inputs:
                  request:
                    param: "122"
                  derive_step:
                    type: default
                    by: 6
    131074/131075/131076/131077:
      filter:type:
        ep:
          forecast:
            inputs:
              request:
                param: "140229"
    131078/131079/131080/131081:
      filter:type:
        ep:
          forecast:
            inputs:
              request:
                param: "140232"
    "132044":
      filter:type:
        efi/efic/sot:
          forecast:
            inputs:
              request:
                param: ["228035", "228036"]
          climatology:
            inputs:
              request:
                param: "228044"
    "132045":
      filter:type:
        efi/efic/sot:
          forecast:
            inputs:
              request:
                param: ["162071", "162072"]
          climatology:
            inputs:
              request:
                param: "162045"
    "132049":
      filter:type:
        efi/efic/sot:
          forecast:
            inputs:
              request:
                param: "123"
          climatology:
            inputs:
              request:
                param: "49"
    "132059":
      filter:type:
        efi/efic/sot:
          forecast:
            inputs:
              request:
                param: "228035"
          climatology:
            inputs:
              request:
                param: "59"
    "132144":
      filter:type:
        efi/efic/sot:
          forecast:
            inputs:
              request:
                param: "144"
          climatology:
            inputs:
              request:
                param: "144"
    "132165":
      filter:type:
        efi/efic/sot:
          forecast:
            inputs:
              request:
                param: "207"
          climatology:
            inputs:
              request:
                param: "228005"
    "132167":
      filter:type:
        efi/efic/sot:
          forecast:
            inputs:
              request:
                param: "167"
          climatology:
            inputs:
              request:
                param: "228004"
    "132201":
      filter:type:
        efi/efic/sot:
          forecast:
            inputs:
              request:
                param: "121"
          climatology:
            inputs:
              request:
                param: "201"
    "132202":
      filter:type:
        efi/efic/sot:
          forecast:
            inputs:
              request:
                param: "122"
          climatology:
            inputs:
              request:
                param: "202"
    "132216":
      filter:type:
        efi/efic/sot:
          forecast:
            inputs:
              request:
                param: "140229"
          climatology:
            inputs:
              request:
                param: "140200"
    "132228":
      filter:type:
        efi/efic/sot:
          filter:stream:
            eefo:
              forecast:
                inputs:
                  request:
                    param: "172228"
              climatology:
                inputs:
                  request:
                    param: "228"
            enfo:
              forecast:
                inputs:
                  request:
                    param: "228"
              climatology:
                inputs:
                  request:
                    param: "228"
    "171167":
      filter:type:
        taem/fcmean:
          forecast:
            inputs:
              request:
                param: "167"
          climatology:
            inputs:
              request:
                param: "167"
    "171139":
      filter:type:
        taem/fcmean:
          forecast:
            inputs:
              request:
                param: "139"
          climatology:
            inputs:
              request:
                param: "139"
    "171151":
      filter:type:
        taem/fcmean:
          forecast:
            inputs:
              request:
                param: "151"
          climatology:
            inputs:
              request:
                param: "151"
    "173228":
      filter:type:
        taem/fcmean:
          forecast:
            inputs:
              request:
                param: "172228"
          climatology:
            inputs:
              request:
                param: "172228"
    "171130":
      filter:type:
        taem/fcmean:
          forecast:
            inputs:
              request:
                param: "130"
          climatology:
            inputs:
              request:
                param: "130"
    "172008":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: "8"
        taem/taes:
          forecast:
            inputs:
              request:
                param: "{param}"
    "172009":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: "9"
        taem/taes:
          forecast:
            inputs:
              request:
                param: "{param}"
    "172142":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: "142"
        taem/taes:
          forecast:
            inputs:
              request:
                param: "{param}"
    "172143":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: "143"
        taem/taes:
          forecast:
            inputs:
              request:
                param: "{param}"
    "172144":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: "144"
        taem/taes:
          forecast:
            inputs:
              request:
                param: "{param}"
    "172146":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: "146"
        taem/taes:
          forecast:
            inputs:
              request:
                param: "{param}"
    "172147":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: "147"
        taem/taes:
          forecast:
            inputs:
              request:
                param: "{param}"
    "172169":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: "169"
        taem/taes:
          forecast:
            inputs:
              request:
                param: "{param}"
    "172175":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: "175"
        taem/taes:
          forecast:
            inputs:
              request:
                param: "{param}"
    "172176":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: "176"
        taem/taes:
          forecast:
            inputs:
              request:
                param: "{param}"
    "172177":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: "177"
        taem/taes:
          forecast:
            inputs:
              request:
                param: "{param}"
    "172178":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: "178"
        taem/taes:
          forecast:
            inputs:
              request:
                param: "{param}"
    "172179":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: "179"
        taem/taes:
          forecast:
            inputs:
              request:
                param: "{param}"
    "172180":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: "180"
        taem/taes:
          forecast:
            inputs:
              request:
                param: "{param}"
    "172181":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: "181"
        taem/taes:
          forecast:
            inputs:
              request:
                param: "{param}"
    "172182":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: "182"
    "172189":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: "189"
        taem/taes:
          forecast:
            inputs:
              request:
                param: "{param}"
    "172205":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: "205"
        taem/taes:
          forecast:
            inputs:
              request:
                param: "{param}"
    "172212":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: "212"
        taem/taes:
          forecast:
            inputs:
              request:
                param: "{param}"
    "172228":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: "228"
        taem/taes:
          forecast:
            inputs:
              request:
                param: "{param}"
    "200142":
      from_inputs: false
      forecast:
        inputs:
          request:
            param: "142"
          derive_step:
            type: default
            deaccumulation: true
    "200143":
      from_inputs: false
      forecast:
        inputs:
          request:
            param: "143"
          derive_step:
            type: default
            deaccumulation: true
    "200144":
      from_inputs: false
      forecast:
        inputs:
          request:
            param: "144"
          derive_step:
            type: default
            deaccumulation: true
    "200189":
      from_inputs: false
      forecast:
        inputs:
          request:
            param: "189"
          derive_step:
            type: default
            deaccumulation: true
    "200228":
      from_inputs: false
      forecast:
        inputs:
          request:
            param: "228"
          derive_step:
            type: default
            deaccumulation: true
    "201":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: "121"
        cd/em/es: # This case is handled below
          filter:stream:
            efhs/eehs: {}
        taem/taes:
          filter:stream:
            efhs/eehs:
              forecast:
                inputs:
                  request:
                    param: "{param}"
    "202":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: "122"
        cd/em/es:
          filter:stream:
            efhs/eehs: {}
        taem/taes:
          filter:stream:
            efhs/eehs:
              forecast:
                inputs:
                  request:
                    param: "{param}"
    "207":
      filter:type:
        fc/cf/pf/em/es/pb/fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: ["165", "166"]
    "140249":
      from_inputs: false
      filter:type:
        fc/cf/pf/em/es/pb/fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: ["165", "166"]
        cd: {}
    "228249":
      from_inputs: false
      forecast:
        inputs:
          request:
            param: ["228246", "228247"]
    "234167":
      filter:type:
        taem:
          forecast:
            inputs:
              request:
                param: "171167"
          climatology:
            inputs:
              request:
                param: "167.128"
    "234139":
      filter:type:
        taem:
          forecast:
            inputs:
              request:
                param: "171139"
          climatology:
            inputs:
              request:
                param: "139.128"
    "234151":
      filter:type:
        taem:
          forecast:
            inputs:
              request:
                param: "171151"
          climatology:
            inputs:
              request:
                param: "151.128"
    "234228":
      filter:type:
        taem:
          forecast:
            inputs:
              request:
                param: "173228"
          climatology:
            inputs:
              request:
                param: "228.172"
    "235117":
      filter:type:
        fcmean/fcstdev/fcmin/fcmax:
          forecast:
            inputs:
              request:
                param: "59"
    "260033":
      from_inputs: false
      forecast:
        inputs:
          request:
            param: ["228220", "228218"]
    "260053":
      from_inputs: false
      forecast:
        inputs:
          request:
            param: ["228220", "228221"]
    "261001":
      filter:type:
        cf/pf/fc:
          forecast:
            inputs:
              - request:
                  param: ["169", "175", "176", "177", "228021", "47"]
                derive_step:
                  type: default
                  deaccumulation: true
              - request:
                  param: ["165", "166", "167", "168"]
        "em/es/pb":
          forecast:
            inputs:
              request:
                param: "261001"
    "261014":
      filter:type:
        cf/pf/fc:
          forecast:
            inputs:
              - request:
                  param: ["169", "175", "176", "177", "228021", "47"]
                derive_step:
                  type: default
                  deaccumulation: true
              - request:
                  param: ["165", "166", "167", "168"]
        "em/es/pb":
          forecast:
            inputs:
              request:
                param: "261014"
    "261015":
      filter:type:
        cf/pf/fc:
          forecast:
            inputs:
              - request:
                  param: ["169", "175", "176", "177", "228021", "47"]
                derive_step:
                  type: default
                  deaccumulation: true
              - request:
                  param: ["165", "166", "167", "168"]
        "em/es/pb":
          forecast:
            inputs:
              request:
                param: "261015"
    "260004":
      filter:type:
        cf/pf/fc:
          forecast:
            inputs:
              request:
                param: ["167", "168"]
        "em/es/pb":
          forecast:
            inputs:
              request:
                param: "260004"
    "260242":
      filter:type:
        cf/pf/fc:
          forecast:
            inputs:
              request:
                param: ["167", "168"]
        "em/es/pb":
          forecast:
            inputs:
              request:
                param: "260242"
    "261016":
      filter:type:
        cf/pf/fc:
          forecast:
            inputs:
              request:
                param: ["167", "168"]
        "em/es/pb":
          forecast:
            inputs:
              request:
                param: "261016"
    "260005":
      filter:type:
        cf/pf/fc:
          forecast:
            inputs:
              request:
                param:  ["165", "166", "167"]
        "em/es/pb":
          forecast:
            inputs:
              request:
                param: "260005"
    "260255":
      filter:type:
        cf/pf/fc:
          forecast:
            inputs:
              request:
                param: ["165", "166", "167", "168"]
        "em/es/pb":
          forecast:
            inputs:
              request:
                param: "260255"
    "261018":
      filter:type:
        cf/pf/fc:
          forecast:
            inputs:
              request:
                param: ["165", "166", "167", "168"]
        "em/es/pb":
          forecast:
            inputs:
              request:
                param: "261018"
    "261002":
      filter:type:
        cf/pf/fc:
          forecast:
            inputs:
              - request:
                  param: ["47", "228021", "169", "175", "176", "177"]
                derive_step:
                  type: default
                  deaccumulation: true
              - request:
                  param: "167" # Required for metadata of cossza
        "em/es/pb":
          forecast:
            inputs:
              request:
                param: "261002"
  filter:type:
    fcmean/fcstdev/fcmax:
      filter:stream:
        enfo/waef/eefo/weef:
          filter:param:
            "31/33/34/39/49/78/79/121/122/136/137/139/141/151/151130/151131/151145/151148/151163/151164/151175/159/164/165/166/167/168/201/202/207/228246/228247/235117/237117/238117/239117":
              forecast:
                inputs:
                  derive_step:
                    type: default
            40/41/42/170/140229/140231/140232/140233/140245/172008/172009/172142/172143/172144/172146/172147/172169/172175/172176/172177/172178/172179/172180/172181/172182/172189/172205/172212/172228:
              forecast:
                inputs:
                  derive_step:
                    type: default
                    by: 24
            1/2/3/60/129/130/131/132/133/138/155:
              forecast:
                inputs:
                  derive_step:
                    type: default
                    by: 12
            171130/171139/171151/171167/173228:
              forecast:
                inputs:
                  derive_step:
                    type: default
                    precomputed: true
              climatology:
                inputs:
                  request:
                    type: taem
                  derive_date:
                    - option: nearest
                    - option: bracket
                      num: 2
                      strict: False
                  derive_step:
                    type: range
                required: true
        enfh/enwh/eefh/weeh:
          forecast:
            inputs:
              derive_step:
                type: default
          filter:selection:
            mclimate:
              from_inputs: false
              filter:type:
                fcmean:
                  filter:param:
                    "162071":
                      forecast:
                        inputs:
                          request:
                            param: ["162071", "162072"]
                    "59":
                      forecast:
                        inputs:
                          request:
                            param: "228035"
                    "228044":
                      forecast:
                        inputs:
                          request:
                            param: ["228035", "228036"]
                    "167/228/144":
                      filter:steplength:
                        "*":
                          filter:param:
                            "228/144":
                              forecast:
                                inputs:
                                  derive_step:
                                    type: default
                                    deaccumulation: true
                            "*": {}
                        "168":
                          forecast:
                            inputs:
                              - request:
                                  type: fcmean
                                members:
                                  start: 0
                                  end: 0
                                derive_step:
                                  type: default
                                  precomputed: true
                              - request:
                                  type: fcmean
                                derive_step:
                                  type: default
                                  precomputed: true
                          filter:param:
                            "228":
                              forecast:
                                inputs:
                                  request:
                                    param: "172228"
                            "167":
                              forecast:
                                inputs:
                                  request:
                                    param: "167"
                    "*": {}
            "*": {}
        msmm/swmm:
          filter:param:
            "34/139/151/164/165/166/167/168/168/207/229/230":
              forecast:
                inputs:
                  derive_step:
                    type: monthly
            31/33/39/40/41/42/49/51/52/78/79/137/141/170/183/186/206/236/243/140220/140221/140229/140231/140232/140233/140244/140245/172008/172009/172142/172143/172144/172146/172147/172169/172175/172176/172177/172178/172179/172180/172181/172182/172189/172205/172212/172228/228008/228014:
              forecast:
                inputs:
                  derive_step:
                    type: monthly
                    by: 24
            129/130/133/138/155/203:
              forecast:
                inputs:
                  derive_step:
                    type: monthly
                    by: 12
    fcmin:
      filter:stream:
        enfo/waef/eefo/weef:
          filter:param:
            "31/33/34/39/49/78/79/121/122/136/137/139/141/151/151130/151131/151145/151148/151163/151164/151175/159/164/165/166/167/168/201/202/207/228246/228247/235117/237117/238117/239117":
              forecast:
                inputs:
                  derive_step:
                    type: default
            172142/172143/172144/172228:
              from_inputs: false
            40/41/42/170/140229/140231/140232/140233/140245/172008/172009/172146/172147/172169/172175/172176/172177/172178/172179/172180/172181/172182/172189/172205/172212:
              forecast:
                inputs:
                  derive_step:
                    type: default
                    by: 24
            1/2/3/60/129/130/131/132/133/138/155:
              forecast:
                inputs:
                  derive_step:
                    type: default
                    by: 12
        enfh/enwh/eefh/weeh:
          forecast:
            inputs:
              derive_step:
                type: default
        msmm/swmm:
          filter:param:
            "34/139/151/164/165/166/167/168/168/207/229/230":
              forecast:
                inputs:
                  derive_step:
                    type: monthly
            172142/172143/172144/172228:
              from_inputs: false
            31/33/39/40/41/42/49/51/52/78/79/137/141/170/183/186/206/236/243/140220/140221/140229/140231/140232/140233/140244/140245/172008/172009/172146/172147/172169/172175/172176/172177/172178/172179/172180/172181/172182/172189/172205/172212/228008/228014:
              forecast:
                inputs:
                  derive_step:
                    type: monthly
                    by: 24
            129/130/133/138/155/203:
              forecast:
                inputs:
                  derive_step:
                    type: monthly
                    by: 12
    efi/efic/sot:
      climatology:
        required: true
        inputs:
          request:
            type: cd
          derive_date:
            option: nearest
          derive_step:
            type: range
      filter:stream:
        "eefo/weef":
          filter:param:
            132044/132049/132059/132144/132045/132165/132167/132201/132202/132216/132228: {}
        "*":
          filter:param:
            "132044/132049/132059/132045/132165/132167/132201/132202/132216":
              forecast:
                inputs:
                  derive_step:
                    type: default
                    by: 6
            132228/132144:
              forecast:
                inputs:
                  derive_step:
                    type: default
                    deaccumulation: true
    taem/taes:
      filter:stream:
        eefo:
          filter:param:
            "*": {}
            171130/171139/171151/171167/173228:
              forecast:
                inputs:
                  derive_step:
                    type: default
                    precomputed: true
              climatology:
                inputs:
                  request:
                    type: taem
                  derive_date:
                    - option: nearest
                    - option: bracket
                      num: 2
                      strict: False
                  derive_step:
                    type: range
                required: true
            234167/234139/234151/234228:
              forecast:
                inputs:
                  derive_step:
                    type: default
                    precomputed: true
              climatology:
                inputs:
                  - request:
                      stream: eefh
                      type: fcmean
                    members:
                      start: 0
                      end: 10
                    derive_date:
                      - option: nearest
                      - option: bracket
                        num: 1
                        strict: False
                    derive_step:
                      type: range
                  - request:
                      type: taem
                    derive_date:
                      - option: nearest
                      - option: bracket
                        num: 1
                        strict: False
                    derive_step:
                      type: range
                required: true
        efhs/wehs/eehs:
          forecast:
            inputs:
              - request:
                  type: "fcmean"
                members:
                  start: 0
                  end: 0
                derive_step:
                  type: default
                  precomputed: true
                derive_hdate:
                  rstart: -20
                  rend: 0
                  recurrence: "yearly"
                  include_endpoint: false
              - request:
                  type: "fcmean"
                derive_step:
                  type: default
                  precomputed: true
                derive_hdate:
                  rstart: -20
                  rend: 0
                  recurrence: "yearly"
                  include_endpoint: false
    cd:
      filter:stream:
        efhs/eehs:
          from_inputs: false
          forecast:
            inputs:
              - request:
                  type: "fcmean"
                members:
                  start: 0
                  end: 0
                derive_step:
                  type: default
                  precomputed: true
              - request:
                  type: "fcmean"
                derive_step:
                  type: default
                  precomputed: true
          filter:steplength:
            "*":
              filter:stream:
                efhs:
                  forecast:
                    inputs:
                      derive_date:
                        - option: bracket
                          num: 4
                          strict: False
            "168":
              forecast:
                inputs:
                  derive_date:
                    - option: bracket
                      num: 2
                      strict: False
          filter:param:
            "228004":
              forecast:
                inputs:
                  request:
                    param: "167.128"
            "49":
              forecast:
                inputs:
                  request:
                    param: "123.128"
            "228005":
              forecast:
                inputs:
                  request:
                    param: "207.128"
            "201":
              forecast:
                inputs:
                  request:
                    param: "121.128"
            "202":
              forecast:
                inputs:
                  request:
                    param: "122.128"
            "162045":
              forecast:
                inputs:
                  request:
                    param: "71.162"
            "228006":
              forecast:
                inputs:
                  request:
                    param: "164.128"
            "228":
              forecast:
                inputs:
                  request:
                    param: "228.128"
            "144":
              forecast:
                inputs:
                  request:
                    param: "144.128"
            "59":
              forecast:
                inputs:
                  request:
                    param: "59.128"
            "228044":
              forecast:
                inputs:
                  request:
                    param: "44.228"
            "140249":
              forecast:
                inputs:
                  request:
                    param: "249.140"
        "wehs":
          from_inputs: false
          forecast:
            inputs:
              - request:
                  type: "fcmean"
                members:
                  start: 0
                  end: 0
                derive_step:
                  type: default
                  precomputed: true
              - request:
                  type: "fcmean"
                derive_step:
                  type: default
                  precomputed: true
          filter:steplength:
            "*":
              forecast:
                inputs:
                  derive_date:
                    - option: bracket
                      num: 4
                      strict: False
            "168":
              forecast:
                inputs:
                  derive_date:
                    - option: bracket
                      num: 2
                      strict: False
          filter:param:
            "140200":
              forecast:
                inputs:
                  request:
                    param: "229.140"
    em/es:
      filter:stream:
        enfo/waef: {}
        eefo/weef:
          filter:steplength:
            "168":
              forecast:
                inputs:
                  - request:
                      type: "fcmean"
                    members:
                      start: 0
                      end: 0
                    derive_step:
                      type: default
                      precomputed: true
                  - request:
                      type: "fcmean"
                    derive_step:
                      type: default
                      precomputed: true
            "0": {}
        efhs/eehs:
          filter:steptype:
            range:
              from_inputs: false
              forecast:
                inputs:
                  - request:
                      type: "fcmean"
                    members:
                      start: 0
                      end: 0
                    derive_step:
                      type: default
                      precomputed: true
                  - request:
                      type: "fcmean"
                    derive_step:
                      type: default
                      precomputed: true
              filter:steplength:
                "*":
                  filter:stream:
                    efhs:
                      forecast:
                        inputs:
                          derive_date:
                            - option: bracket
                              num: 4
                              strict: False
                "168":
                  forecast:
                    inputs:
                      derive_date:
                        - option: bracket
                          num: 2
                          strict: False
              filter:param:
                "228004":
                  forecast:
                    inputs:
                      request:
                        param: "167.128"
                "49":
                  forecast:
                    inputs:
                      request:
                        param: "123.128"
                "228005":
                  forecast:
                    inputs:
                      request:
                        param: "207.128"
                "201":
                  forecast:
                    inputs:
                      request:
                        param: "121.128"
                "202":
                  forecast:
                    inputs:
                      request:
                        param: "122.128"
                "162045":
                  forecast:
                    inputs:
                      request:
                        param: "71.162"
                "228006":
                  forecast:
                    inputs:
                      request:
                        param: "164.128"
                "228":
                  forecast:
                    inputs:
                      request:
                        param: "228.128"
                "144":
                  forecast:
                    inputs:
                      request:
                        param: "144.128"
                "59":
                  forecast:
                    inputs:
                      request:
                        param: "59.128"
                "228044":
                  forecast:
                    inputs:
                      request:
                        param: "44.228"
                "140249":
                  forecast:
                    inputs:
                      request:
                        param: "249.140"
            instantaneous:
              forecast:
                inputs:
                  derive_hdate:
                    rstart: -20
                    rend: 0
                    recurrence: "yearly"
                    include_endpoint: false
        "wehs":
          filter:steptype:
            range:
              from_inputs: false
              filter:param:
                "140200":
                  forecast:
                    inputs:
                      - request:
                          param: "229.140"
                          type: "fcmean"
                        members:
                          start: 0
                          end: 0
                        derive_step:
                          type: default
                          precomputed: true
                        derive_date:
                          - option: bracket
                            num: 4
                            strict: False
                      - request:
                          param: "229.140"
                          type: "fcmean"
                        derive_step:
                          type: default
                          precomputed: true
                        derive_date:
                          - option: bracket
                            num: 4
                            strict: False
            instantaneous:
              forecast:
                inputs:
                  derive_hdate:
                    rstart: -20
                    rend: 0
                    recurrence: "yearly"
                    include_endpoint: false
    fc/cf/pf/ep/pb/pfc: {}
