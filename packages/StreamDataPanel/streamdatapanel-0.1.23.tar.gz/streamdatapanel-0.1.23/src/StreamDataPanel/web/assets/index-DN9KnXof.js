import{r as l,j as a,R as Te,e as Ce}from"./vendor-react-HgYf5haI.js";import{r as re}from"./vendor-react-grid-layout-p1QaFhf8.js";import{u as _e,E as Le}from"./vendor-echarts-Dwmdrxdr.js";import{i as Ae,a as be}from"./vendor-echarts-gl-Dy9zB92n.js";import"./vendor-main-DSi3UDf9.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();const oe=new Set(["surface","radar","area","areas","pie"]),Ie="transparent",Y=2,Re=!1,ge=!0,Oe="#333",Ne=12,H="#999",we="dashed",Pe="#e0e0e0",M=!0,Ee="rgba(64, 158, 255, 0.2)",Q="#673ab7",je=16,De="23%",Me="3%",ke="3%",Fe="10%",Ue=!0,Be="axis",qe="cross",We="#6a7985",Xe="center",Ge=7,z=35,J=!1,ye=2,Ve="#409eff",se="category",ae="auto",ce="category",le="auto",ie="time",ue="auto",de="category",pe="auto",fe="shadow",He=!0,$e=!0,Ye=["40%","65%"],Ke="item",Ze="{b}: {c} ({d}%)",ze="item",Je=10,Qe="50%",et="60%",tt="70%",ot=0,nt=1,rt=2,te=2,st=100,at=100,ct=250,lt="value",it="value",ut="value",dt="continuous",pt="right",ft="center",mt=["High","Low"],ht=!0,gt=["#5470c6","#73c0de","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#d73027","#ee6666"],Et=!1,yt="color",v=(e,o)=>({progressive:500,progressiveThreshold:2e3,animationDurationUpdate:200,animationEasingUpdate:"linear",title:{text:e,left:Xe,textStyle:{fontSize:je,color:o?.["--primary-color"]||Q},top:Ge},tooltip:{trigger:Be,axisPointer:{type:qe,label:{backgroundColor:We}}},grid:{top:De,left:Me,right:ke,bottom:Fe,containLabel:Ue},backgroundColor:Ie}),xt=(e,o)=>{const n=o-e;if(n<=0)return .1;const t=n/5,r=[1e-4,.005,.01,.02,.05,.1,.2,.5,1,2,5,10,20,50,100];let s=1;for(let i=0;i<r.length;i++)if(r[i]>=t){s=r[i];break}return s},D=e=>{const o=e.length>0?Math.min(...e):0,n=e.length>0?Math.max(...e):1;return{type:"value",max:t=>parseFloat((t.max+.01).toFixed(Y)),min:t=>parseFloat((t.min-.01).toFixed(Y)),interval:parseFloat((e.length>0?xt(o,n):1).toFixed(Y)),axisLabel:{hideOverlap:M,formatter:t=>t.toFixed(Y)},axisLine:{lineStyle:{color:H}},splitLine:{lineStyle:{color:Pe,type:we}}}},U=(e,o,n)=>{const t={name:o,type:e};return["line","sequence","lines","sequences"].includes(e)?{...t,smooth:ge,showSymbol:Re,lineStyle:{width:ye},areaStyle:{color:Ee},data:n}:e==="bar"?{...t,data:n}:e==="scatter"?{...t,data:n,symbolSize:Je}:t},vt={sequence:(e,o,n)=>({...v(o,n),xAxis:{type:ie,axisLine:{lineStyle:{color:H}},axisLabel:{interval:ue,hideOverlap:M}},yAxis:D(e.map(t=>t.value)),series:[U("line","Sequence Value",e.map(t=>({id:t.id,value:[t.index,t.value]})))]}),line:(e,o,n)=>({...v(o,n),xAxis:{type:se,axisLine:{lineStyle:{color:H}},axisLabel:{interval:ae,hideOverlap:M}},yAxis:D(e.map(t=>t.value)),series:[U("line","Line Value",e.map(t=>[t.index,t.value]))]}),bar:(e,o,n)=>({...v(o,n),tooltip:{...v(o).tooltip,axisPointer:{type:fe}},xAxis:{type:de,data:e.map(t=>({id:t.id,value:t.index})),axisLabel:{interval:pe,hideOverlap:M}},yAxis:D(e.map(t=>t.value)),series:[U("bar","Bar Value",e.map(t=>({id:t.id,value:t.value})))]}),pie:(e,o,n)=>({title:v(o,n).title,tooltip:{trigger:Ke,formatter:Ze},series:[{name:"Pie Value",type:"pie",radius:Ye,avoidLabelOverlap:M,label:{show:He,position:"outside",formatter:"{b}"},labelLine:{show:$e},data:e.value[0].map((t,r)=>({id:t,value:e.value[1][r],name:t}))}]}),scatter:(e,o,n)=>({...v(o,n),tooltip:{trigger:ze,formatter:t=>`(${t.value[0].toFixed(Y)}, ${t.value[1].toFixed(Y)})`},xAxis:D(e.map(t=>t.value)),yAxis:D(e.map(t=>t.value)),series:[U("scatter","Scatter Value",e.map(t=>({id:t.id,value:t.value})))]}),radar:(e,o,n)=>({title:v(o,n).title,animationDurationUpdate:10,radar:{indicator:e.value[0].map((t,r)=>({name:t,max:e.value[1][r]})),center:[Qe,et],radius:tt,axisName:{color:Oe,textStyle:{fontSize:Ne}}},series:[{name:"Radar Value",type:"radar",data:[{value:e.value[2],name:"Data"}],lineStyle:{width:ye,color:Ve},areaStyle:{color:Ee}}]}),sequences:(e,o,n)=>({...v(o,n),tooltip:{...v(o).tooltip},legend:{data:Object.keys(e[0].value),top:z,selectedMode:J},xAxis:{type:ie,axisLine:{lineStyle:{color:H}},axisLabel:{interval:ue,hideOverlap:M}},yAxis:D(e.flatMap(t=>Object.values(t.value))),series:Object.keys(e[0].value).map(t=>U("line",t,e.map(r=>({id:r.id,value:[r.index,r.value[t]]}))))}),lines:(e,o,n)=>({...v(o,n),tooltip:{...v(o).tooltip},legend:{data:Object.keys(e[0].value),top:z,selectedMode:J},xAxis:{type:se,data:e.map(t=>t.index),axisLine:{lineStyle:{color:H}},axisLabel:{interval:ae,hideOverlap:M}},yAxis:D(e.flatMap(t=>Object.values(t.value))),series:Object.keys(e[0].value).map(t=>U("line",t,e.map(r=>[r.index,r.value[t]])))}),bars:(e,o,n)=>({...v(o,n),tooltip:{...v(o).tooltip,axisPointer:{type:fe}},legend:{data:Object.keys(e[0].value),top:z,selectedMode:J},xAxis:{type:de,data:e.map(t=>t.index),axisLabel:{interval:pe,hideOverlap:M}},yAxis:D(e.flatMap(t=>Object.values(t.value))),series:Object.keys(e[0].value).map(t=>U("bar",t,e.map(r=>r.value[t])))}),area:(e,o,n)=>({...v(o,n),xAxis:{type:ce,axisLine:{lineStyle:{color:H}},axisLabel:{interval:le,hideOverlap:M}},yAxis:D(e.value[1]),series:[U("line","Area Value",e.value[0].map((t,r)=>[t,e.value[1][r]]))]}),areas:(e,o,n)=>({...v(o,n),tooltip:{...v(o).tooltip},legend:{data:e.value[1],top:z,selectedMode:J},xAxis:{type:ce,data:e.value[0],axisLine:{lineStyle:{color:H}},axisLabel:{interval:le,hideOverlap:M}},yAxis:D(e.value[2].flat()),series:e.value[1].map((t,r)=>U("line",t,e.value[2][r].map((s,i)=>[e.value[0][i],s])))}),surface:(e,o,n)=>({...v(o,n),xAxis3D:{name:e.value[0][ot],nameTextStyle:{color:n?.["--primary-color"]||Q},type:lt},yAxis3D:{name:e.value[0][nt],nameTextStyle:{color:n?.["--primary-color"]||Q},type:it},zAxis3D:{name:e.value[0][rt],nameTextStyle:{color:n?.["--primary-color"]||Q},type:ut},grid3D:{boxWidth:st,boxDepth:at,viewControl:{distance:ct}},visualMap:{type:dt,left:pt,top:ft,dimension:te,min:Math.min(...e.value[2].map(t=>t[te])),max:Math.max(...e.value[2].map(t=>t[te])),text:mt,calculable:ht,inRange:{color:gt}},series:[{type:"surface",name:"Surface Value",dataShape:e.value[1],data:e.value[2],wireframe:{show:Et},surface:{smooth:ge},shading:yt}]})},me={grape:{"--primary-color":"#673ab7","--secondary-color":"#6c757d","--background-color":"#673ab7","--text-color":"#eeeeee","--primary-color-hover":"rgba(81, 45, 168, 1)"},apple:{"--primary-color":"#8eb73a","--secondary-color":"#6c757d","--background-color":"#8eb73a","--text-color":"#eeeeee","--primary-color-hover":"rgba(105, 153, 7, 1)"},sky:{"--primary-color":"#2196f3","--secondary-color":"#757575","--background-color":"#2196f3","--text-color":"#eeeeee","--primary-color-hover":"rgba(33, 150, 243, 0.8)"},coffee:{"--primary-color":"#5D4037","--secondary-color":"#A1887F","--background-color":"#4E342E","--text-color":"#FBEFF4","--primary-color-hover":"rgba(121, 85, 72, 0.8)"},night:{"--primary-color":"#37474F","--secondary-color":"#90A4AE","--background-color":"#263238","--text-color":"#CFD8DC","--primary-color-hover":"rgba(84, 110, 122, 0.8)"},moss:{"--primary-color":"#556B2F","--secondary-color":"#A4B48A","--background-color":"#495638","--text-color":"#E8F5E9","--primary-color-hover":"rgba(55, 71, 79, 0.8)"},sunset:{"--primary-color":"#BF360C","--secondary-color":"#FFAB91","--background-color":"#A61C00","--text-color":"#FBE9E7","--primary-color-hover":"rgba(216, 67, 21, 0.8)"},lake:{"--primary-color":"#006064","--secondary-color":"#80CBC4","--background-color":"#004D40","--text-color":"#E0F7FA","--primary-color-hover":"rgba(0, 131, 143, 0.8)"}},xe=l.createContext(),St=({children:e})=>{const[o,n]=l.useState("grape"),t=me[o];l.useEffect(()=>{for(const s in t)document.documentElement.style.setProperty(s,t[s])},[t]);const r=s=>{n(s)};return a.jsx(xe.Provider,{value:{theme:t,changeTheme:r,allThemes:me,currentThemeName:o},children:e})},ee=()=>l.useContext(xe);_e([Ae,be]);const Tt=(e,o,n,t)=>{const r=n||[];if(r.length===0)return{};const s=vt[e.toLowerCase()];return s?s(r,o,t):{}},Ct=({chartType:e,title:o,data:n,setInstance:t})=>{const{theme:r}=ee(),s=Tt(e,o,n,r),i=d=>{t&&t(d)};return Te.useEffect(()=>()=>{t&&t(null)},[t]),a.jsx(Le,{option:s,style:{height:"100%",width:"100%"},onChartReady:i})};let Z={WEB_SOCKET:"ws://localhost:9005/ws",TITLE:"Real-Time Data Panel",CHART_TYPE:"ChartType",KEY_WORD:"KeyWord",SUBSCRIBE:"SUBSCRIBE",FAILED:"FAILED",SUCCESS:"SUCCESS"};async function _t(){if(typeof eel>"u")return console.warn("Eel object not found. Using default/placeholder configuration."),Z;try{return Z=await eel.get_initial_config()(),console.log("Configuration loaded from Python successfully."),Z}catch(e){return console.error("Failed to load configuration from Python:",e),Z}}function $(){return Z}const Lt=()=>$().WEB_SOCKET,At=()=>$().TITLE,bt=()=>$().CHART_TYPE,It=()=>$().KEY_WORD,Rt=()=>$().SUBSCRIBE,Ot=()=>$().FAILED,Nt=()=>$().SUCCESS,ve=l.createContext(null),Se=()=>{const e=l.useContext(ve);if(!e)throw new Error("useConfigContext must be used within a ConfigProvider");return e},wt=({children:e,exportLayout:o,importLayout:n,triggerImport:t,importInputRef:r,isImporting:s,panelTitle:i,setPanelTitle:d})=>{const p={exportLayout:o,importLayout:n,triggerImport:t,importInputRef:r,isImporting:s,panelTitle:i,setPanelTitle:d};return a.jsx(ve.Provider,{value:p,children:e})},Pt=e=>!e||typeof e.timestamp>"u"||typeof e.value>"u"?(console.error("Invalid data format received:",e),null):{id:e.id||`data-${Date.now()}-${pointIndex}`,index:e.timestamp,value:e.value},he=e=>e.trim().toLowerCase(),jt=(e,o,n,t,r)=>{l.useEffect(()=>()=>{clearTimeout(n.current),clearTimeout(o.current),e.current.forEach(s=>{s.readyState===WebSocket.OPEN&&s.close()}),t.current.clear(),r.current.clear()},[e,o,n,t,r])},Dt=(e,o)=>{const[n,t]=l.useState([]),[r,s]=l.useState({lg:[],md:[],sm:[],xs:[],xxs:[]}),[i,d]=l.useState(""),[p,h]=l.useState(""),[T,f]=l.useState("idle"),[C,b]=l.useState(0),_=l.useRef(new Map),S=l.useRef(new Map),w=l.useRef(new Map),P=l.useRef(null),R=l.useRef(!1),k=l.useRef(null),L=l.useRef(o);l.useEffect(()=>{L.current=o},[o]);const A=l.useCallback((c,g)=>{g?w.current.set(c,g):w.current.delete(c)},[]),I=l.useCallback(()=>{R.current||(R.current=!0,k.current=setTimeout(()=>{b(c=>c+1),R.current=!1},150))},[]);jt(_,k,P,w,S);const N=l.useCallback(c=>{e||(f(c),c!=="connecting"&&(clearTimeout(P.current),P.current=setTimeout(()=>f("idle"),1e3)))},[e]),j=l.useCallback((c,g,m)=>{const E=oe;return{onMessage:W=>u=>{const y=JSON.parse(u.data);if(y.status)if(y.status==="success"){const O={id:c,chartType:g,keyWord:m};S.current.set(c,[]),_.current.set(c,W),t(G=>{const V=[...G,O];return e||(s(x=>{const K={...x};for(const ne in K)K[ne]=[...K[ne],{i:c,x:0,y:1/0,w:6,h:3}];return K}),N("success")),V})}else y.status==="failure"&&(N("failure"),W.close());else{const O=Pt(y);if(O){const G=S.current.get(c);if(G&&!(L.current[c]==="on")){let x;E.has(g)?x=O:(x=[...G,O],x.length>100&&x.shift()),S.current.set(c,x),I()}}}},onError:(W,u)=>{console.error(`[WS Error] ID: ${c}`,W),_.current.delete(c),n.find(y=>y.id===c)||N("failure")},onclose:()=>{console.log(`[WS Close] ID: ${c}`)}}},[e,N,I,L,n]),B=l.useCallback((c=i,g=p)=>new Promise((m,E)=>{const F=he(c.trim()),q=he(g.trim());if(!F||!q){N("failure"),E(new Error("Chart type or keyword cannot be empty."));return}const W=crypto.randomUUID(),u=new WebSocket(Lt());e||f("connecting");const{onMessage:y,onError:O,onclose:G}=j(W,F,q);u.onopen=()=>{const x={chart_type:F,key_word:q};u.send(JSON.stringify(x))};const V=y(u);u.onmessage=x=>{V(x),JSON.parse(x.data).status==="success"&&m(W)},u.onclose=G,u.onerror=x=>O(x,u)}),[i,p,e,j,N]),X=l.useCallback(c=>{const g=_.current.get(c);g&&(g.readyState===WebSocket.OPEN&&g.close(),_.current.delete(c)),w.current.delete(c),S.current.delete(c),t(m=>m.filter(E=>E.id!==c)),s(m=>{const E={};for(const F in m)E[F]=m[F].filter(q=>q.i!==c);return E})},[]);return{charts:n,setCharts:t,layouts:r,setLayouts:s,chartTypeInput:i,setChartTypeInput:d,keyWordInput:p,setKeyWordInput:h,subscriptionStatus:T,chartData:S,chartRefs:w,addChart:B,removeChart:X,setChartInstance:A}},Mt=({panelTitle:e,setPanelTitle:o,currentThemeName:n,allThemes:t,changeTheme:r,charts:s,layouts:i,setLayouts:d,addChart:p,removeChart:h,chartRefs:T,setIsImporting:f,isImporting:C})=>{const b=l.useRef(null),_=l.useCallback(()=>{b.current&&!C&&b.current.click()},[C]),S=l.useCallback(()=>{const P={title:e,themeName:n,charts:s.map(I=>({chartType:I.chartType,keyWord:I.keyWord})),layouts:i},R=JSON.stringify(P,null,2),k=new Blob([R],{type:"application/json"}),L=URL.createObjectURL(k),A=document.createElement("a");A.href=L,A.download=`panel_layout_${new Date().toISOString().slice(0,19).replace("T","_")}.json`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(L)},[e,n,s,i]),w=l.useCallback(async P=>{const R=P.target.files[0];if(!R)return;const k=new FileReader;k.onload=async L=>{f(!0);const A=[];try{const I=JSON.parse(L.target.result),{title:N,themeName:j,charts:B,layouts:X}=I;if(N&&o(N),j&&t[j]?r(j):j&&console.warn(`Theme "${j}" not found. Keeping current theme.`),!B||!X)throw new Error("Invalid file format. Missing charts or layouts.");s.forEach(c=>h(c.id)),d({lg:[],md:[],sm:[],xs:[],xxs:[]}),await new Promise(c=>setTimeout(c,0));for(let c=0;c<B.length;c++){const g=B[c];try{const m=await p(g.chartType,g.keyWord);A.push({oldI:X.lg[c]?.i||`temp-old-id-${c}`,newI:m})}catch(m){console.error(`Failed to subscribe to chart ${g.keyWord}:`,m)}}if(await new Promise(c=>setTimeout(c,300)),A.length>0){const c={...X},g=new Map(A.map(m=>[m.oldI,m.newI]));for(const m in c)c[m]&&(c[m]=c[m].filter(E=>g.has(E.i)).map(E=>({...E,i:g.get(E.i)})));d(c),await new Promise(m=>setTimeout(m,50)),T.current.forEach(m=>{try{m.resize()}catch(E){console.error("ECharts resize failed:",E)}}),console.log("Panel layout imported, positioned, and charts resized successfully.")}else console.log("No charts were successfully imported/subscribed.")}catch(I){console.error("Error importing layout file:",I),alert("Import layout file failed: "+I.message)}finally{f(!1),P.target.value=null}},k.readAsText(R)},[s,h,d,p,o,r,t,T,f]);return{importInputRef:b,triggerImport:_,exportLayout:S,importLayout:w}},kt=re.WidthProvider(re.Responsive),Ft=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),Ut=(e,o,n,t)=>{l.useEffect(()=>{const r=n.current,s=t.current;e.forEach(d=>{const p=d.id,h=oe.has(d.chartType),T=s.has(p);if(!T&&h){const f=r.get(p);if(f){const C=f.getDom(),b=_=>{_.stopPropagation(),o(p)};C.addEventListener("dblclick",b),s.set(p,{domElement:C,handler:b})}}if(T&&!h){const f=s.get(p);f.domElement.removeEventListener("dblclick",f.handler),s.delete(p)}});const i=new Set(e.map(d=>d.id));s.forEach((d,p)=>{i.has(p)||(d.domElement.removeEventListener("dblclick",d.handler),s.delete(p))})},[e,o,n,t])},Bt=(e,o)=>{l.useEffect(()=>{Object.entries(e).forEach(([n,t])=>{if(t==="on"){const r=o.current.get(n);r&&r.resize()}})},[e,o])},qt=({children:e})=>{const{theme:o,changeTheme:n,allThemes:t,currentThemeName:r}=ee(),[s,i]=l.useState(At()),[d,p]=l.useState(!1),[h,T]=l.useState({}),{charts:f,layouts:C,setLayouts:b,chartTypeInput:_,setChartTypeInput:S,keyWordInput:w,setKeyWordInput:P,subscriptionStatus:R,chartData:k,chartRefs:L,addChart:A,removeChart:I,setChartInstance:N}=Dt(d,h),j=l.useRef(new Map),B=l.useCallback((u,y)=>{T(O=>{const V=(O[u]==="on"?"on":"off")==="on"?"off":"on";console.log(`[Chart DoubleClick] ID: ${u}, State: ${V}, Type: ${y.chartType}`);const x=L.current.get(u);return x&&setTimeout(()=>x.resize(),0),{...O,[u]:V}})},[L]),X=l.useCallback(u=>{const y=f.find(O=>O.id===u);!y||!oe.has(y.chartType)||B(u,y)},[f,B]);Ut(f,X,L,j),Bt(h,L);const{importInputRef:c,triggerImport:g,exportLayout:m,importLayout:E}=Mt({panelTitle:s,setPanelTitle:i,currentThemeName:r,allThemes:t,changeTheme:n,charts:f,layouts:C,setLayouts:b,addChart:A,removeChart:I,chartRefs:L,setIsImporting:p,isImporting:d}),F=()=>a.jsxs("div",{className:"controls",children:[a.jsxs("div",{className:"underline-input-group",children:[a.jsxs("div",{className:"underline-input-wrapper",children:[a.jsx("input",{id:"ChartType",type:"text",className:"underline-input",placeholder:"",value:_,onChange:u=>S(u.target.value)}),a.jsx("label",{className:"underline-label",htmlFor:"ChartType",children:bt()})]}),a.jsxs("div",{className:"underline-input-wrapper",children:[a.jsx("input",{id:"KeyWord",type:"text",className:"underline-input",placeholder:"",value:w,onChange:u=>P(u.target.value)}),a.jsx("label",{className:"underline-label",htmlFor:"KeyWord",children:It()})]})]}),a.jsx("div",{className:"underline-button-group",children:a.jsx("button",{className:`underline-button ${R}`,onClick:()=>A(_,w),disabled:d,children:d?"IMPORTING...":R==="success"?Nt():R==="failure"?Ot():Rt()})})]}),q=()=>a.jsx(kt,{className:"layout",layouts:C,breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},rowHeight:100,margin:[20,20],onLayoutChange:(u,y)=>b(y),draggableHandle:".chart-drag-handle",children:f.map(u=>a.jsxs("div",{className:`chart-item ${h[u.id]==="on"?"chart-item-zoomed":""}`,children:[a.jsx("div",{className:"chart-drag-handle",children:"..."}),a.jsx("div",{className:"chart-content",children:a.jsx(Ct,{chartType:u.chartType,title:Ft(`${u.keyWord}`),data:k.current.get(u.id)||[],setInstance:y=>N(u.id,y)})}),a.jsx("button",{onClick:()=>I(u.id),className:"remove-button",children:"×"})]},u.id))});return a.jsxs(wt,{exportLayout:m,importLayout:E,triggerImport:g,importInputRef:c,isImporting:d,panelTitle:s,setPanelTitle:i,children:[e,a.jsx("input",{type:"file",id:"import-layout",ref:c,className:"import-file",accept:".json",onChange:E,disabled:d,style:{display:"none"}}),a.jsxs("div",{className:"panel",children:[F(),a.jsx("div",{className:"grid-container",children:q()})]})]})},Wt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23e3e3e3'%3e%3cpath%20d='M480-480Zm-400%200q0-88%2034-163t93-130q59-55%20136-83.5T508-879q17%202%2027%2014.5t7%2029.5q-3%2017-16.5%2027t-30.5%209q-69-3-129.5%2019.5T259-713q-46%2044-72.5%20103.5T160-480q0%20134%2093%20227t227%2093q69%200%20128.5-26.5T712-259q46-48%2068-109t19-127q-1-17%209-30.5t27-16.5q17-3%2029.5%207t14.5%2027q6%2087-22.5%20164T774-208q-57%2062-133%2095T480-80q-83%200-156-31.5T197-197q-54-54-85.5-127T80-480Zm640-120q-50%200-85-35t-35-85q0-50%2035-85t85-35q50%200%2085%2035t35%2085q0%2050-35%2085t-85%2035Z'/%3e%3c/svg%3e",Xt=()=>{const{theme:e,changeTheme:o,allThemes:n}=ee(),[t,r]=l.useState(!1),s=l.useRef(null),i=l.useRef(null),d=()=>r(!0),p=()=>r(!1);return l.useEffect(()=>{const h=s.current;if(!h)return;const T=f=>{f.preventDefault();const C=i.current;C&&(C.scrollLeft+=f.deltaY*.4+f.deltaX)};return h.addEventListener("wheel",T,{passive:!1}),()=>{h.removeEventListener("wheel",T)}},[]),a.jsxs("div",{ref:s,className:`control-icon-container theme-selector-container ${t?"open":""}`,onMouseEnter:d,onMouseLeave:p,children:[a.jsx("button",{className:"control-icon-button theme-toggle-button",style:{backgroundColor:e?.["--primary-color"],color:e?.["--text-color"]},children:a.jsx("img",{src:Wt,alt:"T",className:"control-icon-svg theme-icon-svg"})}),a.jsx("div",{ref:i,className:`theme-list ${t?"open":""}`,children:Object.keys(n).map(h=>a.jsx("button",{className:"theme-select-button",onClick:()=>o(h),style:{backgroundColor:n[h]?.["--primary-color"],color:n[h]?.["--text-color"],borderColor:e===n[h]?"#fff":"transparent"},children:h},h))})]})},Gt=()=>{const{panelTitle:e,setPanelTitle:o}=Se(),[n,t]=l.useState(!1),r=()=>{t(!0)},s=p=>{o(p.target.value)},i=()=>{t(!1)},d=p=>{p.key==="Enter"&&t(!1)};return a.jsx("header",{className:"header-title",children:n?a.jsx("input",{id:"header-input",className:"header-input",type:"text",value:e,onChange:s,onBlur:i,onKeyDown:d,autoFocus:!0}):a.jsx("h1",{className:"header-h1",onDoubleClick:r,children:e||"Input New Title"})})},Vt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23e3e3e3'%3e%3cpath%20d='M480-320%20280-520l56-58%20104%20104v-326h80v326l104-104%2056%2058-200%20200ZM240-160q-33%200-56.5-23.5T160-240v-120h80v120h480v-120h80v120q0%2033-23.5%2056.5T720-160H240Z'/%3e%3c/svg%3e",Ht="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23e3e3e3'%3e%3cpath%20d='M240-400q-33%200-56.5-23.5T160-480q0-33%2023.5-56.5T240-560q33%200%2056.5%2023.5T320-480q0%2033-23.5%2056.5T240-400Zm240%200q-33%200-56.5-23.5T400-480q0-33%2023.5-56.5T480-560q33%200%2056.5%2023.5T560-480q0%2033-23.5%2056.5T480-400Zm240%200q-33%200-56.5-23.5T640-480q0-33%2023.5-56.5T720-560q33%200%2056.5%2023.5T800-480q0%2033-23.5%2056.5T720-400Z'/%3e%3c/svg%3e",$t="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23e3e3e3'%3e%3cpath%20d='M440-320v-326L336-542l-56-58%20200-200%20200%20200-56%2058-104-104v326h-80ZM240-160q-33%200-56.5-23.5T160-240v-120h80v120h480v-120h80v120q0%2033-23.5%2056.5T720-160H240Z'/%3e%3c/svg%3e",Yt=()=>{const{theme:e,changeTheme:o,allThemes:n}=ee(),[t,r]=l.useState(!1),[s,i]=l.useState(!1),d=()=>r(!0),p=()=>r(!1),h=()=>i(!0),T=()=>i(!1),{exportLayout:f,importLayout:C,triggerImport:b,importInputRef:_,isImporting:S}=Se();return a.jsxs("div",{className:"control-icon-group config-io-group",children:[a.jsx("div",{className:`control-icon-container config-io-container ${t?"open":""}`,onMouseEnter:d,onMouseLeave:p,children:a.jsx("button",{className:`control-icon-button config-io-button ${t?"open":""}`,onClick:f,disabled:S,children:a.jsx("img",{src:Vt,alt:"S",className:"control-icon-svg config-icon-svg download"})})}),a.jsxs("div",{className:`control-icon-container config-io-container ${s?"open":""}`,onMouseEnter:h,onMouseLeave:T,children:[a.jsx("button",{className:`control-icon-button config-io-button ${s?"open":""}`,onClick:b,disabled:S,children:S?a.jsx("img",{src:Ht,alt:":",className:"control-icon-svg config-icon-svg import"}):a.jsx("img",{src:$t,alt:"L",className:"control-icon-svg config-icon-svg upload"})}),a.jsx("input",{type:"file",id:"import-layout",ref:_,className:"import-file",accept:".json",onChange:C,style:{display:"none"},disabled:S})]})]})},Kt=()=>a.jsxs("div",{className:"header-row",children:[a.jsx(Xt,{}),a.jsx(Gt,{}),a.jsx(Yt,{})]});function Zt(){const[e,o]=l.useState(!0);return l.useEffect(()=>{_t().then(()=>{o(!1)})},[]),e?a.jsx("div",{children:"Loading Application Configuration... Please wait."}):a.jsx(St,{children:a.jsx("div",{className:"app",children:a.jsx(qt,{children:a.jsx(Kt,{})})})})}Ce.createRoot(document.getElementById("root")).render(a.jsx(l.StrictMode,{children:a.jsx(Zt,{})}));
