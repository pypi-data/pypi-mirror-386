users:
  path: auth/users
  desc: 用户
  methods:
    list:
      path: auth/users
      default_fields:
      - name: username
        alias: 用户名
      - name: userType
        alias: 用户类型
      - name: roles
        alias: 角色
      - name: status
        alias: 状态
      - name: phone
        alias: 手机号
      - name: mail
        alias: 邮箱
        convert:
          function: format_json
          args:
            - indent: 2
      - name: pwdExpireTime
        alias: 密码过期时间
      - name: wechat
        alias: 微信
        convert:
          function: format_json
          args:
            - indent: 2
      - name: dingDing
        alias: 钉钉
        convert:
          function: format_json
          args:
            - indent: 2
      - name: createTime
        alias: 创建时间
        convert:
          function: format_timestamp
          args:
            - format: '%Y-%m-%d %H:%M:%S'
            - tz: '+08:00'
      - name: updateTime
        alias: 更新时间
        convert:
          function: format_timestamp
          args:
            - format: '%Y-%m-%d %H:%M:%S'
            - tz: '+08:00'
    create:
      path: auth/user
      method: post
      data:
        username: '{{ name|default(faker.name())|replace('' '', ''_'') }}'
        password: '{{ password|default(''12345678'') }}'
        loginLimit: false
        expireDays: '5'
        noticeTypes: []
        nickname: ''
        phone: '{{ phone|default(faker_zh.phone_number()) }}'
        roles:
        - '{{ role |default(''general_user'')}}'
        mail:
          email: '{{ email |default(faker.email())}}'
          smtpServer: ''
        wechat:
          wechatAppId: ''
          type: member
          chatid: ''
          userid: ''
          partyid: ''
          tagid: ''
        dingDing:
          dingDingAppid: ''
          type: member
          chatid: ''
          userIdList: ''
          deptIdList: ''
        groupIds: []
    delete:
      path: auth/user/{{ name }}
      method: delete
roles:
  path: auth/roles
  desc: 角色
  methods:
    list: 
      path: auth/roles
      method: get
      default_fields:
      - name: name
        alias: 名称
      - name: desc
        alias: 描述
      - name: usernames
        alias: 关联用户
      - name: type
        alias: 类型
      - name: expireTime
        alias: 过期时间
        convert:
          function: format_timestamp
          args:
            - format: '%Y-%m-%d %H:%M:%S'
            - tz: '+08:00'

