<!--
    SPDX-License-Identifier: AGPL-3.0-or-later
    Copyright (C) 2023-2024 Andrew Rechnitzer
    Copyright (C) 2024 Colin B. Macdonald
-->
{% extends "base/base.html" %}
{% block title %}
    Bundle is locked
{% endblock title %}
{% block page_heading %}
    Bundle is locked
    <a class="btn btn-success" href="{% url 'scan_overview' %}">
        <i class="bi bi-chevron-left"></i>
        Return to overview
    </a>
{% endblock page_heading %}
{% block main_content %}
    <div class="card w-75">
        <div class="card-body">
            <div class="card-text">
                <div class="alert alert-warning">
                    <p>
                        If you are here then it is because the
                        bundle <q>{{ slug }}</q> is locked, or already
                        pushed, or in some other condition that prevents
                        the operation you were trying to perform.
                        In most cases there will be a more-specific error
                        message below.
                    </p>
                    <p>
                        Note that
                        <ul>
                            <li>Only one bundle can be pushed at a given time.</li>
                            <li>
                                You may not change a bundle when it is mid-push;
                                another user may have pushed the bundle while
                                you were trying to alter things.
                            </li>
                            <li>
                                Many operations cannot be performed while bundles
                                are in the process of uploading, processing pages,
                                or reading QR codes.
                            </li>
                        </ul>
                    </p>
                    <p class="mb-0">
                        Please return to the main scanning overview page;
                        you may be able to re-try your operation in a moment.
                    </p>
                </div>
                <h4>Error messages (if available)</h4>
                <div class="card-text">
                    <ul>
                        {% for msg in reasons %}<li>{{ msg }}</li>{% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div>
{% endblock main_content %}
