{%- set context = notification.context -%}
{%- set publisher = context.publisher -%}
{%- set draft = context.draft -%}
{%- set deposit_form_url = context.deposit_form_url -%}
{%- set receiver = recipient.data -%}
{%- set account_settings_link = invenio_url_for("invenio_notifications_settings.index") %}

{#- Subject line for emails #}
{%- block subject -%}
    {{ context.subject }}
{%- endblock subject %}

{#- HTML body for emails #}
{%- block html_body -%}
<p>
    Hey, {{ receiver.profile.given_name or receiver.profile.full_name or receiver.username }}!
</p>
<p>
    <strong>Reminder:</strong>
    Your record "{{ draft.metadata.title }}" has been reviewed and is ready for publication.<br />
    You can publish it on the <a href="{{ deposit_form_url }}">deposit form</a>.
</p>
<hr />
<p style="font-size:smaller;">
    {%- trans account_settings_link=account_settings_link -%}
    This is an auto-generated message. To manage notifications, visit your <a href="{{ account_settings_link }}">account settings</a>.
    {%- endtrans -%}
</p>
{%- endblock html_body -%}

{#- Plaintext body for emails #}
{%- block plain_body -%}
Hey, {{ receiver.profile.given_name or receiver.profile.full_name or receiver.username }}!

*Reminder* - Your record "{{ draft.metadata.title }}" has been reviewed and is ready for publication.
You can publish it on the deposit form: {{ deposit_form_url }}

{%+ trans account_settings_link=account_settings_link -%}
This is an auto-generated message. To manage notifications, visit your account settings: {{ account_settings_link }}
{%- endtrans -%}
{%- endblock plain_body -%}

{#- Markdown body for chat #}
{%- block md_body -%}
Hey, {{ receiver.profile.given_name or receiver.profile.full_name or receiver.username }}!

**Reminder:** Your record "{{ draft.metadata.title }}" has been reviewed and is ready for publication.
You can publish it on the deposit form: [{{ deposit_form_url }}]({{ deposit_form_url }})

{%+ trans account_settings_link=account_settings_link -%}
This is an auto-generated message. To manage notifications, visit your [account settings]({{ account_settings_link }}).
{%- endtrans -%}
{%- endblock md_body -%}
