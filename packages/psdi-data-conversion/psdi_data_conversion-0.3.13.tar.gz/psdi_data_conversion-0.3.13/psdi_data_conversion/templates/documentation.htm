{% extends "parent/layout.htm" %}

{% block page_title %}
Documentation - {{ super() }}
{% endblock %}

{% block head %}
{{ super() }}
<script type="module" src="{{url_for('static', filename='javascript/accessibility.js')}}"></script>
{% endblock %}

{% block hero_title %}Documentation{% endblock %}

{% block gui_content %}
<form name="gui">
  <div class="max-width-box">
    <p> Your one-stop shop for file format conversion, PSDI's Data Conversion Service enables users to seamlessly
      convert between different file formats and assess the quality of proposed conversions. This is the
      {% if service_mode %}web{% else %}local GUI{% endif %} version of our service. To find out more about Data
      Conversion and our other tools, click
      <a href="https://resources.psdi.ac.uk/service/8334f94b-1c6e-4034-a5ab-71c6df375cba" id="more"
        target="_blank">here.</a>
    </p><br>
    <h3>Format and Converter Selection</h3>
    <h6>Select formats for conversion</h6>
    <p>Select "from" and "to" file formats in the "Convert from/to" boxes, in either order. Typing where indicated
      filters the options (case insensitive); for example, typing "can" or "NON" reduces the number of options to one:
      "can: Canonical SMILES."
    </p>
    <p>When converting multiple files with, say, extension cif within an archive (e.g., .zip), select "cif:
      Crystallographic Information File." Conversion of archives of files is enabled only for logged-in users, and
      archives of types .tar, .tar.gz, .tar.xz, and .tar.bz are supported.
    </p>
    <p>If you change your mind about a conversion, click the "Reset" button.
    </p>
    <p>When both formats have been selected, converters able to carry out this conversion appear in the
      "Conversion options" box along with an indication of conversion quality (many conversions not yet
      tested) and whether or not the converter is supported on this site.
    </p>
    <h6>Select a converter</h6>
    <p>Selecting a converter displays information
      about it, along with a link to a relevant website. Selecting a supported converter affords the opportunity to
      carry out a conversion on this site. Clicking on the "Yes" button takes us to the "Conversion" page.
      If a file format has not been found, or if there are no converters capable of carrying out a required
      conversion, please click on "Report Missing Format/Conversion" in the navigation bar.
    </p><br>
    <h3>Conversion</h3>
    <h4>Open Babel</h4>
    <h6>Select flags and options for the file formats</h6>
    <p>One or more input or output flags may be selected if required (hold command [Mac] or CTRL [Windows]
      to select multiple options; and use command+click [Mac] or CTRL+click [Windows] to unselect an option).
      To undo all selections in a box, click just underneath the final option. Ticking a check box reveals a
      text box for entry of required information, along with further explanation if available.
    </p>
    <p>Zero to two option flag select boxes and zero to two sets of option flag check boxes may be displayed,
      depending on the conversion and the degree of completion of the database. Further information may be displayed
      underneath the select boxes if available.</p>
    <h6>Select coordinate generation mode</h6>
    <p>If 2- or 3-dimensional atomic coordinates need to be calculated (e.g., if they do not already exist in the
      input file), select "2D" or "3D" and a speed/accuracy option ("fastest" is least accurate).
      Note that this calculation is not appropriate for all file formats, so in these cases selections will be
      ignored.
    </p>
    <h6>Upload the file and run the conversion</h6>
    <p>Click on "Choose file" and then select an input file of the correct format (and extension). The file size limit
      depends on whether or not you are logged in, with logged-in users allowed a greater file size. Clicking
      on "Convert" uploads and converts the file. The output file is automatically downloaded, along with a log file if
      this option is ticked.</p>
    <p>If any issues are encountered (e.g., the output file does not download), please click on "Provide Feedback" in
      the navigation bar.</p>
    <p> If you have sensitive data you might prefer to use <a href="download.htm">one of our downloadable tools or
        Python library</a> rather than uploading your data to our service.
    </p>
    <h4>Atomsk and c2x</h4>
    <p>Click on "Choose file" and then select an input file of the correct format (and extension). Clicking on "Convert"
      uploads and converts the file. The output file is automatically downloaded, along with a log file if this option
      is ticked.</p>
    <p>If any issues are
      encountered (e.g., the output file does not download), please click on "Provide Feedback" in the navigation bar.
    </p>
    <p> If you have sensitive data you might prefer to use <a href="download.htm">one of our downloadable tools or
        Python library</a> rather than uploading your data to our service.
    </p><br>
    <h3>Report Missing Format/Conversion</h3>
    <p>
      {% if service_mode %}Select the type of report (missing file format or conversion) and then follow the
      instructions that appear.
      Finally, click on "Report."
      {% else %}To report a missing format or conversion, please use
      <a href="https://data-conversion.psdi.ac.uk/report.htm?origin=local">the interface on the public web app.</a>
      {% endif %}
    </p>
    <p>Alternatively, you may wish to see if your needs can be met by <a
        href="https://yard.datatractor.org">Datatractor.</a></p><br>
    <h3>Provide feedback</h3>
    <p>To report issues other than missing formats or conversions, please click on the "Feedback form" link. The form
      will open in a new tab.</p><br>
    <h3>Accessibility</h3>
    <p>Select accessibility settings as required to find a setup you like. Once the appearance of the page is
      satisfactory, click on the "Save" button to apply the settings to the entire website. This saves the settings in
      a cookie on your device which is only used for this purpose and does not store any personal data.</p>
    <p>The colour options here are not compatible with the light-mode/dark-mode toggle in the header bar. This toggle
      switches between default light- and dark-mode themes. If neither of these is suitable for you, the button that
      will appear on the Accessibility page can be used to restore control to the settings there.
    </p><br>
    <h3>About</h3>
    <p><strong>PSDI Data Conversion service</strong><br>
      {% if service_mode %}Public web service{% else %}Local GUI{%endif %} mode -
      {% if production_mode %}Production{% else %}Development{%endif %} build <br>
      {% if tag %}<strong>Version:</strong> {{ tag }}<br>{% endif %}
      {% if sha and not production_mode %}<strong>SHA of latest commit:</strong> {{ sha }}<br>{% endif %}
      <strong>Project source:</strong> <a
        href="https://github.com/PSDI-UK/psdi-data-conversion">https://github.com/PSDI-UK/psdi-data-conversion</a><br>
    </p>
    <div class="medGap"></div>
  </div>
</form>
{% endblock %}