<!--
  Layout template pages using different converters
-->

{% extends "parent/layout.htm" %}

{% block page_title %}
Conversion - {{ super() }}
{% endblock %}

{% block hero_title %}Conversion{% endblock %}

{% block gui_content %}
<a href="./">
  <input type="button" class="button" value=" ← Return to Format Selection " name="returnHome" id="returnHome">
</a>
<br>
<br>
<h5 id="heading"></h5>

{% block file_upload_display %}
<div class="flex-panel-display">
  <div class="flex-panel instructions-panel">
    <h6>Upload the file and run the conversion</h6>
    <p>Click on “Choose file” and then select an input file of the correct format (and extension). Clicking on
      “Convert” uploads and converts the file. The output file is automatically downloaded, along with a log file if
      this option is ticked.
    </p>
    <p>
      {% if not service_mode or logged_in %}
      You may upload archives of files of the same type. Archives of types .tar, .tar.gz, .tar.xz, and .tar.bz are
      supported.
      {% else %}
      If you wish to convert a batch of multiple files of the same type contained within an archive, this functionality
      is available to logged in users. Use the “Log in” link in the header to log in or register, then return to this
      page. A higher file size limit is also available to logged-in users (except for conversions with Open Babel, due
      to a bug in it when converting large files).
      {% endif %}
    </p>
    <p>
      If any issues are encountered (e.g., the output file does not download), please click on “Provide
      Feedback” in the navigation bar.
    </p>
  </div>
  <hr class="small-screen-only">
  <div class="flex-panel">
    <p id="convertFile">
      <input type="checkbox" checked id="extCheck"> Enforce file naming checking to ensure uploaded files (and
      files contained in <span {% if service_mode and not logged_in %} class="mouseover" {% endif %}
        data-bs-toggle="tooltip" data-bs-custom-class="tooltip-on-light" data-bs-placement="top"
        title="{% if service_mode and not logged_in %}Log in using the link in the header to enable conversion of archives of files, or see the “Download” page to download and run the app locally {% endif %}">archives</span>)
      all have the correct extension<br>
      <input type="checkbox" id="requestLog"> Also download log file for the conversion<br>
      Select file to convert<span class="mfs-space"></span><span data-bs-toggle="tooltip"
        data-bs-custom-class="tooltip-on-light" data-bs-placement="top"
        class="max-file-size {% if service_mode %}mouseover{% endif %}" {% if service_mode and not logged_in %}
        title="Need more? You can log in to increase the limit for some converters: Use the “Log in” link in the header"
        {% elif service_mode %}
        title="Need even more? You can download the app and run it locally for unlimited size: Use the “Download” link in the header"
        {% endif %}></span>:
      <br>
      <input type="file" name="fileToUpload" id="fileToUpload">
      <input type="button" class="button no-left-margin" value=" Clear Uploaded File " name="clearUpload"
        id="clearUpload">
      <br>
      If you have sensitive data you might prefer to use <a href="download.htm">one of our downloadable tools or
        Python library</a> rather than uploading your data to our service.<br>
      <span class="convert-button-and-spinner">
        <input type="button" class="button init-disabled no-left-margin" value=" Convert " name="uploadButton"
          id="uploadButton" disabled=true>
        <span class="loading-spinner spinner-border"></span>
      </span>
    </p>
  </div>
</div>
{% endblock %}
{% endblock %}