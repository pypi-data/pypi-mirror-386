import { expect, test } from "vitest";
import { determineAvatarLink } from "./util";

const actor = {
  id: "http://abel/actor/AFKb0cQunSBv1fC7sWbQYg",
  avatarUrl: "https://dev.bovine.social/assets/bull-horns.png",
  name: "The kitty",
  identifier: "acct:kitty@abel",
  htmlUrl: "http://abel/@kitty",
};

test("determine url", () => {
  expect(determineAvatarLink(actor)).toBe(actor.htmlUrl);
});

test("determine url - htmlUrl = None", () => {
  expect(determineAvatarLink({ ...actor, htmlUrl: null })).toBe(actor.id);
});
