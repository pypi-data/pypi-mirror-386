<!-- templates/enap_designsystem/blocks/dashboard_grid_wrapper.html -->
{% load wagtailcore_tags %}

<div class="dashboard-grid-section {{ value.background_color }} {{ value.gap }}" 
     data-grid="{{ value.grid_type }}">
     
    {% if value.grid_title %}
    <div class="grid-header mb-4">
        <h3 class="">
            {{ value.grid_title }}
        </h3>
        <hr>
    </div>
    {% endif %}
    
    <!-- Grid Container -->
    <div class="dashboard-grid {{ value.grid_type }}">
        {% for block in value.grid_content %}
        <div class="grid-item">
            {% include_block block %}
        </div>
        {% endfor %}
    </div>
</div>

<!-- CSS para o Grid -->
<style>
.dashboard-grid-section {
    padding: 1.5rem;
    border-radius: 12px;
    margin-bottom: 2rem;
    max-width: 1142px;
    margin:auto;
}

.grid-title {
    display: flex;
    align-items: center;
    color: #374151;
    font-weight: 600;
    margin-bottom: 1rem;
}

.dashboard-grid {
    display: grid;
    width: 100%;
}

/* 1 COLUNA */
.dashboard-grid.grid-1 {
    grid-template-columns: 1fr;
}

/* 2 COLUNAS - 1fr 1fr */
.dashboard-grid.grid-2 {
    grid-template-columns: 1fr 1fr;
}

/* 3 COLUNAS - 1fr 1fr 1fr */
.dashboard-grid.grid-3 {
    grid-template-columns: 1fr 1fr 1fr;
}

/* 4 COLUNAS - 1fr 1fr 1fr 1fr */
.dashboard-grid.grid-4 {
    grid-template-columns: 1fr 1fr 1fr 1fr;
}

/* Espaçamentos */
.gap-1 .dashboard-grid { gap: 0.5rem; }
.gap-2 .dashboard-grid { gap: 1rem; }
.gap-3 .dashboard-grid { gap: 1.5rem; }

.grid-item {
    display: flex;
    flex-direction: column;
    height: 100%;
    align-items: stretch;
    justify-content: stretch;
    width: 100%;
    max-width: 100%;
}

.card-dash{
    background: #ffffff;
    border-radius: 12px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    padding: 1.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
}

/* Backgrounds */
.bg-light { 
    background: #f8f9fa; 
    border: 1px solid #e9ecef; 
}
.bg-white { 
    background: #ffffff; 
    box-shadow: 0 2px 4px rgba(0,0,0,0.1); 
}

/* Responsividade */
@media (max-width: 768px) {
    .dashboard-grid.grid-2,
    .dashboard-grid.grid-3,
    .dashboard-grid.grid-4 {
        grid-template-columns: 1fr !important;
    }
    
    .dashboard-grid-section {
        padding: 1rem;
    }
}

@media (max-width: 480px) {
    .dashboard-grid {
        grid-template-columns: 1fr !important;
    }
}

/* Animação */
.dashboard-grid-section {
    animation: slideInUp 0.6s ease-out;
}

@keyframes slideInUp {
    from {
        transform: translateY(20px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}
</style>

<!-- templates/enap_designsystem/blocks/base_grid.html - VERSÃO SIMPLES -->
{% load wagtailcore_tags %}

<div class="base-grid-wrapper" data-columns="{{ value.grid_columns }}">
    <div class="base-grid">
        {% for block in value.content %}
        <div class="base-grid-item">
            {% include_block block %}
        </div>
        {% endfor %}
    </div>
</div>

<style>
.base-grid {
    display: grid;
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.base-grid-wrapper[data-columns="1"] .base-grid {
    grid-template-columns: 1fr;
}

.base-grid-wrapper[data-columns="2"] .base-grid {
    grid-template-columns: repeat(2, 1fr);
}

.base-grid-wrapper[data-columns="3"] .base-grid {
    grid-template-columns: repeat(3, 1fr);
}

.base-grid-wrapper[data-columns="4"] .base-grid {
    grid-template-columns: repeat(4, 1fr);
}

.base-grid-item {
    display: flex;
    flex-direction: column;
    height: 100%;
}

@media (max-width: 768px) {
    .base-grid {
        grid-template-columns: 1fr !important;
    }
}
</style>