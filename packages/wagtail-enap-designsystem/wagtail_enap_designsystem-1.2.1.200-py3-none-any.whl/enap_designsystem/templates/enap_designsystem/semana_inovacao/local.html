{% load static wagtailcore_tags %}
{% load static wagtailcore_tags wagtailimages_tags %}

<link rel="stylesheet" href="{% static 'enap_designsystem/semanadeinovacao.css' %}">

{% include "enap_designsystem/semana_inovacao/nav_semana.html" %}
{% block content %}

    <!-- Enap Section -->
    <section class="enap_semana">
        {% if page.enap_image %}
            {% for block in page.enap_image %}
            {% image block.value.imagem original as logo_hero_img %}
                <img src="{{ logo_hero_img.url }}" alt="{{ logo_hero_img.alt }}" class="logo-hero-img">
                
                {% if page.logo_hero_link %}
                    </a>
                {% endif %}
            {% endfor %}
        {% endif %}
        <div class="enap-content_semana">
            <h1>{{ page.enap_title }}</h1>
            {{ page.enap_description|richtext }}
        </div>
    </section>

<!-- Hospitality Section -->
<section class="hospitality_semana">
    <div class="container-medium">
    <h2 class="hospitality-title_semana">{{ page.hospitality_title }}</h2>
    
    <div class="grid-cards-for">
        {% for card in page.hospitality_cards %}
            <div class="hospitality-card_semana">
                {% if card.value.image %}
                    {% image card.value.image width-600 as card_image %}
                    <img src="{{ card_image.url }}" alt="{{ card_image.alt }}" class="hospitality-card-image">
                {% endif %}
                <div class="hospitality-card-content_semana">
                    <h3>{{ card.value.title }}</h3>
                    {{ card.value.text|richtext }}
                </div>
            </div>
        {% endfor %}
    </div>
    </div>
</section>

    <!-- How to Get There Section -->
    <section class="how-to-get_semana">
        <div class="directions_semana">
            <h2>{{ page.directions_title }}</h2>
            <div class="transport-option_semana metro_semana">
                <h3>{{ page.metro_title }}</h3>
                <p>{{ page.metro_text }}</p>
            </div>

            <div class="transport-option_semana taxi_semana">
                <h3>{{ page.taxi_title }}</h3>
                <p>{{ page.taxi_text }}</p>
            </div>

            <div class="transport-option_semana bus_semana">
                <h3>{{ page.bus_title }}</h3>
                <p>{{ page.bus_text|linebreaks }}</p>
            </div>

            <div class="transport-option_semana special_semana">
                <h3>{{ page.special_title }}</h3>
                <p>{{ page.special_text }}</p>
            </div>
        </div>

        {% if page.map_image %}
    {% for block in page.map_image %}
        {% if block.block_type == 'imagem' %}
            {% image block.value.imagem width-500 as map_img %}
            <img src="{{ map_img.url }}" 
                 alt="{{ block.value.alt_text|default:map_img.alt }}" 
                 width="{{ map_img.width }}" 
                 height="{{ map_img.height }}">
            
            <!-- Se usar ImageWithCaptionBlock e quiser mostrar a legenda: -->
            {% if block.value.legenda %}
                <figcaption>{{ block.value.legenda }}</figcaption>
            {% endif %}
        {% endif %}
    {% endfor %}
{% endif %}
    </section>

{% endblock %}