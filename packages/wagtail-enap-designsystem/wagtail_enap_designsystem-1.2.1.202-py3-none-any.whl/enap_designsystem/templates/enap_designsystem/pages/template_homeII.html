{% extends "enap_designsystem/base.html" %}
{% load static %}
{% load wagtailcore_tags wagtailimages_tags %}


{% block metadata %}
    {% comment %} <meta name="viewport" content="width=device-width, initial-scale=1.0"> {% endcomment %}
{% endblock %}


{% block title %}
	<title>{{ page.title }}</title>
{% endblock %}

{%block govnavbar %}
    <div style="background-color: #071E41;">
        <div class="menu">
            <div class="logo GovBR">
                <img style="width: 51px; height: 18px;" src="{% static 'enap_designsystem/icons/logo-white.png' %}" alt="Passar pro lado esquerdo" alt="Logo GovBR" height="40">
            </div>
            <a href="https://www.gov.br/secom/pt-br/acesso-a-informacao/comunicabr">Comunica BR</a>
            <div class="separator"></div>
            <a href="https://www.gov.br/acessoainformacao/pt-br">Acesso à informação</a>
            <div class="separator"></div>
            <a href="https://www.gov.br/pt-br/participacao-social/">Participe</a>
            <div class="separator"></div>
            <a href="https://www4.planalto.gov.br/legislacao/">Legislação</a>
            <div class="separator"></div>
            <a href="https://www.gov.br/pt-br/orgaos-do-governo">Órgãos do Governo</a>
        </div>
    </div>
{% endblock %}


{% block navbar %}
    {% if page.navbar %}
        {% include "enap_designsystem/blocks/navbar/navbar_block.html" with navbar=page.navbar %}
    {% else %}
        <p style="color: red;">DEBUG: Nenhuma Navbar foi definida.</p>
    {% endif %}
{% endblock %}


{% block content %}
    <!-- Enap Banner Video Block -->
    <section class="wrapperherov2">
        <div style="background-color: black; opacity: 0.3; height: 100%; width: 100%; position: absolute; z-index: 1;"></div>
        {% if page.video_background %}
            <video class="video-bg" autoplay muted>
                <source src="{{ page.video_background.url }}" type="video/mp4">
                Seu navegador não suporta o vídeo.
            </video>
        {% endif %}
        
            <div class="container-hero" style="width: 100%;">
                <div class="wrapper-text-search">
                    Conhecimento e prática para a <span style="font-weight: 800px;">transformação do Estado</span>
                </div>
                <div class="search-container-hero">
                    <input type="text" class="search-input" placeholder="O que você procura na Enap?" id="searchInput" oninput="toggleClearButton()">
                    <button class="clear-button" id="clearButton" onclick="clearInput()">✖</button>
                    <div class="icons">
                        <i style="color: white;" class="fa-solid fa-magnifying-glass"></i>
                        <i style="color: white;" class="fa-solid fa-microphone"></i>
                    </div>
                </div>
                
                
            </div>
    </section>

    <div class="wrapper-menu-herov2" id="content">
        <ul class="column-listv2">
            <a class="menu-liv2" href=""><li class="topicos-liv2">Quem somos</li></a>
            <div class="grid-separator"></div>
            <a class="menu-liv2" href=""><li class="topicos-liv2">Pós-Graduação <i class="fa-solid fa-chevron-down"></i></li></a>
            <div class="grid-separator"></div>
            <a class="menu-liv2" href=""><li class="topicos-liv2">Inovação <i class="fa-solid fa-chevron-down"></i></li></a>
            <div class="grid-separator"></div>
            <a class="menu-liv2" href=""><li class="topicos-liv2">Pesquisa e Conhecimento<i class="fa-solid fa-chevron-down"></i></li></a>
            <div class="grid-separator"></div>
            <a class="menu-liv2" href=""><li class="topicos-liv2">Outras Categorias<i class="fa-solid fa-chevron-down"></i></li></a>
            <div class="grid-separator"></div>
            <a class="menu-liv2" href=""><li class="topicos-liv2">Notícias</li></a>
        </ul>
    </div>

    <section class="quadro-azul">
    </section>
    
    <!-- Big Numbers -->
    <div class="wrapper-big-numbers-v2">
        
        <div class="big-numbers">
            <div class="big-number">
                <h2 class="h2-numbers">4 milhões <br> <span class="span-numbers">de alunos </span></h2>
                <h3 class="frase-numbers">participaram de cursos, <br>
                    oficinas ou eventos</h3>
            </div>
    
            <div class="big-number">
                <h2 class="h2-numbers">+ 1 milhões <br> <span class="span-numbers">de certificados </span></h2>
                <h3 class="frase-numbers">emitidos somente <br>
                    em 2023</h3>
            </div>
    
    
            <div class="big-number">
                <h2 class="h2-numbers">+ 750 <br> <span class="span-numbers">cursos</span></h2>
                <h3 class="frase-numbers">para enriquecer o <br>
                    seu conhecimento</h3>
            </div>
            
        
        </div>
    </div>
    
    <!-- Card dinamico -->
    <section class="card-dinamico">
        <div class="card-dinamico__content">
            <div class="card-dinamico__text">
                <h2 class="title-dinamico">{{ page.page_title }}</h2>
                <button class="btn-cta" onclick="window.location.href='{{ page.button_link }}';">Saiba mais <i class="fa-solid fa-circle-chevron-right"></i></button>
    
                {% for block in page.body %}
                    {% if block.block_type != 'button' %}
                        {{ block }}
                    {% endif %}
                {% endfor %}
            </div>
            <div class="card-dinamico__content-image">
                <div class="img-cta" style="width: 450px; height: auto; overflow: hidden; ">
                {% for block in page.background_image %}
                {{ block }}  {# Renderiza cada bloco no StreamField 'background_image' #}
                {% empty %}
                {% endfor %}
                </div>
                    <p>{{ page.paragrafo|safe }}</p>
                </div>
        
            </div>
        </div>
    </section>
    
    <!-- Card holofotes -->
    <section class="page-preview">
    
            <div class="wrapper-cards-holofotes">
                {% for block in page.teste_preview %}
                {{ block }}  {# Renderiza cada bloco no StreamField 'teste_preview' #}
            {% empty %}
            {% endfor %}
            </div>
        </div>
    </section>
    
    
    <!-- Card cursos -->
    <div>
        {% for block in page.teste_courses %}
        {{ block }}  {# Renderiza cada bloco no StreamField 'teste_courses' #}
    {% empty %}
    {% endfor %}
    </div>

    <!-- Card cursos SUAP -->
    <div>
        {% for block in page.suap_courses %}
            {{ block }}
        {% empty %}
        {% endfor %}
    </div>
    
    <section style="background-color: #F5F7FA; padding: 90px 0 90px 15px ;">
        {% for block in page.noticias %}
        {{ block }}  {# Renderiza cada bloco no StreamField 'teste_courses' #}
        {% empty %}
        {% endfor %}
    </section>

    <!-- Cards noticias -->
    <section class="section-noticias">
        {% for block in page.teste_noticia %}
            {% if block.block_type == "noticias_carousel" %}
                {{ block }}  {# Renderiza o bloco de carrossel de notícias #}
            {% else %}
            {% endif %}
        {% empty %}
        {% endfor %}
    </section >
    
    <section class="ouvidoria">
        <div class="container">
            <div class="canais-atendimento" style="padding: 0 15px;">
                <div class="title">
                    Ouvidoria e Acesso à Informação
                </div>
                <div class="title-header">
                    <p>
                        Você pode realizar manifestações nos seguintes canais
                    </p>
                </div>
                <div class="row cards">
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 d-flex justify-content-center mb-3">
                        <a href="https://falabr.cgu.gov.br/Login/Identificacao/Identificacao.aspx?idFormulario=4&tipo=1&ReturnUrl=%2fpublico%2fManifestacao%2fRegistrarManifestacao.aspx%3fidFormulario%3d4%26tipo%3d1%26origem%3didp%26modo%3d" class="card-item">
                            <span class="fas fa-bullhorn"></span>
                            <div class="title">Denúncia</div>
                        </a>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 d-flex justify-content-center mb-3">
                        <a href="https://falabr.cgu.gov.br/Login/Identificacao/Identificacao.aspx?idFormulario=1&tipo=5&ReturnUrl=%2fpublico%2fManifestacao%2fRegistrarManifestacao.aspx%3fidFormulario%3d1%26tipo%3d5%26origem%3didp%26modo%3d" class="card-item">
                            <span class="fa fa-comments"></span>
                            <div class="title">Solicitação</div>
                        </a>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 d-flex justify-content-center mb-3">
                        <a href="https://falabr.cgu.gov.br/Login/Identificacao/Identificacao.aspx?idFormulario=1&tipo=4&ReturnUrl=%2fpublico%2fManifestacao%2fRegistrarManifestacao.aspx%3fidFormulario%3d1%26tipo%3d4%26origem%3didp%26modo%3d" class="card-item">
                            <span class="fa fa-comment"></span>
                            <div class="title">Sugestão</div>
                        </a>
                    </div>
                </div>
    
                <div class="row cards" style="margin-top: 30px;">
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 d-flex justify-content-center mb-3">
                        <a href="https://falabr.cgu.gov.br/Login/Identificacao/Identificacao.aspx?idFormulario=1&tipo=3&ReturnUrl=%2fpublico%2fManifestacao%2fRegistrarManifestacao.aspx%3fidFormulario%3d1%26tipo%3d3%26origem%3didp%26modo%3d" class="card-item">
                            <span class="fa fa-thumbs-up"></span>
                            <div class="title">Elogio</div>
                        </a>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 d-flex justify-content-center mb-3">
                        <a href="https://falabr.cgu.gov.br/web/login?tipo=2&redirect=/manifestacao/criar?tipo=2" class="card-item">
                            <span class="fa fa-thumbs-down"></span>
                            <div class="title">Reclamação</div>
                        </a>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 d-flex justify-content-center mb-3">
                        <a href="https://falabr.cgu.gov.br/web/home" class="card-item">
                            <span class="fa fa-info-circle"></span>
                            <div class="title">Acesso à informação</div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}


{% block footer %}
    {% include "enap_designsystem/includes/footer.html" %}
{% endblock %}


{% block styleinline %}
    {% comment %} STYLE INLINE AQUI {% endcomment %}
    <style>
    </style>
{% endblock %}


{% block stylecss %}
    {% comment %} ARQUIVOS CSS AQUI {% endcomment %}
    {% comment %} 
        Evite deixar arquivos aqui, utilize eles no enap_designsystem/base.html
        na área de {% if debug %} de DESENVOLVIMENTO
    {% endcomment %}
    
{% endblock %}


{% block scriptinline %}
    {% comment %} SCRIPT INLINE AQUI {% endcomment %}
    <script>
        // Esconde o campo de busca ao carregar a página
        document.addEventListener('DOMContentLoaded', function() {
            const searchContainer = document.querySelector('.search-container');
            searchContainer.style.display = 'none'; // Garante que comece oculto
        });
    
        function clearInput() {
            document.getElementById('searchInput').value = '';
            document.getElementById('searchInput').focus();
            toggleClearButton();
        }
    
        function toggleClearButton() {
            const input = document.getElementById('searchInput');
            const clearButton = document.getElementById('clearButton');
            clearButton.style.display = input.value ? 'flex' : 'none';
        }
    
        window.addEventListener('scroll', function() {
            const searchContainer = document.querySelector('.search-container');
            const scrollPosition = window.scrollY;
    
            if (scrollPosition > 500) {
                searchContainer.classList.add('visible');
                searchContainer.style.display = 'flex'; // Torna visível
            } else {
                searchContainer.classList.remove('visible');
                searchContainer.style.display = 'none'; // Oculta
            }
        });
    </script>
{% endblock %}


{% block scriptjs %}
    {% comment %} ARQUIVOS JS AQUI {% endcomment %}
{% endblock %}



