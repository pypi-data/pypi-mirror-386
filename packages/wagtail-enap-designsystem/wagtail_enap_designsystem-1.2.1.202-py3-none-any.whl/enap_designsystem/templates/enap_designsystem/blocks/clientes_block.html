{% load wagtailcore_tags wagtailimages_tags %}
{% load static %}
<section class="clientes-section">
    <div class="container">
        {# Cabeçalho da seção #}
        <div class="clientes-header text-{{ value.alinhamento_titulo }}">
            {% if value.titulo %}
                <h2 class="clientes-header__titulo">{{ value.titulo }}</h2>
            {% endif %}
            
            {% if value.subtitulo %}
                <div class="clientes-header__subtitulo">{{ value.subtitulo }}</div>
            {% endif %}
        </div>

        {# Grid de logos dos clientes #}
        <div class="clientes-grid">
            {% for cliente in value.clientes %}
                {% if cliente.block_type == 'logo_cliente' %}
                    <div class="cliente-logo">
                        {% if cliente.value.logo %}
                            {% image cliente.value.logo original as logo_img %}
                            <img 
                                src="{{ logo_img.url }}" 
                                alt="Logo do cliente"
                                class="cliente-logo__imagem"
                            />
                        {% else %}
                            <img 
                                src="{% static 'enap_designsystem/blocks/suap/default_1.png' %}" 
                                alt="Imagem padrão com logo da Enap e fundo verde"
                                class="cliente-logo__imagem"
                            />
                        {% endif %}
                    </div>
                {% endif %}
            {% endfor %}
        </div>

        {# Botão - Só aparece se mostrar_botao for True E se button tiver conteúdo #}
        {% if value.mostrar_botao and value.button %}
            <div class="clientes-button">
                {% include_block value.button %}
            </div>
        {% endif %}
    </div>
</section>