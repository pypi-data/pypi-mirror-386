{% load wagtailcore_tags wagtailimages_tags %}

<style>
@media (min-width: 768px) {
    .enap-cards-grid.grid-2 { grid-template-columns: repeat(2, 1fr); }
    .enap-cards-grid.grid-3 { grid-template-columns: repeat(3, 1fr); }
    .enap-cards-grid.grid-4 { grid-template-columns: repeat(4, 1fr); }
}
</style>

<section class="enap-cards-section">
    <div class="enap-cards-container">
        <!-- Header -->
        <div class="enap-section-header">
            <h2 class="enap-section-title">{{ value.section_title }}</h2>
            {% if value.section_subtitle %}
                <p class="enap-section-subtitle">{{ value.section_subtitle }}</p>
            {% endif %}
        </div>

        <!-- Cards Grid -->
        <div class="enap-cards-grid grid-{{ value.cards_per_row|default:'4' }}">
            {% for card in value.cards %}
                <article class="enap-card">
                    {% if card.image %}
                        {% image card.image width-400 height-300 class="enap-card-image" %}
                    {% endif %}
                    
                    <div class="enap-card-content">
                        <h3 class="enap-card-title">{{ card.title }}</h3>
                        
                        {% if card.subtitle %}
                            <p class="enap-card-subtitle">{{ card.subtitle }}</p>
                        {% endif %}
                        
                        {% if card.description %}
                            <div class="enap-card-description">
                                {{ card.description|richtext }}
                            </div>
                        {% endif %}
                        
                        {% if card.link_url %}
                            <a href="{{ card.link_url }}" 
                                target="{{ card.link_target|default:'_self' }}"
                                class="enap-card-link">
                                {{ card.link_text|default:"Saiba mais" }}
                                <i class="fa-solid fa-circle-chevron-right"></i>
                            </a>
                        {% endif %}
                    </div>
                </article>
            {% endfor %}
        </div>
    </div>
</section>