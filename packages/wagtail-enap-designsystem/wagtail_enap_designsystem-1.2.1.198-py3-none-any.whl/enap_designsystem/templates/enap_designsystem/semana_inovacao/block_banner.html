<!-- block_banner.html -->
{% load wagtailimages_tags %}

{% if value.imagem_fundo %}
    {% image value.imagem_fundo original as bg_image %}
{% endif %}

<div class="banner-container" 
    {% if bg_image %}
    style="background-image: url('{{ bg_image.url }}'); 
            background-size: cover; 
            background-position: center; 
            background-repeat: no-repeat;
            height: {{ value.altura_banner }};"
    {% else %}
    style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: {{ value.altura_banner }};"
    {% endif %}>
    
    <div class="banner-content">
        {% if value.imagem_secundaria %}
            <div class="banner-secundaria">
                {% image value.imagem_secundaria width-400 as logo_image %}
                <img src="{{ logo_image.url }}" 
                    alt="{{ value.imagem_secundaria.title }}"
                    loading="lazy">
            </div>
        {% endif %}
        
        <!-- Área do texto centralizada -->
        <div class="banner-text-center">
            {% if value.titulo %}
            <h1 style="color: {{ value.cor_titulo }};" class="banner-titulo">{{ value.titulo }}</h1>
            {% endif %}
            
            {% if value.subtitulo %}
            <p class="banner-subtitulo" style="color: {{ value.cor_subtitulo }};">{{ value.subtitulo }}</p>
            {% endif %}
            
            {% if value.link and value.texto_link %}
                <a href="{{ value.link }}" 
                   class="banner-link"
                   style="background-color: {{ value.cor_botao }};">
                    {{ value.texto_link }}
                </a>
            {% endif %}
        </div>
        
        <!-- Logo/marca embaixo -->
        {% if value.imagem_principal %}
            <div class="banner-logo">
                {% image value.imagem_principal original format-webp as logo_image %}
                <img src="{{ logo_image.url }}" 
                    alt="{{ value.imagem_principal.title }}"
                    loading="lazy">
            </div>
        {% endif %}
    </div>
</div>