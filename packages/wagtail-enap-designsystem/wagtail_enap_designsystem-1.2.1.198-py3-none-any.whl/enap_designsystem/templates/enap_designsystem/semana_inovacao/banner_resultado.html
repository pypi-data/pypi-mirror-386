{% load wagtailcore_tags wagtailimages_tags %}

<section class="banner-resultado banner-resultado--{{ value.altura_banner }}"
    style="
        {% if value.imagem_fundo %}
            background-image: url('{% image value.imagem_fundo fill-1920x600 %}');
        {% endif %}
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
    ">
    
    <div class="container">
        <div class="row align-items-center min-vh-50">
            
            <!-- Conteúdo Principal -->
            <div class="col-12">
                <div class="banner-resultado__content text-{{ value.alinhamento_conteudo }}">
                    
                    <!-- Título do Evento -->
                    {% if value.titulo_evento %}
                        <h2 class="banner-resultado__titulo-evento mb-3" 
                            style="color: {{ value.cor_titulo_evento }}; font-weight: bold;">
                            {{ value.titulo_evento }}
                        </h2>
                    {% endif %}
                    
                    <!-- Tag Central -->
                    {% if value.tag_central %}
                        <div class="banner-resultado__tag mb-4">
                            <span class="badge badge-lg px-4 py-2" 
                                  style="background-color: {{ value.cor_fundo_tag }}; color: {{ value.cor_texto_tag }}; font-size: 1.1rem;">
                                {{ value.tag_central }}
                            </span>
                        </div>
                    {% endif %}
                    
                    <!-- Título Principal -->
                    {% if value.titulo_principal %}
                        <h1 class="banner-resultado__titulo-principal mb-5" 
                            style="color: {{ value.cor_titulo_principal }}; font-weight: bold; font-size: 2.5rem;">
                            {{ value.titulo_principal }}
                        </h1>
                    {% endif %}
                    
                    <!-- Botões -->
                    {% if value.botoes %}
                        <div class="banner-resultado__botoes 
                            {% if value.espacamento_botoes == 'compacto' %}gap-2
                            {% elif value.espacamento_botoes == 'espaçoso' %}gap-4
                            {% else %}gap-3{% endif %}">
                            
                            {% for botao in value.botoes %}
                                {% if botao.block_type == 'botao' %}
                                    <a href="{% if botao.value.link %}{{ botao.value.link }}{% elif botao.value.pagina_interna %}{% pageurl botao.value.pagina_interna %}{% else %}#{% endif %}"
                                       class="btn 
                                           {% if botao.value.tipo_botao == 'preenchido' %}btn-custom-filled
                                           {% elif botao.value.tipo_botao == 'outline' %}btn-custom-outline
                                           {% else %}btn-custom-text{% endif %}"
                                       {% if botao.value.abrir_nova_aba %}target="_blank" rel="noopener"{% endif %}
                                       style="
                                           {% if botao.value.tipo_botao == 'preenchido' %}
                                               background-color: {{ botao.value.cor_fundo }};
                                               color: {{ botao.value.cor_texto }};
                                               border-color: {{ botao.value.cor_fundo }};
                                           {% elif botao.value.tipo_botao == 'outline' %}
                                               background-color: transparent;
                                               color: {{ botao.value.cor_texto }};
                                               border: 2px solid {{ botao.value.cor_borda }};
                                           {% else %}
                                               background-color: transparent;
                                               color: {{ botao.value.cor_texto }};
                                               border: none;
                                           {% endif %}
                                           --hover-bg: {{ botao.value.cor_hover_fundo }};
                                           --hover-color: {{ botao.value.cor_hover_texto }};
                                       "
                                       onmouseover="this.style.backgroundColor=this.style.getPropertyValue('--hover-bg'); this.style.color=this.style.getPropertyValue('--hover-color');"
                                       onmouseout="
                                           {% if botao.value.tipo_botao == 'preenchido' %}
                                               this.style.backgroundColor='{{ botao.value.cor_fundo }}';
                                               this.style.color='{{ botao.value.cor_texto }}';
                                           {% elif botao.value.tipo_botao == 'outline' %}
                                               this.style.backgroundColor='transparent';
                                               this.style.color='{{ botao.value.cor_texto }}';
                                           {% else %}
                                               this.style.backgroundColor='transparent';
                                               this.style.color='{{ botao.value.cor_texto }}';
                                           {% endif %}
                                       ">
                                       
                                        {% if botao.value.icone %}
                                            <i class="fas fa-{{ botao.value.icone }} me-2"></i>
                                        {% endif %}
                                        {{ botao.value.texto }}
                                    </a>
                                {% endif %}
                            {% endfor %}
                        </div>
                    {% endif %}
                    
                </div>
            </div>
            
        </div>
    </div>
</section>