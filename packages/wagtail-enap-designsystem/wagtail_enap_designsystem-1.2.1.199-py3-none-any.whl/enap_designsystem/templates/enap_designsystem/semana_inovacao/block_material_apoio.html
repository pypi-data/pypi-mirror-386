{% load wagtailimages_tags %}

<section class="material-apoio-section" style="background-color: {{ value.cor_fundo }};">
    <div class="material-apoio-container">
        <!-- Grid Principal: Texto (esquerda) + Imagem (direita) -->
        <div class="material-apoio-grid">
            <!-- Lado Esquerdo: Título e Texto -->
            <div class="material-apoio-content">
                {% if value.titulo %}
                    <h2 class="material-apoio-titulo" style="color: {{ value.cor_texto_titulo }};">{{ value.titulo }}</h2>
                {% endif %}
                
                {% if value.texto %}
                    <div class="material-apoio-texto" style="color: {{ value.cor_texto_titulo }};">
                        {{ value.texto|linebreaks }}
                        
                        {% if value.email_contato %}
                            <p class="material-apoio-email">
                                <a href="mailto:{{ value.email_contato }}">{{ value.email_contato }}</a>
                            </p>
                        {% endif %}
                    </div>
                {% endif %}
            </div>
            
            <!-- Lado Direito: Card com Imagem -->
            <div class="material-apoio-card">
                {% if value.imagem_card and value.link_card %}
                    <a href="{{ value.link_card }}" class="material-apoio-card-link" target="_blank">
                        {% image value.imagem_card width-400 as card_image %}
                        <img src="{{ card_image.url }}" 
                            alt="{{ value.alt_imagem }}"
                            class="material-apoio-card-img">
                    </a>
                {% endif %}
            </div>
        </div>
        
        <!-- Seção de Botões (parte inferior) -->
        {% if value.botoes %}
            <div class="material-apoio-botoes">
                {% for botao_block in value.botoes %}
                    {% if botao_block.block_type == 'botao' %}
                        <a href="{{ botao_block.value.link }}" 
                        class="material-apoio-botao" 
                        target="_blank"
                        style="background-color: {{ botao_block.value.cor_fundo }};"
                        onmouseover="this.style.backgroundColor='{{ botao_block.value.cor_hover }}'"
                        onmouseout="this.style.backgroundColor='{{ botao_block.value.cor_fundo }}'">
                        {{ botao_block.value.texto }}
                        </a>
                    {% endif %}
                {% endfor %}
            </div>
        {% endif %}
    </div>
</section>

<style>
    .material-apoio-texto p {
        margin-bottom: 20px;
        color: {{ value.cor_texto_titulo }};
    }
</style>