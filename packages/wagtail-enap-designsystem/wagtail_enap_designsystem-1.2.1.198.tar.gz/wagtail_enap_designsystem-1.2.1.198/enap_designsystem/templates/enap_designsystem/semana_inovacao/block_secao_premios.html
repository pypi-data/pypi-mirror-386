<!-- block_secao_premios.html -->
{% load wagtailimages_tags %}
{% load static %}

{% if value.imagem_fundo %}
    {% image value.imagem_fundo original as bg_image %}
{% endif %}

{% if value.imagem_grande_lateral %}
    {% image value.imagem_grande_lateral width-600 as lateral_image %}
{% endif %}

<section class="premios-secao" 
        {% if bg_image %}
        style="background-image: url('{{ bg_image.url }}');"
        {% else %}
        style="background-color: {{ value.cor_fundo }};"
        {% endif %}>
    
    <div class="premios-container">
        <div class="premios-grid">
            <!-- Coluna da Imagem (1fr) -->
            {% if lateral_image %}
                <div class="premios-imagem">
                    <img src="{{ lateral_image.url }}" alt="Imagem ilustrativa" class="imagem-lateral">
                </div>
            {% endif %}
            <!-- Coluna do Conteúdo (2fr) -->
            <div class="premios-conteudo">
                <!-- Título -->
                {% if value.titulo %}
                    <h2 class="premios-titulo" style="color: {{ value.cor_titulo }};">
                        {{ value.titulo }}
                    </h2>
                {% endif %}
                
                <!-- Lista de Tópicos -->
                <div class="premios-lista">
                    {% for topico_block in value.topicos %}
                        {% if topico_block.block_type == 'topico' %}
                            <div class="premio-item">
                                <!-- Ícone Circular -->
                                <div class="premio-icone">
                                    <img src="{% static 'enap_designsystem/icons/icone-ic29.png' %}" alt="Grafismo" class="">
                                </div>
                                
                                <!-- Texto do Prêmio -->
                                <div class="premio-texto" style="color: {{ value.cor_topicos }};">
                                    {{ topico_block.value }}
                                </div>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</section>

<style>
.premios-secao {
    padding: 4rem 0;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    min-height: 400px;
    position: relative;
}

.premios-container {
    margin: 0 auto;
    padding: 0 2rem;
}

.premios-grid {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 3rem;
    align-items: center;
    min-height: 400px;
}

.premios-conteudo {
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

.premios-titulo {
    font-size: 2.5rem;
    font-weight: bold;
    margin: 0;
    line-height: 1.2;
}

.premios-lista {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.premio-item {
    display: flex;
    align-items: end;
    gap: 1rem;
    padding: 1rem 0;
}

.premio-icone {
    flex-shrink: 0;
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;

}

.premio-icone img {
    width: 40px;
    height: 40px;
    object-fit: contain;
}

.premio-texto {
    font-size: 1.1rem;
    line-height: 1.6;
    font-weight: 500;
}

.premios-imagem {
    display: flex;
    align-items: center;
    justify-content: left;
    height: 100%;
}

.imagem-lateral {
    width: 100%;
    height: auto;
    max-width: 500px;
    object-fit: contain;
    border-radius: 12px;
}

/* Responsividade */
@media (max-width: 768px) {
    .premios-grid {
        grid-template-columns: 1fr;
        gap: 2rem;
        text-align: center;
    }
    
    .premios-titulo {
        font-size: 2rem;
        text-align: center;
    }
    
    .premio-item {
        flex-direction: row;
        gap: 0.75rem;
        align-items: center;
    }
    
    .premios-container {
        padding: 0 1rem;
    }
    
    .imagem-lateral {
        max-width: 100%;
        height: auto;
    }

    .premios-imagem {
        max-width:90vw;
    }

    .premios-conteudo {
        max-width:90vw;
    }
}

@media (max-width: 480px) {
    .premios-secao {
        padding: 2rem 0;
    }
    
    .premios-titulo {
        font-size: 1.75rem;
    }
    
    .premio-texto {
        font-size: 1rem;
        text-align: left;
    }
    
    .premios-lista {
        gap: 1rem;
    }

    .form-label {
        text-align: left;
    }
}

/* Variação quando não há imagem lateral */
.premios-grid:not(:has(.premios-imagem)) {
    grid-template-columns: 1fr;
    justify-items: center;
}

.premios-grid:not(:has(.premios-imagem)) .premios-conteudo {
    max-width: 800px;
    text-align: center;
}

.premios-grid:not(:has(.premios-imagem)) .premio-item {
    justify-content: center;
}
</style>