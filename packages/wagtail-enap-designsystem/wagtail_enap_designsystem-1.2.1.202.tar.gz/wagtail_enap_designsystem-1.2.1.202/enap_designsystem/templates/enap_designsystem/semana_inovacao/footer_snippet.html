{% load wagtailcore_tags wagtailimages_tags %}

<footer class="semana-footer" style="background-color: {{ footer.cor_fundo }}; color: {{ footer.cor_texto_principal }};">
    <div class="container">
        
        <!-- Conteúdo Principal do Footer -->
        <div class="row py-5">
            
            <!-- Seção Principal (Logo + Info do Evento) -->
            <div class="col-12 col-lg-4 mb-4 mb-lg-0">
                <div class="semana-footer__main">
                    
                    <!-- Logo -->
                    {% if footer.logo %}
                        <div class="semana-footer__logo mb-4">
                            {% if footer.logo_link %}
                                <a href="{{ footer.logo_link }}">
                            {% endif %}
                            
                            {% image footer.logo original as logo_img %}
                            <img src="{{ logo_img.url }}" 
                                 alt="{{ footer.logo_alt_text|default:'Logo' }}" 
                                 class="img-fluid"
                                 style="max-height: 80px;">
                            
                            {% if footer.logo_link %}
                                </a>
                            {% endif %}
                        </div>
                    {% endif %}
                    
                    <!-- Informações do Evento -->
                    <div class="semana-footer__event-info mb-4">
                        {% if footer.data_inicio and footer.data_fim %}
                            <h4 class="fw-bold mb-2" style="color: {{ footer.cor_texto_principal }};">
                                {{ footer.data_inicio }} a {{ footer.data_fim }}
                            </h4>
                        {% endif %}
                        
                        {% if footer.modalidade %}
                            <p class="mb-2" style="color: {{ footer.cor_texto_secundario }};">
                                {{ footer.modalidade }}
                            </p>
                        {% endif %}
                        
                        {% if footer.tagline %}
                            <div style="color: {{ footer.cor_texto_secundario }};">
                                {{ footer.tagline }}
                            </div>
                        {% endif %}
                    </div>
                    
                    <!-- Redes Sociais -->
                    <div class="semana-footer__social">
                        <div class="d-flex gap-3">
                            {% if footer.youtube_url %}
                                <a href="{{ footer.youtube_url }}" target="_blank" rel="noopener"
                                   style="color: {{ footer.cor_icones_social }}; font-size: 1.5rem; transition: all 0.3s ease;"
                                   onmouseover="this.style.color='{{ footer.cor_links_hover }}'; this.style.transform='translateY(-2px)'"
                                   onmouseout="this.style.color='{{ footer.cor_icones_social }}'; this.style.transform='translateY(0)'">
                                    <i class="fab fa-youtube"></i>
                                </a>
                            {% endif %}
                            
                            {% if footer.instagram_url %}
                                <a href="{{ footer.instagram_url }}" target="_blank" rel="noopener"
                                   style="color: {{ footer.cor_icones_social }}; font-size: 1.5rem; transition: all 0.3s ease;"
                                   onmouseover="this.style.color='{{ footer.cor_links_hover }}'; this.style.transform='translateY(-2px)'"
                                   onmouseout="this.style.color='{{ footer.cor_icones_social }}'; this.style.transform='translateY(0)'">
                                    <i class="fab fa-instagram"></i>
                                </a>
                            {% endif %}
                            
                            {% if footer.linkedin_url %}
                                <a href="{{ footer.linkedin_url }}" target="_blank" rel="noopener"
                                   style="color: {{ footer.cor_icones_social }}; font-size: 1.5rem; transition: all 0.3s ease;"
                                   onmouseover="this.style.color='{{ footer.cor_links_hover }}'; this.style.transform='translateY(-2px)'"
                                   onmouseout="this.style.color='{{ footer.cor_icones_social }}'; this.style.transform='translateY(0)'">
                                    <i class="fab fa-linkedin"></i>
                                </a>
                            {% endif %}
                            
                            {% if footer.twitter_url %}
                                <a href="{{ footer.twitter_url }}" target="_blank" rel="noopener"
                                   style="color: {{ footer.cor_icones_social }}; font-size: 1.5rem; transition: all 0.3s ease;"
                                   onmouseover="this.style.color='{{ footer.cor_links_hover }}'; this.style.transform='translateY(-2px)'"
                                   onmouseout="this.style.color='{{ footer.cor_icones_social }}'; this.style.transform='translateY(0)'">
                                    <i class="fab fa-x-twitter"></i>
                                </a>
                            {% endif %}
                            
                            {% if footer.facebook_url %}
                                <a href="{{ footer.facebook_url }}" target="_blank" rel="noopener"
                                   style="color: {{ footer.cor_icones_social }}; font-size: 1.5rem; transition: all 0.3s ease;"
                                   onmouseover="this.style.color='{{ footer.cor_links_hover }}'; this.style.transform='translateY(-2px)'"
                                   onmouseout="this.style.color='{{ footer.cor_icones_social }}'; this.style.transform='translateY(0)'">
                                    <i class="fab fa-facebook"></i>
                                </a>
                            {% endif %}
                            
                            {% if footer.tiktok_url %}
                                <a href="{{ footer.tiktok_url }}" target="_blank" rel="noopener"
                                   style="color: {{ footer.cor_icones_social }}; font-size: 1.5rem; transition: all 0.3s ease;"
                                   onmouseover="this.style.color='{{ footer.cor_links_hover }}'; this.style.transform='translateY(-2px)'"
                                   onmouseout="this.style.color='{{ footer.cor_icones_social }}'; this.style.transform='translateY(0)'">
                                    <i class="fab fa-tiktok"></i>
                                </a>
                            {% endif %}
                        </div>
                    </div>
                    
                </div>
            </div>
            
            <!-- Colunas de Links -->
            {% for column in footer.footer_columns.all %}
                <div class="col-6 col-md-4 col-lg-2 mb-4 mb-lg-0">
                    <div class="semana-footer__column">
                        <h5 class="fw-bold mb-3" style="color: {{ footer.cor_texto_principal }};">
                            {{ column.titulo }}
                        </h5>
                        
                        <ul class="list-unstyled">
                            {% for link_block in column.links %}
                                {% if link_block.block_type == 'link' %}
                                    <li class="mb-2">
                                        <a href="{% if link_block.value.url %}{{ link_block.value.url }}{% elif link_block.value.pagina_interna %}{% pageurl link_block.value.pagina_interna %}{% else %}#{% endif %}"
                                           {% if link_block.value.abrir_nova_aba %}target="_blank" rel="noopener"{% endif %}
                                           style="color: {{ footer.cor_texto_secundario }}; text-decoration: none; transition: color 0.3s ease;"
                                           onmouseover="this.style.color='{{ footer.cor_links }}'"
                                           onmouseout="this.style.color='{{ footer.cor_texto_secundario }}'">
                                            {{ link_block.value.texto }}
                                        </a>
                                    </li>
                                {% endif %}
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            {% endfor %}
            
            <!-- Seção de Contato -->
            <div class="col-12 col-lg-3 mb-4 mb-lg-0">
                <div class="semana-footer__contact">
                    <h5 class="fw-bold mb-3" style="color: {{ footer.cor_texto_principal }};">
                        {{ footer.titulo_contato }}
                    </h5>
                    
                    {% if footer.texto_contato %}
                        <p class="mb-3" style="color: {{ footer.cor_texto_secundario }};">
                            {{ footer.texto_contato }}
                        </p>
                    {% endif %}
                    
                    {% if footer.email_contato %}
                        <p class="mb-2">
                            <a href="mailto:{{ footer.email_contato }}" 
                               style="color: {{ footer.cor_links }}; text-decoration: none; transition: color 0.3s ease;"
                               onmouseover="this.style.color='{{ footer.cor_links_hover }}'"
                               onmouseout="this.style.color='{{ footer.cor_links }}'">
                                <i class="fas fa-envelope me-2"></i>
                                {{ footer.email_contato }}
                            </a>
                        </p>
                    {% endif %}
                    
                    {% if footer.telefone_contato %}
                        <p class="mb-2">
                            <a href="tel:{{ footer.telefone_contato }}" 
                               style="color: {{ footer.cor_links }}; text-decoration: none; transition: color 0.3s ease;"
                               onmouseover="this.style.color='{{ footer.cor_links_hover }}'"
                               onmouseout="this.style.color='{{ footer.cor_links }}'">
                                <i class="fas fa-phone me-2"></i>
                                {{ footer.telefone_contato }}
                            </a>
                        </p>
                    {% endif %}
                </div>
            </div>
            
        </div>
        
        <!-- Copyright -->
        {% if footer.texto_copyright %}
            <div class="row">
                <div class="col-12">
                    <div class="semana-footer__copyright text-center py-3" 
                         style="border-top: 1px solid rgba(255,255,255,0.1); color: {{ footer.cor_texto_secundario }};">
                        <small>{{ footer.texto_copyright }}</small>
                    </div>
                </div>
            </div>
        {% endif %}
        
    </div>
</footer>

<style>
.semana-footer a {
    transition: all 0.3s ease;
}

.semana-footer__column h5 {
    position: relative;
    padding-bottom: 0.5rem;
}

.semana-footer__column h5:after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 30px;
    height: 2px;
    background-color: {{ footer.cor_links }};
}

/* Responsividade */
@media (max-width: 768px) {
    .semana-footer__main {
        text-align: center;
    }
    
    .semana-footer__column h5:after {
        left: 50%;
        transform: translateX(-50%);
    }
}
</style>