# Generated by Django 4.2.8 on 2023-12-27 19:41

from django.db import migrations, models
import django.db.models.fields.json


class Migration(migrations.Migration):
    dependencies = [
        ("tracing", "0005_optimise_tracingrecord_request_log_idx"),
    ]

    operations = [
        migrations.AlterModelOptions(
            name="tracingrecord",
            options={
                "ordering": ["-timestamp"],
                "verbose_name": "Tracing Record",
                "verbose_name_plural": "Tracing Records",
            },
        ),
        migrations.AddIndex(
            model_name="tracingrecord",
            index=models.Index(
                django.db.models.fields.json.KeyTextTransform(
                    "workflow_action_id", "meta"
                ),
                condition=models.Q(("meta__workflow_action_id__isnull", False)),
                name="workflow_action_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="tracingrecord",
            index=models.Index(
                django.db.models.fields.json.KeyTextTransform(
                    "workflow_event_id", "meta"
                ),
                condition=models.Q(("meta__workflow_event_id__isnull", False)),
                name="workflow_event_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="tracingrecord",
            index=models.Index(
                django.db.models.fields.json.KeyTextTransform("workflow_id", "meta"),
                condition=models.Q(("meta__workflow_id__isnull", False)),
                name="workflow_idx",
            ),
        ),
    ]
