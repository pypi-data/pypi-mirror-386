<odoo>
  <record id="action_cooperative_membership_cooperator" model="ir.actions.act_window">
      <field name="name">Cooperators</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">cooperative.membership</field>
      <field name="view_mode">tree</field>
      <field name="search_view_id" eval="False" /> <!-- Force empty -->
      <field name="view_id" eval="False" /> <!-- Force empty -->
      <field name="domain">[('member','=',True)]</field>
  </record>
  <record
    id="action_cooperative_membership_representative"
    model="ir.actions.act_window"
  >
      <field name="name">Representatives</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">cooperative.membership</field>
      <field name="view_mode">tree</field>
      <field name="search_view_id" eval="False" /> <!-- Force empty -->
      <field name="view_id" eval="False" /> <!-- Force empty -->
      <field name="domain">[('representative','=',True)]</field>
  </record>
  <!--<record-->
  <!--  id="action_cooperative_membership_coop_candidate"-->
  <!--  model="ir.actions.act_window"-->
  <!-->-->
  <!--    <field name="name">Cooperator candidates</field>-->
  <!--    <field name="type">ir.actions.act_window</field>-->
  <!--    <field name="res_model">cooperative.membership</field>-->
  <!--    <field name="view_mode">tree</field>-->
  <!--    <field name="search_view_id" eval="False" /> [> Force empty <]-->
  <!--    <field name="view_id" eval="False" /> [> Force empty <]-->
  <!--    <field name="domain">[('coop_candidate','=',True)]</field>-->
  <!--</record>-->
  <record id="action_cooperative_membership_old_member" model="ir.actions.act_window">
      <field name="name">Old Cooperators</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">cooperative.membership</field>
      <field name="view_mode">tree</field>
      <field name="search_view_id" eval="False" /> <!-- Force empty -->
      <field name="view_id" eval="False" /> <!-- Force empty -->
      <field name="domain">[('old_member','=',True)]</field>
  </record>
  <record id="action_cooperative_membership" model="ir.actions.act_window">
      <field name="name">Memberships</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">cooperative.membership</field>
      <field name="view_mode">tree,form</field>
      <field name="search_view_id" eval="False" /> <!-- Force empty -->
      <field name="view_id" eval="False" /> <!-- Force empty -->
  </record>
  <record id="cooperative_membership_search" model="ir.ui.view">
      <field name="name">cooperative.membership.search</field>
      <field name="model">cooperative.membership</field>
      <field name="type">search</field>
      <field name="arch" type="xml">
        <search>
          <field name="partner_id" />
          <field name="partner_email" />
          <field name="partner_vat" />
        </search>
      </field>
  </record>
  <record id="member_cooperative_membership_tree" model="ir.ui.view">
      <field name="name">cooperative.membership.tree</field>
      <field name="model">cooperative.membership</field>
      <field name="arch" type="xml">
        <tree create="false" delete="false">
          <field name="cooperator_register_number" />
          <field name="partner_id" widget="many2one" />
          <field name="partner_email" />
          <field name="partner_phone" />
          <field name="partner_vat" />
          <field name="number_of_share" />
          <field name="total_value" />
          <field name="effective_date" />
          <field name="company_id" />
        </tree>
      </field>
  </record>
  <record id="representative_cooperative_membership_tree" model="ir.ui.view">
      <field name="name">cooperative.membership.tree</field>
      <field name="model">cooperative.membership</field>
      <field name="arch" type="xml">
        <tree create="false" delete="false">
              <field name="partner_id" widget="many2one" />
              <field name="partner_email" />
              <field name="partner_phone" />
              <field name="partner_vat" />
              <field name="representative_of_member_company" />
              <field name="company_id" />
        </tree>
      </field>
  </record>
  <!--<record id="coop_candidate_cooperative_membership_tree" model="ir.ui.view">-->
  <!--    <field name="name">cooperative.membership.tree</field>-->
  <!--    <field name="model">cooperative.membership</field>-->
  <!--    <field name="arch" type="xml">-->
  <!--        <tree create="false" delete="false">-->
  <!--            <field name="partner_id" widget="many2one" />-->
  <!--            <field name="partner_email" />-->
  <!--            <field name="partner_phone" />-->
  <!--            <field name="partner_vat" />-->
  <!--            <field name="company_id" />-->
  <!--        </tree>-->
  <!--    </field>-->
  <!--</record>-->
  <record id="old_coop_cooperative_membership_tree" model="ir.ui.view">
      <field name="name">cooperative.membership.tree</field>
      <field name="model">cooperative.membership</field>
      <field name="arch" type="xml">
        <tree create="false" delete="false">
          <field name="cooperator_register_number" />
          <field name="partner_id" widget="many2one" />
          <field name="partner_email" />
          <field name="partner_phone" />
          <field name="partner_vat" />
          <field name="effective_date" />
          <field name="company_id" />
        </tree>
      </field>
  </record>
  <record id="cooperative_membership_tree" model="ir.ui.view">
      <field name="name">cooperative.membership.tree</field>
      <field name="model">cooperative.membership</field>
      <field name="arch" type="xml">
          <tree>
              <field name="cooperator_register_number" />
              <field name="partner_id" />
              <field name="partner_email" />
              <field name="partner_phone" />
              <field name="partner_vat" />
              <field name="cooperator" />
              <field name="member" />
              <field name="coop_candidate" />
              <field name="old_member" />
              <field name="representative" />
              <field name="representative_of_member_company" />
              <field name="number_of_share" />
              <field name="total_value" />
              <field name="effective_date" />
              <field name="company_id" />
          </tree>
      </field>
  </record>
  <record id="cooperative_membership_form" model="ir.ui.view">
      <field name="name">cooperative.membership.form</field>
      <field name="model">cooperative.membership</field>
      <field name="arch" type="xml">
          <form>
            <field name="id" invisible="1" />
            <header>
              <button
            name="action_create_share_line_wizard"
            type="object"
            string="Create share line"
            attrs="{'invisible': [('id', '=', False)]}"
          />
            </header>
            <group>
              <field name="company_id" />
              <field name="partner_id" />
              <field name="partner_email" />
              <field name="partner_phone" />
              <field name="partner_vat" />
            </group>
            <group>
              <field name="cooperator_register_number" readonly="0" />
              <field name="number_of_share" />
              <field name="total_value" />
              <field name="cooperator_type" />
              <field name="effective_date" readonly="0" />
            </group>
            <group>
              <field name="cooperator" />
              <field name="member" readonly="0" />
              <field name="coop_candidate" readonly="0" />
              <field name="old_member" />
              <field name="representative" readonly="0" />
              <field name="representative_of_member_company" />
            </group>
            <group attrs="{'invisible': [('id', '=', False)]}">
              <field name="share_ids" widget="one2many" readonly="0">
                <tree create="false" delete="false">
                  <field name="id" />
                  <field name="share_product_id" />
                  <field name="share_number" />
                  <field name="share_unit_price" />
                  <field name="effective_date" />
                  <field name="total_amount_line" />
                  <field name="related_invoice_line" />
                </tree>
                <form>
                  <group>
                    <field name="effective_date" readonly="0" required="1" />
                    <field name="share_product_id" domain="[('is_share','=',True)]" />
                    <field name="share_number" readonly="0" />
                    <field name="share_unit_price" />
                    <field name="total_amount_line" />
                    <field name="partner_id_id" invisible="True"/>
                    <field name="company_id_id" invisible="True"/>
                    <field name="share_product_id_id" invisible="True"/>
                    <field name="related_invoice_line" domain="[('move_id.partner_id', '=', partner_id_id),('move_id.company_id', '=', company_id_id),('move_id.payment_state', '=', 'paid'),('price_subtotal', '=', total_amount_line),('product_id', '=', share_product_id_id)]" />
                  </group>
                </form>
              </field>
              <field name="subscription_request_ids" widget="one2many">
                <tree>
                  <field name="firstname" />
                  <field name="lastname" />
                  <field name="company_name" />
                  <field name="date" />
                  <field name="type" />
                  <field name="ordered_parts" />
                  <field name="subscription_amount" />
                  <field name="email" />
                  <field name="partner_id" />
                  <field name="source" />
                  <field name="state" />
                </tree>
              </field>
              <field name="subscription_invoice_ids" widget="one2many">
                <tree>
                  <field name="name" />
                  <field name="date" />
                  <field name="payment_date" />
                  <field name="amount_total_signed" />
                  <field name="payment_state" widget="badge" />
                  <field name="state" widget="badge" />
                </tree>
              </field>
            </group>
            <group>
              <field name="data_policy_approved" />
              <field name="internal_rules_approved" />
              <field name="financial_risk_approved" />
              <field name="generic_rules_approved" />
            </group>
          </form>
      </field>
  </record>
  <record
    model="ir.actions.act_window.view"
    id="action_cooperative_membership_cooperator_tree"
  >
    <field name="sequence" eval="1" />
    <field name="view_mode">tree</field>
    <field name="view_id" ref="member_cooperative_membership_tree" />
    <field name="act_window_id" ref="action_cooperative_membership_cooperator" />
  </record>
  <record
    model="ir.actions.act_window.view"
    id="action_cooperative_membership_representative_tree"
  >
    <field name="sequence" eval="1" />
    <field name="view_mode">tree</field>
    <field name="view_id" ref="representative_cooperative_membership_tree" />
    <field name="act_window_id" ref="action_cooperative_membership_representative" />
  </record>
  <!--<record-->
  <!--  model="ir.actions.act_window.view"-->
  <!--  id="action_cooperative_membership_coop_candidate_tree"-->
  <!-->-->
  <!--  <field name="sequence" eval="1" />-->
  <!--  <field name="view_mode">tree</field>-->
  <!--  <field name="view_id" ref="coop_candidate_cooperative_membership_tree" />-->
  <!--  <field name="act_window_id" ref="action_cooperative_membership_coop_candidate" />-->
  <!--</record>-->
  <record
    model="ir.actions.act_window.view"
    id="action_cooperative_membership_old_member_tree"
  >
    <field name="sequence" eval="1" />
    <field name="view_mode">tree</field>
    <field name="view_id" ref="old_coop_cooperative_membership_tree" />
    <field name="act_window_id" ref="action_cooperative_membership_old_member" />
  </record>
  <record model="ir.actions.act_window.view" id="action_cooperative_membership_tree">
    <field name="sequence" eval="1" />
    <field name="view_mode">tree</field>
    <field name="view_id" ref="cooperative_membership_tree" />
    <field name="act_window_id" ref="action_cooperative_membership" />
  </record>
  <!--<menuitem-->
  <!--  name="Cooperator candidates"-->
  <!--  id="menu_cooperative_membership_coop_candidate"-->
  <!--  action="action_cooperative_membership_coop_candidate"-->
  <!--  parent="cooperator.menu_cooperator_main_coop"-->
  <!--  groups="cooperator.cooperator_group_user"-->
  <!--  sequence="230"-->
  <!--/>-->
  <menuitem
    name="Old cooperators"
    id="menu_cooperative_membership_old_member"
    action="action_cooperative_membership_old_member"
    parent="cooperator.menu_cooperator_main_coop"
    groups="cooperator.cooperator_group_user"
    sequence="240"
  />
  <menuitem
    name="Memberships"
    id="menu_cooperative_membership"
    action="action_cooperative_membership"
    parent="cooperator.menu_cooperator_main_coop"
    groups="energy_communities.group_platform_manager"
    sequence="250"
  />
</odoo>
