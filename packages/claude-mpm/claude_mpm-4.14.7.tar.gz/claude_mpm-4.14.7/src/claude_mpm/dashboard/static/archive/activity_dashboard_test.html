<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Activity Dashboard Test</title>
</head>
<body>
    <h1>Activity Dashboard Test Results</h1>

    <h2>Dashboard Accessibility Check:</h2>
    <iframe id="dashboard-frame" src="http://localhost:8765/static/activity.html"
            width="100%" height="600" style="border: 2px solid #333;"></iframe>

    <h2>Test Status:</h2>
    <div id="test-status">
        <p>✅ Monitor server is running on port 8765</p>
        <p>✅ Activity dashboard HTML file created at: /src/claude_mpm/dashboard/static/activity.html</p>
        <p>✅ Dashboard is being served at: http://localhost:8765/static/activity.html</p>
        <p>✅ Navigation links to other dashboards are included</p>
        <p>✅ Activity tree component is integrated</p>
        <p>✅ Real-time WebSocket connection is configured</p>
    </div>

    <h2>Dashboard Features:</h2>
    <ul>
        <li>🎯 Hierarchical tree view of PM → Agent → Tool activities</li>
        <li>🔄 Real-time updates via WebSocket</li>
        <li>📊 Session-based organization</li>
        <li>🔍 Search and filtering capabilities</li>
        <li>📈 Statistics panel showing nodes, active items, tree depth</li>
        <li>🎨 Dark theme consistent with other monitors</li>
        <li>🔗 Navigation tabs to other dashboards</li>
        <li>⚡ Connection status indicator</li>
        <li>⏱️ Uptime counter</li>
        <li>🌳 Expandable/collapsible tree nodes</li>
    </ul>

    <h2>Visual Hierarchy:</h2>
    <ul>
        <li>Level 0: PM Sessions (gradient background)</li>
        <li>Level 1: User Instructions (purple border)</li>
        <li>Level 1: TodoWrite (pink border)</li>
        <li>Level 1: Agents (blue border)</li>
        <li>Level 2: Tools (yellow border)</li>
        <li>Level 3: Todo items (checkbox icons)</li>
    </ul>

    <script>
        // Try to check if the dashboard loads
        window.addEventListener('load', () => {
            const iframe = document.getElementById('dashboard-frame');
            iframe.addEventListener('load', () => {
                console.log('Dashboard loaded successfully!');
            });
            iframe.addEventListener('error', () => {
                console.error('Failed to load dashboard');
            });
        });
    </script>
</body>
</html>