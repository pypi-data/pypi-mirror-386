"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[51531],{560053:(e,t)=>{/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function r(e,t){var r=e.length;for(e.push(t);0<r;){var i=r-1>>>1,n=e[i];if(0<l(n,t))e[i]=t,e[r]=n,r=i;else break}}function i(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;for(var i=0,n=e.length,o=n>>>1;i<o;){var a=2*(i+1)-1,s=e[a],d=a+1,c=e[d];if(0>l(s,r))d<n&&0>l(c,s)?(e[i]=c,e[d]=r,i=d):(e[i]=s,e[a]=r,i=a);else if(d<n&&0>l(c,r))e[i]=c,e[d]=r,i=d;else break}}return t}function l(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o,a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,d=s.now();t.unstable_now=function(){return s.now()-d}}var c=[],u=[],_=1,p=null,h=3,f=!1,m=!1,g=!1,b="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=i(u);null!==t;){if(null===t.callback)n(u);else if(t.startTime<=e)n(u),t.sortIndex=t.expirationTime,r(c,t);else break;t=i(u)}}function w(e){if(g=!1,x(e),!m){if(null!==i(c))m=!0,R(P);else{var t=i(u);null!==t&&L(w,t.startTime-e)}}}function P(e,r){m=!1,g&&(g=!1,v(k),k=-1),f=!0;var l=h;try{for(x(r),p=i(c);null!==p&&(!(p.expirationTime>r)||e&&!I());){var o=p.callback;if("function"==typeof o){p.callback=null,h=p.priorityLevel;var a=o(p.expirationTime<=r);r=t.unstable_now(),"function"==typeof a?p.callback=a:p===i(c)&&n(c),x(r)}else n(c);p=i(c)}if(null!==p)var s=!0;else{var d=i(u);null!==d&&L(w,d.startTime-r),s=!1}return s}finally{p=null,h=l,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S=!1,A=null,k=-1,E=5,j=-1;function I(){return!(t.unstable_now()-j<E)}function T(){if(null!==A){var e=t.unstable_now();j=e;var r=!0;try{r=A(!0,e)}finally{r?o():(S=!1,A=null)}}else S=!1}if("function"==typeof y)o=function(){y(T)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,C=O.port2;O.port1.onmessage=T,o=function(){C.postMessage(null)}}else o=function(){b(T,0)};function R(e){A=e,S||(S=!0,o())}function L(e,r){k=b(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,R(P))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,n,l){var o=t.unstable_now();switch(l="object"==typeof l&&null!==l&&"number"==typeof(l=l.delay)&&0<l?o+l:o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return a=l+a,e={id:_++,callback:n,priorityLevel:e,startTime:l,expirationTime:a,sortIndex:-1},l>o?(e.sortIndex=l,r(u,e),null===i(c)&&e===i(u)&&(g?(v(k),k=-1):g=!0,L(w,l-o))):(e.sortIndex=a,r(c,e),m||f||(m=!0,R(P))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},363840:(e,t,r)=>{e.exports=r(560053)},653250:(e,t,r)=>{/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=r(667294),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=i.useState,o=i.useEffect,a=i.useLayoutEffect,s=i.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),i=l({inst:{value:r,getSnapshot:t}}),n=i[0].inst,c=i[1];return a(function(){n.value=r,n.getSnapshot=t,d(n)&&c({inst:n})},[e,r,t]),o(function(){return d(n)&&c({inst:n}),e(function(){d(n)&&c({inst:n})})},[e]),s(r),r};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:c},950139:(e,t,r)=>{/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=r(667294),n=r(61688),l="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useSyncExternalStore,a=i.useRef,s=i.useEffect,d=i.useMemo,c=i.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,i,n){var u=a(null);if(null===u.current){var _={hasValue:!1,value:null};u.current=_}else _=u.current;var p=o(e,(u=d(function(){function e(e){if(!s){if(s=!0,o=e,e=i(e),void 0!==n&&_.hasValue){var t=_.value;if(n(t,e))return a=t}return a=e}if(t=a,l(o,e))return t;var r=i(e);return void 0!==n&&n(t,r)?t:(o=e,a=r)}var o,a,s=!1,d=void 0===r?null:r;return[function(){return e(t())},null===d?void 0:function(){return e(d())}]},[t,r,i,n]))[0],u[1]);return s(function(){_.hasValue=!0,_.value=p},[p]),c(p),p}},61688:(e,t,r)=>{e.exports=r(653250)},552798:(e,t,r)=>{e.exports=r(950139)},84928:e=>{var t,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null}],type:"Pin",abstractKey:null};r.hash="cabaa35ed7d59dee006897bf3ef32e3d",e.exports=r},237693:(e,t,r)=>{r.d(t,{Z:()=>d});var i=r(667294),n=r(883119),l=r(898781),o=r(773285),a=r(780280),s=r(785893);function d({collapsed:e,displayViewState:t,forceTappableHeader:r,headerPaddingRight:d,headerPreview:c,heading:u,onClick:_,showArrow:p}){let h=(0,l.ZP)(),{checkExperiment:f}=(0,o.F)(),{isAuthenticated:m}=(0,a.B)(),g=m?f("auth_closeup_redesign").anyEnabled:f("unauth_closeup_redesign").anyEnabled;return(0,s.jsx)(i.Fragment,{children:r||null!==t?(0,s.jsx)(n.iP,{onTap:_,children:(0,s.jsxs)(n.kC,{alignItems:"center",dataTestId:"collapsible-header",direction:"row",flex:"grow",justifyContent:"between",children:[(0,s.jsx)(n.X6,{align:"start",size:g?"300":"400",accessibilityLevel:2,id:"comments-heading",children:u}),(0,s.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingRight:d}},direction:"row",display:"flex",children:[e&&c,p&&(0,s.jsx)(n.xu,{"data-test-id":"collapse-button",display:"flex",marginStart:c?4:0,width:48,alignItems:"center",justifyContent:"center",children:(0,s.jsx)(n.JO,{accessibilityLabel:h._('Expand icon', 'accordion.actionButton', 'accessibility label on accordion'),color:"default",icon:e?"arrow-down":"arrow-up"})})]})]})}):(0,s.jsx)(n.X6,{align:"start",size:"400",accessibilityLevel:2,id:"comments-heading",children:u})})}},485710:(e,t,r)=>{r.d(t,{Z:()=>c});var i=r(667294),n=r(883119),l=r(237693),o=r(773285),a=r(780280),s=r(50286),d=r(785893);function c({children:e,displayViewState:t,forceTappableHeader:r,headerPaddingRight:c,headerPreview:u,heading:_,collapseByDefault:p=!0}){let h=(0,s.ml)(),{checkExperiment:f}=(0,o.F)(),{isAuthenticated:m,isBot:g}=(0,a.B)(),b=h&&f(m?"closeup_auth_mweb_collapsable_modules":"closeup_unauth_mweb_collapsable_modules").group||"",v=["no_collapse_by_default","collapse_by_default"].includes(b),y="collapse_by_default"===b,[x,w]=(0,i.useState)(v&&!g&&y&&p||[1,2].includes(t));return(0,d.jsxs)(n.kC,{direction:"column",dataTestId:"collapsible-layout",gap:v?4:0,children:[(0,d.jsx)(l.Z,{collapsed:x,displayViewState:t,forceTappableHeader:r,headerPaddingRight:c,headerPreview:u,heading:_,onClick:()=>{w(!x)},showArrow:!0}),!x&&(0,d.jsx)(n.xu,{children:e})]})}},288889:(e,t,r)=>{r.d(t,{n:()=>i});let i="300"},319530:(e,t,r)=>{r.d(t,{Z:()=>d});var i=r(667294),n=r(883119),l=r(288889),o=r(643010),a=r(898781),s=r(785893);function d({children:e,maxLines:t=10}){let r=(0,i.useRef)(null),[d,c]=(0,i.useState)({isFirstLoad:!0,isTruncated:!1}),u=(0,a.ZP)(),_=(0,o.vs)(),p=_?"#111":"#fff",{isFirstLoad:h,isTruncated:f}=d;return(0,i.useEffect)(()=>{var e;h&&r.current&&((e=r.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&c({isFirstLoad:!1,isTruncated:!0})},[h,f]),(0,s.jsxs)(n.xu,{position:"relative","data-test-id":"truncated-text",children:[(0,s.jsx)(n.xv,{ref:r,lineClamp:h||f?t:0,inline:!0,children:e}),f&&(0,s.jsx)(n.xu,{position:"absolute",display:"block",width:"100%",bottom:!0,children:(0,s.jsxs)(n.kC,{flex:"grow",children:[(0,s.jsx)(n.xu,{display:"inlineBlock",width:"120px",height:"14px"}),(0,s.jsx)(n.xu,{"data-test-id":"more-button",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{paddingLeft:15,background:`linear-gradient(90deg, transparent 0%, ${p} 15%)`}},children:(0,s.jsx)(n.iP,{fullWidth:!1,onTap:()=>c({...d,isTruncated:!1}),children:(0,s.jsx)(n.xv,{inline:!0,size:l.n,weight:"bold",children:u._(' \u2026 more', 'closeup.TruncatedTextContent.moreLabel', 'Expand content label')})})}),(0,s.jsx)(n.xu,{display:"inlineBlock",flex:"grow",dangerouslySetInlineStyle:{__style:{background:p}}})]})})]})}},512176:(e,t,r)=>{r.d(t,{Z:()=>c});var i=r(667294),n=r(883119),l=r(112690),o=r(898781),a=r(967181),s=r(785893);let d={sm:12,md:16,lg:20,xl:24};function c({isVerifiedMerchant:e,size:t,showText:r,showVerifiedIdentity:c,inspirationalBadges:u,inspirationalBadgesColor:_}){let p=(0,o.ZP)(),[h,f]=(0,i.useState)(!1),{dangerousInlineStyle:m,iconColor:g}=(0,a.W)(!!e),b=(0,l.Z)();return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(n.iP,{onTap:()=>{b({component:13534,element:11717,event_type:102}),f(!0)},rounding:"circle",children:(0,s.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:m,display:"flex","data-test-id":"verified-badge-icon",children:[(0,s.jsx)(n.JO,{accessibilityLabel:e?p._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'):p._('Badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),icon:"workflow-status-ok",color:g,inline:!0,size:d[t]}),r&&!c&&(0,s.jsx)(n.xu,{marginStart:2,children:(0,s.jsx)(n.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,s.jsx)(n.xu,{dangerouslySetInlineStyle:m,children:p._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})})]})}),(e||r&&!c)&&(0,s.jsx)(a.Z,{showModal:h,setShowModal:f,inspirationalBadges:u,inspirationalBadgesColor:_})]})}},967181:(e,t,r)=>{r.d(t,{W:()=>u,Z:()=>_});var i=r(667294),n=r(883119),l=r(752403),o=r(112690),a=r(121151),s=r(898781),d=r(966113),c=r(785893);let u=e=>{let t=e?"shopping":"error";return{iconColor:t,dangerousInlineStyle:{__style:{color:t}}}};function _({inspirationalBadges:e=[],inspirationalBadgesColor:t,showModal:r,setShowModal:_}){let p=(0,s.ZP)(),[h,f]=(0,i.useState)(!0),{dangerousInlineStyle:m,iconColor:g}=u(!0),b=(0,o.Z)();return(0,i.useEffect)(()=>{r&&h&&(f(!1),b({event_type:13,component:13534}))},[r]),(0,c.jsx)(a.ZP,{accessibilityModalLabel:p._('Verified merchant information', 'creator.verifiedMerchant.accessibilityModalLabel', 'Accessibility label for modal informing about a verified merchant'),isOpen:r,mobileAccessibilityCloseIconLabel:p._('Close', 'Close modal window', 'Close modal'),onDismiss:()=>{b({component:13534,element:11716,event_type:102}),_(!1)},type:"verified_merchant_modal",children:(0,c.jsx)(n.xu,{padding:3,children:(0,c.jsxs)(n.xu,{display:"flex",direction:"column",padding:2,"data-test-id":"verified-badge-modal",children:[(0,c.jsx)(n.xu,{display:"flex",dangerouslySetInlineStyle:m,justifyContent:"center",children:(0,c.jsx)(n.JO,{accessibilityLabel:p._('Merchant verification badge icon', 'creator.verifiedMerchant.modalIcon', 'Badge indicating that a merchant or user is verified'),color:g,icon:"workflow-status-ok",size:24})}),(0,c.jsx)(n.xu,{marginTop:4,children:(0,c.jsx)(n.xv,{color:"shopping",weight:"bold",align:"center",children:(0,c.jsx)(n.xu,{dangerouslySetInlineStyle:m,children:p._('Verified merchant', 'creator.verifiedMerchant.modalHeader', 'this merchant is a verified merchant')})})}),(0,c.jsx)(n.xu,{marginTop:4,marginBottom:4,children:(0,c.jsx)(n.xv,{align:"center",overflow:"normal",children:p._('This retailer meets Pinterest\'s Merchant Guidelines', 'creator.verifiedMerchant.modalText.', 'this merchant is a verified merchant')})}),e.map(e=>(0,c.jsxs)(n.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,c.jsx)(n.kC,{alignItems:"stretch",justifyContent:"center",children:(0,c.jsx)(n.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,c.jsx)(n.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,dangerouslySetInlineStyle:{__style:(0,l.ym)(t)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,c.jsx)(n.xu,{marginTop:2,children:(0,c.jsx)(n.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id)),(0,c.jsx)(n.xu,{display:"flex",marginTop:8,justifyContent:"center",width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,c.jsx)(n.ZP,{accessibilityLabel:p._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com'),target:"blank",size:"lg",href:d.vBy,text:p._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com')})})]})})})}},100183:(e,t,r)=>{r.d(t,{CC:()=>n,Ll:()=>o,XF:()=>l});let i=(e,t,r)=>({x:Math.floor(e*Math.cos(r)),y:Math.floor(t*Math.sin(r))}),n=(e,t)=>i(t/2,e/2,2*Math.random()*Math.PI),l=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,o=e=>["@-webkit-keyframes","@keyframes"].map(t=>e.map(e=>t+" "+e).join("\n")).join("\n")},792182:(e,t,r)=>{r.d(t,{Z:()=>s});var i=r(667294);function n(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function l(){return window.innerWidth}function o(){return window.innerHeight}function a(){return null}function s(){let e=(0,i.useSyncExternalStore)(n,o,a),t=(0,i.useSyncExternalStore)(n,l,a);return null!==e&&null!==t?{height:e,width:t}:null}},752403:(e,t,r)=>{r.d(t,{Bu:()=>h,Dm:()=>a,I:()=>g,NG:()=>_,QP:()=>c,S4:()=>d,Xe:()=>u,_f:()=>p,eT:()=>f,hm:()=>m,yQ:()=>s,ym:()=>b});var i=r(642345);let n=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),l=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),o=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),a=[...Object.keys(n).map(e=>n[e]),...Object.keys(l).map(e=>l[e])],s=[...Object.keys(o).map(e=>o[e])],d=3,c=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],u={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:c[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},_="https://help.pinterest.com/article/merchant-details",p="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function h({verifiedMerchant:e}){var t,r;let i=null==e?void 0:e.isVerifiedMerchant,n=null==e?void 0:null===(t=e.inspirational_signal)||void 0===t?void 0:t.is_inspirational,l=null==e?void 0:null===(r=e.inspirational_signal)||void 0===r?void 0:r.is_eligible_for_storefront_badges;return!!(i&&n&&l)}function f(e){return e.badge_details?e.badge_details.map(e=>e.id):[]}function m(e){return(null==e?void 0:e.profile_badges)||[]}function g(e,t,r){return t&&r?t.map(e=>r.find(t=>t.id===e.trim())).filter(Boolean):[]}function b(e){let t=e||c[0];return{backgroundColor:t,color:function(e){let t=(0,i.oo)(e);if(!t)return"white";let[r,n,l]=t,o=(0,i.DW)(r,n,l);return o<=i.I?"white":"black"}(t)}}},41861:(e,t,r)=>{r.d(t,{Z:()=>i});function i(e){return function e(t,r){let i;if(null==t||"object"!=typeof t&&"function"!=typeof t)return t;let n=r.find(e=>e.value===t);if(n)return n.result;let l=Object.prototype.toString.call(t);switch(l){case"[object Array]":i=Array(t.length);break;case"[object Set]":i=new Set;break;case"[object Object]":case"[object Arguments]":i={};break;case"[object Map]":i=new Map;break;default:return t}let o=[...r,{value:t,result:i}];switch(l){case"[object Array]":t.forEach((t,r)=>{i[r]=e(t,o)});break;case"[object Set]":t.forEach(t=>{i.add(e(t,o))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(([t,r])=>{i[t]=e(r,o)});break;case"[object Map]":t.forEach((t,r)=>{i.set(r,e(t,o))})}return i}(e,[])}},642345:(e,t,r)=>{r.d(t,{DW:()=>l,I:()=>n,oo:()=>i,zI:()=>o});let i=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},n=.18,l=(e,t,r)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(r/255)**2.2,o=e=>{let t=e.replace("#",""),r=parseInt(t.substr(0,2),16),i=parseInt(t.substr(2,2),16),n=parseInt(t.substr(4,2),16);return(299*r+587*i+114*n)/1e3<155}},594736:(e,t,r)=>{function i(e,t,r){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1)if(!l(e[i],t[i],r+1))return!1;return!0}function n(e,t,r){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e)if(!(i in t)||!l(e[i],t[i],r+1))return!1;return!0}function l(e,t,r){if(r>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!=typeof e&&"object"!=typeof t)return e!=e&&t!=t;let l=Object.prototype.toString.call(e),o=Object.prototype.toString.call(t);if(l!==o)return!1;switch(l){case"[object Array]":return i(e,t,r);case"[object Set]":return i(Array.from(e).sort(),Array.from(t).sort(),r);case"[object Object]":case"[object Arguments]":return n(e,t,r);case"[object Map]":return n(Object.fromEntries(e),Object.fromEntries(t),r);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function o(e,t){return l(e,t,0)}r.d(t,{ZP:()=>o})},722767:(e,t,r)=>{r.d(t,{Z:()=>a});var i=r(667294),n=r(973935);function l(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class o extends i.Component{constructor(...e){super(...e),l(this,"observer",null),l(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){let e=n.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return i.Children.only(this.props.children)}}let a=o},375571:(e,t,r)=>{r.d(t,{Z:()=>a});var i=r(667294),n=r(395164),l=r(67347);function o(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class a extends i.Component{constructor(...e){super(...e),o(this,"state",{error:null,info:null}),o(this,"resetError",()=>{this.setState({error:null,info:null})})}componentDidCatch(e,t){try{var r;let{name:t}=this.props,i=this.props.type||"secondary";(0,n.T)({extraData:null!==(r=e.extraData)&&void 0!==r?r:{},errorBoundary:t,errorBoundaryType:i,message:e.message,name:e.name,stack:e.stack}),(0,l.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,l.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}render(){let{renderErrorState:e}=this.props,{error:t,info:r}=this.state;return t&&r?e?e({error:t,info:r,resetError:this.resetError}):null:this.props.children}}},319915:(e,t,r)=>{r.d(t,{Z:()=>n});var i=r(375571);let n=i.Z},332611:(e,t,r)=>{let i;r.d(t,{Am:()=>g,Ig:()=>f,N:()=>x,Sd:()=>b,YX:()=>y,be:()=>m,fO:()=>_,kd:()=>v,pz:()=>p});var n=r(667294),l=r(214494),o=r(112690),a=r(764990),s=r(957191),d=r(186656),c=r(67347);let u=(e,t,r={})=>(0,c.nP)(`${e}.${t}`,{sampleRate:1,tags:r}),_=(e,t)=>r=>{let i=t?{extra_context:e,targeting:t}:{extra_context:e};return l.Z.create("UserExperiencePlatformResource",i).callGet().then(e=>e.resource_response?r((0,s.OD)(e.resource_response.data)):void 0)},p=(e,t,r,n)=>(o,d)=>{if(t)return Promise.resolve();if(n&&(i=n),1===e.length){let t=e[0],i=d().experiences,n=i[t],l=(null==n?void 0:n.extraContext)||null;if(JSON.stringify(l)===JSON.stringify(r)||(0,a.E3)(n)&&!(r&&Object.keys(r).length>0))return Promise.resolve()}return l.Z.create("UserExperienceResource",{placement_ids:e,extra_context:r||null,targeting:n}).callGet().then(e=>e.resource_response?o((0,s.cL)(e.resource_response.data)):void 0)},h=(e,t,r,n)=>(o,a,d,c=!1,u,p)=>(h,f)=>{let{experiences:m,experiencesMulti:g}=f(),b=null,v=!0;if(!c){var y;b=(v=m[o]&&m[o].experience_id===a)?m[o]:Array.isArray(g[o])&&(null===(y=g[o])||void 0===y?void 0:y.find(e=>e.experience_id===a))}if(b&&b.experience_id===a||c&&o&&a){let c=l.Z.create(e,{placed_experience_id:`${o}%3A${a}`,extra_context:null!=u?u:{},targeting:p}),f=v?s.Yb:s.xW;switch(t){case"dismissed":return c.callDelete().then(()=>{h(f(o,a,t)),h(_(void 0,i)),r&&n&&r({event_type:n,object_id_str:a.toString()})});case"completed":return c.callUpdate().then(()=>{!d&&(h(f(o,a,t)),h(_(void 0,i)),r&&n&&r({event_type:n,object_id_str:a.toString()}))});case"viewed":return h(f(o,a,t)),c.callUpdate().then(()=>{1000162===o&&h(_()),r&&n&&r({event_type:n,object_id_str:a.toString()})});case"completedWithoutHomefeed":return c.callUpdate().then(()=>{d||h(f(o,a,t)),r&&n&&r({event_type:n,object_id_str:a.toString()})})}}return Promise.resolve()},f=()=>{let e=(0,o.Z)(),t=(0,n.useCallback)(h("UserExperienceViewedResource","viewed",e,4503),[e]);return t},m=()=>{let e=(0,o.Z)(),t=(0,n.useCallback)(h("UserExperienceCompletedResource","completed",e,6567),[e]);return t},g=()=>{let e=(0,o.Z)(),t=(0,n.useCallback)(h("UserExperienceResource","dismissed",e,6568),[e]);return t},b=()=>{let e=(0,o.Z)(),t=(0,n.useCallback)(h("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e]);return t},v=(e,t)=>(r,i)=>{let{experiences:n}=i(),l=n[e];l&&l.triggerable_placed_exps&&l.triggerable_placed_exps.length&&l.triggerable_placed_exps.forEach(r=>{let[,i]=r.split(":"),n=t;l.metadata&&l.metadata[i]&&(n={...t,...l.metadata[i]}),(0,d.Z)({url:`/v3/experiences/${r.replace(":","%3A")}/trigger/`,method:"PUT",data:n?{extra_context:JSON.stringify(n,null,1)}:{}}).then(()=>{u("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:i})})})},y=e=>(t,r)=>{t(v(e));let{experiences:i}=r();return i[e]},x=(e,t,r)=>n=>{r&&(i=r),n(v(e,t)),t&&Object.keys(t).length>0&&n(p([e],!1,t,r))}},764990:(e,t,r)=>{r.d(t,{A0:()=>s,E3:()=>o,MQ:()=>a,fL:()=>d});var i=r(883119),n=r(149230),l=r(785893);function o(e){return!!e&&0!==e.type}let a=(e,t,r)=>{let i=e[r];return t[r]&&o(i)?i:null};function s(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}let d=e=>{var t;let r=new DOMParser,o=r.parseFromString(e,"text/html"),a=[...(null===(t=o.body)||void 0===t?void 0:t.childNodes)||[]].map(e=>{if("A"!==e.nodeName)return(0,l.jsx)(i.xv,{inline:!0,children:e.textContent});{let t=e.href||"",r=(0,n.Z)({url:t});return(0,l.jsx)(i.rU,{href:t,display:"inline",externalLinkIcon:r?"default":"none",target:"blank",rel:r?"nofollow":"none",children:e.textContent})}});return(0,l.jsx)(i.xv,{inline:!0,children:a})}},207737:(e,t,r)=>{r.d(t,{$S:()=>i,V$:()=>n,_4:()=>o,iY:()=>a,mR:()=>l});let i="REFRESH_ALL_EXPERIENCES_MULTI",n="UPDATE_EXPERIENCE_MULTI",l="FETCH_EXPERIENCES",o="REFRESH_ALL_EXPERIENCES",a="UPDATE_EXPERIENCE"},957191:(e,t,r)=>{r.d(t,{NW:()=>a,OD:()=>d,Yb:()=>s,cL:()=>c,xW:()=>o});var i=r(214494),n=r(207737);let l=e=>({type:n.$S,payload:{experiencesMulti:e}}),o=(e,t,r)=>({type:n.V$,payload:{placementId:e,experienceId:t,status:r}}),a=e=>t=>i.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(e=>e.resource_response?t(l(e.resource_response.data)):void 0),s=(e,t,r)=>({type:n.iY,payload:{placementId:e,experienceId:t,status:r}}),d=e=>({type:n._4,payload:{experiences:e}}),c=e=>({type:n.mR,payload:{experiences:e}})},579014:(e,t,r)=>{r.d(t,{B1:()=>n,Md:()=>c,iX:()=>d,lI:()=>l,op:()=>s,uZ:()=>o,wN:()=>i,z_:()=>a});let i="var(--color-background-default)",n="var(--color-background-inverse-base)",l="var(--color-background-secondary-base)",o="var(--color-background-error-base)",a="var(--color-background-info-weak)",s="var(--color-border-error)",d="var(--color-border-container)",c="var(--color-text-subtle)"},858472:(e,t,r)=>{r.d(t,{$$:()=>g,C5:()=>E,CZ:()=>m,EX:()=>l,FZ:()=>i,HH:()=>a,KK:()=>P,Kp:()=>h,Ln:()=>f,Mv:()=>A,OX:()=>o,P6:()=>j,Rb:()=>x,Xn:()=>y,YX:()=>u,bu:()=>d,cO:()=>b,ci:()=>s,fM:()=>v,k6:()=>S,oY:()=>n,sX:()=>k,vZ:()=>_,wA:()=>w,x7:()=>c,xE:()=>p});let i="var(--color-transparent)",n="var(--color-black-cosmicore-900)",l="var(--color-blue-skycicle-900)",o="var(--color-red-pushpin-50)",a="var(--color-red-pushpin-100)",s="var(--color-red-pushpin-200)",d="var(--color-red-pushpin-300)",c="var(--color-red-pushpin-450)",u="var(--color-red-pushpin-500)",_="var(--color-red-pushpin-600)",p="var(--color-red-pushpin-700)",h="var(--color-red-pushpin-800)",f="var(--color-pink-flaminglow-0)",m="var(--color-white-mochimalist-0)",g="var(--color-gray-roboflow-50)",b="var(--color-gray-roboflow-200)",v="var(--color-gray-roboflow-300)",y="var(--color-gray-roboflow-400)",x="var(--color-gray-roboflow-500)",w="var(--color-gray-roboflow-600)",P="var(--color-gray-roboflow-700)",S="var(--color-purple-mysticool-200)",A="var(--color-purple-mysticool-300)",k="var(--color-purple-mysticool-500)",E="var(--color-teal-spabattical-100)",j="var(--color-yellow-caramellow-300)"},934494:(e,t,r)=>{r.d(t,{Z:()=>o});var i=r(667294),n=r(995228),l=r(785893);function o({useGraphQLAdapter:e,useLegacyAdapter:t}){let r=({children:t,data:r})=>t({enabled:!0,data:e(r)}),o=({children:e,data:r})=>e({enabled:!1,data:t(r)});return function({children:e,input:t}){var a;let s=t.enabled?(0,l.jsx)(r,{data:t.data,children:e}):(0,l.jsx)(o,{data:t.data,children:e}),d=null!==(a=t.suspense)&&void 0!==a&&a.dangerouslyServerRender?i.Suspense:n.Z;return t.suspense?(0,l.jsx)(d,{fallback:t.suspense.fallback,children:s}):s}}},298361:(e,t,r)=>{r.d(t,{Z:()=>o});var i=r(202139),n=r(898781),l=r(349700);function o(){let e=(0,n.ZP)();return function(t,r){let n=new Date(t),o=new Date,a=o-n,s=Math.floor(a/i.FS),d=Math.floor(a/i.UK),c=Math.floor(a/i.F4),u=Math.floor(a/i.VL),_=Math.floor(a/i.N1),p=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', s, ' - ', ' -- '),h=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', d, ' - ', ' -- '),f=e.ngettext('{{ days }} day ago', '{{ days }} days ago', c, ' - ', ' -- '),m=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', u, ' - ', ' -- '),g=e.ngettext('{{ years }} year ago', '{{ years }} years ago', _, ' - ', ' -- '),b=e.ngettext('{{ minutes }}m', '{{ minutes }}m', s, 'minutes ago abbreviated', 'minutes ago abbreviated'),v=e.ngettext('{{ hours }}h', '{{ hours }}h', d, 'hours ago abbreviated', 'hours ago abbreviated'),y=e.ngettext('{{ days }}d', '{{ days }}d', c, 'days ago abbreviated', 'days ago abbreviated'),x=e.ngettext('{{ weeks }}w', '{{ weeks }}w', u, 'weeks ago abbreviated', 'weeks ago abbreviated'),w=e.ngettext('{{ years }}y', '{{ years }}y', _, 'years ago abbreviated', 'years ago abbreviated');return _>0?(0,l.nk)(r?w:g,{years:_}).join(""):u>0?(0,l.nk)(r?x:m,{weeks:u}).join(""):c>0?(0,l.nk)(r?y:f,{days:c}).join(""):d>0?(0,l.nk)(r?v:h,{hours:d}).join(""):s>0?(0,l.nk)(r?b:p,{minutes:s}).join(""):e._('Just now', ' - ', ' -- ')}}},926275:(e,t,r)=>{r.d(t,{Z:()=>i});function i(e){if(!e)return!1;let t=new Date(e);return t.setDate(t.getDate()+28),new Date().getTime()<t.getTime()}},313047:(e,t,r)=>{r.r(t),r.d(t,{DEFAULT_HEIGHT:()=>_,DEFAULT_PADDING_Y:()=>p,FixedFooter:()=>m,FixedHeader:()=>f});var i=r(667294),n=r(883119),l=r(643010),o=r(579014),a=r(858472),s=r(124580),d=r(834256),c=r(773285),u=r(785893);let _=64,p=3;function h({children:e,footerConfig:t,headerConfig:r,height:d,hideOnScroll:h,hideOnScrollState:{isHidden:f,updateHiddenState:m},noPadding:g,paddingY:b=p,type:v,zIndex:y}){let x,w;let{headerLimitedOverflow:P,ignoreObstructions:S,zIndexForGestaltBug:A}=r||{},{appUpsellFooterConfig:k,footerInLego:E,navFooterConfig:j}=t||{},I=!!k,T="header"===v?"top":"bottom",{anyEnabled:O}=(0,c.F)().checkExperiment("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}),C=(0,l.vs)(),R=O?C:(0,l.Yc)(),L=(0,i.useRef)(null),Z=(0,i.useRef)(null);(0,i.useEffect)(()=>{try{if(!S){let e=L.current;Z.current=P&&e&&Array.isArray(e.children)?e.children[0]:e,Z.current instanceof HTMLElement&&s.Z.addObstruction(T,Z.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!S&&Z.current instanceof HTMLElement&&s.Z.removeObstruction(T,Z.current)}},[S,P,T,R]);let z="top"===T?"relative":"fixed",D=(null!=d?d:_)+((null==r?void 0:r.overrideTop)||0),N=h||j?{transition:E?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...f?{transform:`translateY(${"top"===T?-D:D}px)`,opacity:E?0:1}:Object.freeze({})}:{},U="relative"!==z||null!=r&&r.noGutter?0:2,F=U?-U:0,M=R?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)";return R&&("header"===v?x=-1:w=-1),(0,u.jsx)(n.xu,{ref:L,dangerouslySetInlineStyle:{__style:{top:x,bottomStyle:w,...!y||A?{zIndex:A||1}:Object.freeze({}),...P?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...null!=r&&r.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...null!=t&&t.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...N}},zIndex:A?void 0:y,"data-test-id":v,display:I?"flex":void 0,height:d&&!E?d:void 0,position:z,bottom:"footer"===v,top:"header"===v,left:!0,right:!0,marginStart:E?"auto":F,marginEnd:E?"auto":F,onTransitionEnd:()=>{(h||j)&&Z.current&&(f?s.Z.removeObstruction(T,Z.current):s.Z.addObstruction(T,Z.current))},width:E||"fixed"!==z?void 0:"100%",children:(0,u.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:(null==r?void 0:r.isTranslucent)&&M||(null==r?void 0:r.isTransparentBackground)&&a.FZ||o.wN,height:E?I?void 0:null!=d?d:_:"100%",boxShadow:E?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:E&&!(null!=j&&j.docked)?16:void 0,...P?{pointerEvents:"auto"}:Object.freeze({}),...null!=r&&r.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==v||g?0:4)+U,paddingY:g?0:b,position:"relative",width:j?j.footerWidth:I?void 0:"100%",rounding:E&&!(null!=j&&j.docked)?"pill":void 0,display:E||null!=t&&t.alignCenter?"flex":void 0,marginStart:E?"auto":void 0,marginEnd:E?"auto":void 0,alignItems:null!=t&&t.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:m}):e})})}function f({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:r,isTranslucent:i,isTransparentBackground:l,noGutter:o,overrideTop:a,useRoundedCorners:s,zIndexForGestaltBug:c,..._}){let{noPadding:f,paddingY:m=p,zIndex:g}=_;return(0,u.jsx)(n.Le,{top:a||0,height:t?44+8*(f?0:m):void 0,zIndex:g||void 0,children:(0,u.jsx)(d.Z,{hideOnScroll:_.hideOnScroll,children:n=>(0,u.jsx)(h,{..._,hideOnScrollState:n,type:"header",headerConfig:{isTranslucent:i,isTransparentBackground:l,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:r,noGutter:o,overrideTop:a,zIndexForGestaltBug:c,useRoundedCorners:s}})})})}function m({alignCenter:e,appUpsellFooterConfig:t,footerInLego:r,hasTopShadow:i,navFooterConfig:n,...l}){return(0,u.jsx)(d.Z,{appUpsellFooterConfig:t,hideOnScroll:l.hideOnScroll,navFooterConfig:null==n?void 0:n.scrollConfig,children:o=>(0,u.jsx)(h,{...l,hideOnScrollState:o,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:r,hasTopShadow:i,navFooterConfig:n}})})}},834256:(e,t,r)=>{r.d(t,{Z:()=>a,m:()=>o});var i=r(667294),n=r(700380);function l(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let o=20;class a extends i.Component{constructor(...e){var t;super(...e),l(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!(null!==(t=this.props.navFooterConfig)&&void 0!==t&&t.isDockedNavOnPlp)}),l(this,"lastScrollPos",0),l(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),l(this,"handleScroll",(0,n.Z)(()=>{var e;let{appUpsellFooterConfig:t,navFooterConfig:r}=this.props,{isHidden:i}=this.state,n=window.scrollY,l=n-this.lastScrollPos,a="none",{scrollHeight:s,clientHeight:d}=document.documentElement||{};if(!Number.isNaN(s)&&!Number.isNaN(d)){if(l<0){let e=window.scrollMinY||0;a=n<=Math.abs(e+Math.max(l,o))?"start":"none"}else{let e=window.scrollMaxY||s-d;a=n>=e-Math.max(l,o)?"end":"none"}}let c=null!=r&&r.isModal?0:55;if(t){if(l>o&&i&&n>=500){let e=t.shouldShowAfterScroll();e&&(this.updateHiddenState(!1),null==r||r.onScroll(!1))}else(l<-o&&!i||n<=c)&&(this.updateHiddenState(!0),null==r||r.onScroll(!0))}else null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp?"start"===a&&!i||n<=c?(this.updateHiddenState(!0),null==r||r.onScroll(!0)):(n>c||"end"===a)&&i&&(this.updateHiddenState(!1),null==r||r.onScroll(!1)):(l<-o||"start"===a)&&i||n<=c?(this.updateHiddenState(!1),null==r||r.onScroll(!1)):(l>o||"end"===a)&&!i&&(this.updateHiddenState(!0),null==r||r.onScroll(!0));this.lastScrollPos=n},30))}componentDidMount(){try{var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){var t,r,i,n;!e.hideOnScroll&&this.props.hideOnScroll||!(null!==(t=e.navFooterConfig)&&void 0!==t&&t.isDockedNavOnPlp)&&null!==(r=this.props.navFooterConfig)&&void 0!==r&&r.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||null!==(i=e.navFooterConfig)&&void 0!==i&&i.isDockedNavOnPlp&&!(null!==(n=this.props.navFooterConfig)&&void 0!==n&&n.isDockedNavOnPlp))&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:r}=this.state,i=!(null!=t&&t.forceShow)&&r;return e({isHidden:i,updateHiddenState:this.updateHiddenState})}}},48714:(e,t,r)=>{r.d(t,{Se:()=>g,iw:()=>v,gV:()=>f,G3:()=>y,Gj:()=>b,Jd:()=>h,$3:()=>m});var i=r(56641),n=r(231486),l=r(226198),o=r(186656),a=r(250059);let s=e=>"string"!=typeof e&&e?e.state:null;var d=r(643913),c=r(547239),u=r(508847),_=r(579164),p=r(333155);let h=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},f=({isOffsiteUrl:e,event:t})=>!e&&(t.metaKey||t.ctrlKey),m=({location:e,pinId:t,surface:r})=>!!r&&!p.ZF.includes(r)||e.pathname.includes(t),g=(e,t)=>{var r,i;let o=Math.round(1e3*Math.random())+"",a=Math.round(1e3*Math.random())+"";n.t8((0,l.GS)(o),a);let s={token:`${o}-${a}`,url:e,...t&&!t.params?t.queryParams:(null==t?void 0:t.params)&&{pin:null!==(r=t.params.pinId)&&void 0!==r?r:void 0,isThirdPartyAd:null!==(i=t.params.isThirdPartyAd)&&void 0!==i?i:void 0,csr:t.params.csrId&&!t.params.pinId?t.params.csrId:void 0,client_tracking_params:t.params.clientTrackingParams,aux_data:t.params.auxData?JSON.stringify(t.params.auxData):void 0}};return`/offsite/?${(0,d.Z)(s)}`},b=(e,t)=>{(0,i.Z)(g(e,t),!0,null==t?void 0:t.features)},v=async({clientTrackingParams:e,href:t,isMounted:r,pinId:i,spamCheckCallback:n})=>{let l=await (0,o.Z)({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:e,pin_id:i,url:t}});if(!l.resource_response.error&&r){let e=l.resource_response.data||{},{message:t,redirect_status:r,url:i}=e,o=["blocked","suspicious","porn"].includes(r);n({blocked:o,message:t,redirectStatus:r,sanitized_url:i})}},y=({event:e,onHistoryChange:t,href:r,history:n,target:l})=>{let o=(0,a.Z)(r),d=s(r),p=(0,c.Z)(o);p===_.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===l?(0,i.Z)(o,"blank"===l):n&&p===_.Z.SAME_ORIGIN&&(n.push((0,u.Z)({url:o}),null!=d?d:{}),t&&t({event:e}))}},287072:(e,t,r)=>{r.d(t,{Z:()=>_});var i=r(667294),n=r(616550),l=r(768559),o=r(48714),a=r(188335),s=r(250059),d=r(149230),c=r(108234),u=r(67347);function _(e){var t,r,_;let{externalData:p,href:h,onHistoryChange:f,target:m}=e,[g,b]=(0,i.useState)(null),[v,y]=(0,i.useState)(!1),x=(0,n.useHistory)(),w=(0,n.useLocation)(),P=(0,s.Z)(h),S=(0,d.Z)({url:P}),{showWarning:A}=null!==(t=(0,c.s)())&&void 0!==t?t:{},{pin:k,surface:E}=p||{},j=k?(0,l.Z)({boardUrl:null===(r=k.board)||void 0===r?void 0:r.url,location:w,pinId:k.entityId,pinnerUserName:null===(_=k.pinner)||void 0===_?void 0:_.username,storyPinDataId:k.storyPinDataId,trackingParams:k.trackingParams,trackingParamsMap:k.trackingParamsMap}):null,I=(0,a.Z)();return(0,i.useEffect)(()=>(y(!0),()=>{y(!1)}),[]),(0,i.useEffect)(()=>{S&&k&&null===g&&v&&(!k.promoter||k.isDownstreamPromotion)&&(0,o.$3)({location:w,pinId:k.entityId,surface:E})&&(0,o.iw)({clientTrackingParams:j,isMounted:v,pinId:k.entityId,spamCheckCallback:e=>b(e),href:P})},[j,k,E,P,S,v,w,g]),({event:e})=>{if(!(0,o.gV)({isOffsiteUrl:S,event:e})){if(e.preventDefault(),!h||"string"==typeof h&&h.startsWith("#")){(0,u.nP)("link_navigation_empty_href",{sampleRate:1,tags:{route:w.pathname,href:h}});return}if(S||null!=p&&p.dangerouslyForceOffsiteUrl){var t;I({auxData:null==p?void 0:p.auxData,clientTrackingParams:j,pin:(null==p?void 0:p.pin)&&{attributionSourceId:p.pin.attributionSourceId,campaignId:p.pin.campaignId,isPromoted:p.pin.isPromoted,pinPromotionId:p.pin.pinPromotionId,isThirdPartyAd:p.pin.isThirdPartyAd,advertiserId:p.pin.advertiserId},pinId:null==p?void 0:null===(t=p.pin)||void 0===t?void 0:t.entityId,queryParams:null==p?void 0:p.queryParams,showWarning:A,spamCheck:g,url:P})}else(0,o.G3)({event:e,href:h,history:x,onHistoryChange:f,target:"blank"===m?"blank":null})}}}},188335:(e,t,r)=>{r.d(t,{Z:()=>p});var i=r(983722),n=r(619937),l=r(337815),o=r(366284),a=r(407043),s=r(48714),d=r(43760);let c=(e,t,r)=>{let i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener nofollow noreferrer"),i.style.cursor="pointer",i.style.display="block",i.setAttribute(n.$N.ATTRIBUTION_SOURCE_ID,e),i.setAttribute(n.$N.ATTRIBUTE_DESTINATION,r),i.setAttribute(n.$N.ATTRIBUTE_ON,r),i.click()},u=(e,t,r,i,o)=>{let a=(0,l.m_)(e,r,!0,i,o),s=document.createElement("a");s.setAttribute("href",t),s.setAttribute("target","_blank"),s.setAttribute("rel","noopener nofollow noreferrer"),s.style.cursor="pointer",s.style.display="block",s.setAttribute(n.NR.SOURCE,a),s.click()},_=()=>{let{logContextEvent:e}=(0,a.v)();return({attributionSourceId:t,auxData:r,campaignId:n,clientTrackingParams:l,href:a,isPromoted:d,pinId:_,pinPromotionId:p,isThirdPartyAd:h,advertiserId:f})=>{var m,g,b;if(!d)return!1;let v=(0,i.Z)(),y=(0,s.Se)(a,{params:{pinId:_,csrId:null,clientTrackingParams:l,auxData:r,isThirdPartyAd:h}}),x=null!==(m=null==v?void 0:v.userAgent.browserName)&&void 0!==m?m:"";if((0,o.G6)(x)){let{group:r}=null!==(g=null==v?void 0:v.experimentsClient.checkExperiment("m10n_event_conversion_measurement"))&&void 0!==g?g:{},i=null!=v&&v.userAgent.browserVersion?v.userAgent.browserVersion:"0.0",o=parseFloat(i.split(".")[0]+"."+i.split(".")[1]);if(t&&o>=14.1&&["enabled_safari"].includes(r))return c(t,y,a),e({event_type:101,clientTrackingParams:l,object_id_str:_||"",aux_data:{pin_id:_||"",click_measurement_ppid:p||"",click_measurement_campaign_id:n||"",is_pcm:!0,attribution_source_id:t,page_url:a}}),!0}else if((0,o.i7)(x)&&null!==(b=window.document.featurePolicy)&&void 0!==b&&b.allowsFeature("attribution-reporting"))return u(t,y,a,n,f),e({event_type:101,clientTrackingParams:l,object_id_str:_||"",aux_data:{pin_id:_||"",click_measurement_ppid:p||"",click_measurement_campaign_id:n||"",is_arapi:!0,attribution_source_id:t,page_url:a}}),!0;return!1}},p=e=>{let t=_();return({auxData:r,clientTrackingParams:i,pin:n,pinId:l,queryParams:o,showWarning:a,spamCheck:c,url:u})=>{if("undefined"!=typeof window&&window.Windows){(0,d.Z)(u,{clientTrackingParams:i,pinId:l,hasPin:!!n,auxData:r,isThirdPartyAd:null==n?void 0:n.isThirdPartyAd});return}if(!n&&!(null!=e&&e.isFromClickthroughLink)){(0,s.Gj)(u,o?{queryParams:o}:{params:{pinId:l}});return}if(null!=c&&c.blocked){null==a||a(c);return}n&&t({attributionSourceId:n.attributionSourceId,auxData:r,campaignId:n.campaignId?String(n.campaignId):null,clientTrackingParams:i,href:u,isPromoted:n.isPromoted,pinId:l,pinPromotionId:n.pinPromotionId?String(n.pinPromotionId):null,isThirdPartyAd:n.isThirdPartyAd,advertiserId:n.advertiserId?n.advertiserId:null})||(0,s.Gj)(u,{params:{clientTrackingParams:i,auxData:r,pinId:l,isThirdPartyAd:null==n?void 0:n.isThirdPartyAd}})}}},767546:(e,t,r)=>{r.d(t,{Z:()=>function e(t,r,i=()=>void 0){let n=i(t,r);return void 0!==n?n:void 0===r?t:Array.isArray(t)&&Array.isArray(r)?r.reduce((t,n,l)=>(t[l]=e(t[l],r[l],i),t),[...t]):t&&"object"==typeof t&&r&&"object"==typeof r?Object.keys(r).reduce((t,n)=>(t[n]=e(t[n],r[n],i),t),{...t}):r}})},992750:(e,t,r)=>{r.d(t,{eg:()=>o,kt:()=>f,rw:()=>p,fs:()=>c,eK:()=>u,Ly:()=>_,BY:()=>h,bN:()=>m,RC:()=>s,EU:()=>d});let i=/\s\s+/g,n=e=>e.replace(i," ");var l=r(883561);let o=Object.freeze(new Set(["sensitive_raw_pin_text","is_sensitive_rich_pin_description","is_sensitive_rich_pin_title","is_sensitive_board_title"])),a=e=>"string"==typeof e?e:"",s=({storyPinDataMetadataPinTitle:e,pinTitle:t})=>e||t,d=(e,t)=>e?e.trim().length>t?(0,l.ZP)(e.trim(),t).trim():e.trim():"",c=({pinTitle:e,gridTitle:t,richSummaryDisplayName:r,richMetadataTitle:i,storyPinDataId:n,storyPinDataMetadataPinTitle:l})=>{let o=l||e,a=d(t,200);return a||r||i||(n&&o?o:null)},u=e=>{let{richSummaryDisplayName:t}=e,r=e.pinJoinVisualAnnotation||[],i=e.pinJoinAnnotationsWithLinks||{},o=e.richMetadataDescription||"",a=e.closeupUnifiedDescription||"",s=r.map(e=>(i||{})[e]||{name:e,url:""}),d="",c=(t||"").toLocaleLowerCase().trim(),u=o.toLocaleLowerCase().trim(),_=a.toLocaleLowerCase().trim();return a&&a.length>3&&_!==c?d=a:o&&o.length>3&&u!==c&&(d=o),d&&(d=n((0,l.ZP)(d,496)).trim()),{description:d,annotationsWithLinks:s}},_=({pinTitle:e,gridTitle:t,richSummaryDisplayName:r,richMetadataTitle:i,storyPinDataId:n,storyPinDataMetadataPinTitle:l,pinJoinVisualAnnotation:a,seoNoindexReason:s,seoTitle:d})=>o.has(null!=s?s:"")?d:c({pinTitle:e,gridTitle:t,richSummaryDisplayName:r,richMetadataTitle:i,storyPinDataId:n,storyPinDataMetadataPinTitle:l})||(null==a?void 0:a[0])||e,p=(e,t,r,i,n)=>{let l=a(e).trim(),o=(e,t)=>t&&t.length>0?`${e} ${t.join(", ")}`:e;return i&&i.trim().length?o(i.trim(),r):n&&n.trim().length?n.trim():l?o(l,r):r?r.join(", "):""},h=e=>`/pin/${e}/`,f=(e,t)=>{let r=`Pinterest video from ${t}: `.concat(e);return""===t?e:r},m=({pinId:e,seoUrl:t})=>t&&"string"==typeof t?t:h(e)},561195:(e,t,r)=>{r.d(t,{A:()=>o,Z:()=>a});var i=r(667294),n=r(883119),l=r(785893);let o=({fill:e,width:t})=>{let r="half"===e?(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(n.xu,{position:"absolute",children:(0,l.jsx)(n.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,l.jsx)(n.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,l.jsx)(n.JO,{accessibilityLabel:"",color:"full"===e?"default":"subtle",icon:"star",size:12});return(0,l.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock","data-test-id":`rating-star-${e}`,children:r})};function a({max_rating:e,rating:t,width:r}){var i;let a=[],s=parseFloat(e)||5,d=5*(i=(i=parseFloat(t)||0)<=s?i:s)/s;if(Number.isNaN(d))return null;let c=Math.floor(d),u=d-c;return[...Array(c).keys()].forEach(e=>a.push((0,l.jsx)(o,{fill:"full",width:r},e))),u>=.75?a.push((0,l.jsx)(o,{fill:"full",width:r},a.length)):u>=.25&&a.push((0,l.jsx)(o,{fill:"half",width:r},a.length)),[...Array(5-a.length).keys()].forEach(()=>a.push((0,l.jsx)(o,{fill:"empty",width:r},a.length))),(0,l.jsx)(n.xu,{position:"relative",display:"inlineBlock",width:15*s,children:a})}},220306:(e,t,r)=>{r.d(t,{Z:()=>_});var i=r(667294),n=r(883119),l=r(485710),o=r(288889),a=r(319530),s=r(898781),d=r(785893);function c({category:e,ingredients:t,textSize:r="300"}){return(0,d.jsxs)(n.xu,{children:[e&&(0,d.jsx)(n.xu,{children:(0,d.jsx)(n.xv,{weight:"bold",size:r,children:e})}),(0,d.jsx)("ul",{children:t.map((e,t)=>(0,d.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,d.jsx)(n.xu,{marginTop:1,children:(0,d.jsxs)(n.xv,{size:r,children:["• ",e.amt||null," ",e.name]})})},t))})]})}var u=r(134185);function _({recipeProps:e,marginOverrides:t}){let r=(0,s.ZP)(),{image:_,name:p,categorizedIngredients:h}=e.recipe,f=r._('Ingredients', 'Ingredients title and count in closeup recipe description', 'Ingredients title and count in closeup recipe description');if(h&&h.length){let e=[];h.forEach(t=>e.push(t.ingredients))}return(0,d.jsx)(n.xu,{marginTop:8,children:(0,d.jsxs)(u.Z,{itemScope:!0,itemType:"https://schema.org/Recipe",children:[(0,d.jsx)("meta",{content:p,itemProp:"name"}),(0,d.jsx)("meta",{content:_,itemProp:"image"}),(0,d.jsx)(l.Z,{heading:f,children:(0,d.jsx)(a.Z,{children:(0,d.jsx)(n.xu,{marginTop:4,children:h.map(({category:e,ingredients:r},l)=>{let a=`ingredient-${l}`;return(0,d.jsx)(i.Fragment,{children:(0,d.jsx)(n.xu,{marginBottom:(null==t?void 0:t.ingredientMarginBottom)||4,children:(0,d.jsx)(c,{category:e,ingredients:r,textSize:o.n})})},a)})})})})]})})}},784590:(e,t,r)=>{r.d(t,{Z:()=>_});var i=r(667294),n=r(702664),l=r(616550),o=r(886858),a=r(780280),s=r(248327),d=r(718368);let c={},u=({httpStatus:e})=>!e||e>=500;function _(e){let{enabledRouteRefresh:t,__unstableEnableSuspenseSupport:r,headers:_,name:p,noCache:h,options:f,schema:m}=null!=e?e:{name:"DisabledResource",options:null},g=!e,b=(0,n.useDispatch)(),v=(0,o.Z)(f),y=(0,i.useRef)(null),x=(0,i.useRef)(),w=(0,l.useHistory)(),P=w&&"POP"!==w.action,S=e=>(e[p]||c)[v]||c,A=(0,n.useSelector)(({resources:e})=>S(e).nextBookmark),k=(0,n.useSelector)(({resources:e})=>S(e).data),E=(0,n.useSelector)(({resources:e})=>S(e).auxData),j=(0,n.useSelector)(({resources:e})=>S(e).error),I=(0,n.useSelector)(({resources:e})=>!!S(e).fetching),T="object"==typeof E&&"string"==typeof(null==E?void 0:E.pagination_group)?E.pagination_group:void 0,O=!!j||void 0!==k,C=O&&!I&&A===d.q,R=!!(O&&t&&P&&!g),[L,Z]=(0,i.useState)(R),z=(0,i.useCallback)((e,t)=>{y.current=b((0,s.U)(p,{options:f,schema:m,bookmark:e,headers:_,paginationGroup:t}))},[b,p,v,m,_]),D=()=>{y.current=b((0,s.b)(p,{options:f,schema:m,headers:_}))},{isBot:N}=(0,a.B)(),U=()=>{if(!g&&x.current!==v){let e=void 0===x.current;x.current=v,!O&&!I||e&&j&&u(j)?z():(!N&&h||R)&&D()}};(0,i.useEffect)(()=>{r||U()}),r&&U();let F=(0,i.useCallback)(()=>{g||(D(),Z(!0))},[g,s.b,p,v,_,Z]),M=(0,i.useCallback)(()=>{!A||C||I||g||z(A,T)},[g,z,A,C,I,T]);if(y.current){if(O&&!I)y.current=null;else if(r)throw y.current}let B=(0,i.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:M,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:F}),H={auxData:E,data:k,error:j,fetchMore:M,isAtEnd:C,isFetching:I,isLoaded:O,isRefreshing:L,nextBookmark:A,refresh:F};return(0,n.shallowEqual)(H,B.current)||(L&&(B.current.data||!R)&&!(0,n.shallowEqual)(H.data,B.current.data)&&(H.isRefreshing=!1,Z(!1)),B.current=H),B.current}},134185:(e,t,r)=>{r.d(t,{Z:()=>n});var i=r(785893);let n=e=>{let t=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,i.jsx)("div",{"data-test-id":"rich-pin-information",...t,children:e.children||null})}},995228:(e,t,r)=>{r.d(t,{Z:()=>l});var i=r(667294),n=r(785893);function l({children:e,fallback:t}){return(0,n.jsx)(i.Suspense,{fallback:t||null,children:e})}},595371:(e,t,r)=>{r.d(t,{i:()=>i});let i={AC:"ac",AUTOCOMPLETE:"autocomplete",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",VANILLA_GUIDE:"guide",VIDEO:"video"}},883561:(e,t,r)=>{r.d(t,{ZP:()=>i});function i(e,t=80,r="…",i=!1){let n;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||i)n=e.substring(0,t);else{let r=e.lastIndexOf(" ",t);n=e.substring(0,r)}return(n=n.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+r}},430323:(e,t,r)=>{r.d(t,{Z:()=>b});var i=r(667294),n=r(722767),l=r(558068),o=r(780280),a=r(239745),s=r(245474),d=r(425288);let{Provider:c,useMaybeHook:u}=(0,d.Z)("timeSpentContext");var _=r(790123),p=r(350118),h=r(785893);function f(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class m extends i.Component{constructor(e){super(e),f(this,"componentWillUnmount",()=>{this.unregisterComponent()}),f(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:r,objectId:i,timeSpentContext:n,view:l,viewParameter:o}=this.props;return{view:l||(null==n?void 0:n.view),viewParameter:o||(null==n?void 0:n.viewParameter),component:t||(null==n?void 0:n.component),element:r,objectId:i||(null==n?void 0:n.objectId),clientTrackingParams:e||(null==n?void 0:n.clientTrackingParams),getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),f(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),f(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0}),f(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),f(this,"getTimedPair",()=>this.state.timedPair),f(this,"setTimedPair",e=>this.setState({timedPair:e})),f(this,"isRegistered",!1),f(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),f(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),f(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:r,left:i,right:n,top:l}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===r&&0===i&&0===n&&0===l?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new s.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,a.Z)(e.auxData,this.props.auxData)&&(0,a.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e}=this.props;return(0,h.jsx)(c,{value:this.getContext(),children:(0,h.jsx)(n.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:i.Children.only(e)})})}}function g(e){var t;let r=(0,l.Hv)(),n=u(),a=(0,_.w)(),s=(0,p.H0)(),{requestIdentifier:d=""}=(0,o.B)(),c={app_instance_id:d.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,i.useEffect)(()=>{null==a||a.setHistoryStackContext(r)},[r,a]),(0,i.useEffect)(()=>{null==a||a.setPins(null!=s?s:{})},[s,a]),a?(0,h.jsx)(m,{...e,auxData:c,timeSpentContext:n,timeSpentManager:a,children:e.children}):e.children}g.displayName="TimeSpent";let b=g},948618:(e,t,r)=>{r.d(t,{Z:()=>l});var i=r(883119),n=r(785893);function l({ariaHidden:e=!1,color:t="darkGray",size:r}){return(0,n.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,n.jsx)(i.xv,{color:t,inline:!0,size:null!=r?r:"200",children:"\xb7"})})}},250059:(e,t,r)=>{r.d(t,{Z:()=>i});let i=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},149230:(e,t,r)=>{r.d(t,{Z:()=>n});var i=r(954931);let n=({url:e})=>!!(e&&e.match(/^https{0,1}:\/\//)&&!(0,i.Z)(e))},508847:(e,t,r)=>{r.d(t,{Z:()=>l});let i=(e,t)=>0===e.lastIndexOf(t,0);var n=r(567831);let l=({url:e})=>{let t=(0,n.Z)("/");return i(e,t)?e.substr(t.length-1):e}},43760:(e,t,r)=>{r.d(t,{Z:()=>l});var i=r(186656),n=r(48714);function l(e,t){let{auxData:r,clientTrackingParams:l,hasPin:o,pinId:a,isThirdPartyAd:s}=t||{},d={pin_id:a,check_only:!0,client_tracking_params:o?l:void 0,url:e,aux_data:JSON.stringify(r)};s&&(d.third_party_ad=a,delete d.pin_id),(0,i.Z)({url:"/v3/offsite/",data:d}).then(t=>{if(t&&t.resource_response&&!t.resource_response.error){let{resource_response:e}=t,{redirect_status:r,url:i}=e.data,n=["blocked","suspicious","porn"].includes(r);if(!n){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){let e=new window.Windows.Foundation.Uri(i);window.Windows.System.Launcher.launchUriAsync(e)}return}}(0,n.Gj)(e,{params:o?{pinId:a,clientTrackingParams:l,auxData:r,isThirdPartyAd:s}:{pinId:a}})})}},965900:(e,t,r)=>{r.d(t,{g:()=>_,I:()=>u});var i=r(667294),n=r(425288),l=r(567450),o=r(41861);let a={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},s=(e=a,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){let{payload:r}=t,{pinId:i,isPromoted:n,currentTime:l}=r,{videosAutoplaying:a}=e,{currentlyPlayingOrganicVideoId:s,promotedVideosAutoplaying:d,organicVideosAutoplaying:c}=a,u=(0,o.Z)(d),_=(0,o.Z)(c);return!n&&s?e:(n?u[i]={pinId:i,currentTime:l,paused:!1}:_[i]={pinId:i,currentTime:l,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:n?s:i,promotedVideosAutoplaying:u,organicVideosAutoplaying:_}})}if("SET_IS_AUTOPLAY"===t.type)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){let{payload:r}=t,{pinId:i,isPromoted:n,currentTime:l}=r,{videosAutoplaying:a}=e,{promotedVideosAutoplaying:s,organicVideosAutoplaying:d}=a,c=(0,o.Z)(s),u=(0,o.Z)(d);return n?c[i]={...c[i],paused:!0,currentTime:l}:u[i]={...u[i],paused:!0,currentTime:l},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:c,organicVideosAutoplaying:u}}}if("SET_APP_FOCUS_STATE"===t.type)return{...e,appInFocus:t.payload};if("SET_VIEWPORT_SIZE"===t.type)return{...e,viewportSize:t.payload};if("SET_FOOTER_VISIBILITY_STATE"===t.type)return{...e,footerPlusButtonVisible:t.payload};return e};var d=r(785893);let{Provider:c,useHook:u}=(0,n.Z)("AppUI");function _({children:e}){let[t,r]=(0,i.useReducer)(s,a),n=(0,i.useCallback)(e=>r({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),o=(0,i.useCallback)(e=>r({type:"SET_APP_FOCUS_STATE",payload:e}),[]),u=(0,i.useCallback)(e=>r({type:"SET_CURRENT_VIDEO",payload:e}),[]),_=(0,i.useCallback)(e=>r({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),p=(0,i.useCallback)(e=>r({type:"SET_IS_AUTOPLAY",payload:e}),[]),h=(0,i.useCallback)(e=>r({type:"SET_VIEWPORT_SIZE",payload:e}),[]),f=(0,i.useCallback)(e=>r({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),m=(0,i.useMemo)(()=>({pauseAutoplay:n,setCurrentVideo:u,setFooterPlusButtonVisible:_,setIsAutoplay:p,setViewportSize:h,toggleTypeaheadOverlay:f,setAppFocusState:o,appUI:t}),[n,u,_,p,h,f,o,t]);return(0,i.useEffect)(()=>{l.Z.onSessionResume(()=>{o(!0)}).onSessionPause(()=>{o(!1)})},[o]),(0,d.jsx)(c,{value:m,children:e})}},333155:(e,t,r)=>{r.d(t,{UP:()=>a,Wv:()=>n,ZF:()=>i,zI:()=>l,zl:()=>o});let i=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],n=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],l=[...n,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],o=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],a=["BaseBoardPinGrid"]},815613:(e,t,r)=>{r.d(t,{Z:()=>A}),r(167912);var i,n=r(883119),l=r(112690),o=r(357998),a=r(898781),s=r(773285),d=r(667679),c=r(867820),u=r(52022),_=r(343341),p=r(50286),h=r(829407),f=r(19121),m=r(945698),g=r(927383),b=r(698330),v=r(201155),y=r(640064),x=r(785893);let w=({children:e,pulsar:t,testId:r})=>t.show?(0,x.jsx)(n.xu,{position:"relative","data-test-id":r,children:(0,x.jsxs)(n.iP,{tapStyle:"none",onTap:t.onClick,children:[(0,x.jsx)(n.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,x.jsx)(n.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,x.jsx)(n.o3,{})})]})}):(0,x.jsx)(n.xu,{"data-test-id":r,children:e}),P=void 0!==i?i:i=r(84928),S=e=>({linkDomain:e.link_domain&&{officialUser:e.link_domain.official_user&&{imageMediumUrl:e.link_domain.official_user.image_medium_url,username:e.link_domain.official_user.username}},nativeCreator:e.native_creator&&{imageMediumUrl:e.native_creator.image_medium_url,username:e.native_creator.username},originPinner:e.origin_pinner&&{imageMediumUrl:e.origin_pinner.image_medium_url,username:e.origin_pinner.username},pinner:e.pinner&&{imageMediumUrl:e.pinner.image_medium_url,username:e.pinner.username}});function A({auxData:e,disabled:t,disableLog:r,followEventType:i,id:A,inline:k,invertColors:E,isFollowed:j,isIdeaPin:I,isLegoEnabled:T,isSecondaryButton:O,isUserFollowButton:C,isUserMe:R,onFollow:L,onUnfollow:Z,pinKey:z,shouldUseLegoColors:D,showPulsar:N,size:U,textType:F="FollowFollowing",unfollowEventType:M,viewParameter:B,viewType:H,clientTrackingParams:G}){let V;let W=(0,a.ZP)(),Y=(0,p.HG)(),{showToast:$}=(0,_.F9)(),K=(0,u.Z)(),X=(0,l.Z)(),q=(0,d.Z)(),{checkExperiment:J}=(0,s.F)(),Q=(0,g.Z)(),ee=(0,f.Z)(),et=ee&&ee.isAuth,{unauthFollowUserId:er,setUnauthFollowUserId:ei}=(0,y.f)(),en=(0,b.mN)()(A),el=en&&{imageMediumUrl:en.image_medium_url,username:en.username},{data:eo}=(0,o.Q)(P,z,{useLegacyAdapter:S}),ea=null==eo?void 0:eo.linkDomain,es=null==eo?void 0:eo.nativeCreator,ed=null==eo?void 0:eo.originPinner,ec=null==eo?void 0:eo.pinner;V=es||(ea?ea.officialUser:ed||ec);let eu=null!=el?el:V;(0,h.Z)(()=>{!Y&&et&&er&&A&&er===A&&L(A)});let e_=Q({fn:()=>{et?j?(Z(A),r||X({event_type:M,view_type:H,view_parameter:B,object_id_str:A,aux_data:e,clientTrackingParams:G})):(L(A),C&&$(({hideToast:e})=>{if(!eu)return null;let t=eu.username?`/${eu.username}/`:"";return(0,x.jsx)(v.Z,{handleHide:e,text:W._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow'),userId:A,href:t,imageUrl:eu.imageMediumUrl})}),r||X({event_type:i,view_type:H,view_parameter:B,object_id_str:A,aux_data:e,clientTrackingParams:G})):((0,c.My)(`mweb_unauth_follow_button.tap.${String(H)}`),5===H&&26===i&&(0,c.My)("mweb_unauth_board_page_follow_button.tap"),(0,c.NC)(j?"press_profile_unfollow":"press_profile_follow"),K({action:"click",item:"board-follow-button"}),q({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:I?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:Y&&J("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!Y&&J("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),Y||ei(null!=A?A:""),(0,c.NC)("clickthrough"))},modalHeader:(0,m.N4)({i18n:W,toFollow:!j})}),ep=!j&&!!N,eh=()=>{if(R)return W._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===F)return j?W._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):W._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');let e="FollowUnfollow"===F?W._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):W._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return j?e:W._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,x.jsx)(w,{pulsar:ep?{show:!0,onClick:e_}:{show:!1},testId:R||j?"board-unfollow-button":"board-follow-button",children:(0,x.jsx)(n.zx,{color:D||"AddRemove"===F||!T&&O||j?"gray":"red",disabled:R||t,fullWidth:k,onClick:ep?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),r||X({event_type:101,component:13672,element:11951,object_id_str:A,view_type:H,view_parameter:B,aux_data:e,clientTrackingParams:G}),e_()},selected:E?!j:D&&j||!!j&&O,size:U,text:eh(),accessibilityLabel:eh()})})}},698330:(e,t,r)=>{r.d(t,{Tt:()=>u,cm:()=>c,kW:()=>s,kY:()=>_,mN:()=>d});var i=r(702664),n=r(425288),l=r(19121),o=r(785893);let{Provider:a,useHook:s}=(0,n.Z)("Users");function d(){let e=s();return t=>e[t]}function c(){let e=s();return t=>{let r=Object.keys(e).find(r=>e[r].username===t);return e[null!=r?r:""]}}function u(){let{id:e}=(0,l.Z)(),t=s();return t[null!=e?e:""]}function _({children:e}){let t=(0,i.useSelector)(({users:e})=>e,i.shallowEqual);return(0,o.jsx)(a,{value:t,children:e})}},108234:(e,t,r)=>{r.d(t,{Z:()=>m,s:()=>f});var i=r(667294),n=r(425288),l=r(608575),o=r(883119),a=r(121151),s=r(898781),d=r(349700),c=r(785893);let u=()=>{var e;let t=(0,s.ZP)(),{dismissWarning:r}=null!==(e=f())&&void 0!==e?e:{};return(0,c.jsx)(o.xu,{paddingX:3,children:(0,c.jsx)(o.zx,{fullWidth:!0,color:"red",onClick:r,text:t._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},_=()=>{let e=(0,s.ZP)();return(0,c.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,c.jsx)(o.rU,{target:"blank",href:"https://policy.pinterest.com/community-guidelines#section-spam",display:"inlineBlock",underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},p=({message:e,sanitized_url:t})=>{var r;let i=(0,s.ZP)(),{dismissWarning:n}=null!==(r=f())&&void 0!==r?r:{};return(0,c.jsx)(a.ZP,{accessibilityModalLabel:i._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),onDismiss:n,heading:i._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),footer:(0,c.jsx)(u,{}),children:(0,c.jsxs)(o.xu,{padding:6,children:[(0,c.jsx)(o.xv,{children:(0,d.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,c.jsx)(_,{},"learnMoreLink")})}),(0,c.jsxs)(o.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,c.jsx)(o.xu,{marginEnd:3,children:(0,c.jsx)(o.JO,{accessibilityLabel:i._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"report",inline:!0,size:24})}),(0,c.jsx)(o.xv,{inline:!0,lineClamp:1,weight:"bold",children:l.parse(t).hostname})]})]})})},{Provider:h,useMaybeHook:f}=(0,n.Z)("SpammyClickthrough");function m({children:e}){let[t,r]=(0,i.useState)(null),n=(0,i.useCallback)(()=>{r(null)},[r]),l=(0,i.useCallback)(e=>{r(e)},[r]),o=(0,i.useMemo)(()=>({dismissWarning:n,showWarning:l}),[n,l]);return(0,c.jsxs)(h,{value:o,children:[t&&(0,c.jsx)(p,{...t}),e]})}},640064:(e,t,r)=>{r.d(t,{f:()=>a,w:()=>s});var i=r(667294),n=r(425288),l=r(785893);let{Provider:o,useHook:a}=(0,n.Z)("Session");function s({children:e}){let[t,r]=(0,i.useState)(void 0),n=(0,i.useCallback)(()=>r(void 0),[]),a=(0,i.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:r,removeUnauthFollowUserId:n}),[t,n]);return(0,l.jsx)(o,{value:a,children:e})}},865607:(e,t,r)=>{r.d(t,{O:()=>d,Z:()=>c});var i=r(667294),n=r(883119),l=r(898781),o=r(966113),a=r(785893);let s={xs:12,sm:16,md:20,lg:24};function d({children:e}){let t=(0,l.ZP)();return(0,a.jsx)(n.u,{link:(0,a.jsx)(n.rU,{href:o.vBy,target:"blank",children:(0,a.jsx)(n.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function c({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:r,showText:o,size:c}){let u=(0,l.ZP)(),_=(0,a.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",children:[(0,a.jsx)(n.JO,{accessibilityLabel:u._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:s[c]}),o&&(0,a.jsx)(n.xu,{marginStart:2,children:(0,a.jsx)(n.xv,{color:"shopping",inline:!0,weight:"bold",children:u._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,a.jsxs)(i.Fragment,{children:[r&&!t&&(0,a.jsx)(d,{children:_}),r&&t&&_,e&&!r&&(0,a.jsx)(n.JO,{accessibilityLabel:u._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:s[c]})]})}},987318:(e,t,r)=>{r.d(t,{H:()=>l,o:()=>n});var i=r(425288);let{Provider:n,useHook:l}=(0,i.Z)("LimitedLogin")},945698:(e,t,r)=>{r.d(t,{N4:()=>l,Wh:()=>i,hr:()=>n});let i=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),n=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),l=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},461773:(e,t,r)=>{r.d(t,{KF:()=>c,ZN:()=>a,fv:()=>d,kE:()=>_,yA:()=>s});var i=r(214494),n=r(186656),l=r(90326);function o(e,t,r,n){return i.Z.create("UserFollowResource",{user_id:e,invite_code:n||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:r})}function a(e,t=null,r,i){return n=>{o(e,t,r,i).callCreate().catch(()=>n((0,l.P_)(e,!1))),n((0,l.P_)(e,!0))}}function s(e,t=null,r,i){return async n=>{n((0,l.P_)(e,!0)),await o(e,t,r,i).callCreate().catch(t=>{throw n((0,l.P_)(e,!1)),t})}}function d(e,t=null,r){return i=>{o(e,t,r).callDelete().catch(()=>i((0,l.P_)(e,!0))),i((0,l.P_)(e,!1))}}function c(e,t=null,r){return async i=>{i((0,l.P_)(e,!1)),await o(e,t,r).callDelete().catch(t=>{throw i((0,l.P_)(e,!0)),t})}}let u=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),_=e=>t=>{e.length>0&&((0,n.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch(()=>t(u(e,!1))),t(u(e,!0)))}},90326:(e,t,r)=>{r.d(t,{Ge:()=>d,JS:()=>o,OF:()=>y,P_:()=>a,Q_:()=>_,b8:()=>p,eR:()=>v,h2:()=>c,h6:()=>u});var i=r(214494),n=r(186656),l=r(735422);function o(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}let a=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),s=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),d=({id:e,orbacSubjectId:t,blockSource:r,blockContext:n,logContextEvent:l})=>async o=>{o(s(e,!0));let a=await i.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t,block_source:r,block_context:n}).callCreate().catch(()=>o(s(e,!1)));return l({event_type:54,object_id_str:e}),a},c=(e,t)=>async r=>{r(s(e,!1));let n=await i.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(()=>r(s(e,!0)));return t({event_type:55,object_id_str:e}),n};function u(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}let _=(e,t)=>()=>{let r=i.Z.create("UserStateResource",{state:e,value:t});return r.callCreate()},p=(e,t,r)=>(i,o)=>{(0,n.Z)({url:"/v3/users/me/",method:"POST"}).then(()=>{r({event_type:48,object_id_str:o().session.userId}),e(),(0,l.Dm)()},t)},h=e=>e>=200&&e<400,f=(e,t="150x150")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"",m=async(e,t,r)=>{let n=await i.Z.create("VIPResource",{upload_ids:[e]}).callGet();if(n.resource_response.data[e]){let i=n.resource_response.data[e],{status:l,signature:o}=i;if("processing"===l||"registered"===l)setTimeout(async()=>{m(e,t,r)},5e3);else if("succeeded"===l){let e=f(o);t(e)}else r()}else r()},g=(e,t,r,n,l)=>{let o=new FormData;return o.append("img",e),i.Z.create("VIPResource",{type:t}).callCreate().then(t=>{if(t.resource_response.data){let{upload_id:i,upload_url:o,upload_parameters:a}=t.resource_response.data,s=new XMLHttpRequest;s.open("POST",o,!0),s.onload=()=>{h(s.status)?(r(100),m(i,n,l)):l()},s.upload.onprogress=e=>{let t=Math.round(100*e.loaded/e.total);r(t)};let d=new FormData;for(let e in a)d.append(e,a[e]);d.append("file",e),s.send(d)}},()=>{l()})},b=e=>new Promise((t,r)=>{g(e,"pinimage",()=>{},e=>{t(e)},e=>{r(e)})}),v=e=>new Promise((t,r)=>{"string"==typeof e?e.startsWith("data")&&b(function(e,t=512){let r=e.split(";"),i=r[0].split(":")[1],n=r[1].split(",")[1],l=atob(n),o=[];for(let e=0;e<l.length;e+=t){let r=l.slice(e,e+t),i=Array(r.length);for(let e=0;e<r.length;e+=1)i[e]=r.charCodeAt(e);let n=new Uint8Array(i);o.push(n)}let a=new Blob(o,{type:i});return a}(e)).then(e=>t(e)):r("Invalid Image")}),y=e=>()=>(0,n.Z)({url:"/v3/register/exists/",data:{email:e}})},201155:(e,t,r)=>{r.d(t,{Z:()=>c});var i=r(883119),n=r(499128),l=r(898781),o=r(784590),a=r(50286),s=r(785893);function d({ideaPinImages:e}){let t=e.map((e,t)=>{var r,n,l;return(0,s.jsx)(i.xu,{height:48,width:28,color:"default",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},children:(0,s.jsx)(i.Ee,{alt:"",src:null!==(r=null==e?void 0:e.url)&&void 0!==r?r:"",color:"#696969",fit:"cover",naturalHeight:null!==(n=null==e?void 0:e.height)&&void 0!==n?n:1,naturalWidth:null!==(l=null==e?void 0:e.width)&&void 0!==l?l:1})},t)});return(0,s.jsx)(i.kC,{justifyContent:"center",children:(0,s.jsx)(i.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:t})})}function c({handleHide:e,text:t,userId:r,href:c,imageUrl:u}){let _=(0,l.ZP)(),p=(0,a.HG)(),h=(0,o.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:r}}),f=Array.isArray(t)?t.join(" "):t;if(0===(h.data||[]).length)return(0,s.jsx)(n.ZP,{duration:5e3,onHide:e,text:f,href:c,thumbnail:u?{image:(0,s.jsx)(i.Ee,{alt:_._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:u})}:void 0});let m=(h.data||[]).slice(0,3).map(e=>{var t;return null===(t=e.images)||void 0===t?void 0:t[p?"236x":"170x"]}),g=(0,s.jsx)(d,{ideaPinImages:m});return(0,s.jsx)(n.ZP,{href:c,duration:5e3,onHide:e,_dangerouslySetThumbnail:g,text:f})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/51531-253e8d8f8f527d9c.mjs.map