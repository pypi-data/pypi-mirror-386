application_name: {{ ctx.application_name_slugify }}
async_mode: {{ 'true' if ctx.is_async_mode else 'false' }}
connections:
  - name: sqlite_history
    backend: {{ ctx.historical_backend }}
    credentials:
      - db_path: ./warehouse/amsdal_historical.sqlite3
      - check_same_thread: false
  - name: sqlite_state
    backend: {{ ctx.state_backend }}
    credentials:
      - db_path: ./warehouse/amsdal_state.sqlite3
      - check_same_thread: false
  - name: lock
    backend: amsdal_data.lock.implementations.thread_lock.ThreadLock
resources_config:
  lakehouse: sqlite_history
  lock: lock
  repository:
    default: sqlite_state
