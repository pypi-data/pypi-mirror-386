import{r as i,R as S,j as F,b as rt,c as Se}from"./index-Dj0i1-CA.js";import{o as R,p as Me,h as Ne,al as ot,s as Ae,K as G,y as W,n as z,L as X,am as lt,V as ye,an as it,I as at,aj as je,a0 as _e,ao as $e,ap as st,i as ut,c as Be,a1 as ct,a2 as ve,d as q,B as Ue,a3 as dt,a4 as pt,j as ft,S as A,C as vt,a5 as mt,a6 as bt,w as ae,ak as ht,a7 as gt,b as Ee,v as xt,aa as Ot,G as St,D as yt,a8 as $t,a9 as Et,a as I,af as wt,T as we,_ as Qe,ab as It,ac as Rt,N as Ct,ae as Lt,ad as Ft,Z as Ie,$ as Dt,W as Tt,X as kt,Y as Pt,R as Re,ah as Mt,ai as Nt,z as At}from"./popover-_Sf0yvOI.js";import{r as K}from"./floating-ui.react-dom-CjE-JNW1.js";import{t as jt,v as _t}from"./Input-B-oZ6fGO.js";function Bt({title:e,titleId:n,...t},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},t),e?i.createElement("title",{id:n},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const Ut=i.forwardRef(Bt);let Qt=i.createContext(void 0);function ge(){return i.useContext(Qt)}function Vt(e,n,t){let[r,l]=i.useState(t),o=e!==void 0,a=i.useRef(o),s=i.useRef(!1),c=i.useRef(!1);return o&&!a.current&&!s.current?(s.current=!0,a.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&a.current&&!c.current&&(c.current=!0,a.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?e:r,R(d=>(o||l(d),n==null?void 0:n(d)))]}function Ht(e){let[n]=i.useState(e);return n}function Ve(e={},n=null,t=[]){for(let[r,l]of Object.entries(e))Ke(t,He(n,r),l);return t}function He(e,n){return e?e+"["+n+"]":n}function Ke(e,n,t){if(Array.isArray(t))for(let[r,l]of t.entries())Ke(e,He(n,r.toString()),l);else t instanceof Date?e.push([n,t.toISOString()]):typeof t=="boolean"?e.push([n,t?"1":"0"]):typeof t=="string"?e.push([n,t]):typeof t=="number"?e.push([n,`${t}`]):t==null?e.push([n,""]):Ve(t,n,e)}function Kt(e){var n,t;let r=(n=e==null?void 0:e.form)!=null?n:e.closest("form");if(r){for(let l of r.elements)if(l!==e&&(l.tagName==="INPUT"&&l.type==="submit"||l.tagName==="BUTTON"&&l.type==="submit"||l.nodeName==="INPUT"&&l.type==="image")){l.click();return}(t=r.requestSubmit)==null||t.call(r)}}let zt=i.createContext(null);function Gt({children:e}){let n=i.useContext(zt);if(!n)return S.createElement(S.Fragment,null,e);let{target:t}=n;return t?K.createPortal(S.createElement(S.Fragment,null,e),t):null}function Wt({data:e,form:n,disabled:t,onReset:r,overrides:l}){let[o,a]=i.useState(null),s=Me();return i.useEffect(()=>{if(r&&o)return s.addEventListener(o,"reset",r)},[o,n,r]),S.createElement(Gt,null,S.createElement(Xt,{setForm:a,formId:n}),Ve(e).map(([c,d])=>S.createElement(Ne,{features:Ae.Hidden,...ot({key:c,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:n,disabled:t,name:c,value:d,...l})})))}function Xt({setForm:e,formId:n}){return i.useEffect(()=>{if(n){let t=document.getElementById(n);t&&e(t)}},[e,n]),n?null:S.createElement(Ne,{features:Ae.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:t=>{if(!t)return;let r=t.closest("form");r&&e(r)}})}let Zt=i.createContext(void 0);function ze(){return i.useContext(Zt)}let se=i.createContext(null);se.displayName="DescriptionContext";function Ge(){let e=i.useContext(se);if(e===null){let n=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,Ge),n}return e}function qt(){var e,n;return(n=(e=i.useContext(se))==null?void 0:e.value)!=null?n:void 0}function Hn(){let[e,n]=i.useState([]);return[e.length>0?e.join(" "):void 0,i.useMemo(()=>function(t){let r=R(o=>(n(a=>[...a,o]),()=>n(a=>{let s=a.slice(),c=s.indexOf(o);return c!==-1&&s.splice(c,1),s}))),l=i.useMemo(()=>({register:r,slot:t.slot,name:t.name,props:t.props,value:t.value}),[r,t.slot,t.name,t.props,t.value]);return S.createElement(se.Provider,{value:l},t.children)},[n])]}let Yt="p";function Jt(e,n){let t=i.useId(),r=ge(),{id:l=`headlessui-description-${t}`,...o}=e,a=Ge(),s=W(n);z(()=>a.register(l),[l,a.register]);let c=r||!1,d=i.useMemo(()=>({...a.slot,disabled:c}),[a.slot,c]),p={ref:s,...a.props,id:l};return X()({ourProps:p,theirProps:o,slot:d,defaultTag:Yt,name:a.name||"Description"})}let en=G(Jt),Kn=Object.assign(en,{}),ue=i.createContext(null);ue.displayName="LabelContext";function We(){let e=i.useContext(ue);if(e===null){let n=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,We),n}return e}function Xe(e){var n,t,r;let l=(t=(n=i.useContext(ue))==null?void 0:n.value)!=null?t:void 0;return((r=e==null?void 0:e.length)!=null?r:0)>0?[l,...e].filter(Boolean).join(" "):l}function tn({inherit:e=!1}={}){let n=Xe(),[t,r]=i.useState([]),l=e?[n,...t].filter(Boolean):t;return[l.length>0?l.join(" "):void 0,i.useMemo(()=>function(o){let a=R(c=>(r(d=>[...d,c]),()=>r(d=>{let p=d.slice(),b=p.indexOf(c);return b!==-1&&p.splice(b,1),p}))),s=i.useMemo(()=>({register:a,slot:o.slot,name:o.name,props:o.props,value:o.value}),[a,o.slot,o.name,o.props,o.value]);return S.createElement(ue.Provider,{value:s},o.children)},[r])]}let nn="label";function rn(e,n){var t;let r=i.useId(),l=We(),o=ze(),a=ge(),{id:s=`headlessui-label-${r}`,htmlFor:c=o??((t=l.props)==null?void 0:t.htmlFor),passive:d=!1,...p}=e,b=W(n);z(()=>l.register(s),[s,l.register]);let f=R(y=>{let P=y.currentTarget;if(!(y.target!==y.currentTarget&&lt(y.target))&&(ye(P)&&y.preventDefault(),l.props&&"onClick"in l.props&&typeof l.props.onClick=="function"&&l.props.onClick(y),ye(P))){let x=document.getElementById(P.htmlFor);if(x){let $=x.getAttribute("disabled");if($==="true"||$==="")return;let C=x.getAttribute("aria-disabled");if(C==="true"||C==="")return;(it(x)&&(x.type==="file"||x.type==="radio"||x.type==="checkbox")||x.role==="radio"||x.role==="checkbox"||x.role==="switch")&&x.click(),x.focus({preventScroll:!0})}}}),u=a||!1,O=i.useMemo(()=>({...l.slot,disabled:u}),[l.slot,u]),w={ref:b,...l.props,id:s,htmlFor:c,onClick:f};return d&&("onClick"in w&&(delete w.htmlFor,delete w.onClick),"onClick"in p&&delete p.onClick),X()({ourProps:w,theirProps:p,slot:O,defaultTag:c?nn:"div",name:l.name||"Label"})}let on=G(rn),ln=Object.assign(on,{});function an(e,n){return e!==null&&n!==null&&typeof e=="object"&&typeof n=="object"&&"id"in e&&"id"in n?e.id===n.id:e===n}function sn(e=an){return i.useCallback((n,t)=>{if(typeof e=="string"){let r=e;return(n==null?void 0:n[r])===(t==null?void 0:t[r])}return e(n,t)},[e])}let me=new Map,te=new Map;function Ce(e){var n;let t=(n=te.get(e))!=null?n:0;return te.set(e,t+1),t!==0?()=>Le(e):(me.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Le(e))}function Le(e){var n;let t=(n=te.get(e))!=null?n:1;if(t===1?te.delete(e):te.set(e,t-1),t!==1)return;let r=me.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,me.delete(e))}function un(e,{allowed:n,disallowed:t}={}){let r=at(e,"inert-others");z(()=>{var l,o;if(!r)return;let a=je();for(let c of(l=t==null?void 0:t())!=null?l:[])c&&a.add(Ce(c));let s=(o=n==null?void 0:n())!=null?o:[];for(let c of s){if(!c)continue;let d=_e(c);if(!d)continue;let p=c.parentElement;for(;p&&p!==d.body;){for(let b of p.children)s.some(f=>b.contains(f))||a.add(Ce(b));p=p.parentElement}}return a.dispose},[r,n,t])}var cn=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(cn||{});const oe={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},dn=200;function pn(e,{trigger:n,action:t,close:r,select:l}){let o=i.useRef(null);$e(e&&n!==null,"pointerdown",a=>{st(a==null?void 0:a.target)&&n!=null&&n.contains(a.target)&&(o.current=new Date)}),$e(e&&n!==null,"pointerup",a=>{if(o.current===null||!ut(a.target))return;let s=t(a),c=new Date().getTime()-o.current.getTime();switch(o.current=null,s.kind){case 0:return;case 1:{c>dn&&(l(s.target),r());break}case 2:{r();break}}},{capture:!0})}function Fe(e){return[e.screenX,e.screenY]}function fn(){let e=i.useRef([-1,-1]);return{wasMoved(n){let t=Fe(n);return e.current[0]===t[0]&&e.current[1]===t[1]?!1:(e.current=t,!0)},update(n){e.current=Fe(n)}}}function vn(e,n){let[t,r]=i.useState(n);return!e&&t!==n&&r(n),e?t:n}function mn(e){throw new Error("Unexpected object: "+e)}var g=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(g||{});function le(e,n){let t=n.resolveItems();if(t.length<=0)return null;let r=n.resolveActiveIndex(),l=r??-1;switch(e.focus){case 0:{for(let o=0;o<t.length;++o)if(!n.resolveDisabled(t[o],o,t))return o;return r}case 1:{l===-1&&(l=t.length);for(let o=l-1;o>=0;--o)if(!n.resolveDisabled(t[o],o,t))return o;return r}case 2:{for(let o=l+1;o<t.length;++o)if(!n.resolveDisabled(t[o],o,t))return o;return r}case 3:{for(let o=t.length-1;o>=0;--o)if(!n.resolveDisabled(t[o],o,t))return o;return r}case 4:{for(let o=0;o<t.length;++o)if(n.resolveId(t[o],o,t)===e.id)return o;return r}case 5:return null;default:mn(e)}}var be=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(be||{});function bn(e,n){let t=i.useRef({left:0,top:0});if(z(()=>{if(!n)return;let l=n.getBoundingClientRect();l&&(t.current=l)},[e,n]),n==null||!e||n===document.activeElement)return!1;let r=n.getBoundingClientRect();return r.top!==t.current.top||r.left!==t.current.left}let De=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Te(e){var n,t;let r=(n=e.innerText)!=null?n:"",l=e.cloneNode(!0);if(!Be(l))return r;let o=!1;for(let s of l.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))s.remove(),o=!0;let a=o?(t=l.innerText)!=null?t:"":r;return De.test(a)&&(a=a.replace(De,"")),a}function hn(e){let n=e.getAttribute("aria-label");if(typeof n=="string")return n.trim();let t=e.getAttribute("aria-labelledby");if(t){let r=t.split(" ").map(l=>{let o=document.getElementById(l);if(o){let a=o.getAttribute("aria-label");return typeof a=="string"?a.trim():Te(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Te(e).trim()}function gn(e){let n=i.useRef(""),t=i.useRef("");return R(()=>{let r=e.current;if(!r)return"";let l=r.innerText;if(n.current===l)return t.current;let o=hn(r).trim().toLowerCase();return n.current=l,t.current=o,o})}var xn=Object.defineProperty,On=(e,n,t)=>n in e?xn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,ke=(e,n,t)=>(On(e,typeof n!="symbol"?n+"":n,t),t),E=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(E||{}),_=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(_||{}),he=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(he||{}),Ze=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOptions=5]="RegisterOptions",e[e.UnregisterOptions=6]="UnregisterOptions",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetOptionsElement=8]="SetOptionsElement",e[e.SortOptions=9]="SortOptions",e))(Ze||{});function Pe(e,n=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=pt(n(e.options.slice()),o=>o.dataRef.current.domRef.current),l=t?r.indexOf(t):null;return l===-1&&(l=null),{options:r,activeOptionIndex:l}}let Sn={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,pendingFocus:{focus:g.Nothing},listboxState:1,__demoMode:!1}},0(e,n){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:r}=e.dataRef.current,l=e.options.findIndex(o=>r(o.dataRef.current.value));return l!==-1&&(t=l),{...e,pendingFocus:n.focus,listboxState:0,activeOptionIndex:t,__demoMode:!1}},2(e,n){var t,r,l,o,a;if(e.dataRef.current.disabled||e.listboxState===1)return e;let s={...e,searchQuery:"",activationTrigger:(t=n.trigger)!=null?t:1,__demoMode:!1};if(n.focus===g.Nothing)return{...s,activeOptionIndex:null};if(n.focus===g.Specific)return{...s,activeOptionIndex:e.options.findIndex(p=>p.id===n.id)};if(n.focus===g.Previous){let p=e.activeOptionIndex;if(p!==null){let b=e.options[p].dataRef.current.domRef,f=le(n,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});if(f!==null){let u=e.options[f].dataRef.current.domRef;if(((r=b.current)==null?void 0:r.previousElementSibling)===u.current||((l=u.current)==null?void 0:l.previousElementSibling)===null)return{...s,activeOptionIndex:f}}}}else if(n.focus===g.Next){let p=e.activeOptionIndex;if(p!==null){let b=e.options[p].dataRef.current.domRef,f=le(n,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});if(f!==null){let u=e.options[f].dataRef.current.domRef;if(((o=b.current)==null?void 0:o.nextElementSibling)===u.current||((a=u.current)==null?void 0:a.nextElementSibling)===null)return{...s,activeOptionIndex:f}}}}let c=Pe(e),d=le(n,{resolveItems:()=>c.options,resolveActiveIndex:()=>c.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});return{...s,...c,activeOptionIndex:d}},3:(e,n)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let t=e.searchQuery!==""?0:1,r=e.searchQuery+n.value.toLowerCase(),l=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+t).concat(e.options.slice(0,e.activeOptionIndex+t)):e.options).find(a=>{var s;return!a.dataRef.current.disabled&&((s=a.dataRef.current.textValue)==null?void 0:s.startsWith(r))}),o=l?e.options.indexOf(l):-1;return o===-1||o===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:o,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,n)=>{let t=e.options.concat(n.options),r=e.activeOptionIndex;if(e.pendingFocus.focus!==g.Nothing&&(r=le(e.pendingFocus,{resolveItems:()=>t,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled})),e.activeOptionIndex===null){let{isSelected:l}=e.dataRef.current;if(l){let o=t.findIndex(a=>l==null?void 0:l(a.dataRef.current.value));o!==-1&&(r=o)}}return{...e,options:t,activeOptionIndex:r,pendingFocus:{focus:g.Nothing},pendingShouldSort:!0}},6:(e,n)=>{let t=e.options,r=[],l=new Set(n.options);for(let[o,a]of t.entries())if(l.has(a.id)&&(r.push(o),l.delete(a.id),l.size===0))break;if(r.length>0){t=t.slice();for(let o of r.reverse())t.splice(o,1)}return{...e,options:t,activationTrigger:1}},7:(e,n)=>e.buttonElement===n.element?e:{...e,buttonElement:n.element},8:(e,n)=>e.optionsElement===n.element?e:{...e,optionsElement:n.element},9:e=>e.pendingShouldSort?{...e,...Pe(e),pendingShouldSort:!1}:e};class xe extends ct{constructor(n){super(n),ke(this,"actions",{onChange:t=>{let{onChange:r,compare:l,mode:o,value:a}=this.state.dataRef.current;return q(o,{0:()=>r==null?void 0:r(t),1:()=>{let s=a.slice(),c=s.findIndex(d=>l(d,t));return c===-1?s.push(t):s.splice(c,1),r==null?void 0:r(s)}})},registerOption:ve(()=>{let t=[],r=new Set;return[(l,o)=>{r.has(o)||(r.add(o),t.push({id:l,dataRef:o}))},()=>(r.clear(),this.send({type:5,options:t.splice(0)}))]}),unregisterOption:ve(()=>{let t=[];return[r=>t.push(r),()=>{this.send({type:6,options:t.splice(0)})}]}),goToOption:ve(()=>{let t=null;return[(r,l)=>{t={type:2,...r,trigger:l}},()=>t&&this.send(t)]}),closeListbox:()=>{this.send({type:1})},openListbox:t=>{this.send({type:0,focus:t})},selectActiveOption:()=>{if(this.state.activeOptionIndex!==null){let{dataRef:t,id:r}=this.state.options[this.state.activeOptionIndex];this.actions.onChange(t.current.value),this.send({type:2,focus:g.Specific,id:r})}},selectOption:t=>{let r=this.state.options.find(l=>l.id===t);r&&this.actions.onChange(r.dataRef.current.value)},search:t=>{this.send({type:3,value:t})},clearSearch:()=>{this.send({type:4})},setButtonElement:t=>{this.send({type:7,element:t})},setOptionsElement:t=>{this.send({type:8,element:t})}}),ke(this,"selectors",{activeDescendantId(t){var r;let l=t.activeOptionIndex,o=t.options;return l===null||(r=o[l])==null?void 0:r.id},isActive(t,r){var l;let o=t.activeOptionIndex,a=t.options;return o!==null?((l=a[o])==null?void 0:l.id)===r:!1},shouldScrollIntoView(t,r){return t.__demoMode||t.listboxState!==0||t.activationTrigger===0?!1:this.isActive(t,r)}}),this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})});{let t=this.state.id,r=Ue.get(null);this.disposables.add(r.on(dt.Push,l=>{!r.selectors.isTop(l,t)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>r.actions.push(t)),this.on(1,()=>r.actions.pop(t))}}static new({id:n,__demoMode:t=!1}){return new xe({id:n,dataRef:{current:{}},listboxState:t?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:g.Nothing},__demoMode:t})}reduce(n,t){return q(t.type,Sn,n,t)}}const qe=i.createContext(null);function Oe(e){let n=i.useContext(qe);if(n===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ye),t}return n}function Ye({id:e,__demoMode:n=!1}){let t=i.useMemo(()=>xe.new({id:e,__demoMode:n}),[]);return ft(()=>t.dispose()),t}let ce=i.createContext(null);ce.displayName="ListboxDataContext";function ne(e){let n=i.useContext(ce);if(n===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ne),t}return n}let yn=i.Fragment;function $n(e,n){let t=i.useId(),r=ge(),{value:l,defaultValue:o,form:a,name:s,onChange:c,by:d,invalid:p=!1,disabled:b=r||!1,horizontal:f=!1,multiple:u=!1,__demoMode:O=!1,...w}=e;const y=f?"horizontal":"vertical";let P=W(n),x=Ht(o),[$=u?[]:void 0,C]=Vt(l,c,x),L=Ye({id:t,__demoMode:O}),B=i.useRef({static:!1,hold:!1}),U=i.useRef(new Map),N=sn(d),Q=i.useCallback(k=>q(h.mode,{[_.Multi]:()=>$.some(ee=>N(ee,k)),[_.Single]:()=>N($,k)}),[$]),h=i.useMemo(()=>({value:$,disabled:b,invalid:p,mode:u?_.Multi:_.Single,orientation:y,onChange:C,compare:N,isSelected:Q,optionsPropsRef:B,listRef:U}),[$,b,p,u,y,C,N,Q,B,U]);z(()=>{L.state.dataRef.current=h},[h]);let D=A(L,k=>k.listboxState),V=Ue.get(null),H=A(V,i.useCallback(k=>V.selectors.isTop(k,t),[V,t])),[j,Y]=A(L,k=>[k.buttonElement,k.optionsElement]);vt(H,[j,Y],(k,ee)=>{L.send({type:Ze.CloseListbox}),Mt(ee,Nt.Loose)||(k.preventDefault(),j==null||j.focus())});let J=i.useMemo(()=>({open:D===E.Open,disabled:b,invalid:p,value:$}),[D,b,p,$]),[m,M]=tn({inherit:!0}),de={ref:P},re=i.useCallback(()=>{if(x!==void 0)return C==null?void 0:C(x)},[C,x]),pe=X();return S.createElement(M,{value:m,props:{htmlFor:j==null?void 0:j.id},slot:{open:D===E.Open,disabled:b}},S.createElement(mt,null,S.createElement(qe.Provider,{value:L},S.createElement(ce.Provider,{value:h},S.createElement(bt,{value:q(D,{[E.Open]:ae.Open,[E.Closed]:ae.Closed})},s!=null&&$!=null&&S.createElement(Wt,{disabled:b,data:{[s]:$},form:a,onReset:re}),pe({ourProps:de,theirProps:w,slot:J,defaultTag:yn,name:"Listbox"}))))))}let En="button";function wn(e,n){let t=i.useId(),r=ze(),l=ne("Listbox.Button"),o=Oe("Listbox.Button"),{id:a=r||`headlessui-listbox-button-${t}`,disabled:s=l.disabled||!1,autoFocus:c=!1,...d}=e,p=W(n,Lt(),o.actions.setButtonElement),b=Ft(),[f,u,O]=A(o,m=>[m.listboxState,m.buttonElement,m.optionsElement]),w=f===E.Open;pn(w,{trigger:u,action:i.useCallback(m=>{if(u!=null&&u.contains(m.target))return oe.Ignore;let M=m.target.closest('[role="option"]:not([data-disabled])');return Be(M)?oe.Select(M):O!=null&&O.contains(m.target)?oe.Ignore:oe.Close},[u,O]),close:o.actions.closeListbox,select:o.actions.selectActiveOption});let y=R(m=>{switch(m.key){case I.Enter:Kt(m.currentTarget);break;case I.Space:case I.ArrowDown:m.preventDefault(),o.actions.openListbox({focus:l.value?g.Nothing:g.First});break;case I.ArrowUp:m.preventDefault(),o.actions.openListbox({focus:l.value?g.Nothing:g.Last});break}}),P=R(m=>{switch(m.key){case I.Space:m.preventDefault();break}}),x=i.useRef(null),$=R(m=>{var M;if(x.current=m.pointerType,m.pointerType==="mouse"&&m.button===be.Left){if(Ie(m.currentTarget))return m.preventDefault();o.state.listboxState===E.Open?(K.flushSync(()=>o.actions.closeListbox()),(M=o.state.buttonElement)==null||M.focus({preventScroll:!0})):(m.preventDefault(),o.actions.openListbox({focus:g.Nothing}))}}),C=R(m=>{var M;if(x.current!=="mouse"&&m.button===be.Left){if(Ie(m.currentTarget))return m.preventDefault();o.state.listboxState===E.Open?(K.flushSync(()=>o.actions.closeListbox()),(M=o.state.buttonElement)==null||M.focus({preventScroll:!0})):(m.preventDefault(),o.actions.openListbox({focus:g.Nothing}))}}),L=R(m=>m.preventDefault()),B=Xe([a]),U=qt(),{isFocusVisible:N,focusProps:Q}=Dt({autoFocus:c}),{isHovered:h,hoverProps:D}=Tt({isDisabled:s}),{pressed:V,pressProps:H}=kt({disabled:s}),j=i.useMemo(()=>({open:f===E.Open,active:V||f===E.Open,disabled:s,invalid:l.invalid,value:l.value,hover:h,focus:N,autofocus:c}),[f,l.value,s,h,N,V,l.invalid,c]),Y=A(o,m=>m.listboxState===E.Open),J=Qe(b(),{ref:p,id:a,type:Pt(e,u),"aria-haspopup":"listbox","aria-controls":O==null?void 0:O.id,"aria-expanded":Y,"aria-labelledby":B,"aria-describedby":U,disabled:s||void 0,autoFocus:c,onKeyDown:y,onKeyUp:P,onKeyPress:L,onPointerDown:$,onClick:C},Q,D,H);return X()({ourProps:J,theirProps:d,slot:j,defaultTag:En,name:"Listbox.Button"})}let Je=i.createContext(!1),In="div",Rn=Re.RenderStrategy|Re.Static;function Cn(e,n){let t=i.useId(),{id:r=`headlessui-listbox-options-${t}`,anchor:l,portal:o=!1,modal:a=!0,transition:s=!1,...c}=e,d=gt(l),[p,b]=i.useState(null);d&&(o=!0);let f=ne("Listbox.Options"),u=Oe("Listbox.Options"),[O,w,y,P]=A(u,v=>[v.listboxState,v.buttonElement,v.optionsElement,v.__demoMode]),x=Ee(w),$=Ee(y),C=xt(),[L,B]=Ot(s,p,C!==null?(C&ae.Open)===ae.Open:O===E.Open);St(L,w,u.actions.closeListbox);let U=P?!1:a&&O===E.Open;yt(U,$);let N=P?!1:a&&O===E.Open;un(N,{allowed:i.useCallback(()=>[w,y],[w,y])});let Q=O!==E.Open,h=bn(Q,w)?!1:L,D=L&&O===E.Closed,V=vn(D,f.value),H=R(v=>f.compare(V,v)),j=A(u,v=>{var T;if(d==null||!((T=d==null?void 0:d.to)!=null&&T.includes("selection")))return null;let Z=v.options.findIndex(fe=>H(fe.dataRef.current.value));return Z===-1&&(Z=0),Z}),Y=(()=>{if(d==null)return;if(j===null)return{...d,inner:void 0};let v=Array.from(f.listRef.current.values());return{...d,inner:{listRef:{current:v},index:j}}})(),[J,m]=$t(Y),M=Et(),de=W(n,d?J:null,u.actions.setOptionsElement,b),re=Me();i.useEffect(()=>{var v;let T=y;T&&O===E.Open&&T!==((v=_e(T))==null?void 0:v.activeElement)&&(T==null||T.focus({preventScroll:!0}))},[O,y]);let pe=R(v=>{var T,Z;switch(re.dispose(),v.key){case I.Space:if(u.state.searchQuery!=="")return v.preventDefault(),v.stopPropagation(),u.actions.search(v.key);case I.Enter:if(v.preventDefault(),v.stopPropagation(),u.state.activeOptionIndex!==null){let{dataRef:fe}=u.state.options[u.state.activeOptionIndex];u.actions.onChange(fe.current.value)}f.mode===_.Single&&(K.flushSync(()=>u.actions.closeListbox()),(T=u.state.buttonElement)==null||T.focus({preventScroll:!0}));break;case q(f.orientation,{vertical:I.ArrowDown,horizontal:I.ArrowRight}):return v.preventDefault(),v.stopPropagation(),u.actions.goToOption({focus:g.Next});case q(f.orientation,{vertical:I.ArrowUp,horizontal:I.ArrowLeft}):return v.preventDefault(),v.stopPropagation(),u.actions.goToOption({focus:g.Previous});case I.Home:case I.PageUp:return v.preventDefault(),v.stopPropagation(),u.actions.goToOption({focus:g.First});case I.End:case I.PageDown:return v.preventDefault(),v.stopPropagation(),u.actions.goToOption({focus:g.Last});case I.Escape:v.preventDefault(),v.stopPropagation(),K.flushSync(()=>u.actions.closeListbox()),(Z=u.state.buttonElement)==null||Z.focus({preventScroll:!0});return;case I.Tab:v.preventDefault(),v.stopPropagation(),K.flushSync(()=>u.actions.closeListbox()),wt(u.state.buttonElement,v.shiftKey?we.Previous:we.Next);break;default:v.key.length===1&&(u.actions.search(v.key),re.setTimeout(()=>u.actions.clearSearch(),350));break}}),k=A(u,v=>{var T;return(T=v.buttonElement)==null?void 0:T.id}),ee=i.useMemo(()=>({open:O===E.Open}),[O]),et=Qe(d?M():{},{id:r,ref:de,"aria-activedescendant":A(u,u.selectors.activeDescendantId),"aria-multiselectable":f.mode===_.Multi?!0:void 0,"aria-labelledby":k,"aria-orientation":f.orientation,onKeyDown:pe,role:"listbox",tabIndex:O===E.Open?0:void 0,style:{...c.style,...m,"--button-width":Rt(w,!0).width},...It(B)}),tt=X(),nt=i.useMemo(()=>f.mode===_.Multi?f:{...f,isSelected:H},[f,H]);return S.createElement(Ct,{enabled:o?e.static||L:!1,ownerDocument:x},S.createElement(ce.Provider,{value:nt},tt({ourProps:et,theirProps:c,slot:ee,defaultTag:In,features:Rn,visible:h,name:"Listbox.Options"})))}let Ln="div";function Fn(e,n){let t=i.useId(),{id:r=`headlessui-listbox-option-${t}`,disabled:l=!1,value:o,...a}=e,s=i.useContext(Je)===!0,c=ne("Listbox.Option"),d=Oe("Listbox.Option"),p=A(d,h=>d.selectors.isActive(h,r)),b=c.isSelected(o),f=i.useRef(null),u=gn(f),O=ht({disabled:l,value:o,domRef:f,get textValue(){return u()}}),w=W(n,f,h=>{h?c.listRef.current.set(r,h):c.listRef.current.delete(r)}),y=A(d,h=>d.selectors.shouldScrollIntoView(h,r));z(()=>{if(y)return je().requestAnimationFrame(()=>{var h,D;(D=(h=f.current)==null?void 0:h.scrollIntoView)==null||D.call(h,{block:"nearest"})})},[y,f]),z(()=>{if(!s)return d.actions.registerOption(r,O),()=>d.actions.unregisterOption(r)},[O,r,s]);let P=R(h=>{var D;if(l)return h.preventDefault();d.actions.onChange(o),c.mode===_.Single&&(K.flushSync(()=>d.actions.closeListbox()),(D=d.state.buttonElement)==null||D.focus({preventScroll:!0}))}),x=R(()=>{if(l)return d.actions.goToOption({focus:g.Nothing});d.actions.goToOption({focus:g.Specific,id:r})}),$=fn(),C=R(h=>{$.update(h),!l&&(p||d.actions.goToOption({focus:g.Specific,id:r},he.Pointer))}),L=R(h=>{$.wasMoved(h)&&(l||p||d.actions.goToOption({focus:g.Specific,id:r},he.Pointer))}),B=R(h=>{$.wasMoved(h)&&(l||p&&d.actions.goToOption({focus:g.Nothing}))}),U=i.useMemo(()=>({active:p,focus:p,selected:b,disabled:l,selectedOption:b&&s}),[p,b,l,s]),N=s?{}:{id:r,ref:w,role:"option",tabIndex:l===!0?void 0:-1,"aria-disabled":l===!0?!0:void 0,"aria-selected":b,disabled:void 0,onClick:P,onFocus:x,onPointerEnter:C,onMouseEnter:C,onPointerMove:L,onMouseMove:L,onPointerLeave:B,onMouseLeave:B},Q=X();return!b&&s?null:Q({ourProps:N,theirProps:a,slot:U,defaultTag:Ln,name:"Listbox.Option"})}let Dn=i.Fragment;function Tn(e,n){let{options:t,placeholder:r,...l}=e,o={ref:W(n)},a=ne("ListboxSelectedOption"),s=i.useMemo(()=>({}),[]),c=a.value===void 0||a.value===null||a.mode===_.Multi&&Array.isArray(a.value)&&a.value.length===0,d=X();return S.createElement(Je.Provider,{value:!0},d({ourProps:o,theirProps:{...l,children:S.createElement(S.Fragment,null,r&&c?r:t)},slot:s,defaultTag:Dn,name:"ListboxSelectedOption"}))}let kn=G($n),Pn=G(wn),Mn=ln,Nn=G(Cn),An=G(Fn),jn=G(Tn),ie=Object.assign(kn,{Button:Pn,Label:Mn,Options:Nn,Option:An,SelectedOption:jn});function _n({title:e,titleId:n,...t},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},t),e?i.createElement("title",{id:n},e):null,i.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const zn=i.forwardRef(_n);function Gn({options:e,value:n=[]}){const[t,r]=i.useState([]);return i.useEffect(()=>{r(n)},[n]),F.jsx(ie,{value:t,onChange:l=>{var o;r(l);for(const a in e)(o=e[a])==null||o.call(e,l.includes(a))},multiple:!0,children:F.jsxs("div",{className:"relative flex",children:[F.jsxs(ie.Button,{className:"flex items-center relative w-full bg-primary-10 text-xs rounded-full text-primary-500 py-1 px-2 text-center focus:outline-none focus-visible:border-accent-500 focus-visible:ring-2 focus-visible:ring-light focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-brand-300 cursor-pointer",children:[F.jsxs("span",{className:"flex truncate items-center",children:[F.jsx(Ut,{className:"h-3 w-3 mr-0 sm:mr-1"})," ",F.jsx("span",{className:"sr-only sm:not-sr-only",children:"Show"})]}),F.jsx(jt,{className:"ml-2 h-4 w-4","aria-hidden":"true"})]}),F.jsx(At,{as:i.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:F.jsx(ie.Options,{className:"absolute top-8 right-0 z-50 max-h-60 min-w-16 overflow-auto rounded-md bg-theme py-2 shadow-lg ring-2 ring-primary-10 ring-opacity-5 focus:outline-none sm:text-sm",children:Object.keys(e).filter(l=>e[l]).map(l=>F.jsx(ie.Option,{className:({active:o,disabled:a})=>Se("relative cursor-default select-none py-1 pl-10 pr-4",a?"opacity-50 cursor-not-allowed":"",o?"bg-primary-10 text-primary-500":"text-neutral-700 dark:text-neutral-300"),value:l,disabled:rt(!!e[l]),children:({selected:o})=>F.jsxs(F.Fragment,{children:[F.jsx("span",{children:l}),F.jsx("span",{className:Se("absolute inset-y-0 left-0 flex items-center pl-3 text-primary-500",o?"block":"hidden"),children:F.jsx(_t,{className:"h-4 w-4","aria-hidden":"true"})})]})},l))})})]})})}export{We as C,zn as F,Kn as H,Gn as L,Xe as N,tn as Q,Vt as T,qt as U,ln as V,ge as a,fn as b,g as c,bn as d,sn as e,le as f,oe as g,Wt as j,pn as k,Ht as l,Kt as p,gn as s,ze as u,Hn as w,un as y};
