[project]
name = "reflex-agent"
dynamic = ["version"]
description = "A flexible agent framework."
authors = [{ name = "Nikhil Rao", email = "nikhil@reflex.dev" }]
readme = "README.md"
requires-python = ">=3.10"

[project.optional-dependencies]
anthropic = ["anthropic >=0.42.0"]
openai = ["openai >=1.63.2"]
gemini = ["google-genai >=1.9.0"]
litellm = ["litellm>=1.55.0"]

[tool.pyright]
exclude = ["tests"]

[tool.ruff]
output-format = "concise"
lint.isort.split-on-trailing-comma = false
lint.select = ["ALL"]
lint.ignore = [
    "ANN001",
    "ANN003",
    "ANN401",
    "ANN2",
    "ARG",
    "BLE",
    "C901",
    "COM",
    "D100",
    "D101",
    "D102",
    "D103",
    "D104",
    "D105",
    "D107",
    "E501",
    "EM",
    "FBT",
    "FIX",
    "G004",
    "PLC0415",
    "PLR09",
    "PLR1714",
    "PLR2004",
    "PLW2901",
    "SLF",
    "TC",
    "TRY300",
    "TRY301",
    "TRY003",
]
lint.pydocstyle.convention = "google"


[tool.pytest.ini_options]
asyncio_mode = "auto"
asyncio_default_fixture_loop_scope = "function"

[dependency-groups]
dev = [
    "anthropic >=0.42.0",
    "darglint >=1.8.1",
    "google-genai >=1.13.0",
    "litellm >=1.55.0",
    "openai >=1.63.2",
    "pre-commit>=3.8.0",
    "pyright >=1.1.403",
    "pytest >=8.3.3",
    "pytest-asyncio >=0.24.0",
    "replicate >=1.0.4",
    "python-dotenv >=1.0.0",
    "requests >=2.31.0",
    "ruff >=0.12.8",
]

[tool.ruff.lint.per-file-ignores]
"tests/*" = [
    "ANN0",
    "B017",
    "B023",
    "PT011",
    "ERA",
    "PERF",
    "PT012",
    "PTH",
    "RUF012",
    "S",
    "T",
    "TID252",
]

[build-system]
requires = ["hatchling", "uv-dynamic-versioning"]
build-backend = "hatchling.build"

[tool.hatch.build.targets.wheel]
packages = ["flexai"]

[tool.hatch.version]
source = "uv-dynamic-versioning"
