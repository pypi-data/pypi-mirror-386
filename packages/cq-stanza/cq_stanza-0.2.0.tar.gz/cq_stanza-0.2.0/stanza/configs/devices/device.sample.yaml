name: "Sample Device"

contacts:
  IN: {type: SOURCE, control_channel: 1, measure_channel: 1, breakout_channel: 1, v_lower_bound: -3.0, v_upper_bound: 3.0}
  OUT: {type: DRAIN, control_channel: 2, measure_channel: 2, breakout_channel: 2, v_lower_bound: -3.0, v_upper_bound: 3.0}

gates:
  G1: {type: BARRIER, control_channel: 3, measure_channel: 3, breakout_channel: 3, v_lower_bound: -3.0, v_upper_bound: 3.0}
  G2: {type: PLUNGER, control_channel: 4, measure_channel: 4, breakout_channel: 4, v_lower_bound: -3.0, v_upper_bound: 3.0}
  G3: {type: BARRIER, control_channel: 5, measure_channel: 5, breakout_channel: 5, v_lower_bound: -3.0, v_upper_bound: 3.0}

routines:
  - name: health_check
    routines:
      - name: leakage_test
        parameters:
          leakage_threshold_resistance: 50e6
          leakage_threshold_count: 0

      - name: global_accumulation
        parameters:
          step_size: 1e-2

      - name: reservoir_characterization
        parameters:
          step_size: 1e-2

      - name: finger_gate_characterization
        parameters:
          step_size: 1e-2

instruments:
  - name: qdac2
    type: GENERAL
    ip_addr: 192.168.1.100
    port: 5025
    driver: qdac2
    measurement_aperature_s: 1e-3
    measurement_duration: 1e-3
    sample_time: 10e-6
    slew_rate: 100.0
    breakout_line: 9

  - name: qswitch
    type: BREAKOUT_BOX
    driver: qswitch
    ip_addr: 192.168.1.102
    port: 5025