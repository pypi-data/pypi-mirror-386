
<odoo>
  <data>
    <record id="base.main_company" model="res.company">
      <field name="coop_email_contact">somcomunitats@coop.coop</field>
    </record>

    <record id="energy_communities.coordinator_company_1" model="res.company">
      <field name="coop_email_contact">oecoop@coop.coop</field>
    </record>
  </data>

  <data noupdate="1">
    <function
      name="action_accept"
      model="account.multicompany.easy.creation.wiz"
      eval="[[ref('energy_communities.energy_community_company_1_wizard')]]"
    />
    <function name="write" model="res.company">
      <value
        model="account.multicompany.easy.creation.wiz"
        eval="[obj(ref('energy_communities.energy_community_company_1_wizard')).new_company_id.id]"
      />
      <value
        eval="{'coop_email_contact':'sants@coop.coop',
        'email':'sants@fake.com',
        'default_lang_id': ref('base.lang_ca_ES')}"
      />
    </function>
    <!--<function name="write" model="account.payment.mode">-->
    <!--  <value-->
    <!--    model="account.payment.mode"-->
    <!--    eval="[obj(ref('account_banking_sepa_direct_debit.payment_mode_inbound_sepa_dd1')).id]"-->
    <!--  />-->
    <!--  <value-->
    <!--    model="account.multicompany.easy.creation.wiz"-->
    <!--    eval="{-->
    <!--     'company_id': obj(ref('energy_communities.energy_community_company_1_wizard')).new_company_id.id-->
    <!--    }"-->
    <!--  />-->
    <!--</function>-->

    <function
      name="action_accept"
      model="account.multicompany.easy.creation.wiz"
      eval="[[ref('energy_communities.energy_community_company_2_wizard')]]"
    />
    <function name="write" model="res.company">
      <value
        model="account.multicompany.easy.creation.wiz"
        eval="[obj(ref('energy_communities.energy_community_company_2_wizard')).new_company_id.id]"
      />
      <value
        eval="{'coop_email_contact':'villanoveta@coop.coop','email':'villanoveta@fake.com','default_lang_id': ref('base.lang_es')}"
      />
    </function>
  </data>

  <data>
    <record
      id="community_1_payment_mode"
      model="account.payment.mode"
    >
      <field name="name">SEPA Direct Debit of customers (Community 1)</field>
      <field
        name="company_id"
        model="account.multicompany.easy.creation.wiz"
        eval="obj(ref('energy_communities.energy_community_company_1_wizard')).new_company_id.id"
      />
      <field name="payment_method_id" ref="account_banking_sepa_direct_debit.sepa_direct_debit" />
      <field name="payment_type">inbound</field>
      <field name="payment_order_ok" eval="True"/>
      <field name="bank_account_link">variable</field>
      <field name="group_lines" eval="True"/>
      <field name="default_payment_mode">same</field>
      <field name="default_target_move">all</field>
      <field name="default_date_type">due</field>
      <field name="show_bank_account">full</field>
    </record>
  </data>
</odoo>
