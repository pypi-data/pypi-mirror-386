<?xml version="1.0"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema">
<!--  XSchema $Id: Root.xsd,v 1.2 2006/03/05 21:36:12 graebe Exp $ -->

  <!-- common subelement definitions -->

  <xs:element name="XML"> <!-- a link to an external resource -->
    <xs:complexType>
      <xs:simpleContent>
        <xs:extension base="xs:token"> <!-- in fact empty -->
          <xs:attribute name="url" type="xs:anyURI" use="required"/>
          <xs:attribute name="XMLType" type="xs:token" use="required"/>
        </xs:extension>
      </xs:simpleContent>
    </xs:complexType>
  </xs:element>

  <xs:element name="OWL"> <!-- a link to another OWL Individual -->
    <xs:complexType>
      <xs:simpleContent>
        <xs:extension base="xs:token"> <!-- in fact empty -->
          <xs:attribute name="xref" type="Identifier" use="required"/>
          <xs:attribute name="class" type="Identifier" use="required"/>
        </xs:extension>
      </xs:simpleContent>
    </xs:complexType>
  </xs:element>

  <!-- the elements common to all table definitions -->

  <xs:element name="changed">
    <xs:complexType>
      <xs:simpleContent>
        <xs:extension base="xs:token">
          <xs:attribute name="at" type="xs:date" use="required"/>
          <xs:attribute name="by" type="Person" use="required"/>
        </xs:extension>
      </xs:simpleContent>
    </xs:complexType>
  </xs:element>

  <xs:element name="ChangeLog">
    <xs:complexType>
      <xs:sequence>
	<xs:element ref="changed" minOccurs="0" maxOccurs="unbounded"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

 <xs:attributeGroup name="recordAttributes">
  <!-- the (common) attributes of all records -->
    <xs:attribute name="id" type="Identifier" use="required"/>
    <xs:attribute name="createdAt" type="xs:date" use="required"/>
    <xs:attribute name="createdBy" type="Person" use="required"/>
  </xs:attributeGroup>

  <xs:group name="RootTableEntries">
    <xs:element name="Comment" type="xs:string" minOccurs="0"/>
    <!-- Arbitrary comment about record -->
    <xs:element ref="ChangeLog"/>
    <!-- ChangeLog Anchor to collect changelog entries of the given
	record in reverse chronological order -->
  </xs:group>

</xs:schema>
