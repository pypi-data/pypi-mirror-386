"use strict";(self.webpackChunksignalpilot_ai_internal=self.webpackChunksignalpilot_ai_internal||[]).push([[713],{85713:(e,n,t)=>{function r(){}function i(e,n,t,r,i){for(var o,l=[];n;)l.push(n),o=n.previousComponent,delete n.previousComponent,n=o;l.reverse();for(var a=0,u=l.length,s=0,f=0;a<u;a++){var c=l[a];if(c.removed)c.value=e.join(r.slice(f,f+c.count)),f+=c.count;else{if(!c.added&&i){var d=t.slice(s,s+c.count);d=d.map(function(e,n){var t=r[f+n];return t.length>e.length?t:e}),c.value=e.join(d)}else c.value=e.join(t.slice(s,s+c.count));s+=c.count,c.added||(f+=c.count)}}return l}t.r(n),t.d(n,{Diff:()=>r,applyPatch:()=>q,applyPatches:()=>R,canonicalize:()=>W,convertChangesToDMP:()=>he,convertChangesToXML:()=>ve,createPatch:()=>Z,createTwoFilesPatch:()=>X,diffArrays:()=>z,diffChars:()=>l,diffCss:()=>N,diffJson:()=>T,diffLines:()=>L,diffSentences:()=>P,diffTrimmedLines:()=>S,diffWords:()=>m,diffWordsWithSpace:()=>b,formatPatch:()=>U,merge:()=>K,parsePatch:()=>$,reversePatch:()=>de,structuredPatch:()=>_}),r.prototype={diff:function(e,n){var t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.callback;"function"==typeof r&&(o=r,r={});var l=this;function a(e){return e=l.postProcess(e,r),o?(setTimeout(function(){o(e)},0),!0):e}e=this.castInput(e,r),n=this.castInput(n,r),e=this.removeEmpty(this.tokenize(e,r));var u=(n=this.removeEmpty(this.tokenize(n,r))).length,s=e.length,f=1,c=u+s;null!=r.maxEditLength&&(c=Math.min(c,r.maxEditLength));var d=null!==(t=r.timeout)&&void 0!==t?t:1/0,h=Date.now()+d,v=[{oldPos:-1,lastComponent:void 0}],p=this.extractCommon(v[0],n,e,0,r);if(v[0].oldPos+1>=s&&p+1>=u)return a(i(l,v[0].lastComponent,n,e,l.useLongestToken));var g=-1/0,m=1/0;function w(){for(var t=Math.max(g,-f);t<=Math.min(m,f);t+=2){var o=void 0,c=v[t-1],d=v[t+1];c&&(v[t-1]=void 0);var h=!1;if(d){var w=d.oldPos-t;h=d&&0<=w&&w<u}var y=c&&c.oldPos+1<s;if(h||y){if(o=!y||h&&c.oldPos<d.oldPos?l.addToPath(d,!0,!1,0,r):l.addToPath(c,!1,!0,1,r),p=l.extractCommon(o,n,e,t,r),o.oldPos+1>=s&&p+1>=u)return a(i(l,o.lastComponent,n,e,l.useLongestToken));v[t]=o,o.oldPos+1>=s&&(m=Math.min(m,t-1)),p+1>=u&&(g=Math.max(g,t+1))}else v[t]=void 0}f++}if(o)!function e(){setTimeout(function(){if(f>c||Date.now()>h)return o();w()||e()},0)}();else for(;f<=c&&Date.now()<=h;){var y=w();if(y)return y}},addToPath:function(e,n,t,r,i){var o=e.lastComponent;return o&&!i.oneChangePerToken&&o.added===n&&o.removed===t?{oldPos:e.oldPos+r,lastComponent:{count:o.count+1,added:n,removed:t,previousComponent:o.previousComponent}}:{oldPos:e.oldPos+r,lastComponent:{count:1,added:n,removed:t,previousComponent:o}}},extractCommon:function(e,n,t,r,i){for(var o=n.length,l=t.length,a=e.oldPos,u=a-r,s=0;u+1<o&&a+1<l&&this.equals(t[a+1],n[u+1],i);)u++,a++,s++,i.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return s&&!i.oneChangePerToken&&(e.lastComponent={count:s,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=a,u},equals:function(e,n,t){return t.comparator?t.comparator(e,n):e===n||t.ignoreCase&&e.toLowerCase()===n.toLowerCase()},removeEmpty:function(e){for(var n=[],t=0;t<e.length;t++)e[t]&&n.push(e[t]);return n},castInput:function(e){return e},tokenize:function(e){return Array.from(e)},join:function(e){return e.join("")},postProcess:function(e){return e}};var o=new r;function l(e,n,t){return o.diff(e,n,t)}function a(e,n){var t;for(t=0;t<e.length&&t<n.length;t++)if(e[t]!=n[t])return e.slice(0,t);return e.slice(0,t)}function u(e,n){var t;if(!e||!n||e[e.length-1]!=n[n.length-1])return"";for(t=0;t<e.length&&t<n.length;t++)if(e[e.length-(t+1)]!=n[n.length-(t+1)])return e.slice(-t);return e.slice(-t)}function s(e,n,t){if(e.slice(0,n.length)!=n)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(n),"; this is a bug"));return t+e.slice(n.length)}function f(e,n,t){if(!n)return e+t;if(e.slice(-n.length)!=n)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(n),"; this is a bug"));return e.slice(0,-n.length)+t}function c(e,n){return s(e,n,"")}function d(e,n){return f(e,n,"")}function h(e,n){return n.slice(0,function(e,n){var t=0;e.length>n.length&&(t=e.length-n.length);var r=n.length;e.length<n.length&&(r=e.length);var i=Array(r),o=0;i[0]=0;for(var l=1;l<r;l++){for(n[l]==n[o]?i[l]=i[o]:i[l]=o;o>0&&n[l]!=n[o];)o=i[o];n[l]==n[o]&&o++}o=0;for(var a=t;a<e.length;a++){for(;o>0&&e[a]!=n[o];)o=i[o];e[a]==n[o]&&o++}return o}(e,n))}var v="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",p=new RegExp("[".concat(v,"]+|\\s+|[^").concat(v,"]"),"ug"),g=new r;function m(e,n,t){return null==(null==t?void 0:t.ignoreWhitespace)||t.ignoreWhitespace?g.diff(e,n,t):b(e,n,t)}function w(e,n,t,r){if(n&&t){var i=n.value.match(/^\s*/)[0],o=n.value.match(/\s*$/)[0],l=t.value.match(/^\s*/)[0],v=t.value.match(/\s*$/)[0];if(e){var p=a(i,l);e.value=f(e.value,l,p),n.value=c(n.value,p),t.value=c(t.value,p)}if(r){var g=u(o,v);r.value=s(r.value,v,g),n.value=d(n.value,g),t.value=d(t.value,g)}}else if(t)e&&(t.value=t.value.replace(/^\s*/,"")),r&&(r.value=r.value.replace(/^\s*/,""));else if(e&&r){var m=r.value.match(/^\s*/)[0],w=n.value.match(/^\s*/)[0],y=n.value.match(/\s*$/)[0],b=a(m,w);n.value=c(n.value,b);var k=u(c(m,b),y);n.value=d(n.value,k),r.value=s(r.value,m,k),e.value=f(e.value,m,m.slice(0,m.length-k.length))}else if(r){var L=r.value.match(/^\s*/)[0],S=h(n.value.match(/\s*$/)[0],L);n.value=d(n.value,S)}else if(e){var x=h(e.value.match(/\s*$/)[0],n.value.match(/^\s*/)[0]);n.value=c(n.value,x)}}g.equals=function(e,n,t){return t.ignoreCase&&(e=e.toLowerCase(),n=n.toLowerCase()),e.trim()===n.trim()},g.tokenize=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.intlSegmenter){if("word"!=t.intlSegmenter.resolvedOptions().granularity)throw new Error('The segmenter passed must have a granularity of "word"');n=Array.from(t.intlSegmenter.segment(e),function(e){return e.segment})}else n=e.match(p)||[];var r=[],i=null;return n.forEach(function(e){/\s/.test(e)?null==i?r.push(e):r.push(r.pop()+e):/\s/.test(i)?r[r.length-1]==i?r.push(r.pop()+e):r.push(i+e):r.push(e),i=e}),r},g.join=function(e){return e.map(function(e,n){return 0==n?e:e.replace(/^\s+/,"")}).join("")},g.postProcess=function(e,n){if(!e||n.oneChangePerToken)return e;var t=null,r=null,i=null;return e.forEach(function(e){e.added?r=e:e.removed?i=e:((r||i)&&w(t,i,r,e),t=e,r=null,i=null)}),(r||i)&&w(t,i,r,null),e};var y=new r;function b(e,n,t){return y.diff(e,n,t)}y.tokenize=function(e){var n=new RegExp("(\\r?\\n)|[".concat(v,"]+|[^\\S\\n\\r]+|[^").concat(v,"]"),"ug");return e.match(n)||[]};var k=new r;function L(e,n,t){return k.diff(e,n,t)}function S(e,n,t){var r=function(e,n){if("function"==typeof e)n.callback=e;else if(e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t,{ignoreWhitespace:!0});return k.diff(e,n,r)}k.tokenize=function(e,n){n.stripTrailingCr&&(e=e.replace(/\r\n/g,"\n"));var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var i=0;i<r.length;i++){var o=r[i];i%2&&!n.newlineIsToken?t[t.length-1]+=o:t.push(o)}return t},k.equals=function(e,n,t){return t.ignoreWhitespace?(t.newlineIsToken&&e.includes("\n")||(e=e.trim()),t.newlineIsToken&&n.includes("\n")||(n=n.trim())):t.ignoreNewlineAtEof&&!t.newlineIsToken&&(e.endsWith("\n")&&(e=e.slice(0,-1)),n.endsWith("\n")&&(n=n.slice(0,-1))),r.prototype.equals.call(this,e,n,t)};var x=new r;function P(e,n,t){return x.diff(e,n,t)}x.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var F=new r;function N(e,n,t){return F.diff(e,n,t)}function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach(function(n){var r,i,o;r=e,i=n,o=t[n],(i=function(e){var n=function(e,n){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==typeof n?n:n+""}(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function E(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return A(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?A(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}F.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var H=new r;function T(e,n,t){return H.diff(e,n,t)}function W(e,n,t,r,i){var o,l;for(n=n||[],t=t||[],r&&(e=r(i,e)),o=0;o<n.length;o+=1)if(n[o]===e)return t[o];if("[object Array]"===Object.prototype.toString.call(e)){for(n.push(e),l=new Array(e.length),t.push(l),o=0;o<e.length;o+=1)l[o]=W(e[o],n,t,r,i);return n.pop(),t.pop(),l}if(e&&e.toJSON&&(e=e.toJSON()),"object"===O(e)&&null!==e){n.push(e),l={},t.push(l);var a,u=[];for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&u.push(a);for(u.sort(),o=0;o<u.length;o+=1)l[a=u[o]]=W(e[a],n,t,r,a);n.pop(),t.pop()}else l=e;return l}H.useLongestToken=!0,H.tokenize=k.tokenize,H.castInput=function(e,n){var t=n.undefinedReplacement,r=n.stringifyReplacer,i=void 0===r?function(e,n){return void 0===n?t:n}:r;return"string"==typeof e?e:JSON.stringify(W(e,null,null,i),i,"  ")},H.equals=function(e,n,t){return r.prototype.equals.call(H,e.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"),t)};var I=new r;function z(e,n,t){return I.diff(e,n,t)}function D(e){return Array.isArray(e)?e.map(D):j(j({},e),{},{hunks:e.hunks.map(function(e){return j(j({},e),{},{lines:e.lines.map(function(n,t){var r;return n.startsWith("\\")||n.endsWith("\r")||null!==(r=e.lines[t+1])&&void 0!==r&&r.startsWith("\\")?n:n+"\r"})})})})}function M(e){return Array.isArray(e)?e.map(M):j(j({},e),{},{hunks:e.hunks.map(function(e){return j(j({},e),{},{lines:e.lines.map(function(e){return e.endsWith("\r")?e.substring(0,e.length-1):e})})})})}function $(e){var n=e.split(/\n/),t=[],r=0;function i(){var e={};for(t.push(e);r<n.length;){var i=n[r];if(/^(\-\-\-|\+\+\+|@@)\s/.test(i))break;var a=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(i);a&&(e.index=a[1]),r++}for(o(e),o(e),e.hunks=[];r<n.length;){var u=n[r];if(/^(Index:\s|diff\s|\-\-\-\s|\+\+\+\s|===================================================================)/.test(u))break;if(/^@@/.test(u))e.hunks.push(l());else{if(u)throw new Error("Unknown line "+(r+1)+" "+JSON.stringify(u));r++}}}function o(e){var t=/^(---|\+\+\+)\s+(.*)\r?$/.exec(n[r]);if(t){var i="---"===t[1]?"old":"new",o=t[2].split("\t",2),l=o[0].replace(/\\\\/g,"\\");/^".*"$/.test(l)&&(l=l.substr(1,l.length-2)),e[i+"FileName"]=l,e[i+"Header"]=(o[1]||"").trim(),r++}}function l(){var e=r,t=n[r++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),i={oldStart:+t[1],oldLines:void 0===t[2]?1:+t[2],newStart:+t[3],newLines:void 0===t[4]?1:+t[4],lines:[]};0===i.oldLines&&(i.oldStart+=1),0===i.newLines&&(i.newStart+=1);for(var o=0,l=0;r<n.length&&(l<i.oldLines||o<i.newLines||null!==(a=n[r])&&void 0!==a&&a.startsWith("\\"));r++){var a,u=0==n[r].length&&r!=n.length-1?" ":n[r][0];if("+"!==u&&"-"!==u&&" "!==u&&"\\"!==u)throw new Error("Hunk at line ".concat(e+1," contained invalid line ").concat(n[r]));i.lines.push(n[r]),"+"===u?o++:"-"===u?l++:" "===u&&(o++,l++)}if(o||1!==i.newLines||(i.newLines=0),l||1!==i.oldLines||(i.oldLines=0),o!==i.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(l!==i.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1));return i}for(;r<n.length;)i();return t}function J(e,n,t){var r=!0,i=!1,o=!1,l=1;return function a(){if(r&&!o){if(i?l++:r=!1,e+l<=t)return e+l;o=!0}if(!i)return o||(r=!0),n<=e-l?e-l++:(i=!0,a())}}function q(e,n){var t,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof n&&(n=$(n)),Array.isArray(n)){if(n.length>1)throw new Error("applyPatch only works with a single input.");n=n[0]}(i.autoConvertLineEndings||null==i.autoConvertLineEndings)&&(!(r=e).includes("\r\n")||r.startsWith("\n")||r.match(/[^\r]\n/)||(t=n,Array.isArray(t)||(t=[t]),t.some(function(e){return e.hunks.some(function(e){return e.lines.some(function(e){return!e.startsWith("\\")&&e.endsWith("\r")})})}))?function(e){return!e.includes("\r\n")&&e.includes("\n")}(e)&&function(e){return Array.isArray(e)||(e=[e]),e.some(function(e){return e.hunks.some(function(e){return e.lines.some(function(e){return e.endsWith("\r")})})})&&e.every(function(e){return e.hunks.every(function(e){return e.lines.every(function(n,t){var r;return n.startsWith("\\")||n.endsWith("\r")||(null===(r=e.lines[t+1])||void 0===r?void 0:r.startsWith("\\"))})})})}(n)&&(n=M(n)):n=D(n));var o=e.split("\n"),l=n.hunks,a=i.compareLine||function(e,n,t,r){return n===r},u=i.fuzzFactor||0,s=0;if(u<0||!Number.isInteger(u))throw new Error("fuzzFactor must be a non-negative integer");if(!l.length)return e;for(var f="",c=!1,d=!1,h=0;h<l[l.length-1].lines.length;h++){var v=l[l.length-1].lines[h];"\\"==v[0]&&("+"==f[0]?c=!0:"-"==f[0]&&(d=!0)),f=v}if(c){if(d){if(!u&&""==o[o.length-1])return!1}else if(""==o[o.length-1])o.pop();else if(!u)return!1}else if(d)if(""!=o[o.length-1])o.push("");else if(!u)return!1;function p(e,n,t){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=0,f=!1;r<e.length;r++){var c=e[r],d=c.length>0?c[0]:" ",h=c.length>0?c.substr(1):c;if("-"===d){if(!a(n+1,o[n],d,h))return t&&null!=o[n]?(l[u]=o[n],p(e,n+1,t-1,r,!1,l,u+1)):null;n++,s=0}if("+"===d){if(!i)return null;l[u]=h,u++,s=0,f=!0}if(" "===d){if(s++,l[u]=o[n],!a(n+1,o[n],d,h))return f||!t?null:o[n]&&(p(e,n+1,t-1,r+1,!1,l,u+1)||p(e,n+1,t-1,r,!1,l,u+1))||p(e,n,t-1,r+1,!1,l,u);u++,i=!0,f=!1,n++}}return u-=s,n-=s,l.length=u,{patchedLines:l,oldLineLastI:n-1}}for(var g=[],m=0,w=0;w<l.length;w++){for(var y=l[w],b=void 0,k=o.length-y.oldLines+u,L=void 0,S=0;S<=u;S++){for(var x=J(L=y.oldStart+m-1,s,k);void 0!==L&&!(b=p(y.lines,L,S));L=x());if(b)break}if(!b)return!1;for(var P=s;P<L;P++)g.push(o[P]);for(var F=0;F<b.patchedLines.length;F++){var N=b.patchedLines[F];g.push(N)}s=b.oldLineLastI+1,m=L+1-y.oldStart}for(var C=s;C<o.length;C++)g.push(o[C]);return g.join("\n")}function R(e,n){"string"==typeof e&&(e=$(e));var t=0;!function r(){var i=e[t++];if(!i)return n.complete();n.loadFile(i,function(e,t){if(e)return n.complete(e);var o=q(t,i,n);n.patched(i,o,function(e){if(e)return n.complete(e);r()})})}()}function _(e,n,t,r,i,o,l){if(l||(l={}),"function"==typeof l&&(l={callback:l}),void 0===l.context&&(l.context=4),l.newlineIsToken)throw new Error("newlineIsToken may not be used with patch-generation functions, only with diffing functions");if(!l.callback)return u(L(t,r,l));var a=l.callback;function u(t){if(t){t.push({value:"",lines:[]});for(var r=[],a=0,u=0,s=[],f=1,c=1,d=function(){var e,n,i,o=t[h],d=o.lines||(e=o.value,n=e.endsWith("\n"),i=e.split("\n").map(function(e){return e+"\n"}),n?i.pop():i.push(i.pop().slice(0,-1)),i);if(o.lines=d,o.added||o.removed){var v;if(!a){var p=t[h-1];a=f,u=c,p&&(s=l.context>0?w(p.lines.slice(-l.context)):[],a-=s.length,u-=s.length)}(v=s).push.apply(v,E(d.map(function(e){return(o.added?"+":"-")+e}))),o.added?c+=d.length:f+=d.length}else{if(a)if(d.length<=2*l.context&&h<t.length-2){var g;(g=s).push.apply(g,E(w(d)))}else{var m,y=Math.min(d.length,l.context);(m=s).push.apply(m,E(w(d.slice(0,y))));var b={oldStart:a,oldLines:f-a+y,newStart:u,newLines:c-u+y,lines:s};r.push(b),a=0,u=0,s=[]}f+=d.length,c+=d.length}},h=0;h<t.length;h++)d();for(var v=0,p=r;v<p.length;v++)for(var g=p[v],m=0;m<g.lines.length;m++)g.lines[m].endsWith("\n")?g.lines[m]=g.lines[m].slice(0,-1):(g.lines.splice(m+1,0,"\\ No newline at end of file"),m++);return{oldFileName:e,newFileName:n,oldHeader:i,newHeader:o,hunks:r}}function w(e){return e.map(function(e){return" "+e})}}L(t,r,j(j({},l),{},{callback:function(e){var n=u(e);a(n)}}))}function U(e){if(Array.isArray(e))return e.map(U).join("\n");var n=[];e.oldFileName==e.newFileName&&n.push("Index: "+e.oldFileName),n.push("==================================================================="),n.push("--- "+e.oldFileName+(void 0===e.oldHeader?"":"\t"+e.oldHeader)),n.push("+++ "+e.newFileName+(void 0===e.newHeader?"":"\t"+e.newHeader));for(var t=0;t<e.hunks.length;t++){var r=e.hunks[t];0===r.oldLines&&(r.oldStart-=1),0===r.newLines&&(r.newStart-=1),n.push("@@ -"+r.oldStart+","+r.oldLines+" +"+r.newStart+","+r.newLines+" @@"),n.push.apply(n,r.lines)}return n.join("\n")+"\n"}function X(e,n,t,r,i,o,l){var a;if("function"==typeof l&&(l={callback:l}),null===(a=l)||void 0===a||!a.callback){var u=_(e,n,t,r,i,o,l);if(!u)return;return U(u)}var s=l.callback;_(e,n,t,r,i,o,j(j({},l),{},{callback:function(e){e?s(U(e)):s()}}))}function Z(e,n,t,r,i,o){return X(e,e,n,t,r,i,o)}function B(e,n){if(n.length>e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function G(e){var n=ce(e.lines),t=n.oldLines,r=n.newLines;void 0!==t?e.oldLines=t:delete e.oldLines,void 0!==r?e.newLines=r:delete e.newLines}function K(e,n,t){e=Q(e,t),n=Q(n,t);var r={};(e.index||n.index)&&(r.index=e.index||n.index),(e.newFileName||n.newFileName)&&(V(e)?V(n)?(r.oldFileName=Y(r,e.oldFileName,n.oldFileName),r.newFileName=Y(r,e.newFileName,n.newFileName),r.oldHeader=Y(r,e.oldHeader,n.oldHeader),r.newHeader=Y(r,e.newHeader,n.newHeader)):(r.oldFileName=e.oldFileName,r.newFileName=e.newFileName,r.oldHeader=e.oldHeader,r.newHeader=e.newHeader):(r.oldFileName=n.oldFileName||e.oldFileName,r.newFileName=n.newFileName||e.newFileName,r.oldHeader=n.oldHeader||e.oldHeader,r.newHeader=n.newHeader||e.newHeader)),r.hunks=[];for(var i=0,o=0,l=0,a=0;i<e.hunks.length||o<n.hunks.length;){var u=e.hunks[i]||{oldStart:1/0},s=n.hunks[o]||{oldStart:1/0};if(ee(u,s))r.hunks.push(ne(u,l)),i++,a+=u.newLines-u.oldLines;else if(ee(s,u))r.hunks.push(ne(s,a)),o++,l+=s.newLines-s.oldLines;else{var f={oldStart:Math.min(u.oldStart,s.oldStart),oldLines:0,newStart:Math.min(u.newStart+l,s.oldStart+a),newLines:0,lines:[]};te(f,u.oldStart,u.lines,s.oldStart,s.lines),o++,i++,r.hunks.push(f)}}return r}function Q(e,n){if("string"==typeof e){if(/^@@/m.test(e)||/^Index:/m.test(e))return $(e)[0];if(!n)throw new Error("Must provide a base reference or pass in a patch");return _(void 0,void 0,n,e)}return e}function V(e){return e.newFileName&&e.newFileName!==e.oldFileName}function Y(e,n,t){return n===t?n:(e.conflict=!0,{mine:n,theirs:t})}function ee(e,n){return e.oldStart<n.oldStart&&e.oldStart+e.oldLines<n.oldStart}function ne(e,n){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+n,newLines:e.newLines,lines:e.lines}}function te(e,n,t,r,i){var o={offset:n,lines:t,index:0},l={offset:r,lines:i,index:0};for(le(e,o,l),le(e,l,o);o.index<o.lines.length&&l.index<l.lines.length;){var a=o.lines[o.index],u=l.lines[l.index];if("-"!==a[0]&&"+"!==a[0]||"-"!==u[0]&&"+"!==u[0])if("+"===a[0]&&" "===u[0]){var s;(s=e.lines).push.apply(s,E(ue(o)))}else if("+"===u[0]&&" "===a[0]){var f;(f=e.lines).push.apply(f,E(ue(l)))}else"-"===a[0]&&" "===u[0]?ie(e,o,l):"-"===u[0]&&" "===a[0]?ie(e,l,o,!0):a===u?(e.lines.push(a),o.index++,l.index++):oe(e,ue(o),ue(l));else re(e,o,l)}ae(e,o),ae(e,l),G(e)}function re(e,n,t){var r,i,o=ue(n),l=ue(t);if(se(o)&&se(l)){var a,u;if(B(o,l)&&fe(t,o,o.length-l.length))return void(a=e.lines).push.apply(a,E(o));if(B(l,o)&&fe(n,l,l.length-o.length))return void(u=e.lines).push.apply(u,E(l))}else if(i=l,(r=o).length===i.length&&B(r,i)){var s;return void(s=e.lines).push.apply(s,E(o))}oe(e,o,l)}function ie(e,n,t,r){var i,o=ue(n),l=function(e,n){for(var t=[],r=[],i=0,o=!1,l=!1;i<n.length&&e.index<e.lines.length;){var a=e.lines[e.index],u=n[i];if("+"===u[0])break;if(o=o||" "!==a[0],r.push(u),i++,"+"===a[0])for(l=!0;"+"===a[0];)t.push(a),a=e.lines[++e.index];u.substr(1)===a.substr(1)?(t.push(a),e.index++):l=!0}if("+"===(n[i]||"")[0]&&o&&(l=!0),l)return t;for(;i<n.length;)r.push(n[i++]);return{merged:r,changes:t}}(t,o);l.merged?(i=e.lines).push.apply(i,E(l.merged)):oe(e,r?l:o,r?o:l)}function oe(e,n,t){e.conflict=!0,e.lines.push({conflict:!0,mine:n,theirs:t})}function le(e,n,t){for(;n.offset<t.offset&&n.index<n.lines.length;){var r=n.lines[n.index++];e.lines.push(r),n.offset++}}function ae(e,n){for(;n.index<n.lines.length;){var t=n.lines[n.index++];e.lines.push(t)}}function ue(e){for(var n=[],t=e.lines[e.index][0];e.index<e.lines.length;){var r=e.lines[e.index];if("-"===t&&"+"===r[0]&&(t="+"),t!==r[0])break;n.push(r),e.index++}return n}function se(e){return e.reduce(function(e,n){return e&&"-"===n[0]},!0)}function fe(e,n,t){for(var r=0;r<t;r++){var i=n[n.length-t+r].substr(1);if(e.lines[e.index+r]!==" "+i)return!1}return e.index+=t,!0}function ce(e){var n=0,t=0;return e.forEach(function(e){if("string"!=typeof e){var r=ce(e.mine),i=ce(e.theirs);void 0!==n&&(r.oldLines===i.oldLines?n+=r.oldLines:n=void 0),void 0!==t&&(r.newLines===i.newLines?t+=r.newLines:t=void 0)}else void 0===t||"+"!==e[0]&&" "!==e[0]||t++,void 0===n||"-"!==e[0]&&" "!==e[0]||n++}),{oldLines:n,newLines:t}}function de(e){return Array.isArray(e)?e.map(de).reverse():j(j({},e),{},{oldFileName:e.newFileName,oldHeader:e.newHeader,newFileName:e.oldFileName,newHeader:e.oldHeader,hunks:e.hunks.map(function(e){return{oldLines:e.newLines,oldStart:e.newStart,newLines:e.oldLines,newStart:e.oldStart,lines:e.lines.map(function(e){return e.startsWith("-")?"+".concat(e.slice(1)):e.startsWith("+")?"-".concat(e.slice(1)):e})}})})}function he(e){for(var n,t,r=[],i=0;i<e.length;i++)t=(n=e[i]).added?1:n.removed?-1:0,r.push([t,n.value]);return r}function ve(e){for(var n=[],t=0;t<e.length;t++){var r=e[t];r.added?n.push("<ins>"):r.removed&&n.push("<del>"),n.push(pe(r.value)),r.added?n.push("</ins>"):r.removed&&n.push("</del>")}return n.join("")}function pe(e){var n=e;return(n=(n=(n=n.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")}I.tokenize=function(e){return e.slice()},I.join=I.removeEmpty=function(e){return e}}}]);