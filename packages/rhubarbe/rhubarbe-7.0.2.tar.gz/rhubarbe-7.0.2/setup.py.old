#!/usr/bin/env python3

"""
packaging / installing
"""

#
# avoid this; we may need this early, when requirements are not met yet
# from rhubarbe.main import supported_subcommands
# instead, cut'n'paste from the rhubarbe help message
rhubarbe_help = (
    "nodes,status,on,off,reset,info,usrpstatus,usrpon,usrpoff,"
    "bye,load,save,wait,images,resolve,share,leases,"
    "monitornodes,monitorphones,monitorpdus,monitorleases,"
    "accountsmanager,inventory,config,template,pdu,version"
)
supported_subcommands = rhubarbe_help.split(",")

#
# add convenience entry points like rhubarbe-load and others
console_scripts = []
console_scripts.append('rhubarbe = rhubarbe.__main__:main')
for subcommand in supported_subcommands:
    console_scripts.append(f'rhubarbe-{subcommand} = rhubarbe.__main__:main')

entry_points={ 'console_scripts': console_scripts },
