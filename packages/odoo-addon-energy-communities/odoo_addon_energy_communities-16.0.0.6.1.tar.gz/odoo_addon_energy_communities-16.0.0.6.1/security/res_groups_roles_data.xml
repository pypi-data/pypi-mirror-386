<odoo>
  <record id="energy_communities_category" model="ir.module.category">
    <field name="name">Energy Communities</field>
    <field name="description">
      Nivell d'Accés dels usuaris a la plataforma Odoo de les Comunitats Energètiques
    </field>
    <field name="sequence">10</field>
  </record>

  <!-- new groups -->
  <record model="res.groups" id="group_user">
    <field name="name">User</field>
    <field name="category_id" ref="energy_communities_category" />
  </record>

  <record model="res.groups" id="group_admin">
    <field name="name">Administrator</field>
    <field name="category_id" ref="energy_communities_category" />
  </record>

  <record model="res.groups" id="group_platform_manager">
    <field name="name">Platform Manager</field>
    <field name="category_id" ref="energy_communities_category" />
  </record>

  <!-- new roles -->
  <record model="res.users.role" id="role_platform_admin">
    <field name="name">Platform Admin Role</field>
    <field name="code">role_platform_admin</field>
    <field
      name="implied_ids"
      eval="[
        (5, 0, 0),
        (4, ref('group_platform_manager')),
        (4, ref('group_admin')),
        (4, ref('account.group_account_invoice')),
        (4, ref('account.group_account_manager')),
        (4, ref('account.group_account_user')),
        (4, ref('account.group_delivery_invoice_address')),
        (4, ref('account_payment_order.group_account_payment')),
        (4, ref('base.group_allow_export')),
        (4, ref('base.group_erp_manager')),
        (4, ref('base.group_partner_manager')),
        (4, ref('base.group_system')),
        (4, ref('base_technical_features.group_technical_features')),
        (4, ref('community_maps.group_community_maps_admin')),
        (4, ref('event.group_event_manager')),
        (4, ref('l10n_es_aeat.group_account_aeat')),
        (4, ref('mail.group_mail_template_editor')),
        (4, ref('purchase.group_purchase_manager')),
        (4, ref('queue_job.group_queue_job_manager')),
        (4, ref('sales_team.group_sale_manager')),
        (4, ref('website.group_multi_website')),
        (4, ref('website.group_website_restricted_editor')),
      ]"
    />
  </record>

  <record model="res.users.role" id="role_coord_admin">
    <field name="name">Coordinator Admin</field>
    <field name="code">role_coord_admin</field>
    <field
      name="implied_ids"
      eval="[
        (5, 0, 0),
        (4, ref('group_admin')),
        (4, ref('account.group_account_invoice')),
        (4, ref('account.group_account_manager')),
        (4, ref('account.group_account_user')),
        (4, ref('account.group_delivery_invoice_address')),
        (4, ref('account_payment_order.group_account_payment')),
        (4, ref('base.group_allow_export')),
        (4, ref('base.group_partner_manager')),
        (4, ref('community_maps.group_community_maps_manager')),
        (4, ref('crm.group_use_lead')),
        (4, ref('l10n_es_aeat.group_account_aeat')),
        (4, ref('purchase.group_purchase_manager')),
        (4, ref('sales_team.group_sale_manager')),
      ]"
    />
  </record>

  <record model="res.users.role" id="role_ce_manager">
    <field name="name">Energy Community Manager</field>
    <field name="code">role_ce_manager</field>
    <field
      name="implied_ids"
      eval="[
        (5, 0, 0),
        (4, ref('group_admin')),
        (4, ref('account.group_account_invoice')),
        (4, ref('account.group_account_manager')),
        (4, ref('account.group_account_user')),
        (4, ref('account.group_delivery_invoice_address')),
        (4, ref('account_payment_order.group_account_payment')),
        (4, ref('base.group_allow_export')),
        (4, ref('base.group_partner_manager')),
        (4, ref('crm.group_use_lead')),
        (4, ref('l10n_es_aeat.group_account_aeat')),
        (4, ref('purchase.group_purchase_manager')),
        (4, ref('sales_team.group_sale_manager')),
      ]"
    />
  </record>

  <record model="res.users.role" id="role_ce_admin">
    <field name="name">Energy Community Administrator</field>
    <field name="code">role_ce_admin</field>
    <field
      name="implied_ids"
      eval="[
        (5, 0, 0),
        (4, ref('group_admin')),
        (4, ref('account.group_account_invoice')),
        (4, ref('account.group_account_manager')),
        (4, ref('account.group_account_user')),
        (4, ref('account.group_delivery_invoice_address')),
        (4, ref('account_payment_order.group_account_payment')),
        (4, ref('base.group_allow_export')),
        (4, ref('base.group_partner_manager')),
        (4, ref('crm.group_use_lead')),
        (4, ref('l10n_es_aeat.group_account_aeat')),
        (4, ref('purchase.group_purchase_manager')),
        (4, ref('sales_team.group_sale_manager')),
      ]"
    />
  </record>

  <record model="res.users.role" id="role_ce_member">
    <field name="name">Energy Community Member</field>
    <field name="code">role_ce_member</field>
    <field
      name="implied_ids"
      eval="[
        (5, 0, 0),
        (4, ref('group_user')),
        (4, ref('account.group_account_invoice')),
      ]"
    />
  </record>

  <record model="res.users.role" id="role_internal_user">
    <field name="name">Internal User</field>
    <field name="code">role_internal_user</field>
    <field
      name="implied_ids"
      eval="[
        (5, 0, 0),
        (4, ref('base.group_user')),
        (4, ref('base.group_multi_company')),
      ]"
    />
  </record>

</odoo>
