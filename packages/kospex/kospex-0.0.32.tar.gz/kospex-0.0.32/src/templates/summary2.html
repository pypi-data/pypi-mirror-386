<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Kospex Web - Summary</title>
        <!-- Local static assets -->
        <link rel="stylesheet" href="/static/css/tailwind.css">
        <style>
            .four-col-container {
                display: table;
                width: 100%;
                table-layout: fixed;
                border-spacing: 1.5rem;
            }
            .four-col-row {
                display: table-row;
            }
            .four-col-item {
                display: table-cell;
                width: 25%;
                vertical-align: top;
            }
        </style>
    </head>

    <body class="bg-white">
        {% include '_header.html' %}

        <!-- Main content area -->
        <div class="container mx-auto px-4 mt-12">
            {% import '_id_header_macro.html' as header %}

            <!-- Developers Summary -->
            <div class="bg-white rounded-lg mb-8">
                <div class="p-6">
                    {% set id = 'developers' %}
                    {{ header.id_headings(id) if id }}
                    <h2 class="text-2xl font-bold text-gray-900 mb-2">
                        Developers
                    </h2>
                    <p class="text-gray-700 mb-6">
                        Total:
                        <a
                            href="/developers/"
                            class="text-blue-600 hover:text-blue-800 underline font-semibold"
                            >{{ developers.total }}</a
                        >
                    </p>

                    <!-- Developer Status - 4 Column Layout -->
                    <div class="four-col-container">
                        <div class="four-col-row">
                            <!-- Active Developers -->
                            <div class="four-col-item">
                                <div class="bg-green-50 rounded-lg p-6 h-full">
                                    <h3 class="text-lg font-bold text-gray-900 mb-4 text-center">
                                        Active
                                    </h3>
                                    <div class="flex justify-center mb-3">
                                        {% set active_pixels = data_size.get('Active','40') %}
                                        <div
                                            class="rounded-full bg-green-500 flex items-center justify-center text-black font-bold text-2xl"
                                            style="width: {{ active_pixels }}px; height: {{ active_pixels }}px;"
                                        >
                                            {{ developers.get("Active","0") }}
                                        </div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-xl font-bold text-gray-900">
                                            {{ developers.get("Active_percentage", "0") }}%
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Aging Developers -->
                            <div class="four-col-item">
                                <div class="bg-yellow-50 rounded-lg p-6 h-full">
                                    <h3 class="text-lg font-bold text-gray-900 mb-4 text-center">
                                        Aging
                                    </h3>
                                    <div class="flex justify-center mb-3">
                                        <div
                                            class="rounded-full bg-yellow-400 flex items-center justify-center text-black font-bold text-2xl"
                                            style="width: {{ data_size.get('Aging','40') }}px; height: {{ data_size.get('Aging','40') }}px;"
                                        >
                                            {{ developers.get("Aging","0") }}
                                        </div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-xl font-bold text-gray-900">
                                            {{ developers.get("Aging_percentage", "0") }}%
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Stale Developers -->
                            <div class="four-col-item">
                                <div class="bg-orange-50 rounded-lg p-6 h-full">
                                    <h3 class="text-lg font-bold text-gray-900 mb-4 text-center">
                                        Stale
                                    </h3>
                                    <div class="flex justify-center mb-3">
                                        <div
                                            class="rounded-full bg-orange-400 flex items-center justify-center text-black font-bold text-2xl"
                                            style="width: {{ data_size.get('Stale','40') }}px; height: {{ data_size.get('Stale','40') }}px;"
                                        >
                                            {{ developers.get("Stale","0") }}
                                        </div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-xl font-bold text-gray-900">
                                            {{ developers.get("Stale_percentage", "0") }}%
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Dormant Developers -->
                            <div class="four-col-item">
                                <div class="bg-gray-50 rounded-lg p-6 h-full">
                                    <h3 class="text-lg font-bold text-gray-900 mb-4 text-center">
                                        Dormant
                                    </h3>
                                    <div class="flex justify-center mb-3">
                                        <div
                                            class="rounded-full bg-gray-300 flex items-center justify-center text-black font-bold text-2xl"
                                            style="width: {{ data_size.get('Unmaintained','40') }}px; height: {{ data_size.get('Unmaintained','40') }}px;"
                                        >
                                            {{ developers.get("Unmaintained","0") }}
                                        </div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-xl font-bold text-gray-900">
                                            {{ developers.get("Unmaintained_percentage", "0") }}%
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Repositories Summary -->
            <div class="bg-white rounded-lg mb-8">
                <div class="p-6">
                    <h2 class="text-2xl font-bold text-gray-900 mb-2">
                        Repositories
                    </h2>
                    <p class="text-gray-700 mb-6">
                        Total:
                        <a
                            href="/repos/"
                            class="text-blue-600 hover:text-blue-800 underline font-semibold"
                            >{{ repos.total }}</a
                        >
                    </p>

                    <!-- Repository Status - 4 Column Layout -->
                    <div class="four-col-container">
                        <div class="four-col-row">
                            <!-- Active Repositories -->
                            <div class="four-col-item">
                                <div class="bg-green-50 rounded-lg p-6 h-full">
                                    <h3 class="text-lg font-bold text-gray-900 mb-4 text-center">
                                        Active
                                    </h3>
                                    <div class="flex justify-center mb-3">
                                        <div
                                            class="rounded-full bg-green-500 flex items-center justify-center text-black font-bold text-2xl"
                                            style="width: {{ repo_sizes.get('Active','40') }}px; height: {{ repo_sizes.get('Active','40') }}px;"
                                        >
                                            {{ repos.get("Active","0") }}
                                        </div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-xl font-bold text-gray-900">
                                            {{ repos.get("Active_percentage","0") }}%
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Aging Repositories -->
                            <div class="four-col-item">
                                <div class="bg-yellow-50 rounded-lg p-6 h-full">
                                    <h3 class="text-lg font-bold text-gray-900 mb-4 text-center">
                                        Aging
                                    </h3>
                                    <div class="flex justify-center mb-3">
                                        <div
                                            class="rounded-full bg-yellow-400 flex items-center justify-center text-black font-bold text-2xl"
                                            style="width: {{ repo_sizes.get('Aging','40') }}px; height: {{ repo_sizes.get('Aging','40') }}px;"
                                        >
                                            {{ repos.get("Aging","0") }}
                                        </div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-xl font-bold text-gray-900">
                                            {{ repos.get("Aging_percentage","0") }}%
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Stale Repositories -->
                            <div class="four-col-item">
                                <div class="bg-orange-50 rounded-lg p-6 h-full">
                                    <h3 class="text-lg font-bold text-gray-900 mb-4 text-center">
                                        Stale
                                    </h3>
                                    <div class="flex justify-center mb-3">
                                        <div
                                            class="rounded-full bg-orange-400 flex items-center justify-center text-black font-bold text-2xl"
                                            style="width: {{ repo_sizes.get('Stale','40') }}px; height: {{ repo_sizes.get('Stale','40') }}px;"
                                        >
                                            {{ repos.get("Stale","0") }}
                                        </div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-xl font-bold text-gray-900">
                                            {{ repos.get("Stale_percentage","0") }}%
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Dormant Repositories -->
                            <div class="four-col-item">
                                <div class="bg-gray-50 rounded-lg p-6 h-full">
                                    <h3 class="text-lg font-bold text-gray-900 mb-4 text-center">
                                        Dormant
                                    </h3>
                                    <div class="flex justify-center mb-3">
                                        <div
                                            class="rounded-full bg-gray-300 flex items-center justify-center text-black font-bold text-2xl"
                                            style="width: {{ repo_sizes.get('Unmaintained','40') }}px; height: {{ repo_sizes.get('Unmaintained','40') }}px;"
                                        >
                                            {{ repos.get("Unmaintained","0") }}
                                        </div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-xl font-bold text-gray-900">
                                            {{ repos.get("Unmaintained_percentage","0") }}%
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        {% include '_footer_scripts.html' %}
    </body>
</html>
