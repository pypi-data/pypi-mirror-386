# 🛠️ 代码生成器使用指南

KairoCore 提供了强大的代码生成器，可以一键生成完整的 CRUD 代码结构，大大提高开发效率。

### 访问代码生成器

启动应用后，访问 `/api/generator` 路径即可打开代码生成器页面。

### 使用步骤

1. **填写基本信息**：
   - **路由名称（英文）**：必填，如 `user`，将用于生成文件名和类名
   - **路由中文名称**：可选，如 `用户`，将用于生成注释和文档
   - **数据库表名**：可选，默认为 `{路由名称}_info`，如 `user_info`

2. **点击生成代码**：
   代码生成器将根据输入信息生成以下四个模块的代码：
   - **Action 模块**：包含 API 路由和控制器逻辑
   - **Schema 模块**：包含数据传输对象和验证规则
   - **Domain 模块**：包含业务逻辑和领域模型
   - **DAO 模块**：包含数据访问对象和数据库操作

3. **查看和复制代码**：
   生成的代码将以文件形式展示，每个文件都有独立的复制按钮，可以一键复制到剪贴板。

### 生成的代码结构

代码生成器会生成完整的分层架构代码：

```
{路由名称}/
├── action/{路由名称}/{路由名称}.py     # API 控制器
├── schema/{路由名称}/{路由名称}.py     # 数据传输对象
├── domain/{路由名称}/{路由名称}.py     # 领域模型和业务逻辑
└── dao/{路由名称}/{路由名称}.py        # 数据访问对象
```

### 功能特性

- **完整的 CRUD 操作**：包含增删改查和分页查询功能
- **数据验证**：自动生成 Pydantic 验证规则
- **数据库操作**：包含常用的 SQL 操作封装
- **错误处理**：统一的异常处理机制
- **类型提示**：完整的类型注解支持
- **文档注释**：详细的函数和类文档

### 注意事项

1. 生成的代码可能需要根据实际业务需求进行调整
2. 错误码和常量需要在 `common/errors.py`和 `common/consts.py`中定义
3. 数据库表结构需要提前创建并与生成的代码匹配
4. 生成的代码遵循 KairoCore 的分层架构规范

通过代码生成器，您可以快速搭建业务模块的基础代码结构，专注于业务逻辑的实现而非重复的代码编写。

<div align="center">
  <img src="https://github.com/Fatosy/KairoCore/blob/master/imgs/code_generator.png" alt="KairoCore Code Generator" />
</div>