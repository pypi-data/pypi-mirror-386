{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://pixell.sh/schemas/protocol/action.result.schema.json",
  "title": "ActionResult",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "type": {"const": "action.result"},
    "action": {"type": ["string", "null"]},
    "intent": {"type": ["string", "null"]},
    "status": {"type": "string", "enum": ["ok", "error", "cancelled"]},
    "message": {"type": ["string", "null"]},
    "details": {"type": ["object", "null"]},
    "patch": {"type": ["array", "null"], "items": {"type": "object"}},
    "trace_id": {"type": ["string", "null"]}
  },
  "required": ["type", "status"]
} 