.. image:: https://odoo-community.org/readme-banner-image
   :target: https://odoo-community.org/get-involved?utm_source=readme
   :alt: Odoo Community Association

============
Colombia TRM
============

.. 
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! source digest: sha256:7fc485437c3aded7eed497232582c81dc9cfee12942479594551d7dc89490e0f
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/license-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fl10n--colombia-lightgray.png?logo=github
    :target: https://github.com/OCA/l10n-colombia/tree/18.0/l10n_co_currency_rate_update
    :alt: OCA/l10n-colombia
.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
    :target: https://translation.odoo-community.org/projects/l10n-colombia-18-0/l10n-colombia-18-0-l10n_co_currency_rate_update
    :alt: Translate me on Weblate
.. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
    :target: https://runboat.odoo-community.org/builds?repo=OCA/l10n-colombia&target_branch=18.0
    :alt: Try me on Runboat

|badge1| |badge2| |badge3| |badge4| |badge5|

| This module implements the currency exchange rate query using data
  provided by the **Superintendencia Financiera de Colombia**.
| It extends the ``currency_rate_update`` module from the OCA/currency
  repository and adds the Superfinanciera provider:

   - **Superintendencia Financiera de Colombia** (ported by *[Yan
     Chirino - IKU Solutions]*):
     Implements the daily exchange rate query using the API provided by
     the Superfinanciera.
     For more information, visit
     https://www.superfinanciera.gov.co/SuperfinancieraWebServiceTRM/

**Table of contents**

.. contents::
   :local:

Usage
=====

1. Install the module from the Apps menu
2. The module will automatically create a scheduled action for daily TRM
   updates

Automatic Operation
-------------------

Once installed, the module operates automatically:

- **Daily Updates**: The scheduled action runs daily to fetch the latest
  TRM rate
- **Automatic Rate Creation**: USD currency rates are automatically
  created/updated for all companies
- **Logging**: All operations are logged for monitoring and
  troubleshooting

Manual TRM Update
-----------------

If you need to manually update the TRM rate:

1. Go to **Go to Invoicing > Configuration > Currency Rates Providers**
2. Select specific provider "Superfinanciera Colombia"
3. Find the action "Update Rates Now"

Configuration
-------------

No additional configuration is required. The module uses the official
Superfinanciera web service endpoint and automatically handles:

- Date formatting
- SOAP request construction
- Response parsing
- Error handling

Monitoring
----------

Check the Odoo logs to monitor TRM updates:

- Successful updates will show: "TRM vigente en la fecha [date] es de:
  [rate] COP"
- Rate creation/updates will be logged with company and rate information
- Any errors will be logged with full exception details

Troubleshooting
---------------

If TRM updates fail:

1. Check internet connectivity
2. Verify Superfinanciera service availability
3. Review Odoo logs for specific error messages
4. Ensure the scheduled action is active and properly configured

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/OCA/l10n-colombia/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us to smash it by providing a detailed and welcomed
`feedback <https://github.com/OCA/l10n-colombia/issues/new?body=module:%20l10n_co_currency_rate_update%0Aversion:%2018.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
-------

* Yan Chirino

Contributors
------------

- **Yan Chirino** - *Initial work* -
  `GitHub <https://github.com/yanchirino>`__

Maintainers
-----------

This module is maintained by the OCA.

.. image:: https://odoo-community.org/logo.png
   :alt: Odoo Community Association
   :target: https://odoo-community.org

OCA, or the Odoo Community Association, is a nonprofit organization whose
mission is to support the collaborative development of Odoo features and
promote its widespread use.

This module is part of the `OCA/l10n-colombia <https://github.com/OCA/l10n-colombia/tree/18.0/l10n_co_currency_rate_update>`_ project on GitHub.

You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
