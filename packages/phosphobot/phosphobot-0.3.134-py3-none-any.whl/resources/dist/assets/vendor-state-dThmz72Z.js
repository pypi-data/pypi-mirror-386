import{r as T,d as X}from"./vendor-react-T-sB7PLP.js";import{s as te}from"./vendor-ui-BxtKGb9b.js";const Ht=0,$t=1,kt=2,xt=3;var jt=Object.prototype.hasOwnProperty;function mt(t,e){var n,s;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((s=t.length)===e.length)for(;s--&&mt(t[s],e[s]););return s===-1}if(!n||typeof t=="object"){s=0;for(n in t)if(jt.call(t,n)&&++s&&!jt.call(e,n)||!(n in e)||!mt(t[n],e[n]))return!1;return Object.keys(e).length===s}}return t!==t&&e!==e}const W=new WeakMap,M=()=>{},C=M(),ht=Object,i=t=>t===C,N=t=>typeof t=="function",q=(t,e)=>({...t,...e}),Bt=t=>N(t.then),lt={},rt={},Tt="undefined",Z=typeof window!=Tt,gt=typeof document!=Tt,ee=Z&&"Deno"in window,ne=()=>Z&&typeof window.requestAnimationFrame!=Tt,zt=(t,e)=>{const n=W.get(t);return[()=>!i(e)&&t.get(e)||lt,s=>{if(!i(e)){const c=t.get(e);e in rt||(rt[e]=c),n[5](e,q(c,s),c||lt)}},n[6],()=>!i(e)&&e in rt?rt[e]:!i(e)&&t.get(e)||lt]};let St=!0;const se=()=>St,[wt,Ot]=Z&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[M,M],re=()=>{const t=gt&&document.visibilityState;return i(t)||t!=="hidden"},oe=t=>(gt&&document.addEventListener("visibilitychange",t),wt("focus",t),()=>{gt&&document.removeEventListener("visibilitychange",t),Ot("focus",t)}),ie=t=>{const e=()=>{St=!0,t()},n=()=>{St=!1};return wt("online",e),wt("offline",n),()=>{Ot("online",e),Ot("offline",n)}},ce={isOnline:se,isVisible:re},ae={initFocus:oe,initReconnect:ie},Wt=!X.useId,Q=!Z||ee,ue=t=>ne()?window.requestAnimationFrame(t):setTimeout(t,1),ft=Q?T.useEffect:T.useLayoutEffect,dt=typeof navigator<"u"&&navigator.connection,Pt=!Q&&dt&&(["slow-2g","2g"].includes(dt.effectiveType)||dt.saveData),ot=new WeakMap,le=t=>ht.prototype.toString.call(t),Et=(t,e)=>t===`[object ${e}]`;let fe=0;const vt=t=>{const e=typeof t,n=le(t),s=Et(n,"Date"),c=Et(n,"RegExp"),u=Et(n,"Object");let o,a;if(ht(t)===t&&!s&&!c){if(o=ot.get(t),o)return o;if(o=++fe+"~",ot.set(t,o),Array.isArray(t)){for(o="@",a=0;a<t.length;a++)o+=vt(t[a])+",";ot.set(t,o)}if(u){o="#";const d=ht.keys(t).sort();for(;!i(a=d.pop());)i(t[a])||(o+=a+":"+vt(t[a])+",");ot.set(t,o)}}else o=s?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return o},_t=t=>{if(N(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?vt(t):"",[t,e]};let de=0;const Dt=()=>++de;async function Jt(...t){const[e,n,s,c]=t,u=q({populateCache:!0,throwOnError:!0},typeof c=="boolean"?{revalidate:c}:c||{});let o=u.populateCache;const a=u.rollbackOnError;let d=u.optimisticData;const g=w=>typeof a=="function"?a(w):a!==!1,h=u.throwOnError;if(N(n)){const w=n,R=[],A=e.keys();for(const S of A)!/^\$(inf|sub)\$/.test(S)&&w(e.get(S)._k)&&R.push(S);return Promise.all(R.map(E))}return E(n);async function E(w){const[R]=_t(w);if(!R)return;const[A,S]=zt(e,R),[it,r,tt,K]=W.get(e),P=()=>{const _=it[R];return(N(u.revalidate)?u.revalidate(A().data,w):u.revalidate!==!1)&&(delete tt[R],delete K[R],_&&_[0])?_[0](kt).then(()=>A().data):A().data};if(t.length<3)return P();let v=s,F,L=!1;const p=Dt();r[R]=[p,0];const $=!i(d),V=A(),k=V.data,et=V._c,U=i(et)?k:et;if($&&(d=N(d)?d(U,k):d,S({data:d,_c:U})),N(v))try{v=v(U)}catch(_){F=_,L=!0}if(v&&Bt(v))if(v=await v.catch(_=>{F=_,L=!0}),p!==r[R][0]){if(L)throw F;return v}else L&&$&&g(F)&&(o=!0,S({data:U,_c:C}));if(o&&!L)if(N(o)){const _=o(v,U);S({data:_,error:C,_c:C})}else S({data:v,error:C,_c:C});if(r[R][1]=Dt(),Promise.resolve(P()).then(()=>{S({_c:C})}),L){if(h)throw F;return}return v}}const Mt=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},Ee=(t,e)=>{if(!W.has(t)){const n=q(ae,e),s=Object.create(null),c=Jt.bind(C,t);let u=M;const o=Object.create(null),a=(h,E)=>{const w=o[h]||[];return o[h]=w,w.push(E),()=>w.splice(w.indexOf(E),1)},d=(h,E,w)=>{t.set(h,E);const R=o[h];if(R)for(const A of R)A(E,w)},g=()=>{if(!W.has(t)&&(W.set(t,[s,Object.create(null),Object.create(null),Object.create(null),c,d,a]),!Q)){const h=n.initFocus(setTimeout.bind(C,Mt.bind(C,s,Ht))),E=n.initReconnect(setTimeout.bind(C,Mt.bind(C,s,$t)));u=()=>{h&&h(),E&&E(),W.delete(t)}}};return g(),[t,c,g,u]}return[t,W.get(t)[4]]},pe=(t,e,n,s,c)=>{const u=n.errorRetryCount,o=c.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!i(u)&&o>u||setTimeout(s,a,c)},Re=mt,[Kt,me]=Ee(new Map),he=q({onLoadingSlow:M,onSuccess:M,onError:M,onErrorRetry:pe,onDiscarded:M,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Pt?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Pt?5e3:3e3,compare:Re,isPaused:()=>!1,cache:Kt,mutate:me,fallback:{}},ce),ge=(t,e)=>{const n=q(t,e);if(e){const{use:s,fallback:c}=t,{use:u,fallback:o}=e;s&&u&&(n.use=s.concat(u)),c&&o&&(n.fallback=q(c,o))}return n},Se=T.createContext({}),we="$inf$",Gt=Z&&window.__SWR_DEVTOOLS_USE__,Oe=Gt?window.__SWR_DEVTOOLS_USE__:[],ve=()=>{Gt&&(window.__SWR_DEVTOOLS_REACT__=X)},De=t=>N(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],Te=()=>q(he,T.useContext(Se)),_e=t=>(e,n,s)=>t(e,n&&((...u)=>{const[o]=_t(e),[,,,a]=W.get(Kt);if(o.startsWith(we))return n(...u);const d=a[o];return i(d)?n(...u):(delete a[o],d)}),s),be=Oe.concat(_e),Ce=t=>function(...n){const s=Te(),[c,u,o]=De(n),a=ge(s,o);let d=t;const{use:g}=a,h=(g||[]).concat(be);for(let E=h.length;E--;)d=h[E](d);return d(c,u||a.fetcher||null,a)},ye=(t,e,n)=>{const s=e[t]||(e[t]=[]);return s.push(n),()=>{const c=s.indexOf(n);c>=0&&(s[c]=s[s.length-1],s.pop())}};ve();const pt=X.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),Rt={dedupe:!0},Ie=(t,e,n)=>{const{cache:s,compare:c,suspense:u,fallbackData:o,revalidateOnMount:a,revalidateIfStale:d,refreshInterval:g,refreshWhenHidden:h,refreshWhenOffline:E,keepPreviousData:w}=n,[R,A,S,it]=W.get(s),[r,tt]=_t(t),K=T.useRef(!1),P=T.useRef(!1),v=T.useRef(r),F=T.useRef(e),L=T.useRef(n),p=()=>L.current,$=()=>p().isVisible()&&p().isOnline(),[V,k,et,U]=zt(s,r),_=T.useRef({}).current,G=i(o)?i(n.fallback)?C:n.fallback[r]:o,bt=(f,l)=>{for(const D in _){const m=D;if(m==="data"){if(!c(f[m],l[m])&&(!i(f[m])||!c(st,l[m])))return!1}else if(l[m]!==f[m])return!1}return!0},Ct=T.useMemo(()=>{const f=!r||!e?!1:i(a)?p().isPaused()||u?!1:d!==!1:a,l=b=>{const x=q(b);return delete x._k,f?{isValidating:!0,isLoading:!0,...x}:x},D=V(),m=U(),I=l(D),J=D===m?I:l(m);let O=I;return[()=>{const b=l(V());return bt(b,O)?(O.data=b.data,O.isLoading=b.isLoading,O.isValidating=b.isValidating,O.error=b.error,O):(O=b,b)},()=>J]},[s,r]),B=te.useSyncExternalStore(T.useCallback(f=>et(r,(l,D)=>{bt(D,l)||f()}),[s,r]),Ct[0],Ct[1]),yt=!K.current,Yt=R[r]&&R[r].length>0,z=B.data,H=i(z)?G&&Bt(G)?pt(G):G:z,nt=B.error,ct=T.useRef(H),st=w?i(z)?i(ct.current)?H:ct.current:z:H,It=Yt&&!i(nt)?!1:yt&&!i(a)?a:p().isPaused()?!1:u?i(H)?!1:d:i(H)||d,At=!!(r&&e&&yt&&It),Xt=i(B.isValidating)?At:B.isValidating,Qt=i(B.isLoading)?At:B.isLoading,Y=T.useCallback(async f=>{const l=F.current;if(!r||!l||P.current||p().isPaused())return!1;let D,m,I=!0;const J=f||{},O=!S[r]||!J.dedupe,b=()=>Wt?!P.current&&r===v.current&&K.current:r===v.current,x={isValidating:!1,isLoading:!1},Vt=()=>{k(x)},Nt=()=>{const y=S[r];y&&y[1]===m&&delete S[r]},Ft={isValidating:!0};i(V().data)&&(Ft.isLoading=!0);try{if(O&&(k(Ft),n.loadingTimeout&&i(V().data)&&setTimeout(()=>{I&&b()&&p().onLoadingSlow(r,n)},n.loadingTimeout),S[r]=[l(tt),Dt()]),[D,m]=S[r],D=await D,O&&setTimeout(Nt,n.dedupingInterval),!S[r]||S[r][1]!==m)return O&&b()&&p().onDiscarded(r),!1;x.error=C;const y=A[r];if(!i(y)&&(m<=y[0]||m<=y[1]||y[1]===0))return Vt(),O&&b()&&p().onDiscarded(r),!1;const j=V().data;x.data=c(j,D)?j:D,O&&b()&&p().onSuccess(D,r,n)}catch(y){Nt();const j=p(),{shouldRetryOnError:at}=j;j.isPaused()||(x.error=y,O&&b()&&(j.onError(y,r,j),(at===!0||N(at)&&at(y))&&(!p().revalidateOnFocus||!p().revalidateOnReconnect||$())&&j.onErrorRetry(y,r,j,Zt=>{const ut=R[r];ut&&ut[0]&&ut[0](xt,Zt)},{retryCount:(J.retryCount||0)+1,dedupe:!0})))}return I=!1,Vt(),!0},[r,s]),Lt=T.useCallback((...f)=>Jt(s,v.current,...f),[]);if(ft(()=>{F.current=e,L.current=n,i(z)||(ct.current=z)}),ft(()=>{if(!r)return;const f=Y.bind(C,Rt);let l=0;p().revalidateOnFocus&&(l=Date.now()+p().focusThrottleInterval);const m=ye(r,R,(I,J={})=>{if(I==Ht){const O=Date.now();p().revalidateOnFocus&&O>l&&$()&&(l=O+p().focusThrottleInterval,f())}else if(I==$t)p().revalidateOnReconnect&&$()&&f();else{if(I==kt)return Y();if(I==xt)return Y(J)}});return P.current=!1,v.current=r,K.current=!0,k({_k:tt}),It&&(S[r]||(i(H)||Q?f():ue(f))),()=>{P.current=!0,m()}},[r]),ft(()=>{let f;function l(){const m=N(g)?g(V().data):g;m&&f!==-1&&(f=setTimeout(D,m))}function D(){!V().error&&(h||p().isVisible())&&(E||p().isOnline())?Y(Rt).then(l):l()}return l(),()=>{f&&(clearTimeout(f),f=-1)}},[g,h,E,r]),T.useDebugValue(st),u&&i(H)&&r){if(!Wt&&Q)throw new Error("Fallback data is required when using Suspense in SSR.");F.current=e,L.current=n,P.current=!1;const f=it[r];if(!i(f)){const l=Lt(f);pt(l)}if(i(nt)){const l=Y(Rt);i(st)||(l.status="fulfilled",l.value=!0),pt(l)}else throw nt}return{mutate:Lt,get data(){return _.data=!0,st},get error(){return _.error=!0,nt},get isValidating(){return _.isValidating=!0,Xt},get isLoading(){return _.isLoading=!0,Qt}}},je=Ce(Ie),qt=t=>{let e;const n=new Set,s=(g,h)=>{const E=typeof g=="function"?g(e):g;if(!Object.is(E,e)){const w=e;e=h??(typeof E!="object"||E===null)?E:Object.assign({},e,E),n.forEach(R=>R(e,w))}},c=()=>e,a={setState:s,getState:c,getInitialState:()=>d,subscribe:g=>(n.add(g),()=>n.delete(g))},d=e=t(s,c,a);return a},Ae=t=>t?qt(t):qt,Le=t=>t;function Ve(t,e=Le){const n=X.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return X.useDebugValue(n),n}const Ut=t=>{const e=Ae(t),n=s=>Ve(e,s);return Object.assign(n,e),n},We=t=>t?Ut(t):Ut;export{We as c,me as m,je as u};
//# sourceMappingURL=vendor-state-dThmz72Z.js.map
