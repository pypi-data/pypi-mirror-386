when:
  - event: tag
    branch: main
steps:
  publish:
    image: ghcr.io/astral-sh/uv:python3.13-alpine
    commands:
      - uv sync --frozen
      - uv build
      - uv publish --token $PYPI_API_KEY
    environment:
      PYPI_API_KEY:
        from_secret: pypi_api_key
