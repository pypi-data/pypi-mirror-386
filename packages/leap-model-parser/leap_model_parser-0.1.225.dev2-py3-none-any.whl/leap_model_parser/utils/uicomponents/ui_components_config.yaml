nodes:
  - name: Dataset
    type: Dataset
    menu_sections: []
    options:
      layer_inspection: false
      representation_block: false
    inputs_data:
      inputs: []
    outputs_data:
      outputs:
        - name: ${input_name}
    parents:
      - tensorleap
    properties: []

  - name: Input
    type: Input
    menu_sections: 
      - Input
    options:
      layer_inspection: false
      representation_block: false
    inputs_data:
      inputs: []
    outputs_data:
      outputs:
        - name: ${output_name}
    parents:
      - tensorleap
    properties: []

  - name: Representation Block
    type: Layer
    menu_sections: []
    options:
      layer_inspection: false
      representation_block: false
    properties: []
    inputs_data:
      add_input_by_drag: false
      inputs:
        - name: input
          approval_connection:
            - Input
            - Dataset
            - Layer
            - CustomLayer
    outputs_data:
      outputs:
        - name: feature_map

  - name: GroundTruth
    type: GroundTruth
    menu_sections:
      - GroundTruth
    options:
      layer_inspection: false
      representation_block: false
    inputs_data:
      inputs: []
    outputs_data:
      outputs:
        - name: ${output_name}
    parents:
      - tensorleap
    properties: []

  - name: CustomLayer
    type: CustomLayer
    menu_sections:
      - CustomLayer
    shape_calc:
      - Dynamic
    receptive_fields_func: IdentityReceptiveFieldsFunc
    options:
      layer_inspection: false
      representation_block: true
    inputs_data:
      add_input_by_drag: true
      inputs:
        - name: input_${id}
          approval_connection:
            - Input
            - Dataset
            - Layer
            - CustomLayer
    outputs_data:
      outputs:
        - name: feature_map
    parents:
      - tensorleap
    properties: []

  - name: CustomLoss
    type: CustomLoss
    menu_sections:
      - CustomLoss
    shape_calc: []
    options:
      layer_inspection: false
      representation_block: false
    inputs_data:
      input_names_by_args: true
      inputs:
        - approval_connection:
            - Layer
            - CustomLayer
            - Input
            - GroundTruth
            - Dataset
    outputs_data:
      outputs: []
    parents:
      - tensorleap
    properties: []

  - name: Visualizer
    type: Visualizer
    menu_sections:
      - Visualizer
    shape_calc:
      - IdentityFunc
    receptive_fields_func: IdentityReceptiveFieldsFunc
    options:
      layer_inspection: false
      representation_block: false
    inputs_data:
      input_names_by_args: true
      inputs:
        - approval_connection:
            - Input
            - Dataset
            - Layer
            - GroundTruth
            - CustomLayer
    outputs_data:
      outputs: []
    parents:
      - tensorleap
    properties: []

  - name: Metric
    type: Metric
    menu_sections:
      - Metric
    shape_calc:
      - IdentityFunc
    receptive_fields_func: IdentityReceptiveFieldsFunc
    options:
      layer_inspection: false
      representation_block: false
    inputs_data:
      input_names_by_args: true
      inputs:
        - approval_connection:
            - Input
            - Dataset
            - Layer
            - GroundTruth
            - CustomLayer
    outputs_data:
      outputs: [ ]
    parents:
      - tensorleap
    properties: [ ]

  - name: Lambda
    type: Layer
    options:
      layer_inspection: false
      representation_block: false
    parents:
      - tensorleap
    menu_sections: []
    properties: []
    shape_calc:
      - Dynamic
    receptive_fields_func: IdentityReceptiveFieldsFunc
    inputs_data:
      add_input_by_drag: false
      inputs:
        - name: input
          approval_connection:
            - Input
            - Dataset
            - Layer
            - CustomLayer
    outputs_data:
      outputs:
        - name: feature_map

  - name: TFOpLambda
    type: Layer
    options:
      layer_inspection: false
      representation_block: false
    parents:
      - tensorleap
    menu_sections: []
    properties: []
    receptive_fields_func: IdentityReceptiveFieldsFunc
    inputs_data:
      add_input_by_drag: true
      inputs:
        - name: input_${id}
          approval_connection:
            - Input
            - Dataset
            - Layer
            - CustomLayer
    outputs_data:
      outputs:
        - name: merged
    shape_calc:
      - TFOpLambda

  - name: SlicingOpLambda
    type: Layer
    options:
      layer_inspection: false
      representation_block: false
    parents:
      - tensorleap
    menu_sections: []
    properties: []
    receptive_fields_func: IdentityReceptiveFieldsFunc
    inputs_data:
      add_input_by_drag: true
      inputs:
        - name: input_${id}
          approval_connection:
            - Input
            - Dataset
            - Layer
            - CustomLayer
    outputs_data:
      outputs:
        - name: merged
    shape_calc:
      - TFOpSlice

  - name: Repeat
    type: Layer
    options:
      layer_inspection: false
      representation_block: false
    parents:
      - tensorleap
    menu_sections:
      - Layer
      - Core
    properties:
      - name: repeats
        isdefault: false
        default_val: null
        type: tuple

      - name: axis
        isdefault: false
        default_val: null
        type: int
    shape_calc:
      - RepeatFunc
    receptive_fields_func: IdentityReceptiveFieldsFunc
    inputs_data:
      add_input_by_drag: false
      inputs:
        - name: input
          approval_connection:
            - Input
            - Dataset
            - Layer
            - CustomLayer
    outputs_data:
      outputs:
        - name: feature_map

  - name: Variable
    type: Layer
    options:
      layer_inspection: true
      representation_block: true
    parents:
      - tensorleap
    menu_sections:
      - Layer
      - Core
    properties:
      - name: var_shape
        isdefault: false
        default_val: null
        type: tuple

      - name: initializer
        isdefault: false
        default_val: null
        type: select
        values:
          - glorot_uniform
          - glorot_normal
          - lecun_uniform
          - he_normal
          - lecun_normal
          - he_uniform
          - Identity
          - Orthogonal
          - Zeros
          - Ones
          - RandomNormal
          - RandomUniform

    shape_calc:
      - IdentityFunc
    receptive_fields_func: IdentityReceptiveFieldsFunc
    inputs_data:
      add_input_by_drag: false
      inputs: []
    outputs_data:
      outputs:
        - name: feature_map

  - name: Gather
    type: Layer
    options:
      layer_inspection: false
      representation_block: false
    parents:
      - tensorleap
    menu_sections:
      - Layer
      - Core
    properties:
      - name: indices
        isdefault: false
        default_val: null
        type: tuple

      - name: axis
        isdefault: false
        default_val: null
        type: int

    shape_calc:
      - IdentityFunc
    receptive_fields_func: IdentityReceptiveFieldsFunc
    inputs_data:
      add_input_by_drag: false
      inputs:
        - name: input
          approval_connection:
            - Input
            - Dataset
            - Layer
            - CustomLayer
    outputs_data:
      outputs:
        - name: feature_map

  - name: FixedDropout
    type: Layer
    options:
      layer_inspection: false
      representation_block: false
    parents:
      - tensorleap
    menu_sections:
      - Layer
      - Core
    properties:
      - name: rate
        isdefault: true
        default_val: 0.0
        type: float
    shape_calc:
      - IdentityFunc
    receptive_fields_func: IdentityReceptiveFieldsFunc
    inputs_data:
      add_input_by_drag: false
      inputs:
        - name: input
          approval_connection:
            - Input
            - Dataset
            - Layer
            - CustomLayer
    outputs_data:
      outputs:
        - name: feature_map

group_type:
  Permute:
    hash:
      fields:
        - dims
    shape_calc:
      - Permute

  Reshape:
    shape_calc:
      - ReshapeFunc

  ZeroPadding1D:
    shape_calc:
      - PaddingFunction

  ZeroPadding2D:
    shape_calc:
      - PaddingFunction

  ZeroPadding3D:
    shape_calc:
      - PaddingFunction

  Embedding:
    hash:
      fields:
        - input_dim
        - output_dim
    shape_calc:
      - EmbeddingShapeFunc

  ConvLSTM2D:
    hash:
      fields:
        - filters
        - kernel_size
        - use_bias
    shape_calc:
      - SpatialShapeCalc
      - FilterChannelMultiplier

  SeparableConv2D:
    hash:
      fields:
        - filters
        - kernel_size
        - depth_multiplier
        - use_bias
    shape_calc:
      - SpatialShapeCalc
      - FiltersChannels

  DepthwiseConv2D:
    hash:
      fields:
        - kernel_size
        - depth_multiplier
        - use_bias
    shape_calc:
      - SpatialShapeCalc
      - DepthwiseChannelMultiplier

  DepthwiseConv1D:
    hash:
      fields:
        - kernel_size
        - depth_multiplier
        - use_bias
    shape_calc:
      - SpatialShapeCalc
      - DepthwiseChannelMultiplier

  Cropping1D:
    shape_calc:
      - CropShape

  Cropping2D:
    shape_calc:
      - CropShape

  Cropping3D:
    shape_calc:
      - CropShape

  UpSampling1D:
    shape_calc:
      - UpSamplingShapeFunc

  UpSampling2D:
    shape_calc:
      - UpSamplingShapeFunc

  UpSampling3D:
    shape_calc:
      - UpSamplingShapeFunc

  GRU:
    shape_calc:
      - GRUFunc
    inputs_data:
      add_input_by_drag: false
      inputs:
        - name: input
          approval_connection:
            - Input
            - Dataset
            - Layer
            - CustomLayer
        - name: initial_state
          approval_connection:
            - Input
            - Dataset
            - Layer
            - CustomLayer

  MultiHeadAttention:
    inputs_data:
      add_input_by_drag: false
      inputs:
        - name: query
          approval_connection:
            - Input
            - Dataset
            - Layer
            - CustomLayer
        - name: value
          approval_connection:
            - Input
            - Dataset
            - Layer
            - CustomLayer
        - name: key
          approval_connection:
            - Input
            - Dataset
            - Layer
            - CustomLayer
        - name: attention_mask
          approval_connection:
            - Input
            - Dataset
            - Layer
            - CustomLayer

  Conv1DTranspose:
    shape_calc:
      - SpatialShapeCalcTranspose
      - FiltersChannels

  Conv2DTranspose:
    shape_calc:
      - SpatialShapeCalcTranspose
      - FiltersChannels

  Conv3DTranspose:
    shape_calc:
      - SpatialShapeCalcTranspose
      - FiltersChannels

  BatchNormalization:
    shape_calc:
      - IdentityFunc

  LSTM:
    hash:
      calcInputShape: true
      fields:
        - units
        - use_bias
    shape_calc:
      - UnitChannel

  Dense:
    hash:
      calcInputShape: true
      fields:
        - units
        - use_bias
    shape_calc:
      - UnitChannel

  GlobalAveragePooling1D:
    shape_calc:
      - GatherFeatureDim

  GlobalAveragePooling2D:
    shape_calc:
      - GatherFeatureDim

  GlobalAveragePooling3D:
    shape_calc:
      - GatherFeatureDim

  GlobalMaxPooling1D:
    shape_calc:
      - GatherFeatureDim

  GlobalMaxPooling2D:
    shape_calc:
      - GatherFeatureDim

  GlobalMaxPooling3D:
    shape_calc:
      - GatherFeatureDim

  AveragePooling1D:
    shape_calc:
      - PoolSpatialShapeCalc

  AveragePooling2D:
    shape_calc:
      - PoolSpatialShapeCalc

  Resizing:
    shape_calc:
      - Resize

  AveragePooling3D:
    shape_calc:
      - PoolSpatialShapeCalc

  MaxPooling1D:
    shape_calc:
      - PoolSpatialShapeCalc

  MaxPooling2D:
    shape_calc:
      - PoolSpatialShapeCalc

  MaxPooling3D:
    shape_calc:
      - PoolSpatialShapeCalc

  Concatenate:
    shape_calc:
      - ConcatenateFunc

  Flatten:
    shape_calc:
      - MulAll

  Activation:
    receptive_fields_func: IdentityReceptiveFieldsFunc

  Dropout:
    receptive_fields_func: IdentityReceptiveFieldsFunc

  merge:
    receptive_fields_func: IdentityReceptiveFieldsFunc
    menu_sections:
      - Layer
      - Merge
    inputs_data:
      add_input_by_drag: true
      inputs:
        - name: input_${id}
          approval_connection:
            - Input
            - Dataset
            - Layer
            - CustomLayer
    outputs_data:
      outputs:
        - name: merged
    shape_calc:
      - IdentityFunc

  merging:
    receptive_fields_func: IdentityReceptiveFieldsFunc
    menu_sections:
      - Layer
      - Merge
    inputs_data:
      add_input_by_drag: true
      inputs:
        - name: input_${id}
          approval_connection:
            - Input
            - Dataset
            - Layer
            - CustomLayer
    outputs_data:
      outputs:
        - name: merged
    shape_calc:
      - IdentityFunc



  wrappers:
    type: wrapper

  bidirectional:
    type: wrapper

  time_distributed:
    type: wrapper




  convolutional:
    receptive_fields_func: CalculateSpatialReceptiveFields
    hash:
      fields:
        - filters
        - kernel_size
        - use_bias
    menu_sections:
      - Layer
      - Convolutions
    shape_calc:
      - SpatialShapeCalc
      - FiltersChannels

  pooling:
    receptive_fields_func: CalculateSpatialReceptiveFields
    menu_sections:
      - Layer
      - Pooling
    shape_calc:
      - SpatialShapeCalc

  advanced_activations:
    menu_sections:
      - Layer
      - Activations
    shape_calc:
      - IdentityFunc

  activation:
    menu_sections:
      - Layer
      - Activations
    shape_calc:
      - IdentityFunc


  recurent:
    type: Layer #: [Layer, Dataset, Loss, Optimizer, Training],
    menu_sections:
      - Layer
      - recurent

  core:
    receptive_fields_func: EmptyReceptiveFieldsFunc

  layers:
    type: Layer #: [Layer, Dataset, Loss, Optimizer, Training],
    shape_calc:
      - IdentityFunc
    receptive_fields_func: IdentityReceptiveFieldsFunc
    menu_sections:
      - Layer
      - Core
    inputs_data:
      add_input_by_drag: false
      inputs:
        - name: input
          approval_connection:
            - Input
            - Dataset
            - Layer
            - CustomLayer
    outputs_data:
      outputs:
        - name: feature_map

  customonnxlayer:
    type: Layer
    shape_calc:
      - IdentityFunc
    receptive_fields_func: IdentityReceptiveFieldsFunc
    menu_sections:
      - Layer
      - Onnx
    inputs_data:
      add_input_by_drag: false
      inputs:
        - name: input
          approval_connection:
            - Input
            - Dataset
            - Layer
            - CustomLayer
    outputs_data:
      outputs:
        - name: feature_map

  losses:
    type: Loss #: [Layer, Dataset, Loss, Optimizer, Training],
    menu_sections:
      - Losses
    shape_calc:
      - ValidateInputsSimilarShape
    inputs_data:
      add_input_by_drag: false
      inputs:
        - name: prediction
          approval_connection:
            - Layer
            - CustomLayer
        - name: ground_truth
          approval_connection:
            - GroundTruth
    outputs_data:
      outputs: []

  optimizer_v2:
    type: Optimizer #: [Layer, Dataset, Loss, Optimizer, Training],
    menu_sections: []
    inputs_data:
      add_input_by_drag: true
      inputs:
        - name: loss_${id}
          approval_connection:
            - Loss
            - CustomLoss
    outputs_data:
      outputs: []

  optimizers:
    type: Optimizer #: [Layer, Dataset, Loss, Optimizer, Training],
    menu_sections: []
    inputs_data:
      add_input_by_drag: true
      inputs:
        - name: loss_${id}
          approval_connection:
            - Loss
            - CustomLoss
    outputs_data:
      outputs: []

args:
  overides:
    key_dim:
      type: int
      isdefault: false
    rate:
      type: float
      isdefault: true
      default_val: .0
    axes:
      type: tuple
      isdefault: false
    num_heads:
      type: int
      isdefault: false
    target_shape:
      type: tuple
      isdefault: false

  arg_values:
    activations:
      - relu
      - softmax
      - selu
      - softplus
      - softsign
      - tanh
      - sigmoid
      - hard_sigmoid
      - exponential
      - linear
      - elu
      - swish
    padding:
      - valid
      - same
    data_formats:
      - channels_last
      - channels_first
    initializers:
      - glorot_uniform
      - glorot_normal
      - lecun_uniform
      - he_normal
      - lecun_normal
      - he_uniform
      - Identity
      - Orthogonal
      - Zeros
      - Ones
      - RandomNormal
      - RandomUniform
    regularizer:
      - L1
      - L1L2
      - L2
    constraint:
      - MaxNorm
      - MinMaxNorm
      - NonNeg
      - RadialConstraint
      - UnitNorm

  arg_group:
    activation: activations
    padding: padding
    data_format: data_formats
    kernel_initializer: initializers
    bias_initializer: initializers
    init: initializers
    alpha_initializer: initializers
    depthwise_initializer: initializers
    beta_initializer: initializers
    gamma_initializer: initializers
    moving_mean_initializer: initializers
    pointwise_initializer: initializers
    moving_variance_initializer: initializers
    activity_regularizer: regularizer
    alpha_regularizer: regularizer
    beta_regularizer: regularizer
    bias_regularizer: regularizer
    depthwise_regularizer: regularizer
    embeddings_regularizer: regularizer
    gamma_regularizer: regularizer
    kernel_regularizer: regularizer
    pointwise_regularizer: regularizer
    recurrent_regularizer: regularizer
    alpha_constraint: constraint
    beta_constraint: constraint
    bias_constraint: constraint
    depthwise_constraint: constraint
    embeddings_constraint: constraint
    gamma_constraint: constraint
    kernel_constraint: constraint
    pointwise_constraint: constraint
    recurrent_constraint: constraint

ignores:
  args_ignore:
    - data_format
    - name
    - self
    - layer
    - reduction

  perents_ignore:
    - legacy

  lib_ignore:
    - engine
    - local
    - dense_features_v2

  clsignore:
    - Convolution2D
    - AbstractRNNCell
    - Convolution1D
    - Convolution3D
    - Convolution3DTranspose
    - SeparableConvolution1D
    - SeparableConvolution2D
    - SeparableConvolution3D
    - Convolution1DTranspose
    - Convolution2DTranspose
    - Convolution3DTranspose
    - Lambda
    - GlobalAvgPool1D
    - GlobalAvgPool2D
    - GlobalAvgPool3D
    - GlobalMaxPool1D
    - GlobalMaxPool2D
    - GlobalMaxPool3D
    - AvgPool1D
    - AvgPool2D
    - AvgPool3D
    - MaxPool1D
    - MaxPool2D
    - MaxPool3D
    - TFOptimizer
    - Optimizer
    - Loss
    - LossFunctionWrapper
    - SparseCategoricalCrossentropy
    - Attention
    - Wrapper
    - Reduction
    - StackedRNNCells
    - RNN
    - BatchNormalizationV1
    - BatchNormalizationV2
    - ClassMethod
    - DeviceWrapper
    - EinsumDense
    - DropoutWrapper
    - HashedCrossing
    - Hashing
    - InstanceMethod
    - InstanceProperty
    - PeepholeLSTMCell
    - Rescaling
    - ResidualWrapper
    - SlicingOpLambda
    - TFOpLambda
    - VersionAwareLayers
