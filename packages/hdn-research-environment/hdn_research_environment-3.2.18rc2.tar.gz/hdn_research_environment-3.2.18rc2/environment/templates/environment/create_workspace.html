{% extends 'base.html' %}

{% load static %}

{% load project_templatetags %}

{% block title %}Create Research Environment{% endblock %}

{% block local_js_top %}
<script src="{% static 'environment/js/forms.js' %}"></script>
{% endblock %}

{% block local_css %}
<link rel="stylesheet" type="text/css" href="{% static 'environment/css/environment-base.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'environment/css/creation_form.css' %}">
{% endblock %}

{% block content %}
<div class="container">
  {% include "message_snippet.html" %}
    <h1 class="mb-4">
      Create Workspace
    </h1>
    <div class="container-body">
      <div class="card" style="width: 36rem;">
        <div class="card-body">
          {% if exceeded_quotas|length > 0 %}
            <div>
              <p style="color:red">You have exceeded the following quotas:</p>
              <ul>
                {% for quota in exceeded_quotas %}
                    <li>{{ quota }}</li>
                {% endfor %}
              </ul>
              <a href="{% url 'research_environments' %}"><button class="btn btn-primary">Return</button></a>
            </div>
          {% else %}
            <form class="single-submit-form" action="{% url 'create_workspace' %}" method="post" style="width: 24rem;">
              {% csrf_token %}
              {{ form }}
              <button
                class="btn btn-primary mt-3"
                type="submit"
              >
                  Create workspace
              </button>
            </form>
          {% endif %}
        </div>
      </div>
    </div>
</div>
{% endblock %}
