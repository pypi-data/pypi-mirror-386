(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[165],{74833:function(e,t,i){var n=i(56127),s=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(s,""):e}},56127:function(e){var t=/\s/;e.exports=function(e){for(var i=e.length;i--&&t.test(e.charAt(i)););return i}},91936:function(e,t,i){var n=i(74833),s=i(11611),r=i(55193),a=0/0,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return a;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var i=l.test(e);return i||c.test(e)?u(e.slice(2),i?2:8):o.test(e)?a:+e}},21865:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-catalog/[systemId]/projects",function(){return i(98791)}])},58754:function(e,t,i){"use strict";var n=i(24246),s=i(87949),r=i(70788);t.Z=e=>{let{heading:t,breadcrumbItems:i,isSticky:a=!0,children:o,rightContent:l,style:c,...u}=e;return(0,n.jsxs)("div",{...u,style:a?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...c}:{paddingBottom:"24px",...c},children:[(0,n.jsxs)(s.jqI,{justify:"space-between",children:["string"==typeof t?(0,n.jsx)(s.lQT,{className:i||o?"pb-4":void 0,level:1,"data-testid":"page-heading",children:t}):t,l&&(0,n.jsx)("div",{"data-testid":"page-header-right-content",children:l})]}),!!i&&(0,n.jsx)(r.m,{className:o?"pb-4":void 0,items:i,"data-testid":"page-breadcrumb"}),o]})}},70788:function(e,t,i){"use strict";i.d(t,{m:function(){return c}});var n=i(24246),s=i(87949),r=i(79894),a=i.n(r),o=i(27378);let{Text:l}=s.AntTypography,c=e=>{let{items:t,...i}=e,r=(0,o.useMemo)(()=>null==t?void 0:t.map((e,i)=>{let r=i===t.length-1,o={...e},c=o.onClick&&!o.href;return("string"==typeof o.title&&(o.title=(0,n.jsx)(l,{style:{color:"inherit",maxWidth:r?void 0:400},ellipsis:!r,id:r?"breadcrumb-current-page":void 0,children:o.title})),c)?o.title=(0,n.jsx)(s.wpx,{type:"text",size:"small",icon:o.icon,onClick:o.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:o.title}):(o.icon&&(o.title=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"anticon align-text-bottom",children:o.icon}),o.title]})),o.href&&o.title&&(o.title=(0,n.jsx)(a(),{href:o.href,className:"ant-breadcrumb-link",children:o.title}),delete o.href)),o}),[t]);return(0,n.jsx)(s.zrq,{items:r,...i})}},79609:function(e,t,i){"use strict";i.d(t,{N4:function(){return a},UG:function(){return s},xw:function(){return r}});var n=i(54427);let{useGetCatalogSystemsQuery:s,useGetCatalogProjectsQuery:r,useGetCatalogDatasetsQuery:a}=i(78780).u.injectEndpoints({endpoints:e=>({getCatalogSystems:e.query({query:e=>({method:"GET",url:"/plus/data-catalog/system",params:e}),providesTags:["Catalog Systems","System"]}),getCatalogProjects:e.query({query:e=>{let{...t}=e;return{method:"GET",url:"/plus/data-catalog/project",params:t}},providesTags:["Discovery Monitor Results"]}),getCatalogDatasets:e.query({query:e=>{let{...t}=e;return{method:"GET",url:"/plus/data-catalog/dataset",params:t}},providesTags:["Discovery Monitor Results"]})})});(0,n.oM)({name:"dataCatalog",initialState:{page:1,pageSize:50},reducers:{}})},7940:function(e,t,i){"use strict";i.d(t,{G:function(){return s}});var n=i(65735);let s=e=>{var t,i,s;return e?e.resource_type?e.resource_type:(null===(t=e.schemas)||void 0===t?void 0:t.length)?n.D$.DATABASE:(null===(i=e.tables)||void 0===i?void 0:i.length)?n.D$.SCHEMA:(null===(s=e.fields)||void 0===s?void 0:s.length)?n.D$.TABLE:n.D$.FIELD:void 0}},98559:function(e,t){"use strict";t.Z=e=>{let{name:t,urn:i,monitor_config_id:n,database_name:s,schema_name:r,table_name:a,top_level_field_name:o,top_level_field_urn:l}=e;if(!o)return t;let c=i.split(".");return l?i.replace("".concat(l).concat("."),""):([n,s,r,a,o].forEach(e=>{if(e){let t=c.indexOf(e);t>-1&&c.splice(t,1)}}),c.join("."))}},36168:function(e,t){"use strict";t.Z=e=>{var t;return!!e.parent_table_urn&&null!==(t=e.sub_field_urns)&&void 0!==t&&!!t.length&&!e.top_level_field_name}},80356:function(e,t,i){"use strict";var n=i(7940),s=i(36168),r=i(65735);t.Z=e=>(0,n.G)(e)!==r.D$.FIELD||(0,s.Z)(e)},98791:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return D}});var n=i(24246),s=i(86677),r=i(18225),a=i(77213),o=i(77830),l=i(58754),c=i(92222),u=i(59003),d=i(87949),p=i(27378),g=i(47935),f=i(72625),m=i(89200),x=i(5945),h=i(79609),v=i(99763),j=i(28976),y=i(8151);let b={items:[],total:0,page:1,size:50,pages:1},_=()=>(0,n.jsx)(d.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:(0,n.jsx)(d.gCW,{children:(0,n.jsx)(d.xvT,{fontSize:"md",fontWeight:"600",children:"No resources found"})})}),C=(0,c.Cl)();var w=e=>{let{systemKey:t,monitorConfigIds:i}=e,[r,a]=(0,p.useState)({}),{PAGE_SIZES:l,pageSize:d,setPageSize:w,onPreviousPageClick:R,isPreviousPageDisabled:D,onNextPageClick:k,isNextPageDisabled:E,startRange:S,endRange:T,pageIndex:N,setTotalPages:I}=(0,g.oi)(),{isFetching:P,isLoading:Z,data:z}=(0,h.xw)({page:N,size:d,monitor_config_ids:i}),M=(0,s.useRouter)(),{items:q,total:G,pages:A}=(0,p.useMemo)(()=>null!=z?z:b,[z]);(0,p.useEffect)(()=>{I(A)},[A,I]);let[$,L]=(0,p.useState)(void 0),O=(0,p.useMemo)(()=>[C.accessor(e=>e.name,{id:"name",cell:e=>(0,n.jsx)(m.Z,{resource:e.row.original}),header:"Project"}),C.display({id:"status",cell:e=>{let{row:t}=e;return(0,n.jsx)(x.Z,{status:(0,y.u)(t.original)})},header:"Status"}),C.accessor(e=>e.monitor_config_id,{id:"monitorConfigId",cell:e=>(0,n.jsx)(g.G3,{value:e.getValue()}),header:"Detected by"}),C.accessor(e=>e.description,{id:"description",cell:e=>(0,n.jsx)(g.G3,{value:e.getValue()}),header:"Description"}),C.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,n.jsx)(f.Cy,{time:e.getValue()}),header:"Updated",meta:{cellProps:{borderRight:"none"}}}),C.display({id:"actions",cell:e=>{let{row:t}=e;return(0,n.jsx)(j.Z,{onDetailClick:()=>L(t.original)})},size:25,meta:{disableRowClick:!0}})],[]),W=(0,u.b7)({getCoreRowModel:(0,c.sC)(),getGroupedRowModel:(0,c.qe)(),getExpandedRowModel:(0,c.rV)(),manualPagination:!0,columnResizeMode:"onChange",columns:O,data:q,getRowId:e=>e.urn,onRowSelectionChange:a,state:{rowSelection:r}});return Z||P?(0,n.jsx)(g.I4,{rowHeight:36,numRows:36}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.ZK,{tableInstance:W,emptyTableNotice:(0,n.jsx)(_,{}),onRowClick:e=>M.push("".concat(o.mX,"/").concat(t,"/projects/").concat(e.urn))}),(0,n.jsx)(g.s8,{totalRows:G||0,pageSizes:l,setPageSize:w,onPreviousPageClick:R,isPreviousPageDisabled:D,onNextPageClick:k,isNextPageDisabled:E,startRange:S,endRange:T}),(0,n.jsx)(v.Z,{resource:$,onClose:()=>L(void 0)})]})},R=i(1315),D=()=>{var e;let{query:t}=(0,s.useRouter)(),i=t.systemId,c=t.monitor_config_ids,{data:u,isLoading:d}=(0,R.rn)(i);return d?(0,n.jsx)(r.Z,{}):(0,n.jsxs)(a.Z,{title:"Data catalog",children:[(0,n.jsx)(l.Z,{heading:"Data catalog",breadcrumbItems:[{title:"All systems",href:o.mX},{title:null!==(e=null==u?void 0:u.name)&&void 0!==e?e:null==u?void 0:u.fides_key}]}),(0,n.jsx)(w,{systemKey:i,monitorConfigIds:c})]})}}},function(e){e.O(0,[8765,9278,5163,1099,6882,2888,9774,179],function(){return e(e.s=21865)}),_N_E=e.O()}]);