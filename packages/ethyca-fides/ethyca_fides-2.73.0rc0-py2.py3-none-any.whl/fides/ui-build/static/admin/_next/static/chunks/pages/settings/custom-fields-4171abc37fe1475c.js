(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4065],{74833:function(e,t,n){var i=n(56127),a=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(a,""):e}},56127:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},66726:function(e,t,n){var i=n(11611),a=n(82846),r=n(91936),o=Math.max,l=Math.min;e.exports=function(e,t,n){var s,u,c,d,f,p,m=0,h=!1,v=!1,y=!0;if("function"!=typeof e)throw TypeError("Expected a function");function T(t){var n=s,i=u;return s=u=void 0,m=t,d=e.apply(i,n)}function x(e){var n=e-p,i=e-m;return void 0===p||n>=t||n<0||v&&i>=c}function E(){var e,n,i,r=a();if(x(r))return S(r);f=setTimeout(E,(e=r-p,n=r-m,i=t-e,v?l(i,c-n):i))}function S(e){return(f=void 0,y&&s)?T(e):(s=u=void 0,d)}function _(){var e,n=a(),i=x(n);if(s=arguments,u=this,p=n,i){if(void 0===f)return m=e=p,f=setTimeout(E,t),h?T(e):d;if(v)return clearTimeout(f),f=setTimeout(E,t),T(p)}return void 0===f&&(f=setTimeout(E,t)),d}return t=r(t)||0,i(n)&&(h=!!n.leading,c=(v="maxWait"in n)?o(r(n.maxWait)||0,t):c,y="trailing"in n?!!n.trailing:y),_.cancel=function(){void 0!==f&&clearTimeout(f),m=0,s=p=u=f=void 0},_.flush=function(){return void 0===f?d:S(a())},_}},11611:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},55193:function(e,t,n){var i=n(99736),a=n(92360);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==i(e)}},82846:function(e,t,n){var i=n(77400);e.exports=function(){return i.Date.now()}},91936:function(e,t,n){var i=n(74833),a=n(11611),r=n(55193),o=0/0,l=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return o;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):l.test(e)?o:+e}},1770:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/custom-fields",function(){return n(5810)}])},30952:function(e,t,n){"use strict";n.d(t,{f:function(){return s}});var i=n(24246),a=n(66726),r=n.n(a),o=n(27378),l=n(26917);let s=e=>{let{value:t,onChange:n,placeholder:a,...s}=e,[u,c]=(0,o.useState)(t);(0,o.useEffect)(()=>{c(t||"")},[t]);let d=r()(n,500),f=(0,o.useCallback)(e=>{c(e),d(e)},[]);return(0,i.jsx)(l.Z,{value:u,onChange:f,onClear:()=>{c(""),n("")},placeholder:a,...s})}},19904:function(e,t,n){"use strict";n.d(t,{Tg:function(){return o}});var i=n(24246),a=n(16134),r=n(31793);let o=e=>(0,a.C)(r.uu).filter(t=>e.includes(t)).length>0;t.ZP=e=>{let{scopes:t,children:n}=e;return o(t)?(0,i.jsx)(i.Fragment,{children:n}):null}},8917:function(e,t,n){"use strict";n.d(t,{C7:function(){return l},P3:function(){return u},TY:function(){return s},Uv:function(){return a},uP:function(){return o}});var i,a,r=n(65735);let o=new Map([[r.P6.SYSTEM,"system:information"],[r.P6.DATA_USE,"taxonomy:data use"],[r.P6.DATA_CATEGORY,"taxonomy:data category"],[r.P6.DATA_SUBJECT,"taxonomy:data subject"],[r.P6.PRIVACY_DECLARATION,"system:data use"]]);(i=a||(a={})).SINGLE_SELECT="singleSelect",i.MULTIPLE_SELECT="multipleSelect",i.OPEN_TEXT="openText";let l=[{label:"taxonomy:".concat(r.P6.DATA_CATEGORY),value:r.P6.DATA_CATEGORY},{label:"taxonomy:".concat(r.P6.DATA_SUBJECT),value:r.P6.DATA_SUBJECT},{label:"taxonomy:".concat(r.P6.DATA_USE),value:r.P6.DATA_USE},{label:"".concat(r.P6.SYSTEM,":information"),value:r.P6.SYSTEM},{label:"system:data use",value:r.P6.PRIVACY_DECLARATION}],s=[{label:"Single select",value:"singleSelect"},{label:"Multiple select",value:"multipleSelect"},{label:"Open text",value:"openText"}],u={singleSelect:"Single-value select",multipleSelect:"Multi-value select",openText:"Open text"}},66236:function(e,t,n){"use strict";n.d(t,{S:function(){return o},_:function(){return r}});var i=n(8917),a=n(65735);let r=e=>e.field_type===a.AL.STRING_?i.Uv.MULTIPLE_SELECT:e.allow_list_id?i.Uv.SINGLE_SELECT:i.Uv.OPEN_TEXT,o=e=>i.P3[r(e)]},5810:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var i=n(24246),a=n(77213),r=n(87949),o=n(27378),l=n(58754),s=n(30952),u=n(86677),c=n(77830),d=n(19904),f=n(8125),p=n(8917),m=n(72625),h=n(32885),v=e=>{var t;let{field:n,isDisabled:a}=e,[r,{isLoading:o}]=(0,h.yM)(),l=async e=>r({...n,active:e});return(0,i.jsx)(m.S1,{enabled:null!==(t=n.active)&&void 0!==t&&t,onToggle:l,title:"Disable custom field",message:"Are you sure you want to disable this custom field?",isDisabled:a,"aria-label":n.active?"Disable custom field":"Enable custom field",loading:o})},y=n(66236),T=n(65735),x=()=>{let e=(0,f.o)({pagination:{defaultPageSize:25,pageSizeOptions:[10,25,50]},search:{defaultSearchQuery:""}}),t=(0,u.useRouter)(),{data:n,isLoading:a}=(0,h.GH)(),{tableProps:l}=(0,f.V)(e,{dataSource:n||[],totalRows:(null==n?void 0:n.length)||0,isLoading:a,customTableProps:{layout:"fixed",sticky:{offsetHeader:40}}}),s=(0,d.Tg)([T.Sh.CUSTOM_FIELD_UPDATE]);return{tableProps:l,columns:(0,o.useMemo)(()=>[{title:"Name",dataIndex:"name",key:"name",filteredValue:e.searchQuery?[e.searchQuery]:null,onFilter:(e,t)=>t.name.toLowerCase().includes(e.toString().toLowerCase())},{title:"Description",dataIndex:"description",key:"description",render:e=>(0,i.jsx)(r.AntTypography.Text,{ellipsis:{tooltip:e},className:"w-96",children:e}),width:384},{title:"Type",dataIndex:"field_type",key:"field_type",render:(e,t)=>(0,y.S)(t)},{title:"Applies to",dataIndex:"resource_type",key:"resource_type",render:e=>p.uP.get(e)||e},{title:"Enabled",dataIndex:"active",key:"active",hidden:!s,render:(e,t)=>(0,i.jsx)(v,{field:t,isDisabled:!s}),width:96},{title:"Actions",key:"actions",render:(e,n)=>(0,i.jsx)(r.jqI,{gap:"middle",children:(0,i.jsx)(r.wpx,{size:"small",onClick:()=>t.push("".concat(c.WC,"/").concat(n.id)),"data-testid":"edit-btn",children:"Edit"})}),hidden:!s,width:96}],[t,s,e.searchQuery,s]),searchQuery:e.searchQuery,updateSearch:e.updateSearch,onAddClick:()=>t.push("".concat(c.WC,"/new"))}},E=()=>{let{tableProps:e,columns:t,searchQuery:n,updateSearch:a,onAddClick:o}=x();return(0,i.jsxs)(r.jqI,{vertical:!0,gap:"middle","data-testid":"custom-fields-management",children:[(0,i.jsxs)(r.jqI,{justify:"space-between",className:"sticky -top-6 z-10 bg-white py-4",children:[(0,i.jsx)(s.f,{value:n,onChange:a,placeholder:"Search custom fields..."}),(0,i.jsx)(r.wpx,{onClick:o,type:"primary","data-testid":"add-custom-field-btn",children:"Add custom field"})]}),(0,i.jsx)(r.V5H,{...e,columns:t,className:"-mt-4"})]})},S=()=>(0,i.jsxs)(a.Z,{title:"Custom fields",children:[(0,i.jsx)(l.Z,{heading:"Custom fields",isSticky:!1,className:"pb-0",children:(0,i.jsx)(r.AntTypography.Paragraph,{className:"max-w-screen-md",children:"Custom fields provide organizations with the capability to capture metrics that are unique to their specific needs, allowing them to create customized reports. These fields can be added to either systems or elements within a taxonomy, and once added, they become reportable fields that are visible on the data map."})}),(0,i.jsx)(E,{})]})}},function(e){e.O(0,[431,7245,8563,2888,9774,179],function(){return e(e.s=1770)}),_N_E=e.O()}]);