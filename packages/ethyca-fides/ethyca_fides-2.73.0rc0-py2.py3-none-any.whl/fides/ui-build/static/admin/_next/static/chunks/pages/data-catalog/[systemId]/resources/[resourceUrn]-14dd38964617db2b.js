(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4745],{37441:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-catalog/[systemId]/resources/[resourceUrn]",function(){return a(51887)}])},81406:function(e,t,a){"use strict";var s=a(24246),i=a(87949);t.Z=()=>(0,s.jsxs)(i.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:[(0,s.jsx)(i.xvT,{fontSize:"md",fontWeight:"600",children:"No resources found"}),(0,s.jsx)(i.xvT,{fontSize:"sm",children:"You're up to date!"})]})},25077:function(e,t,a){"use strict";a.d(t,{Z:function(){return D}});var s=a(24246),i=a(59003),r=a(92222),n=a(87949),l=a(27378),o=a(30952),c=a(47935),d=a(81406),u=a(99763),g=a(72625),p=a(17245),h=a(28976),f=a(8151),x=a(70675),m=e=>{let{resource:t,onDetailClick:a}=e,{successAlert:i}=(0,p.VY)(),r=(0,f.u)(t),[l,{isLoading:o}]=(0,x.v8)(),[c,{isLoading:d}]=(0,x.cM)(),[u,{isLoading:g}]=(0,x.vi)(),m=async()=>{var e;await l({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id,unmute_children:!0,classify_monitored_resources:!0}),i("Started classification on ".concat(null!==(e=t.name)&&void 0!==e?e:"this resource"))},j=async()=>{var e;await c({staged_resource_urn:t.urn}),i("Approved ".concat(null!==(e=t.name)&&void 0!==e?e:" resource"))},_=async()=>{var e;await u({staged_resource_urn:t.urn}),i("Hid ".concat(null!==(e=t.name)&&void 0!==e?e:" resource"))},C=o||d||g;return(0,s.jsxs)(n.kCb,{gap:2,justify:"space-between",children:[r===f.e.ATTENTION_REQUIRED&&(0,s.jsx)(n.wpx,{size:"small",onClick:m,loading:o,disabled:C,"data-testid":"classify-btn",children:"Classify"}),r===f.e.IN_REVIEW&&(0,s.jsx)(n.wpx,{size:"small",onClick:j,loading:d,disabled:C,"data-testid":"approve-btn",children:"Approve"}),(0,s.jsx)(n.LZC,{}),(0,s.jsx)(h.Z,{onHideClick:_,onDetailClick:a})]})},j=a(89200),_=a(5945),C=a(61099),v=a(79947),y=a(65735);let I=(0,r.Cl)();var L=(e,t)=>{let a=[];return e?e===y.D$.TABLE?[I.display({id:"name",cell:e=>{let{row:t}=e;return(0,s.jsx)(j.Z,{resource:t.original})},header:"Table"}),I.display({id:"status",cell:e=>{let{row:t}=e;return(0,s.jsx)(_.Z,{status:(0,f.u)(t.original)})},header:"Status"}),I.display({id:"category",cell:e=>{let{row:t}=e;return(0,s.jsx)(C.Z,{resource:t.original})},header:"Data categories",minSize:280,meta:{disableRowClick:!0}}),I.accessor(e=>e.description,{id:"description",cell:e=>(0,s.jsx)(c.G3,{value:e.getValue()}),header:"Description"}),I.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,s.jsx)(g.Cy,{time:e.getValue()}),header:"Updated"}),I.display({id:"actions",cell:e=>{let{row:a}=e;return(0,s.jsx)(m,{resource:a.original,onDetailClick:()=>t(a.original)})},header:"Actions",meta:{disableRowClick:!0}})]:e===y.D$.FIELD?[I.display({id:"name",cell:e=>{let{row:t}=e;return(0,s.jsx)(j.Z,{resource:t.original})},header:"Field"}),I.display({id:"status",cell:e=>{let{row:t}=e;return(0,s.jsx)(_.Z,{status:(0,f.u)(t.original)})},header:"Status"}),I.accessor(e=>e.data_type,{id:"dataType",cell:e=>(0,s.jsx)(v.Z,{type:e.getValue()}),header:"Data type"}),I.display({id:"category",cell:e=>{let{row:t}=e;return(0,s.jsx)(C.Z,{resource:t.original})},header:"Data categories",minSize:280,meta:{disableRowClick:!0}}),I.accessor(e=>e.description,{id:"description",cell:e=>(0,s.jsx)(c.G3,{value:e.getValue()}),header:"Description"}),I.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,s.jsx)(g.Cy,{time:e.getValue()}),header:"Updated"}),I.display({id:"actions",cell:e=>{let{row:a}=e;return(0,s.jsx)(m,{resource:a.original,onDetailClick:()=>t(a.original)})},header:"Actions",meta:{disableRowClick:!0}})]:a:a},w=a(7940),R=a(80356);let b=[y.LL.ADDITION,y.LL.CLASSIFYING,y.LL.CLASSIFICATION_ADDITION,y.LL.CLASSIFICATION_QUEUED,y.LL.CLASSIFICATION_UPDATE,y.LL.MONITORED,y.LL.PROMOTING,y.LL.REMOVAL,y.LL.REMOVING],k={items:[],total:0,page:1,size:50,pages:1};var D=e=>{let{resourceUrn:t,onRowClick:a}=e,{PAGE_SIZES:g,pageSize:p,setPageSize:h,onPreviousPageClick:f,isPreviousPageDisabled:m,onNextPageClick:j,isNextPageDisabled:_,startRange:C,endRange:v,pageIndex:y,setTotalPages:I,resetPageIndexToDefault:D}=(0,c.oi)(),[N,S]=(0,l.useState)("");(0,l.useEffect)(()=>{D()},[t,D]);let{isFetching:E,isLoading:P,data:A}=(0,x.z8)({staged_resource_urn:t,page:y,size:p,diff_status:b,search:N}),{items:T,total:Z,pages:O}=(0,l.useMemo)(()=>null!=A?A:k,[A]);(0,l.useEffect)(()=>{I(O)},[O,I]);let[z,U]=(0,l.useState)(void 0),M=L((0,w.G)(T[0]),U),V=(0,i.b7)({getCoreRowModel:(0,r.sC)(),getGroupedRowModel:(0,r.qe)(),getExpandedRowModel:(0,r.rV)(),columns:M,manualPagination:!0,data:T,columnResizeMode:"onChange",getRowId:e=>e.urn});return P||E?(0,s.jsx)(c.I4,{rowHeight:36,numRows:36}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Q$,{children:(0,s.jsx)(n.kCb,{gap:6,align:"center",children:(0,s.jsx)(n.xuv,{flexShrink:0,children:(0,s.jsx)(o.f,{value:N,onChange:S})})})}),(0,s.jsx)(c.ZK,{tableInstance:V,emptyTableNotice:(0,s.jsx)(d.Z,{}),getRowIsClickable:e=>(0,R.Z)(e),onRowClick:a}),(0,s.jsx)(c.s8,{totalRows:Z||0,pageSizes:g,setPageSize:h,onPreviousPageClick:f,isPreviousPageDisabled:m,onNextPageClick:j,isNextPageDisabled:_,startRange:C,endRange:v}),(0,s.jsx)(u.Z,{resource:z,onClose:()=>U(void 0)})]})}},94780:function(e,t,a){"use strict";a.d(t,{X5:function(){return l},pN:function(){return o},sv:function(){return r}});var s=a(24246),i=a(87949);let r=e=>e.split(".")[1],n=[(0,s.jsx)(i.PJP.S9g,{},"layers"),(0,s.jsx)(i.PJP.iA_,{},"table"),(0,s.jsx)(i.PJP.$4y,{style:{transform:"rotate(-90deg)"}},"field")],l=(e,t)=>{if(!e)return[];let a=e.split(".");if(a.length<2)return[];let l=a.splice(0,2).join("."),o=[];return a.reduce((e,s,i)=>{let r=i===a.length-1,c="".concat(e).concat(".").concat(s);return o.push({title:s,href:r?void 0:"".concat(t,"/").concat(l,"/").concat(c),icon:n[i]}),c},l),[{title:r(l),href:"".concat(t,"/").concat(l),icon:(0,s.jsx)(i.PJP.ehp,{})},...o]},o=(e,t)=>{if(!e)return[];let a=e.split(".");if(a.length<2)return[];let s=a.shift(),i=[];return a.reduce((e,s,r)=>{let l=r===a.length-1,o="".concat(e).concat(".").concat(s);return i.push({title:s,href:l?void 0:"".concat(t,"/").concat(o),icon:n[r]}),o},s),i}},51887:function(e,t,a){"use strict";a.r(t);var s=a(24246),i=a(86677),r=a(18225),n=a(77213),l=a(77830),o=a(58754),c=a(25077),d=a(94780),u=a(1315);t.default=()=>{var e;let{query:t}=(0,i.useRouter)(),a=t.systemId,g=t.resourceUrn,{data:p,isLoading:h}=(0,u.rn)(a),f=(0,i.useRouter)(),x=(0,d.pN)(g,"".concat(l.mX,"/").concat(a,"/resources"));return h?(0,s.jsx)(r.Z,{}):(0,s.jsxs)(n.Z,{title:"Data catalog",children:[(0,s.jsx)(o.Z,{heading:"Data catalog",breadcrumbItems:[{title:"All systems",href:l.mX},{title:null!==(e=null==p?void 0:p.name)&&void 0!==e?e:null==p?void 0:p.fides_key,href:"".concat(l.mX)},...x]}),(0,s.jsx)(c.Z,{resourceUrn:g,onRowClick:e=>f.push("".concat(l.mX,"/").concat(p.fides_key,"/resources/").concat(e.urn))})]})}}},function(e){e.O(0,[431,8765,9278,5163,7245,4322,1099,6882,2888,9774,179],function(){return e(e.s=37441)}),_N_E=e.O()}]);