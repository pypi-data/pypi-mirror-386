"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8373],{59969:function(e,n,t){var i=t(24246),r=t(87949);t(27378);var s=t(8557);n.Z=e=>{let n,{daysLeft:t,includeText:a,status:l}=e;if(!t||l===s.q.COMPLETE||l===s.q.CANCELED||l===s.q.DENIED||l===s.q.IDENTITY_UNVERIFIED)return(0,i.jsx)("span",{children:"-"});switch(!0){case t>=10:n=r.tAb.SUCCESS;break;case t<10&&t>4:n=r.tAb.WARNING;break;case t<5:n=r.tAb.ERROR}return(0,i.jsx)(r.j8w,{color:n,children:a?"".concat(t," days left"):t})}},18225:function(e,n,t){var i=t(24246),r=t(87949);n.Z=e=>{let{alignment:n="center",...t}=e;return(0,i.jsx)(r.kCb,{boxSize:"full",align:"center",justify:n,children:(0,i.jsx)(r.$jN,{color:"primary",...t})})}},58754:function(e,n,t){var i=t(24246),r=t(87949),s=t(70788);n.Z=e=>{let{heading:n,breadcrumbItems:t,isSticky:a=!0,children:l,rightContent:o,style:u,...c}=e;return(0,i.jsxs)("div",{...c,style:a?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...u}:{paddingBottom:"24px",...u},children:[(0,i.jsxs)(r.jqI,{justify:"space-between",children:["string"==typeof n?(0,i.jsx)(r.lQT,{className:t||l?"pb-4":void 0,level:1,"data-testid":"page-heading",children:n}):n,o&&(0,i.jsx)("div",{"data-testid":"page-header-right-content",children:o})]}),!!t&&(0,i.jsx)(s.m,{className:l?"pb-4":void 0,items:t,"data-testid":"page-breadcrumb"}),l]})}},19904:function(e,n,t){t.d(n,{Tg:function(){return a}});var i=t(24246),r=t(16134),s=t(31793);let a=e=>(0,r.C)(s.uu).filter(n=>e.includes(n)).length>0;n.ZP=e=>{let{scopes:n,children:t}=e;return a(n)?(0,i.jsx)(i.Fragment,{children:t}):null}},70788:function(e,n,t){t.d(n,{m:function(){return u}});var i=t(24246),r=t(87949),s=t(79894),a=t.n(s),l=t(27378);let{Text:o}=r.AntTypography,u=e=>{let{items:n,...t}=e,s=(0,l.useMemo)(()=>null==n?void 0:n.map((e,t)=>{let s=t===n.length-1,l={...e},u=l.onClick&&!l.href;return("string"==typeof l.title&&(l.title=(0,i.jsx)(o,{style:{color:"inherit",maxWidth:s?void 0:400},ellipsis:!s,id:s?"breadcrumb-current-page":void 0,children:l.title})),u)?l.title=(0,i.jsx)(r.wpx,{type:"text",size:"small",icon:l.icon,onClick:l.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:l.title}):(l.icon&&(l.title=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"anticon align-text-bottom",children:l.icon}),l.title]})),l.href&&l.title&&(l.title=(0,i.jsx)(a(),{href:l.href,className:"ant-breadcrumb-link",children:l.title}),delete l.href)),l}),[n]);return(0,i.jsx)(r.zrq,{items:s,...t})}},42478:function(e,n,t){t.d(n,{FU:function(){return u},JE:function(){return r},Ki:function(){return d},SU:function(){return g},W:function(){return f},h9:function(){return s},jc:function(){return i},qt:function(){return o},sn:function(){return c}});let{useGetEmailInviteStatusQuery:i,useGetActiveMessagingProviderQuery:r,useCreateMessagingConfigurationMutation:s,useCreateMessagingConfigurationSecretsMutation:a,useGetMessagingConfigurationDetailsQuery:l,useGetMessagingConfigurationsQuery:o,useGetMessagingConfigurationByKeyQuery:u,useUpdateMessagingConfigurationByKeyMutation:c,useUpdateMessagingConfigurationSecretsByKeyMutation:d,useCreateTestConnectionMessageMutation:g,useDeleteMessagingConfigurationByKeyMutation:f}=t(78780).u.injectEndpoints({endpoints:e=>({getEmailInviteStatus:e.query({query:()=>({url:"/messaging/email-invite/status"}),providesTags:()=>["Email Invite Status"]}),createMessagingConfiguration:e.mutation({query:e=>({url:"messaging/config",method:"POST",body:e}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getActiveMessagingProvider:e.query({queryFn:async(e,n,t,i)=>{let r=await i({url:"messaging/default/active"});return r.error&&404===r.error.status?{data:null}:r},providesTags:["Messaging Config"]}),createMessagingConfigurationSecrets:e.mutation({query:e=>({url:"messaging/default/".concat(e.service_type,"/secret"),method:"PUT",body:e.details}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getMessagingConfigurationDetails:e.query({query:e=>({url:"messaging/default/".concat(e.type)}),providesTags:["Messaging Config"]}),getMessagingConfigurations:e.query({query:()=>({url:"messaging/config"}),providesTags:["Messaging Config"]}),getMessagingConfigurationByKey:e.query({query:e=>({url:"messaging/config/".concat(e.key)}),providesTags:["Messaging Config"]}),createTestConnectionMessage:e.mutation({query:e=>({url:"messaging/test/".concat(e.service_type),method:"POST",body:e.details}),invalidatesTags:["Messaging Config"]}),updateMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"PATCH",body:e.config}),invalidatesTags:["Messaging Config","Configuration Settings"]}),updateMessagingConfigurationSecretsByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key,"/secret"),method:"PUT",body:e.secrets}),invalidatesTags:["Messaging Config","Configuration Settings"]}),deleteMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"DELETE"}),invalidatesTags:["Messaging Config","Configuration Settings"]})})})},57526:function(e,n,t){var i=t(24246),r=t(87949),s=t(27378);n.Z=e=>{let{isOpen:n,onClose:t,onApproveRequest:a,isLoading:l,subjectRequest:o}=e,{identity:u,identity_verified_at:c,custom_privacy_request_fields:d}=o,g=(0,s.useCallback)(()=>{a().then(()=>{t()})},[a,t]);return(0,i.jsxs)(r.u_l,{isOpen:n,onClose:t,size:"lg",isCentered:!0,children:[(0,i.jsx)(r.ZAr,{}),(0,i.jsxs)(r.hzk,{children:[(0,i.jsx)(r.xBx,{children:"Privacy request approval"}),(0,i.jsxs)(r.fef,{paddingTop:0,paddingBottom:0,children:[(0,i.jsx)(r.xvT,{color:"gray.500",fontSize:"14px",marginBottom:4,children:"Are you sure you want to approve this privacy request?"}),(0,i.jsxs)(r.QI$,{children:[Object.entries(u).filter(e=>{let[,{value:n}]=e;return null!==n}).map(e=>{let[n,{value:t,label:s}]=e;return(0,i.jsx)(r.HCh,{children:(0,i.jsxs)(r.kCb,{alignItems:"flex-start",children:[(0,i.jsxs)(r.xvT,{mr:2,fontSize:"sm",color:"gray.900",fontWeight:"500",children:[s,":"]}),(0,i.jsx)(r.xvT,{color:"gray.600",fontWeight:"500",fontSize:"sm",mr:2,children:t}),"(",c?"Verified":"Unverified",")"]},n)},n)}),d&&Object.entries(d).filter(e=>{let[,n]=e;return n.value}).map(e=>{let[n,t]=e;return(0,i.jsx)(r.HCh,{children:(0,i.jsxs)(r.kCb,{alignItems:"flex-start",children:[(0,i.jsxs)(r.xvT,{mr:2,fontSize:"sm",color:"gray.900",fontWeight:"500",children:[t.label,":"]}),(0,i.jsxs)(r.xvT,{color:"gray.600",fontWeight:"500",fontSize:"sm",mr:2,children:[Array.isArray(t.value)?t.value.join(", "):t.value," "]}),"(Unverified)"]},n)},n)})]})]}),(0,i.jsx)(r.mzw,{children:(0,i.jsxs)(r.MIq,{columns:2,width:"100%",children:[(0,i.jsx)(r.wpx,{onClick:t,className:"mr-3","data-testid":"cancel-btn",children:"Cancel"}),(0,i.jsx)(r.wpx,{type:"primary","data-testid":"continue-btn",onClick:g,loading:l,children:"Confirm"})]})})]})]})}},66548:function(e,n,t){var i=t(24246),r=t(40324),s=t(87949),a=t(34090),l=t(27378),o=t(55484);let u={denialReason:""};n.Z=e=>{let{isOpen:n,onClose:t,onDenyRequest:c}=e,d=(0,l.useCallback)((e,n)=>{let{setSubmitting:i}=n;c(e.denialReason).then(()=>{i(!1),t()})},[c,t]);return(0,i.jsxs)(s.u_l,{isOpen:n,onClose:t,isCentered:!0,returnFocusOnClose:!1,children:[(0,i.jsx)(s.ZAr,{}),(0,i.jsx)(s.hzk,{width:"100%",maxWidth:"456px","data-testid":"deny-privacy-request-modal",children:(0,i.jsx)(a.J9,{initialValues:u,validationSchema:o.Ry({denialReason:o.Z_().required().label("Reason for denial")}),onSubmit:d,children:e=>{let{isSubmitting:n,dirty:l,isValid:o}=e;return(0,i.jsxs)(a.l0,{children:[(0,i.jsx)(s.xBx,{children:"Privacy request denial"}),(0,i.jsx)(s.fef,{color:"gray.500",fontSize:"14px",children:"Please enter a reason for denying this privacy request. Please note: this can be seen by the user in their notification email."}),(0,i.jsx)(s.fef,{children:(0,i.jsx)(r.Ks,{name:"denialReason",textAreaProps:{focusBorderColor:"primary.600",resize:"none"}})}),(0,i.jsxs)(s.mzw,{className:"flex w-full gap-4",children:[(0,i.jsx)(s.wpx,{disabled:n,onClick:t,className:"grow",children:"Cancel"}),(0,i.jsx)(s.wpx,{htmlType:"submit",type:"primary",disabled:!l||!o,loading:n,className:"grow","data-testid":"deny-privacy-request-modal-btn",children:"Confirm"})]})]})}})})]})}},45489:function(e,n,t){t.d(n,{Z:function(){return r}});var i=t(90867);let r=e=>{let{subjectRequest:n}=e,[t,r]=(0,i.RW)({fixedCacheKey:n.id}),[s,a]=(0,i.F1)({fixedCacheKey:n.id}),[l,o]=(0,i.rC)({fixedCacheKey:n.id}),[u,c]=(0,i.zB)({fixedCacheKey:n.id}),d=a.isLoading||r.isLoading||c.isLoading;return{approveRequest:t,approveRequestResult:r,denyRequest:s,denyRequestResult:a,handleApproveRequest:()=>t(n),handleDenyRequest:e=>s({id:n.id,reason:e}),handleDeleteRequest:()=>l(n),handleFinalizeRequest:()=>u({privacyRequestId:n.id}),softDeleteRequestResult:o,finalizeRequestResult:c,isLoading:d}}},72281:function(e,n,t){t.d(n,{G:function(){return l},d:function(){return o}});var i=t(86677),r=t(27378),s=t(19904),a=t(65735);let l={REQUEST:"request",MANUAL_TASK:"manual-tasks"},o=()=>{let e=(0,i.useRouter)(),n=(0,s.Tg)([a.Sh.PRIVACY_REQUEST_READ]),t=(0,s.Tg)([a.Sh.MANUAL_FIELD_READ_OWN,a.Sh.MANUAL_FIELD_READ_ALL]),o=(0,r.useMemo)(()=>({request:n,manualTask:t}),[n,t]),[u,c]=(0,r.useState)(o.request?l.REQUEST:l.MANUAL_TASK),d=(0,r.useCallback)(()=>{let{tab:n}=e.query;return n&&"string"==typeof n&&Object.values(l).includes(n)?n:null},[e.query]),g=(0,r.useCallback)(n=>{e.replace({pathname:e.pathname,query:{tab:n}},void 0,{shallow:!0})},[e]);return(0,r.useEffect)(()=>{if(!e.isReady)return;let n=d();n?(n===l.REQUEST||n===l.MANUAL_TASK&&o.manualTask)&&c(n):o.request&&c(l.REQUEST)},[e.isReady,e.query,o,d,g]),{activeTab:u,handleTabChange:(0,r.useCallback)(e=>{Object.values(l).includes(e)&&(c(e),g(e))},[g]),availableTabs:o}}}}]);