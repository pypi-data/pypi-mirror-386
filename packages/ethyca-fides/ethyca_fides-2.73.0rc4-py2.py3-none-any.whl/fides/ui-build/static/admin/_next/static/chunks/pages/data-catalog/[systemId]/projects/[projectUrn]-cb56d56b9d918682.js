(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7818],{50481:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-catalog/[systemId]/projects/[projectUrn]",function(){return s(32065)}])},98800:function(e,t,s){"use strict";var n=s(24246),i=s(87949),a=s(79789);t.Z=e=>{var t;let{dataset:s,onClose:r}=e;return(0,n.jsxs)(i.dys,{isOpen:!!s,onClose:r,size:"md",children:[(0,n.jsx)(i.P1B,{}),(0,n.jsxs)(i.scA,{children:[(0,n.jsx)(i.OXI,{children:(null==s?void 0:s.name)||(null==s?void 0:s.urn)}),(0,n.jsx)(i.cCv,{}),(0,n.jsxs)(i.Ng0,{children:[(0,n.jsx)(a.cB,{text:"Title",mt:0}),(0,n.jsx)(a.XU,{children:null!==(t=null==s?void 0:s.name)&&void 0!==t?t:null==s?void 0:s.urn}),(null==s?void 0:s.description)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.cB,{text:"Description"}),(0,n.jsx)(a.XU,{children:null==s?void 0:s.description})]})]})]})]})}},81406:function(e,t,s){"use strict";var n=s(24246),i=s(87949);t.Z=()=>(0,n.jsxs)(i.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:[(0,n.jsx)(i.xvT,{fontSize:"md",fontWeight:"600",children:"No resources found"}),(0,n.jsx)(i.xvT,{fontSize:"sm",children:"You're up to date!"})]})},69172:function(e,t,s){"use strict";var n=s(24246),i=s(92222),a=s(87949),r=s(27378),l=s(47935),o=s(72625),c=s(89200),d=s(5945),u=s(8151);let x=(0,i.Cl)(),g=e=>{let{onDetailClick:t}=e;return(0,n.jsxs)(a.v2r,{children:[(0,n.jsx)(a.j2t,{as:a.wpx,size:"small",type:"text",icon:(0,n.jsx)(a.nXP,{transform:"rotate(90deg)"}),className:"w-6 gap-0","data-testid":"dataset-actions"}),(0,n.jsx)(a.qyq,{children:(0,n.jsx)(a.sNh,{"data-testid":"view-dataset-details",onClick:t,children:"View details"})})]})};t.Z=e=>{let{onDetailClick:t}=e;return(0,r.useMemo)(()=>[x.accessor(e=>e.name,{id:"name",cell:e=>(0,n.jsx)(c.Z,{resource:e.row.original}),header:"Dataset"}),x.display({id:"status",cell:e=>{let{row:t}=e;return(0,n.jsx)(d.Z,{status:(0,u.u)(t.original)})},header:"Status"}),x.accessor(e=>e.description,{id:"description",cell:e=>(0,n.jsx)(l.G3,{value:e.getValue()}),header:"Description"}),x.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,n.jsx)(o.Cy,{time:e.getValue()}),header:"Updated"}),x.display({id:"actions",cell:e=>{let{row:s}=e;return(0,n.jsx)(g,{onDetailClick:()=>t(s.original)})},size:25,meta:{disableRowClick:!0}})],[t])}},94780:function(e,t,s){"use strict";s.d(t,{X5:function(){return l},pN:function(){return o},sv:function(){return a}});var n=s(24246),i=s(87949);let a=e=>e.split(".")[1],r=[(0,n.jsx)(i.PJP.S9g,{},"layers"),(0,n.jsx)(i.PJP.iA_,{},"table"),(0,n.jsx)(i.PJP.$4y,{style:{transform:"rotate(-90deg)"}},"field")],l=(e,t)=>{if(!e)return[];let s=e.split(".");if(s.length<2)return[];let l=s.splice(0,2).join("."),o=[];return s.reduce((e,n,i)=>{let a=i===s.length-1,c="".concat(e).concat(".").concat(n);return o.push({title:n,href:a?void 0:"".concat(t,"/").concat(l,"/").concat(c),icon:r[i]}),c},l),[{title:a(l),href:"".concat(t,"/").concat(l),icon:(0,n.jsx)(i.PJP.ehp,{})},...o]},o=(e,t)=>{if(!e)return[];let s=e.split(".");if(s.length<2)return[];let n=s.shift(),i=[];return s.reduce((e,n,a)=>{let l=a===s.length-1,o="".concat(e).concat(".").concat(n);return i.push({title:n,href:l?void 0:"".concat(t,"/").concat(o),icon:r[a]}),o},n),i}},32065:function(e,t,s){"use strict";s.r(t);var n=s(24246),i=s(59003),a=s(92222),r=s(87949),l=s(86677),o=s(27378),c=s(77213),d=s(77830),u=s(58754),x=s(47935),g=s(98800),p=s(81406),j=s(69172),h=s(94780),m=s(70675),f=s(1315);let v={items:[],total:0,page:1,size:50,pages:1};t.default=()=>{let{query:e,push:t}=(0,l.useRouter)(),s=e.systemId,P=e.projectUrn,[w,C]=(0,o.useState)(void 0),{data:_,isLoading:y}=(0,f.rn)(s),{PAGE_SIZES:b,pageSize:N,setPageSize:R,onPreviousPageClick:k,isPreviousPageDisabled:z,onNextPageClick:Z,isNextPageDisabled:X,startRange:D,endRange:S,pageIndex:E,setTotalPages:I}=(0,x.oi)(),{isFetching:M,isLoading:T,data:U}=(0,m.z8)({staged_resource_urn:P,page:E,size:N}),{items:J,total:O,pages:V}=(0,o.useMemo)(()=>null!=U?U:v,[U]);(0,o.useEffect)(()=>{I(V)},[V,I]);let q=(0,j.Z)({onDetailClick:e=>C(e)}),A=(0,i.b7)({getCoreRowModel:(0,a.sC)(),getGroupedRowModel:(0,a.qe)(),getExpandedRowModel:(0,a.rV)(),columns:q,manualPagination:!0,data:J,columnResizeMode:"onChange"}),B=!T&&!y&&!M;return(0,n.jsxs)(c.Z,{title:"Data catalog",children:[(0,n.jsx)(u.Z,{heading:"Data catalog",breadcrumbItems:[{title:"All systems",href:d.mX},{title:(null==_?void 0:_.name)||s,href:d.mX},{title:(0,h.sv)(P),icon:(0,n.jsx)(r.PJP.ehp,{})}]}),!B&&(0,n.jsx)(x.I4,{rowHeight:36,numRows:36}),B&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x.ZK,{tableInstance:A,emptyTableNotice:(0,n.jsx)(p.Z,{}),onRowClick:e=>t("".concat(d.mX,"/").concat(s,"/projects/").concat(P,"/").concat(e.urn,"/"))}),(0,n.jsx)(x.s8,{totalRows:O||0,pageSizes:b,setPageSize:R,onPreviousPageClick:k,isPreviousPageDisabled:z,onNextPageClick:Z,isNextPageDisabled:X,startRange:D,endRange:S}),(0,n.jsx)(g.Z,{dataset:w,onClose:()=>C(void 0)})]})]})}}},function(e){e.O(0,[9682,2888,9774,179],function(){return e(e.s=50481)}),_N_E=e.O()}]);