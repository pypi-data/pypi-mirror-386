(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1206],{55515:function(a,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-discovery/action-center/website/[monitorId]",function(){return n(57617)}])},26089:function(a,e,n){"use strict";var t=n(24246),i=n(87949),s=n(99830),o=n.n(s);e.Z=a=>{let{onClick:e,children:n}=a;return(0,t.jsx)(i.wpx,{onClick:e,type:"link",role:"link",size:"small",className:o().toastLink,children:n})}},8411:function(a,e,n){"use strict";n.d(e,{NA:function(){return s},Z8:function(){return i}});var t=n(65735);let i={[t._F.ER]:"Eritrea",[t._F.DJ]:"Djibouti",[t._F.MR]:"Mauritania",[t._F.NA]:"Namibia",[t._F.GH]:"Ghana",[t._F.SS]:"South Sudan",[t._F.SC]:"Seychelles",[t._F.IO]:"British Indian Ocean Territory",[t._F.GQ]:"Equatorial Guinea",[t._F.AO]:"Angola",[t._F.CG]:"Republic of the Congo",[t._F.BW]:"Botswana",[t._F.BI]:"Burundi",[t._F.DZ]:"Algeria",[t._F.TD]:"Chad",[t._F.NG]:"Nigeria",[t._F.TZ]:"Tanzania",[t._F.EH]:"Western Sahara",[t._F.SN]:"Senegal",[t._F.LR]:"Liberia",[t._F.ZA]:"South Africa",[t._F.CV]:"Cape Verde",[t._F.GM]:"Gambia",[t._F.SD]:"Sudan",[t._F.KM]:"Comoros",[t._F.SZ]:"Eswatini",[t._F.UG]:"Uganda",[t._F.MG]:"Madagascar",[t._F.RW]:"Rwanda",[t._F.CD]:"DR Congo",[t._F.CM]:"Cameroon",[t._F.SH]:"Saint Helena, Ascension and Tristan da Cunha",[t._F.TG]:"Togo",[t._F.MU]:"Mauritius",[t._F.NE]:"Niger",[t._F.BJ]:"Benin",[t._F.EG]:"Egypt",[t._F.LS]:"Lesotho",[t._F.ET]:"Ethiopia",[t._F.MA]:"Morocco",[t._F.YT]:"Mayotte",[t._F.BF]:"Burkina Faso",[t._F.RE]:"R\xe9union",[t._F.ST]:"S\xe3o Tom\xe9 and Pr\xedncipe",[t._F.CF]:"Central African Republic",[t._F.MZ]:"Mozambique",[t._F.MW]:"Malawi",[t._F.ML]:"Mali",[t._F.ZM]:"Zambia",[t._F.LY]:"Libya",[t._F.GW]:"Guinea-Bissau",[t._F.SO]:"Somalia",[t._F.KE]:"Kenya",[t._F.GN]:"Guinea",[t._F.ZW]:"Zimbabwe",[t._F.TN]:"Tunisia",[t._F.SL]:"Sierra Leone",[t._F.GA]:"Gabon",[t._F.CI]:"Ivory Coast",[t._F.JO]:"Jordan",[t._F.PK]:"Pakistan",[t._F.KP]:"North Korea",[t._F.MO]:"Macau",[t._F.AM]:"Armenia",[t._F.SY]:"Syria",[t._F.TJ]:"Tajikistan",[t._F.SA]:"Saudi Arabia",[t._F.KR]:"South Korea",[t._F.NP]:"Nepal",[t._F.PH]:"Philippines",[t._F.IQ]:"Iraq",[t._F.LB]:"Lebanon",[t._F.MN]:"Mongolia",[t._F.PS]:"Palestine",[t._F.YE]:"Yemen",[t._F.JP]:"Japan",[t._F.KZ]:"Kazakhstan",[t._F.LK]:"Sri Lanka",[t._F.MM]:"Myanmar",[t._F.KG]:"Kyrgyzstan",[t._F.CN]:"China",[t._F.AF]:"Afghanistan",[t._F.OM]:"Oman",[t._F.IN]:"India",[t._F.LA]:"Laos",[t._F.UZ]:"Uzbekistan",[t._F.MV]:"Maldives",[t._F.ID]:"Indonesia",[t._F.VN]:"Vietnam",[t._F.MY]:"Malaysia",[t._F.TW]:"Taiwan",[t._F.KH]:"Cambodia",[t._F.AE]:"United Arab Emirates",[t._F.HK]:"Hong Kong",[t._F.GE]:"Georgia (Country)",[t._F.BD]:"Bangladesh",[t._F.KW]:"Kuwait",[t._F.TM]:"Turkmenistan",[t._F.QA]:"Qatar",[t._F.BH]:"Bahrain",[t._F.BN]:"Brunei",[t._F.TH]:"Thailand",[t._F.BT]:"Bhutan",[t._F.SG]:"Singapore",[t._F.IL]:"Israel",[t._F.AZ]:"Azerbaijan",[t._F.TL]:"Timor-Leste",[t._F.IR]:"Iran",[t._F.TR]:"Turkey",[t._F.MK]:"North Macedonia",[t._F.IE]:"Ireland",[t._F.DK]:"Denmark",[t._F.SK]:"Slovakia",[t._F.MD]:"Moldova",[t._F.AX]:"\xc5land Islands",[t._F.PL]:"Poland",[t._F.BA]:"Bosnia and Herzegovina",[t._F.SM]:"San Marino",[t._F.CZ]:"Czechia",[t._F.EE]:"Estonia",[t._F.XK]:"Kosovo",[t._F.FO]:"Faroe Islands",[t._F.SJ]:"Svalbard and Jan Mayen",[t._F.GG]:"Guernsey",[t._F.FR]:"France",[t._F.NL]:"Netherlands",[t._F.FI]:"Finland",[t._F.PT]:"Portugal",[t._F.DE]:"Germany",[t._F.MT]:"Malta",[t._F.JE]:"Jersey",[t._F.IS]:"Iceland",[t._F.ES]:"Spain",[t._F.GI]:"Gibraltar",[t._F.NO]:"Norway",[t._F.CY]:"Cyprus",[t._F.RS]:"Serbia",[t._F.LT]:"Lithuania",[t._F.MC]:"Monaco",[t._F.LU]:"Luxembourg",[t._F.UA]:"Ukraine",[t._F.IM]:"Isle of Man",[t._F.RO]:"Romania",[t._F.BE]:"Belgium",[t._F.SE]:"Sweden",[t._F.ME]:"Montenegro",[t._F.LV]:"Latvia",[t._F.VA]:"Vatican City",[t._F.AT]:"Austria",[t._F.AL]:"Albania",[t._F.LI]:"Liechtenstein",[t._F.GR]:"Greece",[t._F.IT]:"Italy",[t._F.AD]:"Andorra",[t._F.GB]:"United Kingdom",[t._F.RU]:"Russia",[t._F.SI]:"Slovenia",[t._F.BY]:"Belarus",[t._F.CH]:"Switzerland",[t._F.HU]:"Hungary",[t._F.BG]:"Bulgaria",[t._F.HR]:"Croatia",[t._F.TC]:"Turks and Caicos Islands",[t._F.CW]:"Cura\xe7ao",[t._F.GP]:"Guadeloupe",[t._F.UM]:"United States Minor Outlying Islands",[t._F.GT]:"Guatemala",[t._F.PM]:"Saint Pierre and Miquelon",[t._F.BQ]:"Caribbean Netherlands",[t._F.GL]:"Greenland",[t._F.SX]:"Sint Maarten",[t._F.PA]:"Panama",[t._F.AW]:"Aruba",[t._F.MQ]:"Martinique",[t._F.AG]:"Antigua and Barbuda",[t._F.BM]:"Bermuda",[t._F.CU]:"Cuba",[t._F.GD]:"Grenada",[t._F.NI]:"Nicaragua",[t._F.LC]:"Saint Lucia",[t._F.KN]:"Saint Kitts and Nevis",[t._F.DO]:"Dominican Republic",[t._F.VC]:"Saint Vincent and the Grenadines",[t._F.BZ]:"Belize",[t._F.HT]:"Haiti",[t._F.JM]:"Jamaica",[t._F.BS]:"Bahamas",[t._F.MX]:"Mexico",[t._F.MF]:"Saint Martin",[t._F.SV]:"El Salvador",[t._F.BL]:"Saint Barth\xe9lemy",[t._F.AI]:"Anguilla",[t._F.MS]:"Montserrat",[t._F.VG]:"British Virgin Islands",[t._F.BB]:"Barbados",[t._F.HN]:"Honduras",[t._F.KY]:"Cayman Islands",[t._F.DM]:"Dominica",[t._F.TT]:"Trinidad and Tobago",[t._F.CR]:"Costa Rica",[t._F.SR]:"Suriname",[t._F.CX]:"Christmas Island",[t._F.WS]:"Samoa",[t._F.PF]:"French Polynesia",[t._F.AS]:"American Samoa",[t._F.NC]:"New Caledonia",[t._F.TK]:"Tokelau",[t._F.PW]:"Palau",[t._F.KI]:"Kiribati",[t._F.VU]:"Vanuatu",[t._F.PN]:"Pitcairn Islands",[t._F.CK]:"Cook Islands",[t._F.FJ]:"Fiji",[t._F.PG]:"Papua New Guinea",[t._F.MP]:"Northern Mariana Islands",[t._F.NU]:"Niue",[t._F.TV]:"Tuvalu",[t._F.NF]:"Norfolk Island",[t._F.TO]:"Tonga",[t._F.FM]:"Micronesia",[t._F.SB]:"Solomon Islands",[t._F.NR]:"Nauru",[t._F.WF]:"Wallis and Futuna",[t._F.GU]:"Guam",[t._F.AU]:"Australia",[t._F.NZ]:"New Zealand",[t._F.MH]:"Marshall Islands",[t._F.CC]:"Cocos (Keeling) Islands",[t._F.VE]:"Venezuela",[t._F.PY]:"Paraguay",[t._F.BR]:"Brazil",[t._F.CO]:"Colombia",[t._F.PE]:"Peru",[t._F.CL]:"Chile",[t._F.UY]:"Uruguay",[t._F.AR]:"Argentina",[t._F.GY]:"Guyana",[t._F.BO]:"Bolivia",[t._F.GF]:"French Guiana",[t._F.EC]:"Ecuador",[t._F.FK]:"Falkland Islands",[t._F.US_AL]:"Alabama",[t._F.US_AK]:"Alaska",[t._F.US_AZ]:"Arizona",[t._F.US_AR]:"Arkansas",[t._F.US_CA]:"California",[t._F.US_CO]:"Colorado",[t._F.US_CT]:"Connecticut",[t._F.US_DE]:"Delaware",[t._F.US_DC]:"District of Columbia (DC)",[t._F.US_FL]:"Florida",[t._F.US_GA]:"Georgia",[t._F.US_HI]:"Hawaii",[t._F.US_ID]:"Idaho",[t._F.US_IL]:"Illinois",[t._F.US_IN]:"Indiana",[t._F.US_IA]:"Iowa",[t._F.US_KS]:"Kansas",[t._F.US_KY]:"Kentucky",[t._F.US_LA]:"Louisiana",[t._F.US_ME]:"Maine",[t._F.US_MD]:"Maryland",[t._F.US_MA]:"Massachusetts",[t._F.US_MI]:"Michigan",[t._F.US_MN]:"Minnesota",[t._F.US_MS]:"Mississippi",[t._F.US_MO]:"Missouri",[t._F.US_MT]:"Montana",[t._F.US_NE]:"Nebraska",[t._F.US_NV]:"Nevada",[t._F.US_NH]:"New Hampshire",[t._F.US_NJ]:"New Jersey",[t._F.US_NM]:"New Mexico",[t._F.US_NY]:"New York",[t._F.US_NC]:"North Carolina",[t._F.US_ND]:"North Dakota",[t._F.US_OH]:"Ohio",[t._F.US_OK]:"Oklahoma",[t._F.US_OR]:"Oregon",[t._F.US_PA]:"Pennsylvania",[t._F.US_PR]:"Puerto Rico",[t._F.US_RI]:"Rhode Island",[t._F.US_SC]:"South Carolina",[t._F.US_SD]:"South Dakota",[t._F.US_TN]:"Tennessee",[t._F.US_TX]:"Texas",[t._F.US_UT]:"Utah",[t._F.US_VA]:"Virginia",[t._F.US_VI]:"United States Virgin Islands",[t._F.US_VT]:"Vermont",[t._F.US_WA]:"Washington",[t._F.US_WV]:"West Virginia",[t._F.US_WI]:"Wisconsin",[t._F.US_WY]:"Wyoming",[t._F.CA_AB]:"Alberta",[t._F.CA_BC]:"British Columbia",[t._F.CA_MB]:"Manitoba",[t._F.CA_NB]:"New Brunswick",[t._F.CA_NL]:"Newfoundland and Labrador",[t._F.CA_NS]:"Nova Scotia",[t._F.CA_ON]:"Ontario",[t._F.CA_PE]:"Prince Edward Island",[t._F.CA_QC]:"Quebec",[t._F.CA_SK]:"Saskatchewan",[t._F.CA_NT]:"Northwest Territories",[t._F.CA_NU]:"Nunavut",[t._F.CA_YT]:"Yukon",[t._F.CA]:"Canada",[t._F.US]:"United States",[t._F.MEXICO_CENTRAL_AMERICA]:"Mexico and Central America",[t._F.CARIBBEAN]:"Caribbean",[t._F.EEA]:"European Economic Area (EEA)",[t._F.NON_EEA]:"Non European Economic Area",[t._F.GLOBAL]:"Global"},s=new Map(Object.entries(i));Object.entries(i).map(a=>({value:a[0],label:a[1]}))},25415:function(a,e,n){"use strict";n.d(e,{a:function(){return s}});var t=n(24246);let{Text:i}=n(87949).AntTypography,s=a=>{let{count:e}=a;return(0,t.jsx)(i,{size:"sm",strong:!0,"data-testid":"selected-count",children:"".concat(e," selected")})}},14908:function(a,e,n){"use strict";var t=n(86677),i=n(27378);let s=a=>a.startsWith("#")?a.slice(1):a;e.Z=a=>{let{tabKeys:e,initialTab:n}=a,o=(0,t.useRouter)(),r=o.asPath.split("#")[1]||e[0],[_,l]=(0,i.useState)(r);return(0,i.useEffect)(()=>{n&&e.includes(n)&&l(n)},[n,e,o.isReady]),{activeTab:_,onTabChange:(0,i.useCallback)(async a=>{if(!e.includes(a)){await o.replace({pathname:o.pathname,query:o.query,hash:void 0}),l(e[0]);return}o.isReady&&(await o.replace({pathname:o.pathname,query:o.query,hash:s(a)},void 0,{shallow:!0}),l(a))},[o,e]),setActiveTab:l}}},54762:function(a,e,n){"use strict";n.d(e,{l:function(){return r}});var t=n(24246),i=n(87949),s=n(62165),o=n(65735);let r=a=>{let{consentStatus:e}=a,{flags:n}=(0,s.hz)(),{assetConsentStatusLabels:r}=n;return r&&(null==e?void 0:e.status)===o.pF.ALERT?(0,t.jsx)(i.esZ,{title:null==e?void 0:e.message,"data-testid":"discovery-status-icon-alert-tooltip",children:(0,t.jsx)("div",{className:"mb-px","data-testid":"discovery-status-icon-alert",children:(0,t.jsx)(i.PJP.OdJ,{style:{color:"var(--fidesui-error)"}})})}):null}},9320:function(a,e,n){"use strict";n.d(e,{_:function(){return s}});var t=n(24246),i=n(26089);let s=(a,e)=>(0,t.jsxs)(t.Fragment,{children:[a," ",e&&(0,t.jsx)(i.Z,{onClick:e,children:"View"})]})},88708:function(a,e,n){"use strict";n.d(e,{A:function(){return i}});var t,i,s=n(27378),o=n(14908),r=n(65735);(t=i||(i={})).ATTENTION_REQUIRED="attention-required",t.ADDED="added",t.IGNORED="ignored",e.Z=a=>{let{activeTab:e,onTabChange:n}=(0,o.Z)({tabKeys:Object.values(i)}),t=(0,s.useMemo)(()=>[{label:"Attention required",params:{diff_status:[r.LL.ADDITION],system:a},hash:"attention-required"},{label:"Added",params:{diff_status:[r.LL.MONITORED]},hash:"added"},{label:"Ignored",params:{diff_status:[r.LL.MUTED],system:a},hash:"ignored"}],[a]),{diff_status:_,system:l}=(0,s.useMemo)(()=>{var a;return null!==(a=t.find(a=>a.hash===e))&&void 0!==a?a:t[0]},[t,e]).params,d=(0,s.useMemo)(()=>_.includes(r.LL.MONITORED),[_]);return{filterTabs:t,activeTab:e,onTabChange:n,activeParams:(0,s.useMemo)(()=>a?{diff_status:_,system:l}:{diff_status:_},[a,_,l]),actionsDisabled:d}}},78238:function(a,e,n){"use strict";n.d(e,{g:function(){return t}});let t=["essential","functional.service.improve","personalize","analytics","marketing.advertising.first_party.targeted","marketing.advertising.third_party.targeted"];e.Z=a=>t.includes(a)},57617:function(a,e,n){"use strict";n.r(e),n.d(e,{default:function(){return G}});var t=n(24246),i=n(86677),s=n(35287),o=n(77830),r=n(58754),_=n(87949),l=n(25415),d=n(65735),F=n(30952),u=n(27378),c=n(812),S=n(8125),m=n(46628),h=n(37059),y=n(98145),v=n(9320),A=n(71985),C=n(88708),M=n(8411),g=n(26070),p=n(3110),N=n(54762);let b=a=>{let{monitorId:e,system:n,allowIgnore:s,onTabChange:r}=a,[l,{isLoading:d}]=(0,h.rs)(),[F,{isLoading:u}]=(0,h.nP)(),S=(0,i.useRouter)(),y=(0,_.pmc)(),A=d||u,{id:M,name:g,system_key:p,total_updates:N}=n,b=async()=>{let a=await l({monitor_config_key:e,resolved_system_ids:[M]});if((0,c.D4)(a))y((0,m.Vo)((0,c.e$)(a.error)));else{let a="".concat(o.So,"/configure/").concat(p,"#assets");y((0,m.t5)((0,v._)(p?"".concat(N," assets from ").concat(g," have been added to the system inventory."):"".concat(g," and ").concat(N," assets have been added to the system inventory. ").concat(g," is now configured for consent."),p?()=>S.push(a):void 0)))}},I=async()=>{let a=await F({monitor_config_key:e,resolved_system_ids:[M||o.Kl]});(0,c.D4)(a)?y((0,m.Vo)((0,c.e$)(a.error))):y((0,m.t5)((0,v._)(g?"".concat(N," assets from ").concat(g," have been ignored and will not appear in future scans."):"".concat(N," uncategorized assets have been ignored and will not appear in future scans."),async()=>{await r(C.A.IGNORED)})))};return(0,t.jsxs)(_.vyj,{children:[(0,t.jsx)(_.esZ,{title:n.id?void 0:"These assets must be categorized before you can add them to the inventory.",children:(0,t.jsx)(_.wpx,{"data-testid":"add-btn",size:"small",onClick:b,disabled:!n.id||A,loading:d,children:"Add"})}),s&&(0,t.jsx)(_.wpx,{"data-testid":"ignore-btn",size:"small",onClick:I,disabled:A,loading:u,children:"Ignore"})]})};var I=n(99640),U=n(76904);let E=a=>{let{system:e,rowClickUrl:n}=a,i=null==n?void 0:n(e);return(0,t.jsxs)(_.vyj,{className:"max-w-[250px] flex-nowrap",children:[!e.system_key&&(0,t.jsx)(_.esZ,{title:"New system",children:(0,t.jsx)("span",{children:U.QL.Change})}),(0,t.jsx)(I.Z,{href:i,"data-testid":i?"system-name-link":"system-name-text",children:e.name||"Uncategorized assets"}),(0,t.jsx)(N.l,{consentStatus:e.consent_status})]})};var T=n(34929),k=n(2525),f=n(78238),L=a=>{var e,n;let{system:i,columnState:s}=a,{getDataUseDisplayName:o}=(0,T.Z)(),r=(null!==(n=null===(e=i.data_uses)||void 0===e?void 0:e.filter(a=>(0,f.Z)(a)))&&void 0!==n?n:[]).map(a=>({label:o(a),key:a}));return(0,t.jsx)(k.Q,{values:r,columnState:s})};let x=a=>{let{monitorId:e,readonly:n,allowIgnore:i,onTabChange:s,consentStatus:o,rowClickUrl:r}=a,[l,d]=(0,u.useState)(!1),[F,c]=(0,u.useState)(!1),[S,m]=(0,u.useState)(!1),[h,v]=(0,u.useState)(0),[A,C]=(0,u.useState)(0),[I,U]=(0,u.useState)(0);return{columns:(0,u.useMemo)(()=>{let a=[{title:()=>(0,t.jsxs)(_.vyj,{children:[(0,t.jsx)("div",{children:"System"}),(0,t.jsx)(N.l,{consentStatus:o})]}),dataIndex:"name",key:y.vQ.SYSTEM_NAME,fixed:"left",render:(a,e)=>(0,t.jsx)(E,{system:e,rowClickUrl:r})},{title:"Assets",dataIndex:"total_updates",key:y.vQ.TOTAL_UPDATES},{title:"Categories of consent",key:y.vQ.DATA_USE,menu:{items:p.DI,onClick:a=>{a.domEvent.stopPropagation(),"expand-all"===a.key?(m(!0),U(a=>a+1)):"collapse-all"===a.key&&(m(!1),U(a=>a+1))}},render:(a,e)=>(0,t.jsx)(L,{system:e,columnState:{isExpanded:S,version:I}})},{title:"Locations",menu:{items:p.DI,onClick:a=>{a.domEvent.stopPropagation(),"expand-all"===a.key?(d(!0),v(a=>a+1)):"collapse-all"===a.key&&(d(!1),v(a=>a+1))}},dataIndex:"locations",key:y.vQ.LOCATIONS,render:a=>{var e;return(0,t.jsx)(g.Q,{values:null!==(e=null==a?void 0:a.map(a=>{var e;let n=(0,_.QCN)(a);return{label:n?(0,_.c1K)({isoEntry:n}):null!==(e=M.Z8[a])&&void 0!==e?e:a,key:a}}))&&void 0!==e?e:[],columnState:{isExpanded:l,isWrapped:!0,version:h}})}},{title:"Domains",menu:{items:p.DI,onClick:a=>{a.domEvent.stopPropagation(),"expand-all"===a.key?(c(!0),C(a=>a+1)):"collapse-all"===a.key&&(c(!1),C(a=>a+1))}},dataIndex:"domains",key:y.vQ.DOMAINS,render:a=>(0,t.jsx)(g.v,{values:a,valueSuffix:"domains",columnState:{isExpanded:F,version:A}})}];return n||a.push({title:"Actions",key:y.vQ.ACTIONS,fixed:"right",render:(a,n)=>(0,t.jsx)(b,{system:n,monitorId:e,allowIgnore:i,onTabChange:s})}),a},[n,o,r,S,l,F,I,h,A,e,i,s])}},w=a=>{let{monitorId:e}=a,n=(0,i.useRouter)(),s=(0,_.pmc)(),[r,l]=(0,u.useState)(),{filterTabs:F,activeTab:M,onTabChange:g,activeParams:p,actionsDisabled:N}=(0,C.Z)(),b=(0,S.o)({sorting:{validColumns:Object.values(y.vQ)}}),{pageIndex:I,pageSize:U,searchQuery:E,updateSearch:T,resetState:k}=b,{data:f,isLoading:L,isFetching:w}=(0,h.wi)({key:e,page:I,size:U,search:E,...p}),[P,{isLoading:G}]=(0,h.rs)(),[B,{isLoading:R}]=(0,h.nP)(),D=(0,u.useCallback)(a=>{var e,n,t;return null!==(t=null!==(n=null!==(e=a.id)&&void 0!==e?e:a.vendor_id)&&void 0!==n?n:a.name)&&void 0!==t?t:o.Kl},[]),j=(0,u.useCallback)(a=>{var n;return"".concat(o.vi,"/").concat(A.w.WEBSITE,"/").concat(e,"/").concat(null!==(n=a.id)&&void 0!==n?n:o.Kl).concat(M?"#".concat(M):"")},[e,M]),O=(0,u.useMemo)(()=>({enableSelection:!0,getRowKey:D,isLoading:L,isFetching:w,dataSource:(null==f?void 0:f.items)||[],totalRows:(null==f?void 0:f.total)||0,customTableProps:{locale:{emptyText:(0,t.jsx)(_.oj8,{image:_.oj8.PRESENTED_IMAGE_SIMPLE,description:"All caught up!"})}}}),[D,L,w,null==f?void 0:f.items,null==f?void 0:f.total]),K=(0,S.V)(b,O),{selectedRows:Z,resetSelections:V}=K,z=(0,u.useCallback)(async a=>{l(void 0),await g(a),k(),V()},[g,k,V]),{columns:H}=x({monitorId:e,onTabChange:z,readonly:N,allowIgnore:!p.diff_status.includes(d.LL.MUTED),consentStatus:r,rowClickUrl:j});(0,u.useEffect)(()=>{if((null==f?void 0:f.items)&&!r){var a;let e=null===(a=f.items.find(a=>{var e;return(null===(e=a.consent_status)||void 0===e?void 0:e.status)===d.pF.ALERT}))||void 0===a?void 0:a.consent_status;l(null!=e?e:void 0)}},[f,r]);let W=(0,u.useCallback)(async()=>{let a=Z.reduce((a,e)=>a+e.total_updates,0),t=await P({monitor_config_key:e,resolved_system_ids:Z.map(a=>a.id)});(0,c.D4)(t)?s((0,m.Vo)((0,c.e$)(t.error))):(s((0,m.t5)((0,v._)("".concat(a," assets have been added to the system inventory."),()=>n.push(o.So)))),V())},[Z,P,e,s,n,V]),Q=(0,u.useCallback)(async()=>{let a=Z.reduce((a,e)=>a+e.total_updates,0),n=await B({monitor_config_key:e,resolved_system_ids:Z.map(a=>{var e;return null!==(e=a.id)&&void 0!==e?e:o.Kl})});(0,c.D4)(n)?s((0,m.Vo)((0,c.e$)(n.error))):(s((0,m.t5)((0,v._)("".concat(a," assets have been ignored and will not appear in future scans."),async()=>{await g(C.A.IGNORED)}))),V())},[Z,B,e,s,g,V]),J=Z.some(a=>null===a.id);return{columns:H,data:f,isLoading:L,isFetching:w,searchQuery:E,updateSearch:T,resetState:k,tableProps:K.tableProps,selectionProps:K.selectionProps,filterTabs:F,activeTab:M,handleTabChange:z,activeParams:p,actionsDisabled:N,selectedRows:Z,hasSelectedRows:K.hasSelectedRows,resetSelections:V,uncategorizedIsSelected:J,handleBulkAdd:W,handleBulkIgnore:Q,anyBulkActionIsLoading:G||R,isAddingResults:G,isIgnoringResults:R}},P=a=>{let{monitorId:e}=a,{columns:n,searchQuery:i,updateSearch:s,tableProps:o,selectionProps:r,filterTabs:u,activeTab:c,handleTabChange:S,activeParams:m,selectedRows:h,hasSelectedRows:y,uncategorizedIsSelected:v,handleBulkAdd:A,handleBulkIgnore:C,anyBulkActionIsLoading:M}=w({monitorId:e});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.Niu,{"aria-label":"Asset state filter",mode:"horizontal",items:u.map(a=>({key:a.hash,label:a.label})),selectedKeys:[c],onClick:async a=>{await S(a.key)},className:"mb-4","data-testid":"asset-state-filter"}),(0,t.jsxs)(_.jqI,{justify:"space-between",align:"center",className:"mb-4",children:[(0,t.jsx)(F.f,{value:i,onChange:s}),(0,t.jsxs)(_.vyj,{size:"large",children:[y&&(0,t.jsx)(l.a,{count:h.length}),(0,t.jsx)(_.S0p,{menu:{items:[{key:"add",label:(0,t.jsx)(_.esZ,{title:v?"Uncategorized assets can't be added to the inventory":null,placement:"left",children:"Add"}),onClick:A,disabled:v},m.diff_status.includes(d.LL.MUTED)?null:{key:"ignore",label:"Ignore",onClick:C}]},trigger:["click"],children:(0,t.jsx)(_.wpx,{type:"primary",icon:(0,t.jsx)(_.PJP._ME,{}),iconPosition:"end",loading:M,disabled:!y,"data-testid":"bulk-actions-menu",children:"Actions"})})]})]}),(0,t.jsx)(_.V5H,{...o,columns:n,rowSelection:r})]})};var G=()=>{let a=decodeURIComponent((0,i.useRouter)().query.monitorId);return(0,t.jsxs)(s.Z,{title:"Action center - Discovered assets by system",children:[(0,t.jsx)(r.Z,{heading:"Action center",breadcrumbItems:[{title:"All activity",href:o.vi},{title:a}]}),(0,t.jsx)(P,{monitorId:a})]})}},99830:function(a){a.exports={toastLink:"ToastLink_toastLink__OLSeq"}}},function(a){a.O(0,[431,8765,9278,5163,7245,4817,7059,9965,2888,9774,179],function(){return a(a.s=55515)}),_N_E=a.O()}]);