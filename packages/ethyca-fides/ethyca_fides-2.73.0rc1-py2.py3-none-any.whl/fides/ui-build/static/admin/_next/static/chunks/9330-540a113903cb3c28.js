(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9330],{74833:function(e,t,i){var r=i(56127),n=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(n,""):e}},56127:function(e){var t=/\s/;e.exports=function(e){for(var i=e.length;i--&&t.test(e.charAt(i)););return i}},66726:function(e,t,i){var r=i(11611),n=i(82846),a=i(91936),s=Math.max,l=Math.min;e.exports=function(e,t,i){var o,c,u,d,f,x,p=0,g=!1,h=!1,v=!0;if("function"!=typeof e)throw TypeError("Expected a function");function j(t){var i=o,r=c;return o=c=void 0,p=t,d=e.apply(r,i)}function m(e){var i=e-x,r=e-p;return void 0===x||i>=t||i<0||h&&r>=u}function C(){var e,i,r,a=n();if(m(a))return y(a);f=setTimeout(C,(e=a-x,i=a-p,r=t-e,h?l(r,u-i):r))}function y(e){return(f=void 0,v&&o)?j(e):(o=c=void 0,d)}function I(){var e,i=n(),r=m(i);if(o=arguments,c=this,x=i,r){if(void 0===f)return p=e=x,f=setTimeout(C,t),g?j(e):d;if(h)return clearTimeout(f),f=setTimeout(C,t),j(x)}return void 0===f&&(f=setTimeout(C,t)),d}return t=a(t)||0,r(i)&&(g=!!i.leading,u=(h="maxWait"in i)?s(a(i.maxWait)||0,t):u,v="trailing"in i?!!i.trailing:v),I.cancel=function(){void 0!==f&&clearTimeout(f),p=0,o=x=c=f=void 0},I.flush=function(){return void 0===f?d:y(n())},I}},82846:function(e,t,i){var r=i(77400);e.exports=function(){return r.Date.now()}},91936:function(e,t,i){var r=i(74833),n=i(11611),a=i(55193),s=0/0,l=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return s;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var i=o.test(e);return i||c.test(e)?u(e.slice(2),i?2:8):l.test(e)?s:+e}},30952:function(e,t,i){"use strict";i.d(t,{f:function(){return o}});var r=i(24246),n=i(66726),a=i.n(n),s=i(27378),l=i(26917);let o=e=>{let{value:t,onChange:i,placeholder:n,...o}=e,[c,u]=(0,s.useState)(t);(0,s.useEffect)(()=>{u(t||"")},[t]);let d=a()(i,500),f=(0,s.useCallback)(e=>{u(e),d(e)},[]);return(0,r.jsx)(l.Z,{value:c,onChange:f,onClear:()=>{u(""),i("")},placeholder:n,...o})}},18225:function(e,t,i){"use strict";var r=i(24246),n=i(87949);t.Z=e=>{let{alignment:t="center",...i}=e;return(0,r.jsx)(n.kCb,{boxSize:"full",align:"center",justify:t,children:(0,r.jsx)(n.$jN,{color:"primary",...i})})}},81406:function(e,t,i){"use strict";var r=i(24246),n=i(87949);t.Z=()=>(0,r.jsxs)(n.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:[(0,r.jsx)(n.xvT,{fontSize:"md",fontWeight:"600",children:"No resources found"}),(0,r.jsx)(n.xvT,{fontSize:"sm",children:"You're up to date!"})]})},99763:function(e,t,i){"use strict";var r=i(24246),n=i(87949),a=i(79789),s=i(8151),l=i(61099),o=i(7940),c=i(65735);t.Z=e=>{var t;let{resource:i,onClose:u}=e,d=(0,o.G)(i),f=(0,s.u)(i),x=(d===c.D$.FIELD||d===c.D$.TABLE)&&f===s.e.IN_REVIEW;return(0,r.jsxs)(n.dys,{isOpen:!!i,onClose:u,size:"md",children:[(0,r.jsx)(n.P1B,{}),(0,r.jsxs)(n.scA,{"data-testid":"resource-details",children:[(0,r.jsx)(n.OXI,{children:(null==i?void 0:i.name)||(null==i?void 0:i.urn)}),(0,r.jsx)(n.cCv,{}),(0,r.jsxs)(n.Ng0,{children:[(0,r.jsx)(a.cB,{text:"Title",mt:0}),(0,r.jsx)(a.XU,{children:null!==(t=null==i?void 0:i.name)&&void 0!==t?t:null==i?void 0:i.urn}),(null==i?void 0:i.description)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.cB,{text:"Description"}),(0,r.jsx)(a.XU,{children:null==i?void 0:i.description})]}),x&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.cB,{text:"Data categories"}),(0,r.jsx)(l.Z,{resource:i})]})]})]})]})}},28976:function(e,t,i){"use strict";var r=i(24246),n=i(87949);t.Z=e=>{let{onHideClick:t,onDetailClick:i}=e;return(0,r.jsxs)(n.v2r,{children:[(0,r.jsx)(n.j2t,{as:n.wpx,size:"small",type:"text",icon:(0,r.jsx)(n.nXP,{transform:"rotate(90deg)"}),className:"w-6 gap-0","data-testid":"actions-menu"}),(0,r.jsxs)(n.qyq,{children:[i&&(0,r.jsx)(n.sNh,{onClick:i,"data-testid":"view-resource-details",children:"View details"}),t&&(0,r.jsx)(n.sNh,{onClick:t,"data-testid":"hide-resource",children:"Hide"})]})]})}},25077:function(e,t,i){"use strict";i.d(t,{Z:function(){return T}});var r=i(24246),n=i(59003),a=i(92222),s=i(87949),l=i(27378),o=i(30952),c=i(47935),u=i(81406),d=i(99763),f=i(72625),x=i(17245),p=i(28976),g=i(8151),h=i(70675),v=e=>{let{resource:t,onDetailClick:i}=e,{successAlert:n}=(0,x.VY)(),a=(0,g.u)(t),[l,{isLoading:o}]=(0,h.v8)(),[c,{isLoading:u}]=(0,h.cM)(),[d,{isLoading:f}]=(0,h.vi)(),v=async()=>{var e;await l({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id,unmute_children:!0,classify_monitored_resources:!0}),n("Started classification on ".concat(null!==(e=t.name)&&void 0!==e?e:"this resource"))},j=async()=>{var e;await c({staged_resource_urn:t.urn}),n("Approved ".concat(null!==(e=t.name)&&void 0!==e?e:" resource"))},m=async()=>{var e;await d({staged_resource_urn:t.urn}),n("Hid ".concat(null!==(e=t.name)&&void 0!==e?e:" resource"))},C=o||u||f;return(0,r.jsxs)(s.kCb,{gap:2,justify:"space-between",children:[a===g.e.ATTENTION_REQUIRED&&(0,r.jsx)(s.wpx,{size:"small",onClick:v,loading:o,disabled:C,"data-testid":"classify-btn",children:"Classify"}),a===g.e.IN_REVIEW&&(0,r.jsx)(s.wpx,{size:"small",onClick:j,loading:u,disabled:C,"data-testid":"approve-btn",children:"Approve"}),(0,r.jsx)(s.LZC,{}),(0,r.jsx)(p.Z,{onHideClick:m,onDetailClick:i})]})},j=i(89200),m=i(5945),C=i(61099),y=i(79947),I=i(65735);let L=(0,a.Cl)();var _=(e,t)=>{let i=[];return e?e===I.D$.TABLE?[L.display({id:"name",cell:e=>{let{row:t}=e;return(0,r.jsx)(j.Z,{resource:t.original})},header:"Table"}),L.display({id:"status",cell:e=>{let{row:t}=e;return(0,r.jsx)(m.Z,{status:(0,g.u)(t.original)})},header:"Status"}),L.display({id:"category",cell:e=>{let{row:t}=e;return(0,r.jsx)(C.Z,{resource:t.original})},header:"Data categories",minSize:280,meta:{disableRowClick:!0}}),L.accessor(e=>e.description,{id:"description",cell:e=>(0,r.jsx)(c.G3,{value:e.getValue()}),header:"Description"}),L.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,r.jsx)(f.Cy,{time:e.getValue()}),header:"Updated"}),L.display({id:"actions",cell:e=>{let{row:i}=e;return(0,r.jsx)(v,{resource:i.original,onDetailClick:()=>t(i.original)})},header:"Actions",meta:{disableRowClick:!0}})]:e===I.D$.FIELD?[L.display({id:"name",cell:e=>{let{row:t}=e;return(0,r.jsx)(j.Z,{resource:t.original})},header:"Field"}),L.display({id:"status",cell:e=>{let{row:t}=e;return(0,r.jsx)(m.Z,{status:(0,g.u)(t.original)})},header:"Status"}),L.accessor(e=>e.data_type,{id:"dataType",cell:e=>(0,r.jsx)(y.Z,{type:e.getValue()}),header:"Data type"}),L.display({id:"category",cell:e=>{let{row:t}=e;return(0,r.jsx)(C.Z,{resource:t.original})},header:"Data categories",minSize:280,meta:{disableRowClick:!0}}),L.accessor(e=>e.description,{id:"description",cell:e=>(0,r.jsx)(c.G3,{value:e.getValue()}),header:"Description"}),L.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,r.jsx)(f.Cy,{time:e.getValue()}),header:"Updated"}),L.display({id:"actions",cell:e=>{let{row:i}=e;return(0,r.jsx)(v,{resource:i.original,onDetailClick:()=>t(i.original)})},header:"Actions",meta:{disableRowClick:!0}})]:i:i},b=i(7940),w=i(80356);let D=[I.LL.ADDITION,I.LL.CLASSIFYING,I.LL.CLASSIFICATION_ADDITION,I.LL.CLASSIFICATION_QUEUED,I.LL.CLASSIFICATION_UPDATE,I.LL.MONITORED,I.LL.PROMOTING,I.LL.REMOVAL,I.LL.REMOVING],k={items:[],total:0,page:1,size:50,pages:1};var T=e=>{let{resourceUrn:t,onRowClick:i}=e,{PAGE_SIZES:f,pageSize:x,setPageSize:p,onPreviousPageClick:g,isPreviousPageDisabled:v,onNextPageClick:j,isNextPageDisabled:m,startRange:C,endRange:y,pageIndex:I,setTotalPages:L,resetPageIndexToDefault:T}=(0,c.oi)(),[E,N]=(0,l.useState)("");(0,l.useEffect)(()=>{T()},[t,T]);let{isFetching:R,isLoading:S,data:A}=(0,h.z8)({staged_resource_urn:t,page:I,size:x,diff_status:D,search:E}),{items:Z,total:P,pages:O}=(0,l.useMemo)(()=>null!=A?A:k,[A]);(0,l.useEffect)(()=>{L(O)},[O,L]);let[z,M]=(0,l.useState)(void 0),V=_((0,b.G)(Z[0]),M),F=(0,n.b7)({getCoreRowModel:(0,a.sC)(),getGroupedRowModel:(0,a.qe)(),getExpandedRowModel:(0,a.rV)(),columns:V,manualPagination:!0,data:Z,columnResizeMode:"onChange",getRowId:e=>e.urn});return S||R?(0,r.jsx)(c.I4,{rowHeight:36,numRows:36}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Q$,{children:(0,r.jsx)(s.kCb,{gap:6,align:"center",children:(0,r.jsx)(s.xuv,{flexShrink:0,children:(0,r.jsx)(o.f,{value:E,onChange:N})})})}),(0,r.jsx)(c.ZK,{tableInstance:F,emptyTableNotice:(0,r.jsx)(u.Z,{}),getRowIsClickable:e=>(0,w.Z)(e),onRowClick:i}),(0,r.jsx)(c.s8,{totalRows:P||0,pageSizes:f,setPageSize:p,onPreviousPageClick:g,isPreviousPageDisabled:v,onNextPageClick:j,isNextPageDisabled:m,startRange:C,endRange:y}),(0,r.jsx)(d.Z,{resource:z,onClose:()=>M(void 0)})]})}},94780:function(e,t,i){"use strict";i.d(t,{X5:function(){return l},pN:function(){return o},sv:function(){return a}});var r=i(24246),n=i(87949);let a=e=>e.split(".")[1],s=[(0,r.jsx)(n.PJP.S9g,{},"layers"),(0,r.jsx)(n.PJP.iA_,{},"table"),(0,r.jsx)(n.PJP.$4y,{style:{transform:"rotate(-90deg)"}},"field")],l=(e,t)=>{if(!e)return[];let i=e.split(".");if(i.length<2)return[];let l=i.splice(0,2).join("."),o=[];return i.reduce((e,r,n)=>{let a=n===i.length-1,c="".concat(e).concat(".").concat(r);return o.push({title:r,href:a?void 0:"".concat(t,"/").concat(l,"/").concat(c),icon:s[n]}),c},l),[{title:a(l),href:"".concat(t,"/").concat(l),icon:(0,r.jsx)(n.PJP.ehp,{})},...o]},o=(e,t)=>{if(!e)return[];let i=e.split(".");if(i.length<2)return[];let r=i.shift(),n=[];return i.reduce((e,r,a)=>{let l=a===i.length-1,o="".concat(e).concat(".").concat(r);return n.push({title:r,href:l?void 0:"".concat(t,"/").concat(o),icon:s[a]}),o},r),n}},79947:function(e,t,i){"use strict";var r=i(24246),n=i(87949);t.Z=e=>{let{type:t}=e;return(0,r.jsx)(n.kCb,{align:"center",h:"full",children:!!t&&(0,r.jsx)(n.j8w,{children:t})})}}}]);