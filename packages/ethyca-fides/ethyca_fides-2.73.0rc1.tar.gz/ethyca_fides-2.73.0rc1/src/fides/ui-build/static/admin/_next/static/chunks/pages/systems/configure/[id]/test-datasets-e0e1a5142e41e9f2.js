(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1617],{54543:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/systems/configure/[id]/test-datasets",function(){return i(94010)}])},18225:function(e,t,i){"use strict";var n=i(24246),s=i(87949);t.Z=e=>{let{alignment:t="center",...i}=e;return(0,n.jsx)(s.kCb,{boxSize:"full",align:"center",justify:t,children:(0,n.jsx)(s.$jN,{color:"primary",...i})})}},77213:function(e,t,i){"use strict";i.d(t,{Z:function(){return g}});var n=i(24246),s=i(87949),r=i(88038),a=i.n(r),l=i(86677);i(27378);var o=i(25980),d=i(90867),u=i(42478),c=i(77830),f=()=>{let e=(0,l.useRouter)();return(0,n.jsx)(s.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,n.jsxs)(s.xuv,{children:[(0,n.jsxs)(s.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,n.jsx)(s.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,n.jsx)(s.wpx,{onClick:()=>{e.push(c.AD)},children:"Configure"})]}),(0,n.jsxs)(s.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},g=e=>{let{children:t,title:i,padded:r=!0,mainProps:c}=e,g=(0,o.hz)(),p=(0,l.useRouter)(),m="/privacy-requests"===p.pathname||"/datastore-connection"===p.pathname,h=!(g.flags.messagingConfiguration&&m),{data:y}=(0,u.JE)(void 0,{skip:h}),{data:v}=(0,d.PW)(void 0,{skip:h}),x=g.flags.messagingConfiguration&&(!y||!v)&&m;return(0,n.jsxs)(s.kCb,{"data-testid":i,direction:"column",h:"100vh",children:[(0,n.jsxs)(a(),{children:[(0,n.jsxs)("title",{children:["Fides Admin UI - ",i]}),(0,n.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsxs)(s.kCb,{as:"main",direction:"column",py:r?6:0,px:r?10:0,h:r?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...c,children:[x?(0,n.jsx)(f,{}):null,t]})]})}},58754:function(e,t,i){"use strict";var n=i(24246),s=i(87949),r=i(70788);t.Z=e=>{let{heading:t,breadcrumbItems:i,isSticky:a=!0,children:l,rightContent:o,style:d,...u}=e;return(0,n.jsxs)("div",{...u,style:a?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...d}:{paddingBottom:"24px",...d},children:[(0,n.jsxs)(s.jqI,{justify:"space-between",children:["string"==typeof t?(0,n.jsx)(s.lQT,{className:i||l?"pb-4":void 0,level:1,"data-testid":"page-heading",children:t}):t,o&&(0,n.jsx)("div",{"data-testid":"page-header-right-content",children:o})]}),!!i&&(0,n.jsx)(r.m,{className:l?"pb-4":void 0,items:i,"data-testid":"page-breadcrumb"}),l]})}},70788:function(e,t,i){"use strict";i.d(t,{m:function(){return d}});var n=i(24246),s=i(87949),r=i(79894),a=i.n(r),l=i(27378);let{Text:o}=s.AntTypography,d=e=>{let{items:t,...i}=e,r=(0,l.useMemo)(()=>null==t?void 0:t.map((e,i)=>{let r=i===t.length-1,l={...e},d=l.onClick&&!l.href;return("string"==typeof l.title&&(l.title=(0,n.jsx)(o,{style:{color:"inherit",maxWidth:r?void 0:400},ellipsis:!r,id:r?"breadcrumb-current-page":void 0,children:l.title})),d)?l.title=(0,n.jsx)(s.wpx,{type:"text",size:"small",icon:l.icon,onClick:l.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:l.title}):(l.icon&&(l.title=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"anticon align-text-bottom",children:l.icon}),l.title]})),l.href&&l.title&&(l.title=(0,n.jsx)(a(),{href:l.href,className:"ant-breadcrumb-link",children:l.title}),delete l.href)),l}),[t]);return(0,n.jsx)(s.zrq,{items:r,...i})}},41207:function(e,t,i){"use strict";i.d(t,{F:function(){return a},M:function(){return r}});var n=i(76649),s=i(65218);let r=i.n(s)()(()=>i.e(7088).then(i.bind(i,57088)).then(e=>e.default),{loadableGenerated:{webpack:()=>[57088]},ssr:!1}),a=e=>(0,n.Ln)({name:"string"},e)&&"YAMLException"===e.name},42478:function(e,t,i){"use strict";i.d(t,{FU:function(){return d},JE:function(){return s},Ki:function(){return c},SU:function(){return f},W:function(){return g},h9:function(){return r},jc:function(){return n},qt:function(){return o},sn:function(){return u}});let{useGetEmailInviteStatusQuery:n,useGetActiveMessagingProviderQuery:s,useCreateMessagingConfigurationMutation:r,useCreateMessagingConfigurationSecretsMutation:a,useGetMessagingConfigurationDetailsQuery:l,useGetMessagingConfigurationsQuery:o,useGetMessagingConfigurationByKeyQuery:d,useUpdateMessagingConfigurationByKeyMutation:u,useUpdateMessagingConfigurationSecretsByKeyMutation:c,useCreateTestConnectionMessageMutation:f,useDeleteMessagingConfigurationByKeyMutation:g}=i(78780).u.injectEndpoints({endpoints:e=>({getEmailInviteStatus:e.query({query:()=>({url:"/messaging/email-invite/status"}),providesTags:()=>["Email Invite Status"]}),createMessagingConfiguration:e.mutation({query:e=>({url:"messaging/config",method:"POST",body:e}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getActiveMessagingProvider:e.query({queryFn:async(e,t,i,n)=>{let s=await n({url:"messaging/default/active"});return s.error&&404===s.error.status?{data:null}:s},providesTags:["Messaging Config"]}),createMessagingConfigurationSecrets:e.mutation({query:e=>({url:"messaging/default/".concat(e.service_type,"/secret"),method:"PUT",body:e.details}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getMessagingConfigurationDetails:e.query({query:e=>({url:"messaging/default/".concat(e.type)}),providesTags:["Messaging Config"]}),getMessagingConfigurations:e.query({query:()=>({url:"messaging/config"}),providesTags:["Messaging Config"]}),getMessagingConfigurationByKey:e.query({query:e=>({url:"messaging/config/".concat(e.key)}),providesTags:["Messaging Config"]}),createTestConnectionMessage:e.mutation({query:e=>({url:"messaging/test/".concat(e.service_type),method:"POST",body:e.details}),invalidatesTags:["Messaging Config"]}),updateMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"PATCH",body:e.config}),invalidatesTags:["Messaging Config","Configuration Settings"]}),updateMessagingConfigurationSecretsByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key,"/secret"),method:"PUT",body:e.secrets}),invalidatesTags:["Messaging Config","Configuration Settings"]}),deleteMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"DELETE"}),invalidatesTags:["Messaging Config","Configuration Settings"]})})})},94010:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return A}});var n=i(24246),s=i(87949),r=i(86677),a=i(18225),l=i(77213),o=i(77830),d=i(58754),u=i(1315),c=i(66527),f=i(27378),g=i(16134),p=i(88340),m=i(812),h=i(46628),y=i(41207),v=i(41966),x=i(94725),b=i(88124);let _=e=>Array.isArray(e)?e.map(e=>_(e)).filter(e=>null!==e):e&&"object"==typeof e?Object.fromEntries(Object.entries(e).map(e=>{let[t,i]=e;return[t,_(i)]}).filter(e=>{let[,t]=e;return null!==t})):e,j=e=>{if(Array.isArray(e)){let t=e[0];if(!t)return"";let i=t.msg||"",n=t.loc?" (".concat(t.loc,")"):"";return"".concat(i).concat(n)}return e};var C=e=>{let{connectionKey:t}=e,i=(0,s.pmc)(),r=(0,g.T)(),[a]=(0,v.TG)(),[l,o]=(0,f.useState)(""),d=(0,g.C)(b.fD),u=(0,g.C)(b.lR),{data:C,isLoading:k,refetch:T}=(0,x.Eg)(t,{skip:!t}),{data:w,refetch:S}=(0,x.tW)({connectionKey:t,datasetKey:(null==d?void 0:d.fides_key)||"",policyKey:u},{skip:!t||!(null==d?void 0:d.fides_key)||!u});(0,f.useEffect)(()=>{w&&r((0,b.x0)(w.reachable))},[w,r]);let E=(0,f.useMemo)(()=>((null==C?void 0:C.items)||[]).map(e=>({value:e.fides_key,label:e.fides_key})),[null==C?void 0:C.items]);(0,f.useEffect)(()=>{if((null==C?void 0:C.items.length)&&(!d||!C.items.find(e=>e.fides_key===d.fides_key))){let e=C.items[0];r((0,b.w7)(e))}},[C,d,r]),(0,f.useEffect)(()=>{(null==d?void 0:d.ctl_dataset)&&o(c.ZP.dump(_(null==d?void 0:d.ctl_dataset)))},[d]),(0,f.useEffect)(()=>{u&&(null==d?void 0:d.fides_key)&&t&&S()},[u,null==d?void 0:d.fides_key,t,S]),(0,f.useEffect)(()=>{w&&r((0,b.x0)(w.reachable))},[w,r]);let q=async e=>{let t=null==C?void 0:C.items.find(t=>t.fides_key===e);t&&r((0,b.w7)(t))},M=async()=>{let e;if(!d)return;try{e=c.ZP.load(l)}catch(e){i((0,h.Vo)("YAML Parsing Error: ".concat(e instanceof c._L?"".concat(e.reason," ").concat(e.mark?"at line ".concat(e.mark.line):""):"Invalid YAML format")));return}let t=await a(e);if((0,m.D4)(t)){i((0,h.Vo)((0,m.e$)(t.error)));return}r((0,b.w7)({fides_key:d.fides_key,ctl_dataset:t.data})),i((0,h.t5)("Successfully modified dataset")),await T(),await S()},O=async()=>{try{let{data:e}=await T(),t=null==e?void 0:e.items.find(e=>e.fides_key===(null==d?void 0:d.fides_key));(null==t?void 0:t.ctl_dataset)&&o(c.ZP.dump(_(t.ctl_dataset))),i((0,h.t5)("Successfully refreshed datasets"))}catch(e){i((0,h.Vo)((0,m.e$)(e)))}};return(0,n.jsxs)(s.gCW,{alignItems:"stretch",flex:"1",maxWidth:"70vw",maxHeight:"100vh",children:[(0,n.jsxs)(s.X6q,{as:"h3",size:"sm",display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,n.jsxs)(s.Ugi,{children:[(0,n.jsx)(s.xvT,{children:"Edit dataset: "}),(0,n.jsx)(s.WPr,{id:"format","aria-label":"Select a dataset","data-testid":"export-format-select",value:(null==d?void 0:d.fides_key)||"",options:E,onChange:q,className:"w-64"}),(0,n.jsx)(p.Z,{copyText:l})]}),(0,n.jsxs)(s.Ugi,{spacing:2,children:[(0,n.jsx)(s.esZ,{title:"Refresh to load the latest data from the database. This will overwrite any unsaved local changes.",placement:"top",children:(0,n.jsx)(s.wpx,{htmlType:"submit",size:"small","data-testid":"refresh-btn",onClick:O,loading:k,children:"Refresh"})}),(0,n.jsx)(s.esZ,{title:"Save your changes to update the dataset in the database.",placement:"top",children:(0,n.jsx)(s.wpx,{htmlType:"submit",size:"small",onClick:M,children:"Save"})})]})]}),(0,n.jsx)(s.Kqy,{border:"1px solid",borderColor:"gray.200",borderRadius:"md",justifyContent:"space-between",py:4,pr:4,"data-testid":"empty-state",flex:"1 1 auto",minHeight:"200px",children:(0,n.jsx)(y.M,{defaultLanguage:"yaml",value:l,height:"100%",onChange:e=>o(e||""),onMount:()=>{},options:{fontFamily:"Menlo",fontSize:13,minimap:{enabled:!1},readOnly:!1,hideCursorInOverviewRuler:!0,overviewRulerBorder:!1,scrollBeyondLastLine:!1},theme:"light"})}),w&&(0,n.jsx)(s.Kqy,{backgroundColor:(null==w?void 0:w.reachable)?"green.50":"red.50",border:"1px solid",borderColor:(null==w?void 0:w.reachable)?"green.500":"red.500",borderRadius:"md",p:2,flexShrink:0,mt:2,children:(0,n.jsx)(s.Ugi,{alignItems:"center",children:(0,n.jsxs)(s.Ugi,{flex:"1",children:[(null==w?void 0:w.reachable)?(0,n.jsx)(s.StI,{}):(0,n.jsx)(s.f9v,{}),(0,n.jsx)(s.xvT,{fontSize:"sm",whiteSpace:"pre-wrap",children:(null==w?void 0:w.reachable)?"Dataset is reachable":"Dataset is not reachable. ".concat(j(null==w?void 0:w.details))})]})})})]})},k=i(54458),T=i(16125),w=i(99716);let S=e=>{let t=new Date(e);return(0,k.WU)(t,"yyyy-MM-dd HH:mm:ss.SSS")},E=e=>{switch(e){case"ERROR":return"red.500";case"WARNING":return"orange.500";case"INFO":return"blue.500";default:return"gray.500"}},q=(0,f.memo)(e=>{let{log:t}=e;return(0,n.jsxs)(s.xuv,{as:"pre",margin:0,fontSize:"xs",fontFamily:"monospace",whiteSpace:"pre-wrap",wordBreak:"break-word",children:[(0,n.jsx)(s.xvT,{as:"span",color:"green.500",children:S(t.timestamp)}),(0,n.jsx)(s.xvT,{as:"span",children:" | "}),(0,n.jsx)(s.xvT,{as:"span",color:E(t.level),children:t.level.padEnd(8)}),(0,n.jsx)(s.xvT,{as:"span",children:" | "}),(0,n.jsx)(s.xvT,{as:"span",color:"cyan.500",children:t.module_info}),(0,n.jsx)(s.xvT,{as:"span",children:" - "}),(0,n.jsx)(s.xvT,{as:"span",color:"ERROR"===t.level||"WARNING"===t.level?E(t.level):"gray.800",children:t.message})]})});q.displayName="LogLine";var M=(0,f.memo)(()=>{let e=(0,g.T)(),t=(0,f.useRef)(null),i=(0,T.v9)(b.HN),r=(0,T.v9)(b.pz),{data:a}=(0,w.fV)({privacy_request_id:i},{skip:!i,pollingInterval:1e3});(0,f.useEffect)(()=>{a&&e((0,b.Hy)(a))},[a,e]);let l=(0,f.useCallback)(()=>{t.current&&(t.current.scrollTop=t.current.scrollHeight)},[]);(0,f.useEffect)(()=>{l()},[r,l]);let o=(0,f.useMemo)(()=>(null==r?void 0:r.map(e=>"".concat(S(e.timestamp)," | ").concat(e.level," | ").concat(e.module_info," - ").concat(e.message)).join("\n"))||"",[r]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.X6q,{as:"h3",size:"sm",display:"flex",alignItems:"center",justifyContent:"space-between",children:(0,n.jsxs)(s.Ugi,{children:[(0,n.jsx)(s.xvT,{children:"Test logs"}),(0,n.jsx)(p.Z,{copyText:o})]})}),(0,n.jsx)(s.xuv,{ref:t,height:"200px",overflowY:"auto",borderWidth:1,borderColor:"gray.200",borderRadius:"md",p:2,children:null==r?void 0:r.map(e=>(0,n.jsx)(q,{log:e},"".concat(e.timestamp,"-").concat(e.module_info,"-").concat(e.message)))})]})}),O=i(46238);let{useGetPoliciesQuery:R}=i(78780).u.injectEndpoints({endpoints:e=>({getPolicies:e.query({query:()=>({url:"/dsr/policy"}),providesTags:()=>["Policies"]})})});var P=i(65735),N=i(31883),I=e=>{let{connectionKey:t}=e,i=(0,s.pmc)(),r=(0,g.T)(),[a]=(0,x.s7)(),l=(0,T.v9)(b.fD),o=(0,T.v9)(b.YS),d=(0,T.v9)(b.Af),u=(0,T.v9)(b.zn),c=(0,T.v9)(b.lR),y=(0,T.v9)(b.M_),v=(0,T.v9)(b.HN),[_,j]=(0,f.useState)("{}");(0,f.useEffect)(()=>{l&&j(JSON.stringify(u,null,2))},[l,u]);let{data:C,error:k}=(0,w.Z2)({privacy_request_id:v},{skip:!v||!(null==l?void 0:l.fides_key),pollingInterval:2e3}),{refetch:S}=(0,w.fV)({privacy_request_id:v},{skip:!v}),{refetch:E}=(0,x.I1)({connectionKey:t,datasetKey:(null==l?void 0:l.fides_key)||""},{skip:!t||!(null==l?void 0:l.fides_key),refetchOnMountOrArgChange:!0}),{data:q}=R(),M=(0,f.useMemo)(()=>((null==q?void 0:q.items)||[]).filter(e=>{var t;return null===(t=e.rules)||void 0===t?void 0:t.some(e=>"access"===e.action_type)}).map(e=>({value:e.key,label:e.name})),[null==q?void 0:q.items]);(0,f.useEffect)(()=>{let e=null==l?void 0:l.fides_key;t&&e&&E().then(t=>{t.data&&(null==l?void 0:l.fides_key)===e&&r((0,b.qD)({datasetKey:e,values:t.data}))})},[l,t,r,E]),(0,f.useEffect)(()=>{let e=null==l?void 0:l.fides_key;if(k&&"status"in k&&404===k.status){r((0,b.hT)()),i((0,h.Vo)("Test run failed"));return}if(!C||C.privacy_request_id!==v||!e)return;let t={datasetKey:e,values:JSON.stringify(C,null,2)};C.status===P.q2.COMPLETE?y&&S().then(()=>{r((0,b.EO)(t)),r((0,b.hT)()),i((0,h.t5)("Test run completed successfully"))}):C.status===P.q2.ERROR&&S().then(()=>{r((0,b.EO)(t)),r((0,b.hT)()),i((0,h.Vo)("Test run failed"))})},[C,k,v,l,y,r,i,S]);let I=(0,f.useMemo)(()=>c&&(null==q?void 0:q.items)?c:null,[c,null==q?void 0:q.items]),D=async()=>{if((null==l?void 0:l.fides_key)&&c)try{let e;try{e=JSON.parse(_)}catch(e){i((0,h.Vo)("Invalid JSON in test input"));return}r((0,b.Vh)(l.fides_key)),i((0,h.t5)("Test run started"));let n=await a({connection_key:t,dataset_key:l.fides_key,identities:e,policy_key:c});(0,N.D4)(n)?(i((0,h.Vo)((0,m.e$)(n.error))),r((0,b.hT)())):"data"in n?r((0,b.eY)(n.data.privacy_request_id)):(r((0,b.hT)()),i((0,h.Vo)("No privacy request ID in response")))}catch(e){r((0,b.hT)()),i((0,h.Vo)("Failed to start test run"))}};return(0,n.jsxs)(s.gCW,{alignItems:"stretch",flex:"1",maxWidth:"70vw",minHeight:"0",children:[(0,n.jsxs)(s.X6q,{as:"h3",size:"sm",display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,n.jsxs)(s.Ugi,{children:[(0,n.jsx)(s.xvT,{children:"Test inputs"}),(0,n.jsx)(p.Z,{copyText:_})]}),(0,n.jsxs)(s.Ugi,{children:[(0,n.jsx)(s.WPr,{id:"policy","aria-label":"Policy selector","data-testid":"policy-select",placeholder:"Select policy",value:I,options:M,onChange:e=>{r((0,b.kF)(e))},className:"w-64"}),(0,n.jsx)(s.wpx,{htmlType:"submit",size:"small",type:"primary","data-testid":"run-btn",onClick:y?()=>{r((0,b.qU)()),i((0,h.t5)("Test manually stopped by user"))}:D,disabled:!c||!o,children:y?"Stop":"Run"}),(0,n.jsx)(O.b,{label:y?"Stop the currently running test":"Run a test access request using the provided test input data and the selected access policy"})]})]}),(0,n.jsx)(s.gxH,{size:"sm",focusBorderColor:"primary.600",color:"gray.800",isDisabled:y,height:"100%",value:_,onChange:e=>{let t=e.target.value;j(t);try{let e=JSON.parse(t);l&&r((0,b.qD)({datasetKey:l.fides_key,values:e}))}catch(e){}}}),(0,n.jsxs)(s.X6q,{as:"h3",size:"sm",children:["Test results ",(0,n.jsx)(p.Z,{copyText:d})]}),(0,n.jsx)(s.gxH,{isReadOnly:!0,size:"sm",focusBorderColor:"primary.600",color:"gray.800",isDisabled:!1,height:"100%",value:d})]})};let D=e=>e.id?Array.isArray(e.id)?e.id[0]:e.id:"";var A=()=>{var e;let t=D((0,r.useRouter)().query),{data:i,isLoading:c}=(0,u.rn)(t,{skip:!t}),f=(null==i?void 0:null===(e=i.connection_configs)||void 0===e?void 0:e.key)||"";return c?(0,n.jsx)(l.Z,{title:"Systems",children:(0,n.jsx)(a.Z,{})}):(0,n.jsxs)(l.Z,{title:"System inventory",mainProps:{height:"100vh",display:"flex",flexDirection:"column"},children:[(0,n.jsx)(d.Z,{heading:"System inventory",breadcrumbItems:[{title:"System inventory",href:o.So},{title:(null==i?void 0:i.name)||"",href:"/systems/configure/".concat(t,"#integrations")},{title:"Test datasets"}]}),(0,n.jsxs)(s.gCW,{alignItems:"stretch",flex:"1",minHeight:"0",spacing:"4",padding:"0",children:[(0,n.jsxs)(s.Ugi,{alignItems:"stretch",flex:"1",minHeight:"0",spacing:"4",maxHeight:"60vh",children:[(0,n.jsx)(C,{connectionKey:f}),(0,n.jsx)(I,{connectionKey:f})]}),(0,n.jsx)(s.xuv,{flex:"0 0 auto",children:(0,n.jsx)(M,{})})]})]})}},31883:function(e,t,i){"use strict";i.d(t,{Bw:function(){return n.Bw},D4:function(){return n.D4}});var n=i(19043)},76737:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{default:function(){return l},noSSR:function(){return a}});let n=i(51538);i(24246),i(27378);let s=n._(i(21887));function r(e){return{default:(null==e?void 0:e.default)||e}}function a(e,t){return delete t.webpack,delete t.modules,e(t)}function l(e,t){let i=s.default,n={loading:e=>{let{error:t,isLoading:i,pastDelay:n}=e;return null}};e instanceof Promise?n.loader=()=>e:"function"==typeof e?n.loader=e:"object"==typeof e&&(n={...n,...e});let l=(n={...n,...t}).loader;return(n.loadableGenerated&&(n={...n,...n.loadableGenerated},delete n.loadableGenerated),"boolean"!=typeof n.ssr||n.ssr)?i({...n,loader:()=>null!=l?l().then(r):Promise.resolve(r(()=>null))}):(delete n.webpack,delete n.modules,a(i,n))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},28438:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadableContext",{enumerable:!0,get:function(){return n}});let n=i(51538)._(i(27378)).default.createContext(null)},21887:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return f}});let n=i(51538)._(i(27378)),s=i(28438),r=[],a=[],l=!1;function o(e){let t=e(),i={loading:!0,loaded:null,error:null};return i.promise=t.then(e=>(i.loading=!1,i.loaded=e,e)).catch(e=>{throw i.loading=!1,i.error=e,e}),i}class d{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function u(e){return function(e,t){let i=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),r=null;function o(){if(!r){let t=new d(e,i);r={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return r.promise()}if(!l){let e=i.webpack?i.webpack():i.modules;e&&a.push(t=>{for(let i of e)if(t.includes(i))return o()})}function u(e,t){!function(){o();let e=n.default.useContext(s.LoadableContext);e&&Array.isArray(i.modules)&&i.modules.forEach(t=>{e(t)})}();let a=n.default.useSyncExternalStore(r.subscribe,r.getCurrentValue,r.getCurrentValue);return n.default.useImperativeHandle(t,()=>({retry:r.retry}),[]),n.default.useMemo(()=>{var t;return a.loading||a.error?n.default.createElement(i.loading,{isLoading:a.loading,pastDelay:a.pastDelay,timedOut:a.timedOut,error:a.error,retry:r.retry}):a.loaded?n.default.createElement((t=a.loaded)&&t.default?t.default:t,e):null},[e,a])}return u.preload=()=>o(),u.displayName="LoadableComponent",n.default.forwardRef(u)}(o,e)}function c(e,t){let i=[];for(;e.length;){let n=e.pop();i.push(n(t))}return Promise.all(i).then(()=>{if(e.length)return c(e,t)})}u.preloadAll=()=>new Promise((e,t)=>{c(r).then(e,t)}),u.preloadReady=e=>(void 0===e&&(e=[]),new Promise(t=>{let i=()=>(l=!0,t());c(a,e).then(i,i)})),window.__NEXT_PRELOADREADY=u.preloadReady;let f=u},65218:function(e,t,i){e.exports=i(76737)}},function(e){e.O(0,[6527,2888,9774,179],function(){return e(e.s=54543)}),_N_E=e.O()}]);