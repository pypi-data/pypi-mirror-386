"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7488],{624:function(e,t,a){var l=a(24246),n=a(87949),r=a(27378);let i=e=>{let t=e.split("."),a=[];return t.forEach(e=>{let t=a.length>0?a[a.length-1]:null;t?a.push("".concat(t,".").concat(e)):a.push(e)}),a},s=(e,t)=>{let a=i(t).filter(e=>e!==t);return e.filter(e=>a.includes(e)).length>0},c=(e,t)=>!!(e===t||e.startsWith("".concat(t,"."))),o=(e,t,a)=>{let l=null!=a?a:[];return e.forEach(e=>{e.children&&o(e.children,t,l),c(e.value,t)&&l.push(e)}),l},d=e=>{let{node:t,isChecked:a,onChecked:r,isExpanded:i,onExpanded:s,isIndeterminate:c,isDisabled:o,children:d}=e,{value:u,label:h}=t,E=!!t.children&&t.children.length>0;return(0,l.jsxs)(n.xuv,{children:[(0,l.jsxs)(n.xuv,{display:"flex",justifyContent:"space-between",_hover:{backgroundColor:"gray.100",cursor:"pointer"},onClick:()=>s(t),minHeight:8,children:[(0,l.jsx)(n.XZJ,{colorScheme:"complimentary",value:u,isChecked:!c&&a,isIndeterminate:c,isDisabled:o,onChange:()=>r(t),mx:2,"data-testid":"checkbox-".concat(h),children:h}),E?(0,l.jsx)(n.wpx,{"data-testid":"expand-".concat(h),"aria-label":i?"collapse":"expand",icon:(0,l.jsx)(n.v4q,{boxSize:5}),type:"text",onClick:()=>s(t),className:i?"rotate-180":void 0}):null]}),d&&(0,l.jsx)(n.xuv,{ml:5,children:d})]})};t.ZP=e=>{let{nodes:t,selected:a,onSelected:u,...h}=e,[E,A]=(0,r.useState)([]),[f,p]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=Array.from(new Set([...a.map(e=>i(e)).reduce((e,t)=>e.concat(t),[]),...a.map(e=>o(t,e)).reduce((e,t)=>e.concat(t),[]).map(e=>e.value)]));p(e),A(e)},[a,t]);let _=e=>{let l=[],n=[];E.indexOf(e.value)>=0?(l=E.filter(t=>!c(t,e.value)),n=a.filter(t=>!c(t,e.value))):(l=[...E,...o(t,e.value).map(e=>e.value)],n=[...a,e.value]),A(l),u(n)},x=e=>{f.indexOf(e.value)>=0?p(f.filter(t=>!c(t,e.value))):p([...f,e.value])},T=e=>{if(e.children){let n=E.indexOf(e.value)>=0,i=f.indexOf(e.value)>=0,c=o(t,e.value),u=n&&e.children.length>0&&E.filter(t=>t.startsWith("".concat(e.value,"."))).length+1!==c.length,h=s(a,e.value);return(0,l.jsx)(d,{node:e,isChecked:n,onChecked:_,isExpanded:i,onExpanded:x,isDisabled:h,isIndeterminate:u,children:i?e.children.map(e=>(0,l.jsx)(r.Fragment,{children:T(e)},e.value)):void 0})}return null};return(0,l.jsx)(n.xuv,{...h,children:t.map(e=>(0,l.jsx)(n.xuv,{children:T(e)},e.value))})}},69828:function(e,t,a){a.d(t,{Y:function(){return i}});var l=a(24246),n=a(87949),r=a(70788);let i=[(0,l.jsx)(n.PJP.S9g,{},"layers"),(0,l.jsx)(n.PJP.ehp,{},"dataset"),(0,l.jsx)(n.PJP.iA_,{},"table"),(0,l.jsx)(n.PJP.$4y,{style:{transform:"rotate(-90deg)"}},"field")];t.Z=e=>{let{resourceUrn:t,parentLink:a,onPathClick:n=()=>{}}=e,s=[];if(t||s.push({title:"All activity"}),t){s.push({title:"All activity",href:a});let e=t.split(".");e.forEach((t,a)=>{0!==a&&s.push({title:t,icon:i[a-1],onClick:t=>{t.preventDefault(),n(e.slice(0,a+1).join("."))}})})}return(0,l.jsx)(r.m,{"data-testid":"results-breadcrumb",items:s})}},63927:function(e,t,a){a.d(t,{e:function(){return p},Z:function(){return _}});var l=a(24246),n=a(87949),r=a(34090),i=a(27378),s=a(16125),c=a(40324),o=a(5785),d=a(56026),u=a(46238),h=a(624),E=a(90673),A=e=>{let{dataCategories:t,checked:a,onChecked:r,buttonLabel:s}=e,c=(0,i.useMemo)(()=>(0,E.Cd)(t),[t]);return(0,l.jsxs)(n.v2r,{closeOnSelect:!0,children:[(0,l.jsx)(n.j2t,{as:n.wpx,icon:(0,l.jsx)(n.mCO,{}),className:"!bg-transparent",block:!0,"data-testid":"data-category-dropdown",children:null!=s?s:"Select data categories"}),(0,l.jsx)(n.qyq,{children:(0,l.jsxs)(n.xuv,{maxHeight:"50vh",minWidth:"300px",maxW:"full",overflowY:"scroll",children:[(0,l.jsxs)(n.xuv,{position:"sticky",top:0,zIndex:1,backgroundColor:"white",pt:1,children:[(0,l.jsx)(n.__7,{children:(0,l.jsxs)(n.xuv,{display:"flex",justifyContent:"space-between",px:2,mb:2,children:[(0,l.jsx)(n.sNh,{as:n.wpx,size:"small",className:"mr-2 !w-auto",onClick:()=>r([]),closeOnSelect:!1,"data-testid":"data-category-clear-btn",children:"Clear"}),(0,l.jsx)(n.xvT,{mr:2,children:"Data Categories"}),(0,l.jsx)(n.sNh,{as:n.wpx,size:"small",className:"!w-auto","data-testid":"data-category-done-btn",children:"Done"})]})}),(0,l.jsx)(n.RaW,{})]}),(0,l.jsx)(n.xuv,{px:2,"data-testid":"data-category-checkbox-tree",children:(0,l.jsx)(h.ZP,{nodes:c,selected:a,onSelected:r})})]})})]})},f=e=>{let{dataCategories:t,checked:a,onChecked:r,tooltip:i}=e,s=e=>{r(a.filter(t=>t!==e))},c=a.slice().sort((e,t)=>e.localeCompare(t));return(0,l.jsxs)(n.rjZ,{templateColumns:"1fr 3fr",children:[(0,l.jsx)(n.lXp,{children:"Data Categories"}),(0,l.jsxs)(n.vyj,{direction:"vertical",size:"small",children:[(0,l.jsxs)(n.xuv,{display:"flex",alignItems:"center",children:[(0,l.jsx)(n.xuv,{mr:"2",width:"100%",children:(0,l.jsx)(A,{dataCategories:t,checked:a,onChecked:r})}),(0,l.jsx)(u.b,{label:i})]}),(0,l.jsx)(n.vyj,{direction:"vertical",size:2,"data-testid":"selected-categories",children:c.map(e=>(0,l.jsx)(n.j8w,{closable:!0,onClose:()=>{s(e)},children:e},e))})]})]})};let p="edit-collection-or-field-form";var _=e=>{var t;let{values:a,onSubmit:u,dataType:h,showDataCategories:E=!0}=e,A={description:null!==(t=a.description)&&void 0!==t?t:"",data_categories:a.data_categories},_=(0,s.v9)(o.qb).filter(e=>e.active),[x,T]=(0,i.useState)(A.data_categories||[]),D="collection"===h?d.du.description.tooltip:d.QL.description.tooltip,S="collection"===h?d.du.data_categories.tooltip:d.QL.data_categories.tooltip;return(0,l.jsx)(r.J9,{initialValues:A,onSubmit:e=>{u({...e,data_categories:x})},children:(0,l.jsx)(r.l0,{id:p,children:(0,l.jsxs)(n.Kqy,{children:[(0,l.jsx)(c.j0,{name:"description",label:"Description",tooltip:D,"data-testid":"description-input"}),E&&(0,l.jsx)(f,{dataCategories:_,checked:x,onChecked:T,tooltip:S})]})})})}},56026:function(e,t,a){a.d(t,{QL:function(){return r},du:function(){return n},tz:function(){return l}});let l={name:{tooltip:"A UI-friendly label for the Dataset."},description:{tooltip:"A human-readable description of the Dataset."},data_categories:{tooltip:"Arrays of Data Category resources, identified by fides_key, that apply to all collections in the Dataset."}},n={description:{tooltip:"A human-readable description of the collection."},data_categories:{tooltip:"Arrays of Data Category resources, identified by fides_key, that apply to all fields in the collection."}},r={description:{tooltip:"A human-readable description of the field."},data_categories:{tooltip:"Arrays of Data Category resources, identified by fides_key, that apply to this field."}}},69435:function(e,t,a){a.d(t,{Fk:function(){return o},_n:function(){return s},jC:function(){return r},qe:function(){return c}});var l=a(99729),n=a.n(l);let r=(e,t,a)=>{let l=e.collections.map((e,l)=>l===a?t:e);return{...e,collections:l}},i=(e,t,a)=>{let l=e.fields.map((e,l)=>l===a?t:e);return{...e,fields:l}},s=(e,t,a,l)=>{let n=i(e.collections[a],t,l);return r(e,n,a)},c=(e,t)=>{let a=e.collections.filter((e,a)=>a!==t);return{...e,collections:a}},o=e=>{let{dataset:t,collectionName:a,subfields:l}=e,r="",i=t.collections.findIndex(e=>e.name===a);return r+="collections[".concat(i,"]"),l&&l.forEach(e=>{let a=n()(t,r).fields.findIndex(t=>t.name===e);r+=".fields[".concat(a,"]")}),r}},59001:function(e,t,a){a.d(t,{Ch:function(){return c},Lo:function(){return i},_g:function(){return o},ac:function(){return r},aq:function(){return d}});var l,n,r,i,s=a(65735);let c="root";(l=r||(r={})).DATA_CATEGORY="data_category",l.DATA_USE="data_use",l.DATA_SUBJECT="data_subject",l.SYSTEM_GROUP="system_group",(n=i||(i={})).DATA_CATEGORIES="Data categories",n.DATA_USES="Data uses",n.DATA_SUBJECTS="Data subjects",n.SYSTEM_GROUPS="System groups";let o=e=>{switch(e){case"data_category":return"Data categories";case"data_use":return"Data uses";case"data_subject":return"Data subjects";case"system_group":return"System groups";default:return e}},d=e=>{switch(e){case"data_category":return{UPDATE:s.Sh.DATA_CATEGORY_UPDATE,CREATE:s.Sh.DATA_CATEGORY_CREATE,DELETE:s.Sh.DATA_CATEGORY_DELETE,READ:s.Sh.DATA_CATEGORY_READ};case"data_use":return{UPDATE:s.Sh.DATA_USE_UPDATE,CREATE:s.Sh.DATA_USE_CREATE,DELETE:s.Sh.DATA_USE_DELETE,READ:s.Sh.DATA_USE_READ};case"data_subject":return{UPDATE:s.Sh.DATA_SUBJECT_UPDATE,CREATE:s.Sh.DATA_SUBJECT_CREATE,DELETE:s.Sh.DATA_SUBJECT_DELETE,READ:s.Sh.DATA_SUBJECT_READ};case"system_group":return{UPDATE:s.Sh.SYSTEM_GROUP_UPDATE,CREATE:s.Sh.SYSTEM_GROUP_CREATE,DELETE:s.Sh.SYSTEM_GROUP_DELETE,READ:s.Sh.SYSTEM_GROUP_READ};default:return{UPDATE:s.Sh.TAXONOMY_UPDATE,CREATE:s.Sh.TAXONOMY_CREATE,DELETE:s.Sh.TAXONOMY_DELETE,READ:s.Sh.TAXONOMY_READ}}}},90673:function(e,t,a){a.d(t,{Cd:function(){return r},Xl:function(){return i}});var l=a(65735),n=a(59001);let r=(e,t)=>{let a;if(null==t&&e.every(e=>void 0===e.parent_key))a=e;else{let l=null!=t?t:null;a=e.filter(e=>e.parent_key===l)}return a.map(t=>{var a,l;let n=t.fides_key;return{value:t.fides_key,label:""===t.name||null==t.name?t.fides_key:t.name,description:t.description,children:r(e,n),is_default:null!==(a=t.is_default)&&void 0!==a&&a,active:null!==(l=t.active)&&void 0!==l&&l}})},i=e=>{switch(e){case n.ac.DATA_CATEGORY:return l.P6.DATA_CATEGORY;case n.ac.DATA_SUBJECT:return l.P6.DATA_SUBJECT;case n.ac.DATA_USE:return l.P6.DATA_USE;default:return}}}}]);