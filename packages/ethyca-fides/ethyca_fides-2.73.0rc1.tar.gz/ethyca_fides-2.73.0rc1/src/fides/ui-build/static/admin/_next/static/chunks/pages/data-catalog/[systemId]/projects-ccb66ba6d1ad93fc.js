(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[165],{74833:function(e,t,s){var r=s(56127),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},56127:function(e){var t=/\s/;e.exports=function(e){for(var s=e.length;s--&&t.test(e.charAt(s)););return s}},91936:function(e,t,s){var r=s(74833),i=s(11611),n=s(55193),a=0/0,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(n(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var s=l.test(e);return s||c.test(e)?u(e.slice(2),s?2:8):o.test(e)?a:+e}},21865:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-catalog/[systemId]/projects",function(){return s(98791)}])},18225:function(e,t,s){"use strict";var r=s(24246),i=s(87949);t.Z=e=>{let{alignment:t="center",...s}=e;return(0,r.jsx)(i.kCb,{boxSize:"full",align:"center",justify:t,children:(0,r.jsx)(i.$jN,{color:"primary",...s})})}},79609:function(e,t,s){"use strict";s.d(t,{N4:function(){return a},UG:function(){return i},xw:function(){return n}});var r=s(54427);let{useGetCatalogSystemsQuery:i,useGetCatalogProjectsQuery:n,useGetCatalogDatasetsQuery:a}=s(78780).u.injectEndpoints({endpoints:e=>({getCatalogSystems:e.query({query:e=>({method:"GET",url:"/plus/data-catalog/system",params:e}),providesTags:["Catalog Systems","System"]}),getCatalogProjects:e.query({query:e=>{let{...t}=e;return{method:"GET",url:"/plus/data-catalog/project",params:t}},providesTags:["Discovery Monitor Results"]}),getCatalogDatasets:e.query({query:e=>{let{...t}=e;return{method:"GET",url:"/plus/data-catalog/dataset",params:t}},providesTags:["Discovery Monitor Results"]})})});(0,r.oM)({name:"dataCatalog",initialState:{page:1,pageSize:50},reducers:{}})},99763:function(e,t,s){"use strict";var r=s(24246),i=s(87949),n=s(79789),a=s(8151),o=s(61099),l=s(7940),c=s(65735);t.Z=e=>{var t;let{resource:s,onClose:u}=e,d=(0,l.G)(s),g=(0,a.u)(s),x=(d===c.D$.FIELD||d===c.D$.TABLE)&&g===a.e.IN_REVIEW;return(0,r.jsxs)(i.dys,{isOpen:!!s,onClose:u,size:"md",children:[(0,r.jsx)(i.P1B,{}),(0,r.jsxs)(i.scA,{"data-testid":"resource-details",children:[(0,r.jsx)(i.OXI,{children:(null==s?void 0:s.name)||(null==s?void 0:s.urn)}),(0,r.jsx)(i.cCv,{}),(0,r.jsxs)(i.Ng0,{children:[(0,r.jsx)(n.cB,{text:"Title",mt:0}),(0,r.jsx)(n.XU,{children:null!==(t=null==s?void 0:s.name)&&void 0!==t?t:null==s?void 0:s.urn}),(null==s?void 0:s.description)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.cB,{text:"Description"}),(0,r.jsx)(n.XU,{children:null==s?void 0:s.description})]}),x&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.cB,{text:"Data categories"}),(0,r.jsx)(o.Z,{resource:s})]})]})]})]})}},28976:function(e,t,s){"use strict";var r=s(24246),i=s(87949);t.Z=e=>{let{onHideClick:t,onDetailClick:s}=e;return(0,r.jsxs)(i.v2r,{children:[(0,r.jsx)(i.j2t,{as:i.wpx,size:"small",type:"text",icon:(0,r.jsx)(i.nXP,{transform:"rotate(90deg)"}),className:"w-6 gap-0","data-testid":"actions-menu"}),(0,r.jsxs)(i.qyq,{children:[s&&(0,r.jsx)(i.sNh,{onClick:s,"data-testid":"view-resource-details",children:"View details"}),t&&(0,r.jsx)(i.sNh,{onClick:t,"data-testid":"hide-resource",children:"Hide"})]})]})}},98791:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return N}});var r=s(24246),i=s(86677),n=s(18225),a=s(77213),o=s(77830),l=s(58754),c=s(92222),u=s(59003),d=s(87949),g=s(27378),x=s(47935),p=s(72625),m=s(89200),f=s(5945),j=s(79609),h=s(99763),v=s(28976),y=s(8151);let C={items:[],total:0,page:1,size:50,pages:1},w=()=>(0,r.jsx)(d.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:(0,r.jsx)(d.gCW,{children:(0,r.jsx)(d.xvT,{fontSize:"md",fontWeight:"600",children:"No resources found"})})}),_=(0,c.Cl)();var R=e=>{let{systemKey:t,monitorConfigIds:s}=e,[n,a]=(0,g.useState)({}),{PAGE_SIZES:l,pageSize:d,setPageSize:R,onPreviousPageClick:b,isPreviousPageDisabled:N,onNextPageClick:D,isNextPageDisabled:E,startRange:P,endRange:S,pageIndex:k,setTotalPages:I}=(0,x.oi)(),{isFetching:T,isLoading:Z,data:z}=(0,j.xw)({page:k,size:d,monitor_config_ids:s}),q=(0,i.useRouter)(),{items:M,total:G,pages:X}=(0,g.useMemo)(()=>null!=z?z:C,[z]);(0,g.useEffect)(()=>{I(X)},[X,I]);let[O,V]=(0,g.useState)(void 0),$=(0,g.useMemo)(()=>[_.accessor(e=>e.name,{id:"name",cell:e=>(0,r.jsx)(m.Z,{resource:e.row.original}),header:"Project"}),_.display({id:"status",cell:e=>{let{row:t}=e;return(0,r.jsx)(f.Z,{status:(0,y.u)(t.original)})},header:"Status"}),_.accessor(e=>e.monitor_config_id,{id:"monitorConfigId",cell:e=>(0,r.jsx)(x.G3,{value:e.getValue()}),header:"Detected by"}),_.accessor(e=>e.description,{id:"description",cell:e=>(0,r.jsx)(x.G3,{value:e.getValue()}),header:"Description"}),_.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,r.jsx)(p.Cy,{time:e.getValue()}),header:"Updated",meta:{cellProps:{borderRight:"none"}}}),_.display({id:"actions",cell:e=>{let{row:t}=e;return(0,r.jsx)(v.Z,{onDetailClick:()=>V(t.original)})},size:25,meta:{disableRowClick:!0}})],[]),B=(0,u.b7)({getCoreRowModel:(0,c.sC)(),getGroupedRowModel:(0,c.qe)(),getExpandedRowModel:(0,c.rV)(),manualPagination:!0,columnResizeMode:"onChange",columns:$,data:M,getRowId:e=>e.urn,onRowSelectionChange:a,state:{rowSelection:n}});return Z||T?(0,r.jsx)(x.I4,{rowHeight:36,numRows:36}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.ZK,{tableInstance:B,emptyTableNotice:(0,r.jsx)(w,{}),onRowClick:e=>q.push("".concat(o.mX,"/").concat(t,"/projects/").concat(e.urn))}),(0,r.jsx)(x.s8,{totalRows:G||0,pageSizes:l,setPageSize:R,onPreviousPageClick:b,isPreviousPageDisabled:N,onNextPageClick:D,isNextPageDisabled:E,startRange:P,endRange:S}),(0,r.jsx)(h.Z,{resource:O,onClose:()=>V(void 0)})]})},b=s(1315),N=()=>{var e;let{query:t}=(0,i.useRouter)(),s=t.systemId,c=t.monitor_config_ids,{data:u,isLoading:d}=(0,b.rn)(s);return d?(0,r.jsx)(n.Z,{}):(0,r.jsxs)(a.Z,{title:"Data catalog",children:[(0,r.jsx)(l.Z,{heading:"Data catalog",breadcrumbItems:[{title:"All systems",href:o.mX},{title:null!==(e=null==u?void 0:u.name)&&void 0!==e?e:null==u?void 0:u.fides_key}]}),(0,r.jsx)(R,{systemKey:s,monitorConfigIds:c})]})}}},function(e){e.O(0,[8765,9278,5163,9682,1099,2888,9774,179],function(){return e(e.s=21865)}),_N_E=e.O()}]);