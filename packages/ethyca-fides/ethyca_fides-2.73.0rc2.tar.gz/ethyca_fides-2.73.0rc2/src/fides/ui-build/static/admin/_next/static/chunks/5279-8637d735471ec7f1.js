"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5279],{77213:function(e,i,n){n.d(i,{Z:function(){return g}});var l=n(24246),t=n(87949),r=n(88038),a=n.n(r),d=n(86677);n(27378);var u=n(25980),o=n(90867),s=n(42478),c=n(77830),_=()=>{let e=(0,d.useRouter)();return(0,l.jsx)(t.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,l.jsxs)(t.xuv,{children:[(0,l.jsxs)(t.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,l.jsx)(t.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,l.jsx)(t.wpx,{onClick:()=>{e.push(c.AD)},children:"Configure"})]}),(0,l.jsxs)(t.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},g=e=>{let{children:i,title:n,padded:r=!0,mainProps:c}=e,g=(0,u.hz)(),p=(0,d.useRouter)(),b="/privacy-requests"===p.pathname||"/datastore-connection"===p.pathname,v=!(g.flags.messagingConfiguration&&b),{data:y}=(0,s.JE)(void 0,{skip:v}),{data:f}=(0,o.PW)(void 0,{skip:v}),m=g.flags.messagingConfiguration&&(!y||!f)&&b;return(0,l.jsxs)(t.kCb,{"data-testid":n,direction:"column",h:"100vh",children:[(0,l.jsxs)(a(),{children:[(0,l.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,l.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,l.jsxs)(t.kCb,{as:"main",direction:"column",py:r?6:0,px:r?10:0,h:r?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...c,children:[m?(0,l.jsx)(_,{}):null,i]})]})}},42478:function(e,i,n){n.d(i,{FU:function(){return o},JE:function(){return t},Ki:function(){return c},SU:function(){return _},W:function(){return g},h9:function(){return r},jc:function(){return l},qt:function(){return u},sn:function(){return s}});let{useGetEmailInviteStatusQuery:l,useGetActiveMessagingProviderQuery:t,useCreateMessagingConfigurationMutation:r,useCreateMessagingConfigurationSecretsMutation:a,useGetMessagingConfigurationDetailsQuery:d,useGetMessagingConfigurationsQuery:u,useGetMessagingConfigurationByKeyQuery:o,useUpdateMessagingConfigurationByKeyMutation:s,useUpdateMessagingConfigurationSecretsByKeyMutation:c,useCreateTestConnectionMessageMutation:_,useDeleteMessagingConfigurationByKeyMutation:g}=n(78780).u.injectEndpoints({endpoints:e=>({getEmailInviteStatus:e.query({query:()=>({url:"/messaging/email-invite/status"}),providesTags:()=>["Email Invite Status"]}),createMessagingConfiguration:e.mutation({query:e=>({url:"messaging/config",method:"POST",body:e}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getActiveMessagingProvider:e.query({queryFn:async(e,i,n,l)=>{let t=await l({url:"messaging/default/active"});return t.error&&404===t.error.status?{data:null}:t},providesTags:["Messaging Config"]}),createMessagingConfigurationSecrets:e.mutation({query:e=>({url:"messaging/default/".concat(e.service_type,"/secret"),method:"PUT",body:e.details}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getMessagingConfigurationDetails:e.query({query:e=>({url:"messaging/default/".concat(e.type)}),providesTags:["Messaging Config"]}),getMessagingConfigurations:e.query({query:()=>({url:"messaging/config"}),providesTags:["Messaging Config"]}),getMessagingConfigurationByKey:e.query({query:e=>({url:"messaging/config/".concat(e.key)}),providesTags:["Messaging Config"]}),createTestConnectionMessage:e.mutation({query:e=>({url:"messaging/test/".concat(e.service_type),method:"POST",body:e.details}),invalidatesTags:["Messaging Config"]}),updateMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"PATCH",body:e.config}),invalidatesTags:["Messaging Config","Configuration Settings"]}),updateMessagingConfigurationSecretsByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key,"/secret"),method:"PUT",body:e.secrets}),invalidatesTags:["Messaging Config","Configuration Settings"]}),deleteMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"DELETE"}),invalidatesTags:["Messaging Config","Configuration Settings"]})})})},60325:function(e,i,n){n.d(i,{DD:function(){return d},Go:function(){return u},TK:function(){return t},Uv:function(){return s},k1:function(){return r},y3:function(){return c}});var l=n(65735);let t=e=>{var i;return null!==(i=null==e?void 0:e.filter(e=>e.selected).map(e=>e.id))&&void 0!==i?i:[]},r=e=>{var i;return null!==(i=null==e?void 0:e.filter(e=>e.selected))&&void 0!==i?i:[]},a=[{language:l.eU.EN,is_default:!0,title:"Title",description:"Description",accept_button_label:"Accept",reject_button_label:"Reject",save_button_label:"Save",acknowledge_button_label:"OK",privacy_preferences_link_label:"Privacy Preferences"}],d={name:"",disabled:!1,dismissable:!0,allow_language_selection:!1,show_layer1_notices:!1,layer1_button_options:l.Of.OPT_IN_OPT_OUT,regions:[],translations:a,auto_detect_language:!0,auto_subdomain_cookie_deletion:!0,cookie_deletion_based_on_host_domain:!0,allow_vendor_asset_disclosure:!1,asset_disclosure_include_types:[]},u=(e,i)=>{let n=i.find(i=>i.id===e.language);return n?n.name:e.language},o=e=>{var i,n,l,t,r,a,d,u,o;let{language:s,is_default:c,accept_button_label:_,reject_button_label:g}=e;return{language:s,is_default:c,accept_button_label:_,reject_button_label:g,title:e.title,description:e.description,acknowledge_button_label:null!==(i=e.acknowledge_button_label)&&void 0!==i?i:void 0,banner_title:null!==(n=e.banner_title)&&void 0!==n?n:void 0,banner_description:null!==(l=e.banner_description)&&void 0!==l?l:void 0,purpose_header:null!==(t=e.purpose_header)&&void 0!==t?t:void 0,privacy_policy_link_label:null!==(r=e.privacy_policy_link_label)&&void 0!==r?r:void 0,privacy_policy_url:null!==(a=e.privacy_policy_url)&&void 0!==a?a:void 0,privacy_preferences_link_label:null!==(d=e.privacy_preferences_link_label)&&void 0!==d?d:void 0,save_button_label:null!==(u=e.save_button_label)&&void 0!==u?u:void 0,modal_link_label:null!==(o=e.modal_link_label)&&void 0!==o?o:void 0}},s=e=>{let{created_at:i,updated_at:n,privacy_notices:t,origin:r,id:a,...d}=e,u={...d,privacy_notice_ids:t?t.map(e=>e.id):[],translations:e.translations?e.translations.map(e=>o(e)):[]};return(u.component===l.re.BANNER_AND_MODAL||u.component===l.re.MODAL)&&u.allow_vendor_asset_disclosure&&(!u.asset_disclosure_include_types||0===u.asset_disclosure_include_types.length)&&(u.allow_vendor_asset_disclosure=!1),u},c=e=>e===l.re.PRIVACY_CENTER?{title:{included:!0,required:!0},description:{included:!0,required:!0},save_button_label:{included:!0,required:!0},accept_button_label:{included:!0,required:!0},reject_button_label:{included:!0,required:!0},privacy_policy_link_label:{included:!0},privacy_policy_url:{included:!0},modal_link_label:{included:!0}}:e===l.re.MODAL?{title:{included:!0,required:!0},description:{included:!0,required:!0},accept_button_label:{included:!0,required:!0},reject_button_label:{included:!0,required:!0},save_button_label:{included:!0,required:!0},acknowledge_button_label:{included:!0,required:!0},privacy_policy_link_label:{included:!0},privacy_policy_url:{included:!0},privacy_preferences_link_label:{included:!0},modal_link_label:{included:!0}}:e===l.re.BANNER_AND_MODAL?{title:{included:!0,required:!0},banner_title:{included:!0},description:{included:!0,required:!0},banner_description:{included:!0},accept_button_label:{included:!0,required:!0},reject_button_label:{included:!0,required:!0},save_button_label:{included:!0,required:!0},acknowledge_button_label:{included:!0,required:!0},privacy_policy_link_label:{included:!0},privacy_policy_url:{included:!0},privacy_preferences_link_label:{included:!0,required:!0},modal_link_label:{included:!0}}:e===l.re.TCF_OVERLAY?{title:{included:!0,required:!0},banner_title:{included:!0},description:{included:!0,required:!0},banner_description:{included:!0},purpose_header:{included:!0},accept_button_label:{included:!0,required:!0},reject_button_label:{included:!0,required:!0},save_button_label:{included:!0,required:!0},acknowledge_button_label:{included:!0,required:!0},privacy_policy_link_label:{included:!0},privacy_policy_url:{included:!0},privacy_preferences_link_label:{included:!0,required:!0},modal_link_label:{included:!0}}:{title:{included:!0,required:!0},description:{included:!0,required:!0},accept_button_label:{included:!0,required:!0},reject_button_label:{included:!0,required:!0},save_button_label:{included:!0,required:!0},acknowledge_button_label:{included:!0,required:!0},privacy_policy_link_label:{included:!0},privacy_policy_url:{included:!0},privacy_preferences_link_label:{included:!0,required:!0},modal_link_label:{included:!0}}}}]);