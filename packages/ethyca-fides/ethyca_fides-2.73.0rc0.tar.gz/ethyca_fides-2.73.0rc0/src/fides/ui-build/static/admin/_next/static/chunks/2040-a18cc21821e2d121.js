"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2040],{77213:function(e,n,t){t.d(n,{Z:function(){return p}});var i=t(24246),s=t(87949),r=t(88038),a=t.n(r),o=t(86677);t(27378);var g=t(25980),l=t(90867),u=t(42478),c=t(77830),d=()=>{let e=(0,o.useRouter)();return(0,i.jsx)(s.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,i.jsxs)(s.xuv,{children:[(0,i.jsxs)(s.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,i.jsx)(s.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,i.jsx)(s.wpx,{onClick:()=>{e.push(c.AD)},children:"Configure"})]}),(0,i.jsxs)(s.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},p=e=>{let{children:n,title:t,padded:r=!0,mainProps:c}=e,p=(0,g.hz)(),f=(0,o.useRouter)(),m="/privacy-requests"===f.pathname||"/datastore-connection"===f.pathname,h=!(p.flags.messagingConfiguration&&m),{data:y}=(0,u.JE)(void 0,{skip:h}),{data:x}=(0,l.PW)(void 0,{skip:h}),v=p.flags.messagingConfiguration&&(!y||!x)&&m;return(0,i.jsxs)(s.kCb,{"data-testid":t,direction:"column",h:"100vh",children:[(0,i.jsxs)(a(),{children:[(0,i.jsxs)("title",{children:["Fides Admin UI - ",t]}),(0,i.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)(s.kCb,{as:"main",direction:"column",py:r?6:0,px:r?10:0,h:r?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...c,children:[v?(0,i.jsx)(d,{}):null,n]})]})}},58754:function(e,n,t){var i=t(24246),s=t(87949),r=t(70788);n.Z=e=>{let{heading:n,breadcrumbItems:t,isSticky:a=!0,children:o,rightContent:g,style:l,...u}=e;return(0,i.jsxs)("div",{...u,style:a?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...l}:{paddingBottom:"24px",...l},children:[(0,i.jsxs)(s.jqI,{justify:"space-between",children:["string"==typeof n?(0,i.jsx)(s.lQT,{className:t||o?"pb-4":void 0,level:1,"data-testid":"page-heading",children:n}):n,g&&(0,i.jsx)("div",{"data-testid":"page-header-right-content",children:g})]}),!!t&&(0,i.jsx)(r.m,{className:o?"pb-4":void 0,items:t,"data-testid":"page-breadcrumb"}),o]})}},19904:function(e,n,t){t.d(n,{Tg:function(){return a}});var i=t(24246),s=t(16134),r=t(31793);let a=e=>(0,s.C)(r.uu).filter(n=>e.includes(n)).length>0;n.ZP=e=>{let{scopes:n,children:t}=e;return a(n)?(0,i.jsx)(i.Fragment,{children:t}):null}},70788:function(e,n,t){t.d(n,{m:function(){return l}});var i=t(24246),s=t(87949),r=t(79894),a=t.n(r),o=t(27378);let{Text:g}=s.AntTypography,l=e=>{let{items:n,...t}=e,r=(0,o.useMemo)(()=>null==n?void 0:n.map((e,t)=>{let r=t===n.length-1,o={...e},l=o.onClick&&!o.href;return("string"==typeof o.title&&(o.title=(0,i.jsx)(g,{style:{color:"inherit",maxWidth:r?void 0:400},ellipsis:!r,id:r?"breadcrumb-current-page":void 0,children:o.title})),l)?o.title=(0,i.jsx)(s.wpx,{type:"text",size:"small",icon:o.icon,onClick:o.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:o.title}):(o.icon&&(o.title=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"anticon align-text-bottom",children:o.icon}),o.title]})),o.href&&o.title&&(o.title=(0,i.jsx)(a(),{href:o.href,className:"ant-breadcrumb-link",children:o.title}),delete o.href)),o}),[n]);return(0,i.jsx)(s.zrq,{items:r,...t})}},42478:function(e,n,t){t.d(n,{FU:function(){return l},JE:function(){return s},Ki:function(){return c},SU:function(){return d},W:function(){return p},h9:function(){return r},jc:function(){return i},qt:function(){return g},sn:function(){return u}});let{useGetEmailInviteStatusQuery:i,useGetActiveMessagingProviderQuery:s,useCreateMessagingConfigurationMutation:r,useCreateMessagingConfigurationSecretsMutation:a,useGetMessagingConfigurationDetailsQuery:o,useGetMessagingConfigurationsQuery:g,useGetMessagingConfigurationByKeyQuery:l,useUpdateMessagingConfigurationByKeyMutation:u,useUpdateMessagingConfigurationSecretsByKeyMutation:c,useCreateTestConnectionMessageMutation:d,useDeleteMessagingConfigurationByKeyMutation:p}=t(78780).u.injectEndpoints({endpoints:e=>({getEmailInviteStatus:e.query({query:()=>({url:"/messaging/email-invite/status"}),providesTags:()=>["Email Invite Status"]}),createMessagingConfiguration:e.mutation({query:e=>({url:"messaging/config",method:"POST",body:e}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getActiveMessagingProvider:e.query({queryFn:async(e,n,t,i)=>{let s=await i({url:"messaging/default/active"});return s.error&&404===s.error.status?{data:null}:s},providesTags:["Messaging Config"]}),createMessagingConfigurationSecrets:e.mutation({query:e=>({url:"messaging/default/".concat(e.service_type,"/secret"),method:"PUT",body:e.details}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getMessagingConfigurationDetails:e.query({query:e=>({url:"messaging/default/".concat(e.type)}),providesTags:["Messaging Config"]}),getMessagingConfigurations:e.query({query:()=>({url:"messaging/config"}),providesTags:["Messaging Config"]}),getMessagingConfigurationByKey:e.query({query:e=>({url:"messaging/config/".concat(e.key)}),providesTags:["Messaging Config"]}),createTestConnectionMessage:e.mutation({query:e=>({url:"messaging/test/".concat(e.service_type),method:"POST",body:e.details}),invalidatesTags:["Messaging Config"]}),updateMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"PATCH",body:e.config}),invalidatesTags:["Messaging Config","Configuration Settings"]}),updateMessagingConfigurationSecretsByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key,"/secret"),method:"PUT",body:e.secrets}),invalidatesTags:["Messaging Config","Configuration Settings"]}),deleteMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"DELETE"}),invalidatesTags:["Messaging Config","Configuration Settings"]})})})},3642:function(e,n,t){var i=t(24246),s=t(87949),r=t(86677),a=t.n(r),o=t(27378),g=t(812),l=t(58452),u=t(77830),c=t(19904),d=t(46628),p=t(98795),f=t(65735);n.Z=e=>{let{property:n,triggerComponent:t}=e,r=(0,s.pmc)(),m=(0,s.qY0)(),[h]=(0,p.YW)(),y=n.experiences.length>0,x=async()=>{m.onClose();let e=await h(n.id);if((0,g.D4)(e)){r((0,d.Vo)((0,g.e$)(e.error)));return}a().push("".concat(u.ru)),r((0,d.t5)("Property ".concat(n.name," deleted successfully")))};return(0,i.jsxs)(c.ZP,{scopes:[f.Sh.PROPERTY_DELETE],children:[(0,i.jsx)(s.esZ,{title:y?"All of the experiences on this property must be unlinked before the property can be deleted.":void 0,placement:"right",children:(0,i.jsx)("span",{children:o.cloneElement(t,{onClick:e=>{e.stopPropagation(),y||m.onOpen()},disabled:y})})}),(0,i.jsx)(l.Z,{isOpen:m.isOpen,onClose:m.onClose,onConfirm:x,title:"Delete ".concat(n.name),message:(0,i.jsxs)(s.xvT,{color:"gray.500",children:["You are about to delete property ",n.name,". This action is not reversible and will result in ",n.name," no longer being available for your data governance. Are you sure you want to proceed?"]}),continueButtonText:"Ok",isCentered:!0,icon:(0,i.jsx)(s.aNP,{})})]})}}}]);