"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8563],{77213:function(e,n,i){i.d(n,{Z:function(){return p}});var t=i(24246),a=i(87949),r=i(88038),s=i.n(r),o=i(86677);i(27378);var l=i(25980),g=i(90867),u=i(42478),d=i(77830),c=()=>{let e=(0,o.useRouter)();return(0,t.jsx)(a.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,t.jsxs)(a.xuv,{children:[(0,t.jsxs)(a.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,t.jsx)(a.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,t.jsx)(a.wpx,{onClick:()=>{e.push(d.AD)},children:"Configure"})]}),(0,t.jsxs)(a.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},p=e=>{let{children:n,title:i,padded:r=!0,mainProps:d}=e,p=(0,l.hz)(),f=(0,o.useRouter)(),m="/privacy-requests"===f.pathname||"/datastore-connection"===f.pathname,h=!(p.flags.messagingConfiguration&&m),{data:y}=(0,u.JE)(void 0,{skip:h}),{data:v}=(0,g.PW)(void 0,{skip:h}),x=p.flags.messagingConfiguration&&(!y||!v)&&m;return(0,t.jsxs)(a.kCb,{"data-testid":i,direction:"column",h:"100vh",children:[(0,t.jsxs)(s(),{children:[(0,t.jsxs)("title",{children:["Fides Admin UI - ",i]}),(0,t.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,t.jsxs)(a.kCb,{as:"main",direction:"column",py:r?6:0,px:r?10:0,h:r?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...d,children:[x?(0,t.jsx)(c,{}):null,n]})]})}},58754:function(e,n,i){var t=i(24246),a=i(87949),r=i(70788);n.Z=e=>{let{heading:n,breadcrumbItems:i,isSticky:s=!0,children:o,rightContent:l,style:g,...u}=e;return(0,t.jsxs)("div",{...u,style:s?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...g}:{paddingBottom:"24px",...g},children:[(0,t.jsxs)(a.jqI,{justify:"space-between",children:["string"==typeof n?(0,t.jsx)(a.lQT,{className:i||o?"pb-4":void 0,level:1,"data-testid":"page-heading",children:n}):n,l&&(0,t.jsx)("div",{"data-testid":"page-header-right-content",children:l})]}),!!i&&(0,t.jsx)(r.m,{className:o?"pb-4":void 0,items:i,"data-testid":"page-breadcrumb"}),o]})}},70788:function(e,n,i){i.d(n,{m:function(){return g}});var t=i(24246),a=i(87949),r=i(79894),s=i.n(r),o=i(27378);let{Text:l}=a.AntTypography,g=e=>{let{items:n,...i}=e,r=(0,o.useMemo)(()=>null==n?void 0:n.map((e,i)=>{let r=i===n.length-1,o={...e},g=o.onClick&&!o.href;return("string"==typeof o.title&&(o.title=(0,t.jsx)(l,{style:{color:"inherit",maxWidth:r?void 0:400},ellipsis:!r,id:r?"breadcrumb-current-page":void 0,children:o.title})),g)?o.title=(0,t.jsx)(a.wpx,{type:"text",size:"small",icon:o.icon,onClick:o.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:o.title}):(o.icon&&(o.title=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"anticon align-text-bottom",children:o.icon}),o.title]})),o.href&&o.title&&(o.title=(0,t.jsx)(s(),{href:o.href,className:"ant-breadcrumb-link",children:o.title}),delete o.href)),o}),[n]);return(0,t.jsx)(a.zrq,{items:r,...i})}},8125:function(e,n,i){i.d(n,{V:function(){return r},o:function(){return g}});var t=i(27378),a=i(32735);let r=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{enableSelection:i=!1,getRowKey:r,bulkActions:s,isLoading:o=!1,isFetching:l=!1,dataSource:g=[],totalRows:u=0,currentPage:d,pageSize:c,customTableProps:p={}}=n,f=(0,t.useCallback)(e=>{if(e&&"object"==typeof e){if(e.id)return String(e.id);if(e.key)return String(e.key)}return String(e)},[]),m=r||f,[h,y]=(0,t.useState)([]),[v,x]=(0,t.useState)([]),C=(0,t.useCallback)(()=>{y([]),x([])},[]),b=(0,t.useMemo)(()=>({selectedRowKeys:h,selectedRows:v,resetSelections:C}),[h,v,C]),S=(0,t.useMemo)(()=>{if(i)return{selectedRowKeys:h,onChange:(e,n)=>{y(e),x(n)}}},[i,h]),j=(0,t.useCallback)((n,i,t)=>{var a,r;let s=null!==(a=n.current)&&void 0!==a?a:e.pageIndex,o=null!==(r=n.pageSize)&&void 0!==r?r:e.pageSize,l=s!==e.pageIndex||o!==e.pageSize;l?(n.current&&n.current!==e.pageIndex&&e.updatePageIndex(n.current),n.pageSize&&n.pageSize!==e.pageSize&&e.updatePageSize(n.pageSize)):e.updateFilters(i||{});let g=t&&!Array.isArray(t)?t.field:void 0,u=t&&!Array.isArray(t)&&null!==t.order?t.order:void 0;l||e.updateSorting(g,u)},[e]),k=(0,t.useMemo)(()=>{var n,i,t,r,s;return{current:null!=d?d:e.pageIndex,pageSize:null!=c?c:e.pageSize,total:u,showSizeChanger:null===(r=null===(n=e.paginationConfig)||void 0===n?void 0:n.showSizeChanger)||void 0===r||r,pageSizeOptions:null!==(s=null===(t=e.paginationConfig)||void 0===t?void 0:null===(i=t.pageSizeOptions)||void 0===i?void 0:i.map(String))&&void 0!==s?s:a.VZ}},[d,e.pageIndex,c,e.pageSize,u,e.paginationConfig]),M=(0,t.useMemo)(()=>({dataSource:g,loading:o||l,pagination:k,onChange:j,rowKey:m,scroll:{x:"max-content",scrollToFirstRowOnChange:!0},size:"small",bordered:!0,...p}),[g,o,l,k,j,m,p]),T=h.map(String),z=v.length>0,q=(0,t.useCallback)(e=>{let n=null==s?void 0:s.actions.find(n=>n.key===e);return n?{disabled:!z||!!n.disabled&&n.disabled(v),loading:n.loading||!1,onClick:()=>n.onClick(v)}:{disabled:!0,loading:!1}},[s,z,v]);return(0,t.useMemo)(()=>({tableProps:M,selectionProps:S,selectionState:b,selectedRows:v,selectedKeys:T,hasSelectedRows:z,resetSelections:C,getBulkActionProps:q,isLoadingOrFetching:o||l,hasData:g.length>0}),[M,S,b,v,T,z,C,q,o,l,g.length])};var s=i(40431),o=i(17245);let l=()=>({filters:(0,s.WJ)(e=>e).withDefault({})}),g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{pagination:n={},sorting:i={},search:a={},onStateChange:r,disableUrlState:g=!1}=e,{pageIndex:u,pageSize:d,resetPagination:c,updatePageIndex:p,updatePageSize:f,pageSizeOptions:m,showSizeChanger:h}=(0,o.h0)({...n,disableUrlState:g}),{sortKey:y,sortOrder:v,updateSorting:x,resetSorting:C}=(0,o.rK)({...i,disableUrlState:g}),{searchQuery:b,updateSearch:S,resetSearch:j}=(0,o.Rx)({...a,disableUrlState:g}),[k,M]=(0,t.useState)({}),T=(0,t.useMemo)(()=>g?null:l(),[g]),[z,q]=(0,s.XI)(null!=T?T:{},{history:"push"}),w=(0,t.useMemo)(()=>{var e;return{pageIndex:u,pageSize:d,sortKey:y,sortOrder:v,columnFilters:g?k:null!==(e=z.filters)&&void 0!==e?e:{},searchQuery:b}},[g,k,z,u,d,y,v,b]),I=(0,t.useCallback)((e,n)=>{x(e,n),c()},[x,c]),E=(0,t.useCallback)(e=>{if(g)M(e);else{let n=Object.fromEntries(Object.entries(e).filter(e=>{let[,n]=e;return null!=n}));q({filters:Object.keys(n).length>0?n:null})}c()},[g,q,c]),F=(0,t.useCallback)(e=>{S(e),c()},[S,c]),O=(0,t.useCallback)(()=>{g?M({}):q({filters:null}),c(),C(),j()},[g,q,c,C,j]);return(0,t.useEffect)(()=>{r&&r(w)},[w,r]),{state:w,pageIndex:w.pageIndex,pageSize:w.pageSize,updatePageIndex:p,updatePageSize:f,sortKey:w.sortKey,sortOrder:w.sortOrder,updateSorting:I,columnFilters:w.columnFilters,updateFilters:E,searchQuery:w.searchQuery,updateSearch:F,resetState:O,paginationConfig:{pageSizeOptions:m,showSizeChanger:h}}}},42478:function(e,n,i){i.d(n,{FU:function(){return g},JE:function(){return a},Ki:function(){return d},SU:function(){return c},W:function(){return p},h9:function(){return r},jc:function(){return t},qt:function(){return l},sn:function(){return u}});let{useGetEmailInviteStatusQuery:t,useGetActiveMessagingProviderQuery:a,useCreateMessagingConfigurationMutation:r,useCreateMessagingConfigurationSecretsMutation:s,useGetMessagingConfigurationDetailsQuery:o,useGetMessagingConfigurationsQuery:l,useGetMessagingConfigurationByKeyQuery:g,useUpdateMessagingConfigurationByKeyMutation:u,useUpdateMessagingConfigurationSecretsByKeyMutation:d,useCreateTestConnectionMessageMutation:c,useDeleteMessagingConfigurationByKeyMutation:p}=i(78780).u.injectEndpoints({endpoints:e=>({getEmailInviteStatus:e.query({query:()=>({url:"/messaging/email-invite/status"}),providesTags:()=>["Email Invite Status"]}),createMessagingConfiguration:e.mutation({query:e=>({url:"messaging/config",method:"POST",body:e}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getActiveMessagingProvider:e.query({queryFn:async(e,n,i,t)=>{let a=await t({url:"messaging/default/active"});return a.error&&404===a.error.status?{data:null}:a},providesTags:["Messaging Config"]}),createMessagingConfigurationSecrets:e.mutation({query:e=>({url:"messaging/default/".concat(e.service_type,"/secret"),method:"PUT",body:e.details}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getMessagingConfigurationDetails:e.query({query:e=>({url:"messaging/default/".concat(e.type)}),providesTags:["Messaging Config"]}),getMessagingConfigurations:e.query({query:()=>({url:"messaging/config"}),providesTags:["Messaging Config"]}),getMessagingConfigurationByKey:e.query({query:e=>({url:"messaging/config/".concat(e.key)}),providesTags:["Messaging Config"]}),createTestConnectionMessage:e.mutation({query:e=>({url:"messaging/test/".concat(e.service_type),method:"POST",body:e.details}),invalidatesTags:["Messaging Config"]}),updateMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"PATCH",body:e.config}),invalidatesTags:["Messaging Config","Configuration Settings"]}),updateMessagingConfigurationSecretsByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key,"/secret"),method:"PUT",body:e.secrets}),invalidatesTags:["Messaging Config","Configuration Settings"]}),deleteMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"DELETE"}),invalidatesTags:["Messaging Config","Configuration Settings"]})})})}}]);