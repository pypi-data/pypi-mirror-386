(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[549],{78859:function(e,t,n){var r=n(71928),o=n(76747),i=n(42383),a=n(11611),s=n(37948);e.exports=function(e,t,n,l){if(!a(e))return e;t=o(t,e);for(var u=-1,c=t.length,d=c-1,f=e;null!=f&&++u<c;){var p=s(t[u]),v=n;if("__proto__"===p||"constructor"===p||"prototype"===p)break;if(u!=d){var m=f[p];void 0===(v=l?l(m,p,f):void 0)&&(v=a(m)?m:i(t[u+1])?[]:{})}r(f,p,v),f=f[p]}return e}},74833:function(e,t,n){var r=n(56127),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},80396:function(e,t,n){var r=n(79867),o=n(78859);e.exports=function(e,t,n,i){return o(e,t,n(r(e,t)),i)}},62079:function(e,t,n){var r=n(31137);e.exports=function(e){return"function"==typeof e?e:r}},56632:function(e,t,n){var r=n(89278),o=n(80068),i=n(50098);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!o(t)){var l=r(n,3);t=i(t),n=function(e){return l(s[e],e,s)}}var u=e(t,n,a);return u>-1?s[l?t[u]:u]:void 0}}},56127:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},30454:function(e,t,n){var r=n(40699);e.exports=function(e){return r(e,5)}},64925:function(e,t,n){var r=n(56632)(n(66259));e.exports=r},66259:function(e,t,n){var r=n(95372),o=n(89278),i=n(47991),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return -1;var l=null==n?0:i(n);return l<0&&(l=a(s+l,0)),r(e,o(t,3),l)}},47215:function(e,t,n){var r=n(78859);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},94919:function(e,t,n){var r=n(91936),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-o?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}},47991:function(e,t,n){var r=n(94919);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},91936:function(e,t,n){var r=n(74833),o=n(11611),i=n(55193),a=0/0,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return a;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=l.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):s.test(e)?a:+e}},90271:function(e,t,n){var r=n(80396),o=n(62079);e.exports=function(e,t,n){return null==e?e:r(e,t,o(n))}},12627:function(e,t,n){"use strict";var r=n(24246),o=n(79283),i=n(34929);t.Z=e=>{let{selectedTaxonomies:t,showDisabled:n=!1,...a}=e,{getDataCategoryDisplayNameProps:s,getDataCategories:l}=(0,i.Z)(),u=(n?l():l().filter(e=>e.active)).filter(e=>!(null==t?void 0:t.includes(e.fides_key))).map(e=>{let{name:t,primaryName:n}=s(e.fides_key);return{value:e.fides_key,name:t,primaryName:n,description:e.description||""}});return(0,r.jsx)(o.l,{options:u,...a})}},79283:function(e,t,n){"use strict";n.d(t,{l:function(){return c}});var r=n(24246),o=n(87949),i=n(72707),a=n.n(i);let s=e=>{let{data:{formattedTitle:t,description:n,name:i,primaryName:a}}=e;return(0,r.jsxs)(o.jqI,{gap:12,title:"".concat(t," - ").concat(n),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:a||i}),a&&": ".concat(i)]}),(0,r.jsx)("em",{children:n})]})},l=e=>"options"in e&&Array.isArray(e.options),u=e=>({...e,className:a().option,formattedTitle:e.formattedTitle||[e.primaryName,e.name].filter(e=>e).join(": ")}),c=e=>{let{options:t,...n}=e,i=null==t?void 0:t.map(e=>l(e)?{...e,options:e.options.map(u)}:u(e));return(0,r.jsx)(o.WPr,{options:i,filterOption:(e,t)=>{var n,r;return(null==t?void 0:null===(n=t.formattedTitle)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase()))||(null==t?void 0:null===(r=t.value)||void 0===r?void 0:r.toLowerCase().includes(e.toLowerCase()))||!1},optionFilterProp:"label",autoFocus:!0,variant:"borderless",optionRender:s,styles:{popup:{root:{minWidth:"500px"}}},className:"w-full p-0","data-testid":"taxonomy-select",...n})}},34929:function(e,t,n){"use strict";var r=n(24246),o=n(64925),i=n.n(o),a=n(27378),s=n(16134),l=n(30002),u=n(28079),c=n(57072);let d=()=>{let{isLoading:e}=(0,u.fd)(),t=(0,s.C)(u.U3),{isLoading:n}=(0,c.MO)(),r=(0,s.C)(c.qb),{isLoading:o}=(0,l.te)();return{dataUses:t,dataSubjects:(0,s.C)(l.ZL),dataCategories:r,isLoading:e||n||o}};t.Z=()=>{let{dataUses:e,dataCategories:t,dataSubjects:n,isLoading:o}=d(),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.split(".").slice(0,t).join(".")},l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t(e);if(!r)return{};let o=t(s(e,n)),i=!!r.parent_key;return{name:r.name||void 0,primaryName:i&&(null==o?void 0:o.name)!==r.name&&(null==o?void 0:o.name)||void 0}},u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,{name:o,primaryName:i}=l(e,t,n);return o?i?(0,r.jsxs)(a.Fragment,{children:[(0,r.jsxs)("strong",{children:[i,":"]})," ",o]},e):(0,r.jsx)("strong",{children:o},e):e},c=t=>i()(e,{fides_key:t}),f=e=>i()(t,{fides_key:e}),p=e=>i()(n,{fides_key:e});return{getDataUses:()=>e,getDataUseByKey:c,getDataUseDisplayName:e=>u(e,c,1),getDataUseDisplayNameProps:e=>l(e,c,1),getDataCategories:()=>t,getDataCategoryByKey:f,getDataCategoryDisplayName:e=>u(e,f,2),getDataCategoryDisplayNameProps:e=>l(e,f,2),getDataSubjects:()=>n,getDataSubjectByKey:p,getDataSubjectDisplayName:e=>{let t=p(e);return t?t.name:e},getPrimaryKey:s,isLoading:o}}},66112:function(e,t,n){"use strict";var r=n(24246),o=n(87949),i=n(27378),a=n(12627),s=n(34929),l=n(26183);t.Z=e=>{let{selectedTaxonomies:t,onAddTaxonomy:n,onRemoveTaxonomy:u}=e,[c,d]=(0,i.useState)(!1),{getDataCategoryDisplayName:f}=(0,s.Z)();return(0,r.jsxs)(l.Z,{children:[t.map(e=>(0,r.jsx)(o.j8w,{"data-testid":"classification-".concat(e),color:"white",closable:!0,onClose:()=>u(e),closeButtonLabel:"Remove category",children:f(e)},e)),(0,r.jsx)(o.j8w,{onClick:()=>d(!0),"data-testid":"add-category-btn",addable:!0,"aria-label":"Add category"}),c&&(0,r.jsx)(o.xuv,{className:"select-wrapper",position:"absolute",zIndex:10,top:"0",left:"0",width:"100%",height:"max",bgColor:"#fff",children:(0,r.jsx)(a.Z,{selectedTaxonomies:t,onChange:e=>{d(!1),n(e)},onBlur:()=>d(!1),open:c})})]})}},26183:function(e,t,n){"use strict";var r=n(24246);n(27378),t.Z=e=>{let{children:t,className:n,...o}=e;return(0,r.jsx)("div",{className:"relative flex w-full flex-wrap items-center gap-2 overflow-x-auto py-2 ".concat(n||""),...o,children:t})}},76252:function(e,t,n){"use strict";var r=n(24246),o=n(87949),i=n(30454),a=n.n(i),s=n(47215),l=n.n(s),u=n(90271),c=n.n(u),d=n(79806),f=n(20386),p=n(63927),v=n(69435);t.Z=e=>{let{field:t,isOpen:n,onClose:i,dataset:s,collectionName:u,subfields:m}=e,[x]=(0,f.TG)(),{isOpen:h,onOpen:g,onClose:y}=(0,o.qY0)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.ZP,{isOpen:n,onClose:i,description:"Fields are an array of objects that describe the collection's fields. Provide additional context to this field by filling out the fields below.",header:(0,r.jsx)(d.zR,{title:"Field Name: ".concat(null==t?void 0:t.name)}),footer:(0,r.jsx)(d.Gn,{onClose:i,onDelete:g,formId:p.e}),children:(0,r.jsx)(p.Z,{values:t,onSubmit:e=>{let n=(0,v.Fk)({dataset:s,collectionName:u,subfields:m?[...m,(null==t?void 0:t.name)||""]:[(null==t?void 0:t.name)||""]}),r={...t,...e},o=a()(s);l()(o,n,r),x(o),i()},dataType:"field"})}),(0,r.jsx)(o.cVQ,{isOpen:h,onClose:y,onConfirm:()=>{let e=(0,v.Fk)({dataset:s,collectionName:u,subfields:m}),n=a()(s);c()(n,e,e=>({...e,fields:e.fields.filter(e=>e.name!==(null==t?void 0:t.name))})),x(n),i(),y()},title:"Delete Field",message:(0,r.jsxs)(o.xvT,{children:["You are about to permanently delete the field named"," ",(0,r.jsx)(o.xvT,{color:"complimentary.500",as:"span",fontWeight:"bold",children:null==t?void 0:t.name})," ","from this dataset. Are you sure you would like to continue?"]})})]})}},57072:function(e,t,n){"use strict";n.d(t,{Bd:function(){return r.Bd},L5:function(){return r.L5},MO:function(){return r.MO},qb:function(){return r.qb}});var r=n(5785)},72707:function(e){e.exports={option:"TaxonomySelect_option__vY6v2"}}}]);