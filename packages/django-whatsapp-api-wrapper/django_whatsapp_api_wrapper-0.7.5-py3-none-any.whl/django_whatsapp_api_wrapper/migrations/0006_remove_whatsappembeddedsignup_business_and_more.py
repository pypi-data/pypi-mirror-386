# Generated by Django 5.2.5 on 2025-10-24 14:38

from django.db import migrations


class Migration(migrations.Migration):

    dependencies = [
        ('django_whatsapp_api_wrapper', '0005_webhooks_models'),
    ]

    operations = [
        # Tolerant cleanup: table may not exist in some environments
        migrations.RunSQL(
            sql=(
                "ALTER TABLE IF EXISTS django_whatsapp_api_wrapper_whatsappembeddedsignup "
                "DROP COLUMN IF EXISTS business_id"
            ),
            reverse_sql=migrations.RunSQL.noop,
        ),
        migrations.RenameIndex(
            model_name='webhookevent',
            new_name='django_what_wamid_0ea419_idx',
            old_name='django_wh_wamid_b6b24a_idx',
        ),
        migrations.RenameIndex(
            model_name='webhookevent',
            new_name='django_what_event_k_f15468_idx',
            old_name='django_wh_event_k_e9b4d6_idx',
        ),
        migrations.RenameIndex(
            model_name='webhookevent',
            new_name='django_what_event_t_d4c054_idx',
            old_name='django_wh_event_t_90d95e_idx',
        ),
        migrations.RenameIndex(
            model_name='webhookevent',
            new_name='django_what_phone_n_cb261c_idx',
            old_name='django_wh_phone_n_2b0aaf_idx',
        ),
        migrations.RunSQL(
            sql=(
                "DROP TABLE IF EXISTS django_whatsapp_api_wrapper_whatsappembeddedsignup CASCADE"
            ),
            reverse_sql=migrations.RunSQL.noop,
        ),
    ]
