# 2D polynomal fits to the tables at https://github.com/spacetelescope/pysiaf/tree/main/pysiaf/source_data/NIRSpec/delivery/test_data/apertures_testData
#
# The keys of the "coeffs" dict are the MSA quadrant numbers: (1,2,3,4)
# and the values are astropy.modeling.models.Polynomial2D(degree) coefficients
# for the transformation shutter (row=i,col=j) > v2 and (row=i,col=j) > v3
#
# The coefficients of the "inverse" dict are the transformations
# (v2,v3) > (row=i) and (v2,v3) > (col=j)
#
# RMS of the transformations:
#   Q1 rms = 1.76e-04 1.80e-04    arcsec (i,j > v2,v3)
#            6.93e-03 1.70e-03   shutter (v2,v3 > i,j)
#   Q2 rms = 1.55e-04 1.88e-04    arcsec (i,j > v2,v3)
#            8.96e-03 2.99e-03   shutter (v2,v3 > i,j)
#   Q3 rms = 1.44e-04 2.56e-04    arcsec (i,j > v2,v3)
#            6.66e-03 2.10e-03   shutter (v2,v3 > i,j)
#   Q4 rms = 6.72e-05 2.51e-04    arcsec (i,j > v2,v3)
#            9.91e-03 2.62e-03   shutter (v2,v3 > i,j)
coeffs:
  1:
    ij_to_v2:
      c0_0: 534.3004085195707
      c0_1: -0.3602816490078609
      c0_2: 1.6976223062243652e-05
      c0_3: -1.0880919534556877e-09
      c1_0: -0.2040578425141614
      c1_1: 8.319384065984907e-06
      c1_2: -5.963209727400268e-10
      c2_0: 2.949744682986363e-06
      c2_1: 1.3200649896679076e-10
      c3_0: -1.1353961682456441e-09
    ij_to_v3:
      c0_0: -438.5350591725058
      c0_1: 0.40115422387872696
      c0_2: -1.812018035020059e-05
      c0_3: 5.7451281191044946e-09
      c1_0: -0.17765914335192104
      c1_1: 6.70202274192332e-06
      c1_2: -4.480320894357191e-09
      c2_0: 8.201170174750252e-08
      c2_1: 9.78827678755729e-10
      c3_0: -1.5563707156568772e-09
  2:
    ij_to_v2:
      c0_0: 448.7510446489852
      c0_1: -0.35213343711255246
      c0_2: 1.7088837787506127e-05
      c0_3: -5.096175576242067e-09
      c1_0: -0.2021696512178605
      c1_1: 7.950168144349469e-06
      c1_2: -4.2175233233567e-09
      c2_0: 3.3065343169835984e-06
      c2_1: -9.528564118370293e-10
      c3_0: -1.8241253246212629e-09
    ij_to_v3:
      c0_0: -342.64945535096876
      c0_1: 0.3933175473765178
      c0_2: -1.56145889081704e-05
      c0_3: 7.62045505119311e-09
      c1_0: -0.17624733655572844
      c1_1: 3.847445257629088e-06
      c1_2: -5.534032265067106e-09
      c2_0: 4.972466458003518e-08
      c2_1: 2.8769876457399335e-09
      c3_0: -9.28713547433061e-10
  3:
    ij_to_v2:
      c0_0: 442.86357982738207
      c0_1: -0.3565167648750838
      c0_2: 1.7467028761063403e-05
      c0_3: -4.5152011478335534e-09
      c1_0: -0.20211952288530008
      c1_1: 8.625075817924077e-06
      c1_2: -4.198059248388895e-09
      c2_0: 1.570264231614706e-06
      c2_1: -1.1974497814454666e-09
      c3_0: -1.903940668899979e-09
    ij_to_v3:
      c0_0: -518.648762958404
      c0_1: 0.4044434919634281
      c0_2: -1.9905877112380485e-05
      c0_3: 5.53880599216056e-09
      c1_0: -0.17850318359840026
      c1_1: 7.666527516661403e-06
      c1_2: -1.4001570745759216e-09
      c2_0: -2.149368243350561e-06
      c2_1: -3.2514885515132775e-12
      c3_0: -4.543716506160568e-10
  4:
    ij_to_v2:
      c0_0: 357.95626329408174
      c0_1: -0.3487199011949841
      c0_2: 1.507506354136472e-05
      c0_3: -4.79805421784607e-09
      c1_0: -0.20025354280464566
      c1_1: 6.849715949700377e-06
      c1_2: -5.60206884711035e-09
      c2_0: 1.1422422540048107e-06
      c2_1: -2.7680003565967497e-09
      c3_0: -1.789232963244454e-09
    ij_to_v3:
      c0_0: -422.3195019240182
      c0_1: 0.39560096359548347
      c0_2: -1.7568313098272984e-05
      c0_3: 6.116978020795932e-09
      c1_0: -0.17684041567077802
      c1_1: 6.568807811428799e-06
      c1_2: -3.096316379797731e-09
      c2_0: -1.483932493869439e-06
      c2_1: 1.0463992050083693e-09
      c3_0: -1.5922185275530333e-09
degree: 3
inverse:
  1:
    v23_to_i:
      c0_0: 411.36778345314127
      c0_1: -2.5701323687968936
      c0_2: -9.898109699029941e-05
      c1_0: -2.926077984470387
      c1_1: 2.2819544770724272e-05
      c2_0: 0.00017272902198887916
    v23_to_j:
      c0_0: 1338.5257312077545
      c0_1: 1.5493218343621407
      c0_2: 0.0001078751077401517
      c1_0: -1.3728110057534957
      c1_1: -0.00010420844402601141
      c2_0: 0.000102431197769688
  2:
    v23_to_i:
      c0_0: 414.6545606224776
      c0_1: -2.5422111076416014
      c0_2: -5.72942771669847e-05
      c1_0: -2.9086508354528537
      c1_1: 3.383949222128589e-05
      c2_0: 0.00015602839654035812
    v23_to_j:
      c0_0: 1094.629039667978
      c0_1: 1.5365143518122986
      c0_2: 9.077376632599533e-05
      c1_0: -1.3694005063267092
      c1_1: -0.00010362132497798655
      c2_0: 9.819090626695251e-05
  3:
    v23_to_i:
      c0_0: -44.78641192172866
      c0_1: -2.586098822683636
      c0_2: -0.00016642375198940286
      c1_0: -2.9153125817487995
      c1_1: -8.98897394449902e-05
      c2_0: 9.525568773615223e-05
    v23_to_j:
      c0_0: 1339.0786648783994
      c0_1: 1.5562992755195402
      c0_2: 0.00011583020152333123
      c1_0: -1.3680594894495826
      c1_1: -0.00010379107086533729
      c2_0: 9.661352469754514e-05
  4:
    v23_to_i:
      c0_0: -45.91537344837288
      c0_1: -2.5707270790299557
      c0_2: -0.00014980800447875184
      c1_0: -2.886840730052532
      c1_1: -9.030061589590838e-05
      c2_0: 5.171082120273728e-05
    v23_to_j:
      c0_0: 1094.606732571564
      c0_1: 1.5504192185678953
      c0_2: 0.00011110544632693967
      c1_0: -1.3534718518378357
      c1_1: -9.787004174097993e-05
      c2_0: 7.822683311088855e-05
inverse_degree: 2
irange:
  1:
  - 1
  - 365
  2:
  - 1
  - 365
  3:
  - 1
  - 365
  4:
  - 1
  - 365
jrange:
  1:
  - 1
  - 171
  2:
  - 1
  - 171
  3:
  - 1
  - 171
  4:
  - 1
  - 171
rms:
  1:
  - 0.00017579392767515944
  - 0.00018022190926297182
  2:
  - 0.00015488595840275715
  - 0.00018804495582945752
  3:
  - 0.00014419312967801684
  - 0.0002556701283747796
  4:
  - 6.717080799693079e-05
  - 0.0002505641671656936
