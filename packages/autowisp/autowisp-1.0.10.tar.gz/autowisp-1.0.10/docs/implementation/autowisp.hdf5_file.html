

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>autowisp.hdf5_file module &mdash; AutoWISP  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../_static/unlimited_width.css?v=eea1f72d" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="autowisp.image_smoothing module" href="autowisp.image_smoothing.html" />
    <link rel="prev" title="autowisp.fits_utilities module" href="autowisp.fits_utilities.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            AutoWISP
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#run-the-tests-optional">Run the Tests (optional)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../test_data.html">Example Usage: Processing the test data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Create-a-temporary-directory-to-work-in-(remember-to-delete-it-at-the-end),-enter-it,-and-get-its-path">Create a temporary directory to work in (remember to delete it at the end), enter it, and get its path</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Download-the-test-data">Download the test data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Perform-the-calibration-for-the-zero-frames">Perform the calibration for the zero frames</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Create-a-master-bias-by-stacking-the-calibrated-zero-frames">Create a master bias by stacking the calibrated zero frames</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Perform-the-calibration-for-the-dark-frames">Perform the calibration for the dark frames</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Create-a-master-dark-by-stacking-the-calibrated-dark-images">Create a master dark by stacking the calibrated dark images</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Perform-calibration-for-flat-frames">Perform calibration for flat frames</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Build-a-master-flat-out-of-the-individual-calibrated-flat-frames">Build a master flat out of the individual calibrated flat frames</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Perform-calibration-for-object-frames">Perform calibration for object frames</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Find-stars-in-the-calibrated-object-frames">Find stars in the calibrated object frames</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Perform-astrometry-on-DR-files">Perform astrometry on DR files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Perform-PSF/PRF-fitting">Perform PSF/PRF fitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Perform-aperture-photometry">Perform aperture photometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Run-fit-source-extracted-PSF-map">Run fit source extracted PSF map</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Perform-magnitude-fitting">Perform magnitude fitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Create-light-curves">Create light curves</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Perform-EPD-on-light-curves">Perform EPD on light curves</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Generate-EPD-statistics-file-for-light-curves">Generate EPD statistics file for light curves</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Perform-TFA-on-light-curves">Perform TFA on light curves</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Generate-TFA-statistics-file-for-light-curves">Generate TFA statistics file for light curves</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Extract-brightness-vs-time-from-lightcurves">Extract brightness vs time from lightcurves</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../processing_steps.html">Pipeline Steps</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../processing_steps.html#split-raw-frames-by-type">Split Raw Frames by Type:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_steps.html#image-calibration">1. Image Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_steps.html#find-stars">2. Find Stars</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_steps.html#astrometry">3. Astrometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_steps.html#prf-psf-fitting">4. PRF/PSF Fitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_steps.html#aperture-photometry">5. Aperture Photometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_steps.html#fit-psf-map-to-extracted-stars">6. Fit PSF Map to Extracted Stars</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_steps.html#magnitude-fitting">7. Magnitude fitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_steps.html#creating-lightcurves">8. Creating Lightcurves</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_steps.html#external-parameter-decorrelation-epd">9. External Parameter Decorrelation (EPD)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_steps.html#trend-filtering-algorithm-tfa">10. Trend Filtering Algorithm (TFA)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../wisp_options.html">Configuration Options</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="autowisp.html">autowisp package</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="autowisp.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
<li class="toctree-l2"><a class="reference internal" href="autowisp.html#subpackages">Subpackages</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="autowisp.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AutoWISP</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="autowisp.html">autowisp package</a></li>
      <li class="breadcrumb-item active">autowisp.hdf5_file module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/implementation/autowisp.hdf5_file.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-autowisp.hdf5_file">
<span id="autowisp-hdf5-file-module"></span><h1>autowisp.hdf5_file module<a class="headerlink" href="#module-autowisp.hdf5_file" title="Link to this heading"></a></h1>
<section id="class-inheritance-diagram">
<h2>Class Inheritance Diagram<a class="headerlink" href="#class-inheritance-diagram" title="Link to this heading"></a></h2>
<div class="graphviz"><img src="../_images/inheritance-1c80484ff294b407cb60f067cb0d536613e101ef.png" alt="Inheritance diagram of ABC, BytesIO, HDF5File, HDF5LayoutError" usemap="#inheritance1beec7b053" class="inheritance graphviz" /></div>
<map id="inheritance1beec7b053" name="inheritance1beec7b053">
<area shape="rect" id="node2" href="https://docs.python.org/3/library/abc.html#abc.ABC" target="_top" title="Helper class that provides a standard way to create an ABC using" alt="" coords="80,453,155,480"/>
<area shape="rect" id="node3" href="#autowisp.hdf5_file.HDF5File" target="_top" title="Base class for HDF5 pipeline products." alt="" coords="86,528,272,555"/>
<area shape="rect" id="node5" href="autowisp.pipeline_exceptions.html#autowisp.pipeline_exceptions.HDF5LayoutError" target="_top" title="Error caused by invalid specification of HDF5 layout." alt="" coords="765,5,1062,32"/>
<area shape="rect" id="node6" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Collection" target="_top" title="collections.abc.Collection" alt="" coords="386,80,556,107"/>
<area shape="rect" id="node10" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping" target="_top" title="A Mapping is a generic container for associating key/value" alt="" coords="390,155,552,181"/>
<area shape="rect" id="node7" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sized" target="_top" title="collections.abc.Sized" alt="" coords="224,5,369,32"/>
<area shape="rect" id="node8" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" target="_top" title="collections.abc.Iterable" alt="" coords="393,5,549,32"/>
<area shape="rect" id="node9" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Container" target="_top" title="collections.abc.Container" alt="" coords="572,5,740,32"/>
<area shape="rect" id="node11" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.MutableMapping" target="_top" title="A MutableMapping is a generic container for associating" alt="" coords="257,229,464,256"/>
</map><p>Define a class for working with HDF5 files.</p>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">autowisp.hdf5_file.</span></span><span class="sig-name descname"><span class="pre">HDF5File</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layout_version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></p>
<div class="graphviz"><img src="../_images/inheritance-eb0900aac23996b3f16ccee65ac9f075988072e4.png" alt="Inheritance diagram of autowisp.hdf5_file.HDF5File" usemap="#inheritancea386fa9591" class="inheritance graphviz" /></div>
<map id="inheritancea386fa9591" name="inheritancea386fa9591">
<area shape="rect" id="node1" href="https://docs.python.org/3/library/abc.html#abc.ABC" target="_top" title="Helper class that provides a standard way to create an ABC using" alt="" coords="80,453,155,480"/>
<area shape="rect" id="node2" href="#autowisp.hdf5_file.HDF5File" target="_top" title="Base class for HDF5 pipeline products." alt="" coords="86,528,272,555"/>
<area shape="rect" id="node4" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Collection" target="_top" title="collections.abc.Collection" alt="" coords="386,80,556,107"/>
<area shape="rect" id="node8" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping" target="_top" title="A Mapping is a generic container for associating key/value" alt="" coords="390,155,552,181"/>
<area shape="rect" id="node5" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sized" target="_top" title="collections.abc.Sized" alt="" coords="224,5,369,32"/>
<area shape="rect" id="node6" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" target="_top" title="collections.abc.Iterable" alt="" coords="393,5,549,32"/>
<area shape="rect" id="node7" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Container" target="_top" title="collections.abc.Container" alt="" coords="572,5,740,32"/>
<area shape="rect" id="node9" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.MutableMapping" target="_top" title="A MutableMapping is a generic container for associating" alt="" coords="257,229,464,256"/>
</map><p>Base class for HDF5 pipeline products.</p>
<p>The actual structure of the file has to be defined by a class inheriting
from this one, by overwriting the relevant properties and
<a class="reference internal" href="#autowisp.hdf5_file.HDF5File._get_root_tag_name" title="autowisp.hdf5_file.HDF5File._get_root_tag_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_get_root_tag_name()</span></code></a>.</p>
<p>Implements backwards compatibility for different versions of the structure
of files.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File._file_structure">
<span class="sig-name descname"><span class="pre">_file_structure</span></span><a class="headerlink" href="#autowisp.hdf5_file.HDF5File._file_structure" title="Link to this definition"></a></dt>
<dd><p>See the first entry returned by get_file_structure.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File._file_structure_version">
<span class="sig-name descname"><span class="pre">_file_structure_version</span></span><a class="headerlink" href="#autowisp.hdf5_file.HDF5File._file_structure_version" title="Link to this definition"></a></dt>
<dd><p>See the second entry returned by
get_file_structure.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File._hat_id_prefixes">
<span class="sig-name descname"><span class="pre">_hat_id_prefixes</span></span><a class="headerlink" href="#autowisp.hdf5_file.HDF5File._hat_id_prefixes" title="Link to this definition"></a></dt>
<dd><p>A list of the currently recognized
HAT-ID prefixes, with the correct data type ready for adding as a
dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layout_version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.__init__" title="Link to this definition"></a></dt>
<dd><p>Opens the given HDF5 file in the given mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fname</strong> – The name of the file to open.</p></li>
<li><p><strong>mode</strong> – The mode to open the file in (see hdf5.File).</p></li>
<li><p><strong>layout_version</strong> – If the file does not exist, this is the version
of the layout that will be used for its structure. Leave None
to use the latest defined.</p></li>
<li><p><strong>kwargs</strong> – Any additional arguments. Passed directly to h5py.File.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File._add_repack_dataset">
<span class="sig-name descname"><span class="pre">_add_repack_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File._add_repack_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File._add_repack_dataset" title="Link to this definition"></a></dt>
<dd><p>Add the given dataset to the list of datasets to repack.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File._flag_required_attribute_parents">
<span class="sig-name descname"><span class="pre">_flag_required_attribute_parents</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File._flag_required_attribute_parents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File._flag_required_attribute_parents" title="Link to this definition"></a></dt>
<dd><p>Flag attributes whose parents must exist when adding the attribute.</p>
<p>The file structure must be fully configured before calling this method!</p>
<p>If the parent is a group, it is safe to create it and then add the
attribute, however, this in is not the case for attributes to datasets.</p>
<p>Add an attribute named ‘parent_must_exist’ to all attribute
configurations in self._file_structure set to False if and only if the
attribute parent is a group.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File._get_root_tag_name">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_get_root_tag_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File._get_root_tag_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File._get_root_tag_name" title="Link to this definition"></a></dt>
<dd><p>The name of the root tag in the layout configuration.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File._product">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_product</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File._product"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File._product" title="Link to this definition"></a></dt>
<dd><p>The pipeline key of the product held in this type of HDF5 files.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File._replace_nonfinite">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_replace_nonfinite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_dtype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace_nonfinite</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File._replace_nonfinite"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File._replace_nonfinite" title="Link to this definition"></a></dt>
<dd><p>Return (copy of) data with non-finite values replaced.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File._write_text_to_dataset">
<span class="sig-name descname"><span class="pre">_write_text_to_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">if_exists</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'overwrite'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File._write_text_to_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File._write_text_to_dataset" title="Link to this definition"></a></dt>
<dd><p>Adds ASCII text/file as a dateset to an HDF5 file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_key</strong> – The key identifying the dataset to add.</p></li>
<li><p><strong>text</strong> – The text or file to add. If it is an open file, the
contents is dumped, if it is a python2 string or a python3
bytes, the value is stored.</p></li>
<li><p><strong>if_exists</strong> – See add_dataset().</p></li>
<li><p><strong>substitututions</strong> – Any arguments that should be substituted in the
dataset path.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.add_attribute">
<span class="sig-name descname"><span class="pre">add_attribute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attribute_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attribute_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">if_exists</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'overwrite'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.add_attribute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.add_attribute" title="Link to this definition"></a></dt>
<dd><p>Adds a single attribute to a dateset or a group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attribute_key</strong> – The key in _destinations that corresponds to the
attribute to add. If the key is not one of the recognized keys,
h5file is not modified and the function silently exits.</p></li>
<li><p><strong>attribute_value</strong> – The value to give the attribute.</p></li>
<li><p><strong>if_exists</strong> – <p>What should be done if the attribute exists? Possible
values are:</p>
<ul>
<li><dl class="simple">
<dt>ignore:</dt><dd><p>do not update but return the attribute’s value.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>overwrite:</dt><dd><p>Change the value to the specified one.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>error:</dt><dd><p>raise an exception.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>substitutions</strong> – variables to substitute in HDF5 paths and names.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The value of the attribute. May differ from attribute_value if
the attribute already exists, if type conversion is performed,
or if the file structure does not specify a location for the
attribute. In the latter case the result is None.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>unknown</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.add_dataset">
<span class="sig-name descname"><span class="pre">add_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">if_exists</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'overwrite'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unlimited</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.add_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.add_dataset" title="Link to this definition"></a></dt>
<dd><p>Adds a single dataset to self.</p>
<p>If the target dataset already exists, it is deleted first and the
name of the dataset is added to the root level Repack attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_key</strong> – The key identifying the dataset to add.</p></li>
<li><p><strong>data</strong> – The values that should be written, a numpy array with
an appropriate data type or None if an empty dataset should be
created.</p></li>
<li><p><strong>if_exists</strong> – See same name argument to add_attribute.</p></li>
<li><p><strong>unlimited</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Should the first dimension of the dataset be
unlimited (i.e. data can be added later)?</p></li>
<li><p><strong>shape</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>,</em><em>...</em><em>)</em>) – The shape of the dataset to create if data
is None, otherwise the shape of the data is used. Just like if
data is specified, the first dimension will be ignored if
unlimited is True. It is an error to specify both data and
shape!</p></li>
<li><p><strong>dtype</strong> – The data type for the new dataset if the data is None. It
is an error to specify both dtype and data!</p></li>
<li><p><strong>substitututions</strong> – Any arguments that should be substituted in the
dataset path.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.add_file_dump">
<span class="sig-name descname"><span class="pre">add_file_dump</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">if_exists</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'overwrite'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_original</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.add_file_dump"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.add_file_dump" title="Link to this definition"></a></dt>
<dd><p>Adds a byte by byte dump of a file to self.</p>
<p>If the file does not exist an empty dataset is created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fname</strong> – The name of the file to dump.</p></li>
<li><p><strong>dataset_key</strong> – Passed directly to dump_file_like.</p></li>
<li><p><strong>if_exists</strong> – See same name argument to add_attribute.</p></li>
<li><p><strong>delete_original</strong> – If True, the file being dumped is
deleted (default).</p></li>
<li><p><strong>substitutions</strong> – variables to substitute in the dataset HDF5 path.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.add_link">
<span class="sig-name descname"><span class="pre">add_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">link_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">if_exists</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'overwrite'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.add_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.add_link" title="Link to this definition"></a></dt>
<dd><p>Adds a soft link to the HDF5 file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>link_key</strong> – The key identifying the link to create.</p></li>
<li><p><strong>if_exists</strong> – See same name argument to <a class="reference internal" href="#autowisp.hdf5_file.HDF5File.add_attribute" title="autowisp.hdf5_file.HDF5File.add_attribute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_attribute()</span></code></a>.</p></li>
<li><p><strong>substitutions</strong> – variables to substitute in HDF5 paths and names of
both where the link should be place and where it should point
to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The path the identified link points to. See if_exists argument
for how the value con be determined or None if the link was not
created (not defined in current file structure).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.13)"><strong>IOError</strong></a> – if an object with the same name as the link exists,
    but is not a link or is a link, but does not point to the
    configured target and if_exists == ‘error’.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.check_for_dataset">
<span class="sig-name descname"><span class="pre">check_for_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">must_exist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.check_for_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.check_for_dataset" title="Link to this definition"></a></dt>
<dd><p>Check if the given key identifies a dataset and it actually exists.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_key</strong> – The key identifying the dataset to check for.</p></li>
<li><p><strong>must_exist</strong> – If True, and the dataset does not exist, raise
IOError.</p></li>
<li><p><strong>substitutions</strong> – Any arguments that should be substituted in the
path. Only required if must_exist == True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.13)"><strong>KeyError</strong></a> – If the specified key is not in the currently set file structure
    or does not identify a dataset.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.13)"><strong>IOError</strong></a> – If the dataset does not exist but the must_exist argument is
    True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.collect_columns">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">collect_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_head</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_tail</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dset_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.collect_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.collect_columns" title="Link to this definition"></a></dt>
<dd><p>If dataset is 1D and name starts and ends as given, add to destination.</p>
<p>This function is intended to be passed to h5py.Group.visititems() after
fixing the first 3 arguments using functools.partial.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>destination</strong> (<em>pandas.DataFrame</em>) – The DataFrame to add matching
datasets to. Datasets are added with column names given by the
part of the name between <cite>name_head</cite> and <cite>name_tail</cite>.</p></li>
<li><p><strong>name_head</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Only datasets whose names start with this will be
included.</p></li>
<li><p><strong>name_tail</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Only datasets whose names end with this will be
included.</p></li>
<li><p><strong>dset_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The name of the dataset.</p></li>
<li><p><strong>values</strong> (<em>array-like</em>) – The values to potentially add as the new
column.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.delete_attribute">
<span class="sig-name descname"><span class="pre">delete_attribute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attribute_key</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.delete_attribute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.delete_attribute" title="Link to this definition"></a></dt>
<dd><p>Delete the given attribute.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.delete_columns">
<span class="sig-name descname"><span class="pre">delete_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_head</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_tail</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dset_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.delete_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.delete_columns" title="Link to this definition"></a></dt>
<dd><p>Delete 1D datasets under parent if name starts and ends as given.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.delete_dataset">
<span class="sig-name descname"><span class="pre">delete_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_key</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.delete_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.delete_dataset" title="Link to this definition"></a></dt>
<dd><p>Delete obsolete HDF5 dataset if it exists and update repacking flag.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataset_key</strong> – The key identifying the dataset to delete.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Was a dataset actually deleted?</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)">bool</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Error.HDF5</strong> – if an entry already exists at the target dataset’s location
    but is not a dataset.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.delete_link">
<span class="sig-name descname"><span class="pre">delete_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">link_key</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.delete_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.delete_link" title="Link to this definition"></a></dt>
<dd><p>Delete the link corresponding to the given key.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.dump_file_or_text">
<span class="sig-name descname"><span class="pre">dump_file_or_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_contents</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">if_exists</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'overwrite'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.dump_file_or_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.dump_file_or_text" title="Link to this definition"></a></dt>
<dd><p>Adds a byte-by-byte dump of a file-like object to self.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_key</strong> – The key identifying the dataset to create for the
file contents.</p></li>
<li><p><strong>file_contents</strong> – See text argument to
<a class="reference internal" href="#autowisp.hdf5_file.HDF5File._write_text_to_dataset" title="autowisp.hdf5_file.HDF5File._write_text_to_dataset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_write_text_to_dataset()</span></code></a>. None is also a valid value, in
which case an empty dataset is created.</p></li>
<li><p><strong>if_exists</strong> – See same name argument to add_attribute.</p></li>
<li><p><strong>substitutions</strong> – variables to substitute in the dataset HDF5 path.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Was the dataset actually created?</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)">bool</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.elements">
<em class="property"><span class="k"><span class="pre">abstract</span></span><span class="w"> </span><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">elements</span></span><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.elements" title="Link to this definition"></a></dt>
<dd><p>Identifying strings for the recognized elements of the HDF5 file.</p>
<p>Shoul be a dictionary-like object with values being a set of strings
containing the identifiers of the HDF5 elements and keys:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>dataset: Identifiers for the data sets that could be included in</dt><dd><p>the file.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>attribute: Identifiers for the attributes that could be included</dt><dd><p>in the file.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>link: Identifiers for the links that could be included in</dt><dd><p>the file.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.get_attribute">
<span class="sig-name descname"><span class="pre">get_attribute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attribute_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.get_attribute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.get_attribute" title="Link to this definition"></a></dt>
<dd><p>Returns the attribute identified by the given key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attribute_key</strong> – The key of the attribute to return. It must be one
of the standard keys.</p></li>
<li><p><strong>default_value</strong> – If this is not None this values is returned if the
attribute does not exist in the file, if None, not finding the
attribute rasies IOError.</p></li>
<li><p><strong>substitutions</strong> – Any keys that must be substituted in the path
(i.e. ap_ind, config_id, …).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The value of the attribute.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>value</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.13)"><strong>KeyError</strong></a> – If no attribute with the given key is defined in the current
    files structure or if it does not correspond to an attribute.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.13)"><strong>IOError</strong></a> – If the requested dataset is not found and no default value was
    given.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.get_dataset">
<span class="sig-name descname"><span class="pre">get_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.get_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.get_dataset" title="Link to this definition"></a></dt>
<dd><p>Return a dataset as a numpy float or int array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_key</strong> – The key in self._destinations identifying the
dataset to read.</p></li>
<li><p><strong>expected_shape</strong> – The shape to use for the dataset if an empty
dataset is found. If None, a zero-sized array is returned.</p></li>
<li><p><strong>default_value</strong> – If the dataset does not exist, this value is
returned.</p></li>
<li><p><strong>substitutions</strong> – Any arguments that should be substituted in the
path.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A numpy int/float array containing the identified dataset from
the HDF5 file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.array</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.13)"><strong>KeyError</strong></a> – If the specified key is not in the currently set file structure
    or does not identify a dataset.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.13)"><strong>IOError</strong></a> – If the dataset does not exist, and no default_value was
    specified</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.get_dataset_creation_args">
<span class="sig-name descname"><span class="pre">get_dataset_creation_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_key</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">path_substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.get_dataset_creation_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.get_dataset_creation_args" title="Link to this definition"></a></dt>
<dd><p>Return all arguments to pass to create_dataset() except the content.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_key</strong> – The key identifying the dataset to delete.</p></li>
<li><p><strong>path_substitutions</strong> – In theory the dataset creation arguments can
depend on the full dataset path (c.f. srcextract.sources).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>All arguments to pass to create_dataset() or require_dataset()
except: name, shape and data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.get_dataset_shape">
<span class="sig-name descname"><span class="pre">get_dataset_shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_key</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.get_dataset_shape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.get_dataset_shape" title="Link to this definition"></a></dt>
<dd><p>Return the shape of the given dataset.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.get_dtype">
<span class="sig-name descname"><span class="pre">get_dtype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element_key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.get_dtype"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.get_dtype" title="Link to this definition"></a></dt>
<dd><p>Return numpy data type for the element with by the given key.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.get_element_path">
<span class="sig-name descname"><span class="pre">get_element_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element_id</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.get_element_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.get_element_path" title="Link to this definition"></a></dt>
<dd><p>Return the path to the given element (.&lt;attr&gt; for attributes).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>substitutions</strong> – Arguments that should be substituted in the path.
If none are given, the path is returned without substitutions.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A string giving the path the element does/will have in the file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.get_element_type">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_element_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.get_element_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.get_element_type" title="Link to this definition"></a></dt>
<dd><p>Return the type of HDF5 entry that corresponds to the given ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>element_id</strong> – The identifying string for an element present in the
HDF5 file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>The type of HDF5 structure to create for this element.</dt><dd><p>One of: ‘group’, ‘dataset’, ‘attribute’, ‘link’.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>hdf5_type</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.get_file_structure">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_file_structure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.get_file_structure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.get_file_structure" title="Link to this definition"></a></dt>
<dd><p>Return the layout structure with the given version of the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>version</strong> – The version number of the layout structure to set. If
None, it should provide the default structure for new files
(presumably the latest version).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>The dictionary specifies how to include elements in the HDF5
file. The keys for the dictionary should be one in one of the
lists in self.elements and the value is an object with
attributes decsribing how to include the element. See classes in
:mod:database.data_model for the provided attributes and their
meining.</p>
<p>The string is the actual file structure version returned. The
same as version if version is not None.</p>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.hdf5_class_string">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hdf5_class_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hdf5_class</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.hdf5_class_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.hdf5_class_string" title="Link to this definition"></a></dt>
<dd><p>Return a string identifier of the given hdf5 class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.layout_to_xml">
<span class="sig-name descname"><span class="pre">layout_to_xml</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.layout_to_xml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.layout_to_xml" title="Link to this definition"></a></dt>
<dd><p>Create an etree.Element decsribing the currently defined layout.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.read_fitsheader_from_dataset">
<span class="sig-name descname"><span class="pre">read_fitsheader_from_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_key</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.read_fitsheader_from_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.read_fitsheader_from_dataset" title="Link to this definition"></a></dt>
<dd><p>Reads a FITS header from an HDF5 dataset.</p>
<p>The inverse of <a class="reference internal" href="#autowisp.hdf5_file.HDF5File.write_fitsheader_to_dataset" title="autowisp.hdf5_file.HDF5File.write_fitsheader_to_dataset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write_fitsheader_to_dataset()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>h5dset</strong> – The dataset containing the header to read.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The FITS header contained in the given dataset.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>fits.Header</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autowisp.hdf5_file.HDF5File.write_fitsheader_to_dataset">
<span class="sig-name descname"><span class="pre">write_fitsheader_to_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitsheader</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/hdf5_file.html#HDF5File.write_fitsheader_to_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.hdf5_file.HDF5File.write_fitsheader_to_dataset" title="Link to this definition"></a></dt>
<dd><p>Adds a FITS header to an HDF5 file as a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The key identifying the dataset to add the
header to.</p></li>
<li><p><strong>fitsheader</strong> (<em>fits.Header</em>) – The header to save.</p></li>
<li><p><strong>kwargs</strong> – Passed directly to <a class="reference internal" href="#autowisp.hdf5_file.HDF5File._write_text_to_dataset" title="autowisp.hdf5_file.HDF5File._write_text_to_dataset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_write_text_to_dataset()</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="autowisp.fits_utilities.html" class="btn btn-neutral float-left" title="autowisp.fits_utilities module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="autowisp.image_smoothing.html" class="btn btn-neutral float-right" title="autowisp.image_smoothing module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018, Kaloyan Penev.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>