

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>autowisp.data_reduction.utils module &mdash; AutoWISP  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../_static/unlimited_width.css?v=eea1f72d" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="autowisp.database package" href="autowisp.database.html" />
    <link rel="prev" title="autowisp.data_reduction.source_extracted_psf_map module" href="autowisp.data_reduction.source_extracted_psf_map.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            AutoWISP
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#run-the-tests-optional">Run the Tests (optional)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../test_data.html">Example Usage: Processing the test data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Create-a-temporary-directory-to-work-in-(remember-to-delete-it-at-the-end),-enter-it,-and-get-its-path">Create a temporary directory to work in (remember to delete it at the end), enter it, and get its path</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Download-the-test-data">Download the test data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Perform-the-calibration-for-the-zero-frames">Perform the calibration for the zero frames</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Create-a-master-bias-by-stacking-the-calibrated-zero-frames">Create a master bias by stacking the calibrated zero frames</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Perform-the-calibration-for-the-dark-frames">Perform the calibration for the dark frames</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Create-a-master-dark-by-stacking-the-calibrated-dark-images">Create a master dark by stacking the calibrated dark images</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Perform-calibration-for-flat-frames">Perform calibration for flat frames</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Build-a-master-flat-out-of-the-individual-calibrated-flat-frames">Build a master flat out of the individual calibrated flat frames</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Perform-calibration-for-object-frames">Perform calibration for object frames</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Find-stars-in-the-calibrated-object-frames">Find stars in the calibrated object frames</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Perform-astrometry-on-DR-files">Perform astrometry on DR files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Perform-PSF/PRF-fitting">Perform PSF/PRF fitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Perform-aperture-photometry">Perform aperture photometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Run-fit-source-extracted-PSF-map">Run fit source extracted PSF map</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Perform-magnitude-fitting">Perform magnitude fitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Create-light-curves">Create light curves</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Perform-EPD-on-light-curves">Perform EPD on light curves</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Generate-EPD-statistics-file-for-light-curves">Generate EPD statistics file for light curves</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Perform-TFA-on-light-curves">Perform TFA on light curves</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Generate-TFA-statistics-file-for-light-curves">Generate TFA statistics file for light curves</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_data.html#Extract-brightness-vs-time-from-lightcurves">Extract brightness vs time from lightcurves</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../processing_steps.html">Pipeline Steps</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../processing_steps.html#split-raw-frames-by-type">Split Raw Frames by Type:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_steps.html#image-calibration">1. Image Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_steps.html#find-stars">2. Find Stars</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_steps.html#astrometry">3. Astrometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_steps.html#prf-psf-fitting">4. PRF/PSF Fitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_steps.html#aperture-photometry">5. Aperture Photometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_steps.html#fit-psf-map-to-extracted-stars">6. Fit PSF Map to Extracted Stars</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_steps.html#magnitude-fitting">7. Magnitude fitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_steps.html#creating-lightcurves">8. Creating Lightcurves</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_steps.html#external-parameter-decorrelation-epd">9. External Parameter Decorrelation (EPD)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_steps.html#trend-filtering-algorithm-tfa">10. Trend Filtering Algorithm (TFA)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../wisp_options.html">Configuration Options</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="autowisp.html">autowisp package</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="autowisp.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="autowisp.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="autowisp.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AutoWISP</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="autowisp.html">autowisp package</a></li>
          <li class="breadcrumb-item"><a href="autowisp.data_reduction.html">autowisp.data_reduction package</a></li>
      <li class="breadcrumb-item active">autowisp.data_reduction.utils module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/implementation/autowisp.data_reduction.utils.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-autowisp.data_reduction.utils">
<span id="autowisp-data-reduction-utils-module"></span><h1>autowisp.data_reduction.utils module<a class="headerlink" href="#module-autowisp.data_reduction.utils" title="Link to this heading"></a></h1>
<section id="class-inheritance-diagram">
<h2>Class Inheritance Diagram<a class="headerlink" href="#class-inheritance-diagram" title="Link to this heading"></a></h2>
<div class="graphviz"><img src="../_images/inheritance-5580bee4a7ae0e7c8a470ae597938d916e8133fa.png" alt="Inheritance diagram of SourceExtractedPSFMap, c_double, c_int, c_ubyte, c_uint" usemap="#inheritance1c5de63bda" class="inheritance graphviz" /></div>
<map id="inheritance1c5de63bda" name="inheritance1c5de63bda">
<area shape="rect" id="node1" href="autowisp.data_reduction.source_extracted_psf_map.html#autowisp.data_reduction.source_extracted_psf_map.SourceExtractedPSFMap" target="_top" title="Evaluate smoothed PSF maps based on sorce extraction." alt="" coords="5,5,481,32"/>
<area shape="rect" id="node2" href="https://docs.python.org/3/library/ctypes.html#ctypes.c_double" target="_top" title="ctypes.c_double" alt="" coords="505,5,621,32"/>
<area shape="rect" id="node3" href="https://docs.python.org/3/library/ctypes.html#ctypes.c_int" target="_top" title="ctypes.c_int" alt="" coords="645,5,737,32"/>
<area shape="rect" id="node4" href="https://docs.python.org/3/library/ctypes.html#ctypes.c_ubyte" target="_top" title="ctypes.c_ubyte" alt="" coords="761,5,872,32"/>
<area shape="rect" id="node5" href="https://docs.python.org/3/library/ctypes.html#ctypes.c_uint" target="_top" title="ctypes.c_uint" alt="" coords="896,5,995,32"/>
</map><p>Convenience functions for interacting with DR files.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="autowisp.data_reduction.utils._add_shapefit_map">
<span class="sig-prename descclassname"><span class="pre">autowisp.data_reduction.utils.</span></span><span class="sig-name descname"><span class="pre">_add_shapefit_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dr_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fit_terms_expression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape_fit_result_tree</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">path_substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/data_reduction/utils.html#_add_shapefit_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.data_reduction.utils._add_shapefit_map" title="Link to this definition"></a></dt>
<dd><p>Add the coefficients defining the PSF/PRF map to DR file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape_fit_result_tree</strong> – See same name argument to
add_star_shape_fit().</p></li>
<li><p><strong>path_substitutions</strong> – See same name argument to
_add_shapefit_sources().</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autowisp.data_reduction.utils._auto_add_tree_quantities">
<span class="sig-prename descclassname"><span class="pre">autowisp.data_reduction.utils.</span></span><span class="sig-name descname"><span class="pre">_auto_add_tree_quantities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dr_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result_tree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_sources</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_quantities</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">path_substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/data_reduction/utils.html#_auto_add_tree_quantities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.data_reduction.utils._auto_add_tree_quantities" title="Link to this definition"></a></dt>
<dd><p>Best guess for how to add tree quantities to DR file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result_tree</strong> (<em>astrowisp.IOTree</em>) – The tree to extract quantities to
add.</p></li>
<li><p><strong>num_sources</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The number of sources (assumed to be ththe
length of all datasets).</p></li>
<li><p><strong>skip_quantities</strong> (<em>compiled rex matcher</em>) – Quantities matching this
regular expression will not be added to the DR file by this
function.</p></li>
<li><p><strong>image_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – For quantities which are split by image, only
the values associated to this image index will be added.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autowisp.data_reduction.utils._auto_delete_tree_quantities">
<span class="sig-prename descclassname"><span class="pre">autowisp.data_reduction.utils.</span></span><span class="sig-name descname"><span class="pre">_auto_delete_tree_quantities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dr_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_quantities</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">path_substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/data_reduction/utils.html#_auto_delete_tree_quantities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.data_reduction.utils._auto_delete_tree_quantities" title="Link to this definition"></a></dt>
<dd><p>Remove all elements from the DR file not matching skip_quantities rex.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autowisp.data_reduction.utils._get_shapefit_map">
<span class="sig-prename descclassname"><span class="pre">autowisp.data_reduction.utils.</span></span><span class="sig-name descname"><span class="pre">_get_shapefit_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dr_file</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">path_substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/data_reduction/utils.html#_get_shapefit_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.data_reduction.utils._get_shapefit_map" title="Link to this definition"></a></dt>
<dd><p>Read the map of the shapes of point sources from this DR file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path_substitutions</strong> – See get_aperture_photometry_inputs().</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>The grid used to represent source shapes.</p>
<dl class="simple">
<dt>4-D numpy.array(dtype=numpy.float64):</dt><dd><p>The coefficients of the shape map. See the C++ documentation for
more details of the layout.</p>
</dd>
<dt>str:</dt><dd><p>The expression specifying the terms to include in the PSF/PRF
dependence.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>2-D numpy.array(dtype=numpy.float64)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autowisp.data_reduction.utils._get_shapefit_map_grid">
<span class="sig-prename descclassname"><span class="pre">autowisp.data_reduction.utils.</span></span><span class="sig-name descname"><span class="pre">_get_shapefit_map_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dr_file</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">path_substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/data_reduction/utils.html#_get_shapefit_map_grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.data_reduction.utils._get_shapefit_map_grid" title="Link to this definition"></a></dt>
<dd><p>Return the grid used to represent star shape from this DR file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autowisp.data_reduction.utils._parse_grid_str">
<span class="sig-prename descclassname"><span class="pre">autowisp.data_reduction.utils.</span></span><span class="sig-name descname"><span class="pre">_parse_grid_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid_str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/data_reduction/utils.html#_parse_grid_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.data_reduction.utils._parse_grid_str" title="Link to this definition"></a></dt>
<dd><p>Parse the grid string entry from the astrowisp.IOTree.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autowisp.data_reduction.utils.add_aperture_photometry">
<span class="sig-prename descclassname"><span class="pre">autowisp.data_reduction.utils.</span></span><span class="sig-name descname"><span class="pre">add_aperture_photometry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dr_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">apphot_result_tree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_sources</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_apertures</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">path_substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/data_reduction/utils.html#add_aperture_photometry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.data_reduction.utils.add_aperture_photometry" title="Link to this definition"></a></dt>
<dd><p>Add the results of aperture photometry to the DR file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>apphot_result_tree</strong> – (astrowisp.IOTree):    The tree which
was passed to the :class:astrowisp.SubPixPhot instance which did
the aperture photometry (i.e. where the results were added).</p></li>
<li><p><strong>num_sources</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The number of sources for which aperture
photometry was done. The same as the number of sources the star
shape fitting which was used by the aperture photometry was
performed on for the photometered image.</p></li>
<li><p><strong>num_apertures</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The number of apertures for which photometry
was extracted.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autowisp.data_reduction.utils.add_star_shape_fit">
<span class="sig-prename descclassname"><span class="pre">autowisp.data_reduction.utils.</span></span><span class="sig-name descname"><span class="pre">add_star_shape_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dr_file</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">fit_terms_expression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape_fit_result_tree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_sources</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">path_substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/data_reduction/utils.html#add_star_shape_fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.data_reduction.utils.add_star_shape_fit" title="Link to this definition"></a></dt>
<dd><p>Add the results of a star shape fit to the DR file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape_fit_result_tree</strong> (<em>astrowisp.IOTree</em>) – The return
value of a successful call of astrowisp.FitStarShape.fit().</p></li>
<li><p><strong>num_sources</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The number of surces used in the fit (used to
determine the expected size of datasets).</p></li>
<li><p><strong>image_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The index of the image whose DR file is being
filled within the input list of images passed to PSF/PRF
fitting.</p></li>
<li><p><strong>fit_variables</strong> (<em>iterable</em>) – The variables that were used in the
fit in the order in which they appear in the tree.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autowisp.data_reduction.utils.delete_aperture_photometry">
<span class="sig-prename descclassname"><span class="pre">autowisp.data_reduction.utils.</span></span><span class="sig-name descname"><span class="pre">delete_aperture_photometry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dr_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_apertures</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">path_substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/data_reduction/utils.html#delete_aperture_photometry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.data_reduction.utils.delete_aperture_photometry" title="Link to this definition"></a></dt>
<dd><p>Delete all DR elements of an aperture photometry.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autowisp.data_reduction.utils.delete_star_shape_fit">
<span class="sig-prename descclassname"><span class="pre">autowisp.data_reduction.utils.</span></span><span class="sig-name descname"><span class="pre">delete_star_shape_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dr_file</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">path_substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/data_reduction/utils.html#delete_star_shape_fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.data_reduction.utils.delete_star_shape_fit" title="Link to this definition"></a></dt>
<dd><p>Delete all DR elements added by <cite>add_star_shape_fit()</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autowisp.data_reduction.utils.fill_aperture_photometry_input_tree">
<span class="sig-prename descclassname"><span class="pre">autowisp.data_reduction.utils.</span></span><span class="sig-name descname"><span class="pre">fill_aperture_photometry_input_tree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dr_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shapefit_version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">srcproj_version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background_version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/data_reduction/utils.html#fill_aperture_photometry_input_tree"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.data_reduction.utils.fill_aperture_photometry_input_tree" title="Link to this definition"></a></dt>
<dd><p>Fill a astrowisp.IOTree with shape fit info for aperture photometry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tree</strong> (<em>astrowisp.IOTree</em>) – The tree to fill.</p></li>
<li><p><strong>shapefit_version</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The version of the star shape fit results
stored in the file to use when initializing the tree.</p></li>
<li><p><strong>srcproj_version</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The version of the projected sources to
assume was used for shape fitting, and to use for aperture
photometry.</p></li>
<li><p><strong>background_vesrion</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The version of the background extraction
to assume was used for shape fitting, and to use for aperture
photometry.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The number of sources added to the tree.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autowisp.data_reduction.utils.get_aperture_photometry_inputs">
<span class="sig-prename descclassname"><span class="pre">autowisp.data_reduction.utils.</span></span><span class="sig-name descname"><span class="pre">get_aperture_photometry_inputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dr_file</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">path_substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/data_reduction/utils.html#get_aperture_photometry_inputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.data_reduction.utils.get_aperture_photometry_inputs" title="Link to this definition"></a></dt>
<dd><p>Return all required information for aperture photometry from PSF fit DR.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path_substitutions</strong> – Values to substitute in the paths to the
datasets and attributes containing shape fit informaiton
(usually versions of various components).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>All parameters required by</dt><dd><p>astrowisp.IOTree.set_aperture_photometry_inputs() directly
passable to that method through dict unpacking.</p>
</dd>
<dt>str:</dt><dd><p>The expression defining which terms the PSF/PRF depends on.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="autowisp.data_reduction.utils.get_source_extracted_psf_map">
<span class="sig-prename descclassname"><span class="pre">autowisp.data_reduction.utils.</span></span><span class="sig-name descname"><span class="pre">get_source_extracted_psf_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dr_file</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">path_substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/autowisp/data_reduction/utils.html#get_source_extracted_psf_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autowisp.data_reduction.utils.get_source_extracted_psf_map" title="Link to this definition"></a></dt>
<dd><p>Return functions giving the source extraction PSF map in dr_file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path_substitutions</strong> – Substitution arguments required to resolve
the path to the relevant datasets/attributes.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The PSF map derived from extracted sources stored in this DR
file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="autowisp.data_reduction.source_extracted_psf_map.html#autowisp.data_reduction.source_extracted_psf_map.SourceExtractedPSFMap" title="autowisp.data_reduction.source_extracted_psf_map.SourceExtractedPSFMap">SourceExtractedPSFMap</a></p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="autowisp.data_reduction.source_extracted_psf_map.html" class="btn btn-neutral float-left" title="autowisp.data_reduction.source_extracted_psf_map module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="autowisp.database.html" class="btn btn-neutral float-right" title="autowisp.database package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018, Kaloyan Penev.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>