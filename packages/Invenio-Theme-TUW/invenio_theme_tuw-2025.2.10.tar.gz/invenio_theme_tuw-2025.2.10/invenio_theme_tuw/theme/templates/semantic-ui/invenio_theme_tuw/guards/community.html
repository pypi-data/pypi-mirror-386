{# -*- coding: utf-8 -*-

  Copyright (C) 2022-2023 TU Wien.

  Invenio is free software; you can redistribute it and/or modify it
  under the terms of the MIT License; see LICENSE file for more details.
#}

{%- extends "invenio_theme_tuw/overrides/page_error.html" %}

{%- set mail_subject   = "Community creation" %}
{%- set theme_sitename = config.THEME_SITENAME %}
{%- set nl             = "%0A" %}
{%-
  set mail_body = "Hey," + nl + nl +
    "I'd like to create a new community at '" + theme_sitename + "' - could you please help me?" + nl + nl +
    "My username: '" + user.username + "'" + nl +
    "The community's purpose: <PURPOSE>" + nl +
    "Community Name: <NAME>" + nl +
    "Desired shorthand identifier for URLs (leave out if indifferent): <IDENTIFIER>" + nl + nl +
    "Thanks!"
%}

{%- block message %}
  <h1>
    <i class="bolt icon"></i>
      {{ _("Permission denied") }}
  </h1>
  <p>
    <p class="bold">
      Sorry, the creation of communities is currently only available to administrators!
    </p>
    <p>
      In case you would like to create a new community, please drop us an
      <a href="mailto:{{ config.THEME_TUW_CONTACT_EMAIL }}?subject={{ mail_subject }}&body={{ mail_body }}">e-mail</a>
      providing the desired name, shorthand identifier, and purpose of the community!
    </p>
    <p>
      <i class="hand point right outline icon"></i>
      If you're unsure about what communities are, please see our <a href="{{ config.THEME_TUW_FAQ_URL }}">FAQ</a>.
    </p>
  </p>

  {%- if config.THEME_TUW_COMMUNITY_PERMISSION_ERROR_PARAGRAPH %}
    <p>
      {{ config.THEME_TUW_COMMUNITY_PERMISSION_ERROR_PARAGRAPH|safe }}
    </p>
  {%- endif %}

{%- endblock message %}
