{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Slide Deck Structure",
    "description": "Schema to represent a structured set of slides for presentations.",
    "type": "object",
    "properties": {
        "slides": {
            "type": "array",
            "items": {
                "oneOf": [
                    {
                        "type": "object",
                        "title": "Title Page",
                        "properties": {
                            "type": {
                                "const": "title",
                                "description": "Indicates this is a title page."
                            },
                            "title": {
                                "type": "string",
                                "maxLength": 7,
                                "description": "Concise title within 7 words."
                            },
                            "subtitle": {
                                "type": "string",
                                "maxLength": 10,
                                "description": "Concise subtitle within 10 words."
                            },
                            "author": {
                                "type": "string",
                                "description": "Name of the author."
                            },
                            "date": {
                                "type": "string",
                                "format": "date",
                                "description": "Date of the presentation."
                            },
                            "ppt_type": {
                                "type": "string",
                                "description": "Type of the presentation (e.g., 'work report')."
                            }
                        },
                        "required": [
                            "type",
                            "title",
                            "subtitle",
                            "author",
                            "date",
                            "ppt_type"
                        ],
                        "additionalProperties": false
                    },
                    {
                        "type": "object",
                        "title": "Section Title Page",
                        "properties": {
                            "type": {
                                "const": "section_title",
                                "description": "Indicates this is a section title page."
                            },
                            "title": {
                                "type": "string",
                                "maxLength": 7,
                                "description": "Concise title within 7 words."
                            },
                            "subtitle": {
                                "type": "string",
                                "maxLength": 10,
                                "description": "Concise subtitle within 10 words."
                            },
                            "section_no": {
                                "type": "integer",
                                "description": "Section number."
                            }
                        },
                        "required": [
                            "type",
                            "title",
                            "subtitle",
                            "section_no"
                        ],
                        "additionalProperties": false
                    },
                    {
                        "type": "object",
                        "title": "Content Page",
                        "properties": {
                            "type": {
                                "const": "content",
                                "description": "Indicates this page contains single column content."
                            },
                            "title": {
                                "type": "string",
                                "description": "Page title."
                            },
                            "content": {
                                "$ref": "#/$defs/BaseContent",
                                "description": "Content of the page, can be text, image, or table."
                            }
                        },
                        "required": [
                            "type",
                            "title",
                            "content"
                        ],
                        "additionalProperties": false
                    },
                    {
                        "type": "object",
                        "title": "Two Column Content Page",
                        "properties": {
                            "type": {
                                "const": "two_column_content",
                                "description": "Indicates this page contains two column content."
                            },
                            "title": {
                                "type": "string",
                                "description": "Page title."
                            },
                            "content": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/$defs/BaseContent"
                                },
                                "minItems": 1,
                                "description": "Array of contents for each column."
                            }
                        },
                        "required": [
                            "type",
                            "title",
                            "content"
                        ],
                        "additionalProperties": false
                    },
                    {
                        "type": "object",
                        "title": "Items Page (3)",
                        "properties": {
                            "type": {
                                "const": "items_page_3",
                                "description": "Indicates a page containing three items."
                            },
                            "title": {
                                "type": "string",
                                "description": "Page title."
                            },
                            "items": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/$defs/Item"
                                },
                                "minItems": 3,
                                "maxItems": 3,
                                "description": "Exactly three items."
                            }
                        },
                        "required": [
                            "type",
                            "items"
                        ],
                        "additionalProperties": false
                    },
                    {
                        "type": "object",
                        "title": "Items Page (4)",
                        "properties": {
                            "type": {
                                "const": "items_page_4",
                                "description": "Indicates a page containing four items."
                            },
                            "title": {
                                "type": "string",
                                "description": "Page title."
                            },
                            "items": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/$defs/Item"
                                },
                                "minItems": 4,
                                "maxItems": 4,
                                "description": "Exactly four items."
                            }
                        },
                        "required": [
                            "type",
                            "items"
                        ],
                        "additionalProperties": false
                    },
                    {
                        "type": "object",
                        "title": "Items Page (4) - Key Points",
                        "properties": {
                            "type": {
                                "const": "items_page_4_key_point",
                                "description": "Indicates a page containing four key points or stages."
                            },
                            "title": {
                                "type": "string",
                                "description": "Page title."
                            },
                            "label": {
                                "type": "array",
                                "items": {
                                    "type": "string",
                                    "pattern": "^.{1}$",
                                    "description": "Exactly one character/letter/digit."
                                },
                                "minItems": 4,
                                "maxItems": 4,
                                "description": "Optional labels for the key points.",
                                "uniqueItems": true
                            },
                            "items": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/$defs/Item"
                                },
                                "minItems": 4,
                                "maxItems": 4,
                                "description": "Exactly four items."
                            }
                        },
                        "required": [
                            "type",
                            "items"
                        ],
                        "additionalProperties": false
                    },
                    {
                        "type": "object",
                        "title": "Items Page (4) - Icons/Process",
                        "properties": {
                            "type": {
                                "const": "items_page_4_img",
                                "description": "Indicates a page depicting a process or framework using icons."
                            },
                            "title": {
                                "type": "string",
                                "description": "Page title."
                            },
                            "items": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/$defs/Item"
                                },
                                "minItems": 4,
                                "maxItems": 4,
                                "description": "Exactly four items associated with icons."
                            },
                            "image_url": {
                                "type": "string",
                                "format": "uri",
                                "description": "Absolute URL to the image resource, must be png/jpg/gif or other image format, html are prohibited here. This image should be a logo or depicts some object or some general topic. Charts and complex graphs should be prohibited."
                            }
                        },
                        "required": [
                            "type",
                            "items",
                            "image_url"
                        ],
                        "additionalProperties": false
                    },
                    {
                        "type": "object",
                        "title": "Item Page (4) - Growth",
                        "properties": {
                            "type": {
                                "const": "item_page_4_growth",
                                "description": "Visual presentation of growth over time using a bar chart."
                            },
                            "title": {
                                "type": "string",
                                "description": "Page title."
                            },
                            "items": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/$defs/Item"
                                },
                                "minItems": 4,
                                "maxItems": 4,
                                "description": "Four items aligned with a growing trend; first item maps to the highest point of the growth curve."
                            }
                        },
                        "required": [
                            "type",
                            "items"
                        ],
                        "additionalProperties": false
                    },
                    {
                        "type": "object",
                        "title": "Item Page (6) - Sequence",
                        "properties": {
                            "type": {
                                "const": "item_page_6_sequence",
                                "description": "Depicts a step-by-step process or timeline with six stages."
                            },
                            "title": {
                                "type": "string",
                                "description": "Page title."
                            },
                            "items": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/$defs/Item"
                                },
                                "minItems": 6,
                                "maxItems": 6,
                                "description": "Six items representing sequential steps."
                            }
                        },
                        "required": [
                            "type",
                            "items"
                        ],
                        "additionalProperties": false
                    },
                    {
                        "type": "object",
                        "title": "Item Page (5) - Sequence",
                        "properties": {
                            "type": {
                                "const": "item_page_5_sequence",
                                "description": "Depicts a step-by-step process or timeline with five stages."
                            },
                            "title": {
                                "type": "string",
                                "description": "Page title."
                            },
                            "items": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/$defs/Item"
                                },
                                "minItems": 5,
                                "maxItems": 5,
                                "description": "Five items representing sequential steps."
                            }
                        },
                        "required": [
                            "type",
                            "items"
                        ],
                        "additionalProperties": false
                    },
                    {
                        "type": "object",
                        "title": "Acknowledgment Page",
                        "properties": {
                            "type": {
                                "const": "acknowledgement",
                                "description": "Indicates this is an acknowledgment or closing page."
                            },
                            "title": {
                                "type": "string",
                                "enum": [
                                    "Thank You",
                                    "谢谢",
                                    "END",
                                    "FIN"
                                ],
                                "description": "Formal ending statement."
                            },
                            "subtitle": {
                                "type": "string",
                                "maxLength": 10,
                                "description": "Brief subtitle or notes."
                            },
                            "author": {
                                "type": "string",
                                "description": "Name of the author."
                            },
                            "date": {
                                "type": "string",
                                "format": "date",
                                "description": "Date of the presentation."
                            },
                            "ppt_type": {
                                "type": "string",
                                "description": "Type of the presentation (e.g., 'work report')."
                            }
                        },
                        "required": [
                            "type",
                            "title",
                            "subtitle",
                            "author",
                            "date",
                            "ppt_type"
                        ],
                        "additionalProperties": false
                    }
                ]
            }
        }
    },
    "required": [
        "slides"
    ],
    "additionalProperties": false,
    "$defs": {
        "BaseContent": {
            "type": "object",
            "discriminator": {
                "propertyName": "content_type",
                "mapping": {
                    "text": "#/$defs/TextContent",
                    "image": "#/$defs/ImageContent",
                    "table": "#/$defs/TableContent"
                }
            },
            "properties": {
                "content_type": {
                    "type": "string",
                    "enum": [
                        "text",
                        "image",
                        "table"
                    ],
                    "description": "Type of content: text, image, or table."
                }
            },
            "required": [
                "content_type"
            ]
        },
        "Paragraph": {
            "type": "object",
            "description": "A paragraph of text.",
            "properties": {
                "text": {
                    "type": "string",
                    "description": "Main content of the paragraph."
                },
                "bullet": {
                    "type": "boolean",
                    "description": "Indicator if the paragraph should be displayed as a bullet point.",
                    "default": false
                },
                "level": {
                    "type": "integer",
                    "minimum": 0,
                    "description": "Level of indentation (should be 0 most of the time, 1 for sub-items)."
                }
            },
            "required": [
                "text"
            ],
            "additionalProperties": false
        },
        "Item": {
            "type": "object",
            "description": "An item with a short title and content.",
            "properties": {
                "title": {
                    "type": "string",
                    "maxLength": 4,
                    "description": "Very concise title within 4 characters or 3 words."
                },
                "content": {
                    "type": "string",
                    "maxLength": 10,
                    "description": "Very concise content within 10 words."
                }
            },
            "required": [
                "title",
                "content"
            ],
            "additionalProperties": false
        },
        "TextContent": {
            "allOf": [
                {
                    "$ref": "#/$defs/BaseContent"
                },
                {
                    "type": "object",
                    "properties": {
                        "paragraph": {
                            "oneOf": [
                                {
                                    "type": "array",
                                    "items": {
                                        "oneOf": [
                                            {
                                                "$ref": "#/$defs/Paragraph"
                                            },
                                            {
                                                "$ref": "https://json-schema.org/draft-07/schema#"
                                            }
                                        ]
                                    },
                                    "minItems": 1
                                },
                                {
                                    "type": "string",
                                    "description": "Single string paragraph."
                                }
                            ],
                            "description": "Content can be one or more paragraphs, or a single string paragraph."
                        }
                    },
                    "required": [
                        "paragraph"
                    ]
                }
            ]
        },
        "ImageContent": {
            "allOf": [
                {
                    "$ref": "#/$defs/BaseContent"
                },
                {
                    "type": "object",
                    "properties": {
                        "image_url": {
                            "type": "string",
                            "format": "uri",
                            "description": "Absolute URL to the image resource."
                        },
                        "caption": {
                            "type": "string",
                            "maxLength": 20,
                            "description": "Optional brief caption for the image."
                        }
                    },
                    "required": [
                        "image_url"
                    ]
                }
            ],
            "required": [
                "image_url"
            ]
        },
        "TableContent": {
            "allOf": [
                {
                    "$ref": "#/$defs/BaseContent"
                },
                {
                    "type": "object",
                    "properties": {
                        "header": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "minItems": 1,
                            "description": "Row defining the headers of the table."
                        },
                        "rows": {
                            "type": "array",
                            "items": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                },
                                "minItems": 1
                            },
                            "minItems": 1,
                            "maxItems": 7,
                            "description": "Rows of data within the table."
                        },
                        "caption": {
                            "type": "string",
                            "maxLength": 20,
                            "description": "Optional brief caption for the table."
                        },
                        "n_rows": {
                            "type": "integer",
                            "description": "Number of rows in the table, cannot exceed 7.",
                            "maximum": 7,
                            "minimum": 1
                        },
                        "n_cols": {
                            "type": "integer",
                            "description": "Number of columns in the table, cannot exceed 10.",
                            "maximum": 10,
                            "minimum": 1
                        }
                    },
                    "required": [
                        "header",
                        "rows",
                        "n_rows",
                        "n_cols"
                    ]
                }
            ]
        }
    }
}