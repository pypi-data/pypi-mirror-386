# Market Data Pipeline Environment Variables
# Copy this file to .env and customize for your environment

# Database Configuration
DATABASE_URL=postgres://postgres:postgres@localhost:5432/market_data

# Pipeline Configuration
PIPELINE_BATCH_SIZE=500
PIPELINE_FLUSH_MS=100
PIPELINE_MAX_BYTES=512000

# Queue Configuration
PIPELINE_OP_QUEUE_MAX=8
PIPELINE_SINK_QUEUE_MAX=16
PIPELINE_DROP_POLICY=oldest

# Sink Configuration
PIPELINE_SINK_WORKERS=2
PIPELINE_SINK_QUEUE_MAX=100
PIPELINE_SINK_BACKPRESSURE_POLICY=block

# Pacing Configuration
PIPELINE_PACING_BUDGET_MAX_MSGS_PER_SEC=1000
PIPELINE_PACING_BUDGET_BURST=1000

# Telemetry Configuration
PIPELINE_ENABLE_METRICS=true
PIPELINE_ENABLE_TRACING=false
PIPELINE_METRICS_PORT=8080

# Development Configuration
LOG_LEVEL=INFO
DEBUG=false

# API Configuration
API_HOST=0.0.0.0
API_PORT=8083
API_WORKERS=1

# Docker Configuration
POSTGRES_DB=market_data
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# Pulse Event Bus (Phase 10.1)
PULSE_ENABLED=true
EVENT_BUS_BACKEND=inmem
REDIS_URL=redis://localhost:6379/0
MD_NAMESPACE=mdp
SCHEMA_TRACK=v1
PUBLISHER_TOKEN=unset

# Schema Registry (Phase 11.0B + 11.1)
REGISTRY_ENABLED=false
REGISTRY_URL=https://schema-registry-service.fly.dev
REGISTRY_TOKEN=
REGISTRY_CACHE_TTL=300
REGISTRY_TIMEOUT=30.0
REGISTRY_TRACK=v1
SCHEMA_PREFER_TRACK=v2
SCHEMA_FALLBACK_TRACK=v1
REGISTRY_ENFORCEMENT=warn  # warn | strict
REGISTRY_POLL_SECONDS=60