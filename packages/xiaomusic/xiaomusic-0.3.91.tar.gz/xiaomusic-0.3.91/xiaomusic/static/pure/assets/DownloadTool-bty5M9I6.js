import{k as C,l as P,m as E,u as T,n as k,o as y,c as _,p as V,q as c,s as q,v as R,x as z,y as B,z as F,_ as L,A as f,b as m,a as e,w as a,E as $,d as h,t as S,e as u,i as x,h as I,f as j,j as O}from"./index-BAPaOAUA.js";const A=C({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:P(String),default:"solid"}}),H=E({name:"ElDivider"}),J=E({...H,props:A,setup(g){const s=g,o=T("divider"),t=k(()=>o.cssVar({"border-style":s.borderStyle}));return(n,v)=>(y(),_("div",{class:V([c(o).b(),c(o).m(n.direction)]),style:z(c(t)),role:"separator"},[n.$slots.default&&n.direction!=="vertical"?(y(),_("div",{key:0,class:V([c(o).e("text"),c(o).is(n.contentPosition)])},[q(n.$slots,"default")],2)):R("v-if",!0)],6))}});var M=B(J,[["__file","divider.vue"]]);const W=F(M),G={class:"download-tool-container"},K={__name:"DownloadTool",setup(g){const s=f({playlistUrl:"https://m.bilibili.com/video/BV1WUsDezE88",dirname:""}),o=f({songUrl:"https://m.bilibili.com/video/BV1qD4y1U7fs",songName:""}),t=f({playlist:!1,song:!1}),n=async(d,l)=>{try{const r=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(r){throw console.error("请求失败:",r),r}},v=async()=>{if(!s.playlistUrl||!s.dirname){u.error("请填写完整的歌单 URL 和歌单名字");return}t.playlist=!0;try{const d=await n("/downloadplaylist",{dirname:s.dirname,url:s.playlistUrl});u.success("歌单下载请求已发送!")}catch{u.error("歌单下载请求失败，请重试。")}finally{t.playlist=!1}},N=async()=>{if(!o.songUrl||!o.songName){u.error("请填写完整的歌曲 URL 和歌曲名字");return}t.song=!0;try{const d=await n("/downloadonemusic",{name:o.songName,url:o.songUrl});u.success("单曲下载请求已发送!")}catch{u.error("单曲下载请求失败，请重试。")}finally{t.song=!1}};return(d,l)=>{const r=x,i=I,U=j,w=O,b=$,D=W;return y(),_("div",G,[l[6]||(l[6]=m("h1",null,"歌曲下载工具",-1)),e(b,{class:"download-card"},{header:a(()=>l[4]||(l[4]=[m("div",{class:"card-header"},[m("span",null,"歌单下载")],-1)])),default:a(()=>[e(w,{ref:"playlistForm",model:s,class:"download-form"},{default:a(()=>[e(i,{label:"歌单 URL",prop:"playlistUrl",required:""},{default:a(()=>[e(r,{modelValue:s.playlistUrl,"onUpdate:modelValue":l[0]||(l[0]=p=>s.playlistUrl=p),placeholder:"请输入歌单URL",clearable:""},null,8,["modelValue"])]),_:1}),e(i,{label:"歌单名字",prop:"dirname",required:""},{default:a(()=>[e(r,{modelValue:s.dirname,"onUpdate:modelValue":l[1]||(l[1]=p=>s.dirname=p),placeholder:"请输入歌单名字",clearable:""},null,8,["modelValue"])]),_:1}),e(i,null,{default:a(()=>[e(U,{type:"primary",onClick:v,loading:t.playlist},{default:a(()=>[h(S(t.playlist?"下载中...":"下载歌单"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1}),e(D),e(b,{class:"download-card"},{header:a(()=>l[5]||(l[5]=[m("div",{class:"card-header"},[m("span",null,"单曲下载")],-1)])),default:a(()=>[e(w,{ref:"songForm",model:o,class:"download-form"},{default:a(()=>[e(i,{label:"歌曲 URL",prop:"songUrl",required:""},{default:a(()=>[e(r,{modelValue:o.songUrl,"onUpdate:modelValue":l[2]||(l[2]=p=>o.songUrl=p),placeholder:"请输入歌曲URL",clearable:""},null,8,["modelValue"])]),_:1}),e(i,{label:"歌曲名字",prop:"songName",required:""},{default:a(()=>[e(r,{modelValue:o.songName,"onUpdate:modelValue":l[3]||(l[3]=p=>o.songName=p),placeholder:"请输入歌曲名字",clearable:""},null,8,["modelValue"])]),_:1}),e(i,null,{default:a(()=>[e(U,{type:"primary",onClick:N,loading:t.song},{default:a(()=>[h(S(t.song?"下载中...":"下载单曲"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})])}}},X=L(K,[["__scopeId","data-v-37ff9a55"]]);export{X as default};
