// Dev Container è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
// è©³ç´°: https://aka.ms/devcontainer.json
{
    // ã‚³ãƒ³ãƒ†ãƒŠåï¼ˆVS Code å·¦ä¸‹ã«è¡¨ç¤ºï¼‰
    "name": "Sanwa Salesforce Development Container",

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // 1) ã©ã® Dockerfile ã§ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã‹
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    "build": {
        "dockerfile": "Dockerfile" // åŒãƒ•ã‚©ãƒ«ãƒ€ç›´ä¸‹ã® Dockerfile
    },

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // 2) VSÂ Code å´ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    "customizations": {
        "vscode": {
            // 2â€‘1) æ‹¡å¼µæ©Ÿèƒ½ï¼ˆãƒãƒ¼ãƒ å…±æœ‰ï¼‰
            "extensions": [
                "dbaeumer.vscode-eslint", // ESLint : JavaScript/TypeScriptã®é™çš„è§£æ
                "ms-azuretools.vscode-docker", // Docker : Dockerã‚µãƒãƒ¼ãƒˆ
                "esbenp.prettier-vscode", // Prettier : ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼
                "FinancialForce.lana", // Lana : Salesforceç”¨Apex Linter
                "redhat.vscode-xml", // XML : XMLãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†æ”¯æ´
                "tamasfe.even-better-toml", // TOML : TOMLãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†æ”¯æ´
                "visualstudioexptteam.vscodeintellicode", // IntelliCode : AIã‚³ãƒ¼ãƒ‰è£œå®Œæ”¯æ´
                "donjayamanne.githistory", // Git History : Gitå±¥æ­´é–²è¦§
                "GitHub.copilot-chat", // Copilot Chat : AIãƒãƒ£ãƒƒãƒˆæ”¯æ´
                "GitHub.copilot", // Copilot : AIã‚³ãƒ¼ãƒ‰è£œå®Œ
                "openai.chatgpt", // OpenAI Codex: AIã‚³ãƒ¼ãƒ‰æ”¯æ´
                "mhutchie.git-graph", // Git Graph : Gitå¯è¦–åŒ–
                "eamodio.gitlens", // GitLens : Gitæ‹¡å¼µæ©Ÿèƒ½
                "yzhang.markdown-all-in-one", // Markdown All in One : Markdownæ”¯æ´
                "shd101wyy.markdown-preview-enhanced", // Markdown Preview Enhanced : Markdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
                "davidanson.vscode-markdownlint", // MarkdownLint : Markdownæ§‹æ–‡ãƒã‚§ãƒƒã‚¯
                "johnpapa.vscode-peacock", // Peacock : ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹è‰²åˆ†ã‘
                "oderwat.indent-rainbow", // Indent Rainbow : ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆå¯è¦–åŒ–
                "salesforce.salesforcedx-vscode", // Salesforce Extension Pack : Salesforceé–‹ç™ºæ”¯æ´
                "salesforce.salesforcedx-vscode-expanded", // Salesforceæ‹¡å¼µ : Salesforceé–‹ç™ºæ”¯æ´æ‹¡å¼µ
                "salesforce.salesforcedx-einstein-gpt", // Einstein GPT : Salesforce AIæ”¯æ´
                "VignaeshRamA.sfdx-package-xml-generator", // SFDX Package XML Generator : Salesforceãƒ‘ãƒƒã‚±ãƒ¼ã‚¸XMLç”Ÿæˆ
                "ms-python.python", // Python : Pythoné–‹ç™ºæ”¯æ´
                "ms-python.black-formatter", // Black Formatter : Pythonã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼
                "ms-python.isort", // isort : Pythonã‚¤ãƒ³ãƒãƒ¼ãƒˆè‡ªå‹•æ•´åˆ—
                "ms-python.mypy-type-checker" // mypy : Pythonå‹ãƒã‚§ãƒƒã‚¯
            ],

            // 2â€‘2) VSÂ Code ã®è¨­å®š
            "settings": {
                // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ zsh ã«
                "terminal.integrated.defaultProfile.linux": "zsh",

                // Python
                "python.defaultInterpreterPath": "/usr/bin/python3",
                "python.formatting.provider": "black",
                "python.formatting.blackArgs": ["--line-length=88"],
                "python.linting.enabled": true,
                "python.linting.mypyEnabled": true,
                "python.testing.pytestEnabled": true,
                "python.testing.unittestEnabled": false,
                "python.testing.pytestArgs": ["."],

                // ä¿å­˜æ™‚ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
                "[python]": {
                    "editor.formatOnSave": true,
                    "editor.codeActionsOnSave": {
                        "source.organizeImports": "explicit"
                    }
                }
            }
        }
    },

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // 3) ãƒã‚¦ãƒ³ãƒˆè¨­å®š
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    "workspaceFolder": "/sanwa-sf-devtools", // ã‚³ãƒ³ãƒ†ãƒŠå†…ã®ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
    // ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã‚’æŒ‡å®šãƒ‘ã‚¹ã«ãƒã‚¦ãƒ³ãƒˆï¼ˆãƒ›ã‚¹ãƒˆå´ã®é–‹ã„ã¦ã„ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½¿ç”¨ï¼‰
    "workspaceMount": "source=${localWorkspaceFolder},target=/sanwa-sf-devtools,type=bind,consistency=cached",
    "mounts": [
        // sf CLI èªè¨¼ã‚­ãƒ£ãƒƒã‚·ãƒ¥
        "source=${localEnv:HOME}/.sf,target=/root/.sf,type=bind,consistency=cached",
        // Codex è¨­å®šãƒ»èªè¨¼ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆroot ã¨ workspace ä¸¡æ–¹ã«ãƒã‚¦ãƒ³ãƒˆï¼‰
        "source=${localEnv:HOME}/.codex,target=/root/.codex,type=bind,consistency=cached",
        "source=${localEnv:HOME}/.codex,target=/sanwa-sf-devtools/.codex,type=bind,consistency=cached"
    ],

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // 4) å®Ÿè¡Œãƒ¦ãƒ¼ã‚¶ãƒ¼
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    "remoteUser": "root",

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // 5) è¿½åŠ æ©Ÿèƒ½ï¼ˆä»Šå›ã¯ã‚³ãƒ¡ãƒ³ãƒˆã®ã¾ã¾ï¼‰
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // "features": {},

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // 6) ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ï¼ˆå¿…è¦ãªã‚‰æœ‰åŠ¹åŒ–ï¼‰
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // "forwardPorts": [8080],

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // 7) è‡ªå‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // ãƒã‚¦ãƒ³ãƒˆå…ˆã¨ãªã‚‹ãƒ›ã‚¹ãƒˆå´ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’äº‹å‰ã«ä½œæˆï¼ˆå­˜åœ¨ã—ãªã„å ´åˆã§ã‚‚ã‚¨ãƒ©ãƒ¼å›é¿ï¼‰
    "initializeCommand": "bash -c 'mkdir -p \"${HOME}/.sf\" \"${HOME}/.codex\"'",
    "postCreateCommand": "bash .devcontainer/setup.sh",
    "postStartCommand": "echo 'ğŸš€ Sanwa Salesforce é–‹ç™ºç’°å¢ƒãŒèµ·å‹•ã—ã¾ã—ãŸï¼' && sf_devtools --version || echo 'SF DevTools ã¯ã¾ã ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚'"
}
