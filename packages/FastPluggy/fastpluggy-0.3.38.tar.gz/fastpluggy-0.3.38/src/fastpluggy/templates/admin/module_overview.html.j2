<!-- Plugin Information Cards Grid -->
<div class="row g-3">
    <!-- Basic Information Card -->
    <div class="col-12 col-md-6 col-lg-4">
        <div class="card h-100">
            <div class="card-header">
                <h4 class="card-title mb-0">
                    <i class="{{ widget.plugin_data.get('module_menu_icon', 'fa fa-puzzle-piece') }} me-2"></i>
                    Basic Information
                </h4>
            </div>
            <div class="card-body">
                <div class="datagrid">
                    <div class="datagrid-item">
                        <div class="datagrid-title">Module Name</div>
                        <div class="datagrid-content">{{ widget.plugin_data.get('module_name', 'N/A') }}</div>
                    </div>
                    <div class="datagrid-item">
                        <div class="datagrid-title">Display Name</div>
                        <div class="datagrid-content">{{ widget.plugin_data.get('display_name', 'N/A') }}</div>
                    </div>
                    <div class="datagrid-item">
                        <div class="datagrid-title">Version</div>
                        <div class="datagrid-content">{{ widget.plugin_data.get('module_version', 'N/A') }}</div>
                    </div>
                    <div class="datagrid-item">
                        <div class="datagrid-title">Status</div>
                        <div class="datagrid-content">{{ widget.plugin_data.get('status_html', 'N/A') | safe }}</div>
                    </div>
                    <div class="datagrid-item">
                        <div class="datagrid-title">Module Type</div>
                        <div class="datagrid-content">{{ widget.plugin_data.get('module_type', 'N/A') }}</div>
                    </div>
                    <div class="datagrid-item">
                        <div class="datagrid-title">Menu Type</div>
                        <div class="datagrid-content">{{ widget.plugin_data.get('module_menu_type', 'N/A') }}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Status Information Card -->
    <div class="col-12 col-md-6 col-lg-4">
        <div class="card h-100">
            <div class="card-header">
                <h4 class="card-title mb-0">
                    <i class="fa fa-info-circle me-2"></i>
                    Status Information
                </h4>
            </div>
            <div class="card-body">
                <div class="datagrid">
                    <div class="datagrid-item">
                        <div class="datagrid-title">Initialized</div>
                        <div class="datagrid-content">
                            <span class="badge bg-{% if widget.plugin_data.get('initialized', False) %}green{% else %}red{% endif %}">
                                {% if widget.plugin_data.get('initialized', False) %}Yes{% else %}No{% endif %}
                            </span>
                        </div>
                    </div>
                    <div class="datagrid-item">
                        <div class="datagrid-title">Loaded</div>
                        <div class="datagrid-content">
                            <span class="badge bg-{% if widget.plugin_data.get('loaded', False) %}green{% else %}red{% endif %}">
                                {% if widget.plugin_data.get('loaded', False) %}Yes{% else %}No{% endif %}
                            </span>
                        </div>
                    </div>
                    <div class="datagrid-item">
                        <div class="datagrid-title">Enabled</div>
                        <div class="datagrid-content">
                            <span class="badge bg-{% if widget.plugin_data.get('enabled', False) %}green{% else %}red{% endif %}">
                                {% if widget.plugin_data.get('enabled', False) %}Yes{% else %}No{% endif %}
                            </span>
                        </div>
                    </div>
                    <div class="datagrid-item">
                        <div class="datagrid-title">Git Available</div>
                        <div class="datagrid-content">
                            <span class="badge bg-{% if widget.plugin_data.get('git_available', False) %}green{% else %}gray{% endif %}">
                                {% if widget.plugin_data.get('git_available', False) %}Yes{% else %}No{% endif %}
                            </span>
                        </div>
                    </div>
                    <div class="datagrid-item">
                        <div class="datagrid-title">Has Update</div>
                        <div class="datagrid-content">
                            <span class="badge bg-{% if widget.plugin_data.get('have_update', False) %}yellow{% else %}gray{% endif %}">
                                {% if widget.plugin_data.get('have_update', False) %}Yes{% else %}No{% endif %}
                            </span>
                        </div>
                    </div>
                    <div class="datagrid-item">
                        <div class="datagrid-title">URL</div>
                        <div class="datagrid-content">{{ widget.plugin_data.get('url', 'N/A') }}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Path Information Card -->
    <div class="col-12 col-md-6 col-lg-4">
        <div class="card h-100">
            <div class="card-header">
                <h4 class="card-title mb-0">
                    <i class="fa fa-folder me-2"></i>
                    Path Information
                </h4>
            </div>
            <div class="card-body">
                <div class="datagrid">
                    <div class="datagrid-item">
                        <div class="datagrid-title">Module Path</div>
                        <div class="datagrid-content text-muted" style="word-break: break-all;">
                            {{ widget.plugin_data.get('module_path', 'N/A') }}
                        </div>
                    </div>
                    <div class="datagrid-item">
                        <div class="datagrid-title">Templates Directory</div>
                        <div class="datagrid-content text-muted">
                            {{ widget.plugin_data.get('templates_dir', 'N/A') }}
                        </div>
                    </div>
                    <div class="datagrid-item">
                        <div class="datagrid-title">Requirements Path</div>
                        <div class="datagrid-content text-muted" style="word-break: break-all;">
                            {{ widget.plugin_data.get('requirements_path', 'N/A') }}
                        </div>
                    </div>
                    <div class="datagrid-item">
                        <div class="datagrid-title">Requirements Exist</div>
                        <div class="datagrid-content">
                            <span class="badge bg-{% if widget.plugin_data.get('requirements_exists', False) %}green{% else %}gray{% endif %}">
                                {% if widget.plugin_data.get('requirements_exists', False) %}Yes{% else %}No{% endif %}
                            </span>
                        </div>
                    </div>
                    <div class="datagrid-item">
                        <div class="datagrid-title">PyProject Path</div>
                        <div class="datagrid-content text-muted" style="word-break: break-all;">
                            {{ widget.plugin_data.get('pyproject_path', 'N/A') }}
                        </div>
                    </div>
                    <div class="datagrid-item">
                        <div class="datagrid-title">PyProject Exist</div>
                        <div class="datagrid-content">
                            <span class="badge bg-{% if widget.plugin_data.get('pyproject_exists', False) %}green{% else %}gray{% endif %}">
                                {% if widget.plugin_data.get('pyproject_exists', False) %}Yes{% else %}No{% endif %}
                            </span>
                        </div>
                    </div>
                    <div class="datagrid-item">
                        <div class="datagrid-title">Dependency Type</div>
                        <div class="datagrid-content">
                            {% if widget.plugin_data.get('requirements_exists', False) and widget.plugin_data.get('pyproject_exists', False) %}
                                <span class="badge bg-blue me-1">requirements.txt</span>
                                <span class="badge bg-purple">pyproject.toml</span>
                            {% elif widget.plugin_data.get('requirements_exists', False) %}
                                <span class="badge bg-blue">requirements.txt</span>
                            {% elif widget.plugin_data.get('pyproject_exists', False) %}
                                <span class="badge bg-purple">pyproject.toml</span>
                            {% else %}
                                <span class="text-muted">None</span>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Dependencies Card -->
    <div class="col-12 col-md-6 col-lg-4">
        <div class="card h-100">
            <div class="card-header">
                <h4 class="card-title mb-0">
                    <i class="fa fa-link me-2"></i>
                    Dependencies
                </h4>
            </div>
            <div class="card-body">
                <div class="datagrid">
                    <div class="datagrid-item">
                        <div class="datagrid-title">Depends On</div>
                        <div class="datagrid-content">
                            {% if not widget.plugin_data.get('depends_on') %}
                                <div class="text-muted">None</div>
                            {% else %}
                                {% for k, v in widget.plugin_data.get('depends_on', {}).items() %}
                                    <div><span class="badge bg-blue me-1">{{ k }}</span> {{ v }}</div>
                                {% endfor %}
                            {% endif %}
                        </div>
                    </div>
                    <div class="datagrid-item">
                        <div class="datagrid-title">Package Dependencies</div>
                        <div class="datagrid-content">
                            {% set req_deps = widget.plugin_data.dependencies.get('requirements.txt', []) %}
                            {% set pyproject_deps = widget.plugin_data.dependencies.get('pyproject.toml', []) %}
                            {% if not req_deps and not pyproject_deps %}
                                <div class="text-muted">None</div>
                            {% else %}
                                {% if req_deps %}
                                    <div class="mb-2">
                                        <span class="badge bg-blue me-1">requirements.txt</span>
                                        {% for dep in req_deps %}
                                            <div class="text-sm text-muted">{{ dep }}</div>
                                        {% endfor %}
                                    </div>
                                {% endif %}
                                {% if pyproject_deps %}
                                    <div>
                                        <span class="badge bg-purple me-1">pyproject.toml</span>
                                        {% for dep in pyproject_deps %}
                                            <div class="text-sm text-muted">{{ dep }}</div>
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            {% endif %}
                        </div>
                    </div>
                    <div class="datagrid-item">
                        <div class="datagrid-title">Dependency Issues</div>
                        <div class="datagrid-content">
                            {% if not widget.plugin_data.get('dependency_issues') %}
                                <div class="text-muted">None</div>
                            {% else %}
                                {% for issue in widget.plugin_data.get('dependency_issues', []) %}
                                    <div class="text-danger">{{ issue }}</div>
                                {% endfor %}
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Errors and Warnings Card -->
    <div class="col-12 col-md-6 col-lg-4">
        <div class="card h-100">
            <div class="card-header">
                <h4 class="card-title mb-0">
                    <i class="fa fa-exclamation-triangle me-2"></i>
                    Errors and Warnings
                </h4>
            </div>
            <div class="card-body">
                <div class="datagrid">
                    <div class="datagrid-item">
                        <div class="datagrid-title">Errors</div>
                        <div class="datagrid-content">
                            {% if not widget.plugin_data.get('error') %}
                                <div class="text-muted">None</div>
                            {% else %}
                                {% for error in widget.plugin_data.get('error', []) %}
                                    <div class="text-danger">{{ error }}</div>
                                {% endfor %}
                            {% endif %}
                        </div>
                    </div>
                    <div class="datagrid-item">
                        <div class="datagrid-title">Warnings</div>
                        <div class="datagrid-content">
                            {% if not widget.plugin_data.get('warning') %}
                                <div class="text-muted">None</div>
                            {% else %}
                                {% for warning in widget.plugin_data.get('warning', []) %}
                                    <div class="text-warning">{{ warning }}</div>
                                {% endfor %}
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<span class="p-2"></span>