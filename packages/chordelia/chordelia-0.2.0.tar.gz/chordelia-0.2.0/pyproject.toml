[build-system]
requires = ["setuptools>=61.0"]
build-backend = "setuptools.build_meta"

[project]
name = "chordelia"
version = "0.2.0"
description = "A comprehensive music theory library built around algorithmic approaches"
readme = "README.md"
requires-python = ">=3.13"
dependencies = [
    # Core music theory - no external dependencies
]

[tool.setuptools.packages.find]
where = ["src"]

[dependency-groups]
# Audio playback support
audio = [
    "sounddevice>=0.4.0",
    "numpy>=1.20.0",
]

# MIDI file support  
midi = [
    "mido>=1.3.0",
    "python-rtmidi>=1.4.0",
]

# Complete audio experience (playback + MIDI)
all = [
    "chordelia[audio]",
    "chordelia[midi]",
]

# Development dependencies
dev = [
    "chordelia",
    "ipython>=9.6.0",
    "pip>=25.2",
    "pytest>=8.4.2",
    "uv>=0.9.2",
]

[tool.uv.workspace]
members = [
    ".",
]

[tool.uv.sources]
chordelia = { workspace = true }

[tool.pytest.ini_options]
markers = [
    "slow: marks tests as slow (deselect with -m 'not slow')",
]
