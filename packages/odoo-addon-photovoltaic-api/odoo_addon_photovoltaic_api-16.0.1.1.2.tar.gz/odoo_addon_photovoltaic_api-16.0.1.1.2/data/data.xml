<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="rule_res_partner" model="ir.rule">
        <field name="active">True</field>
        <field name="name">res.partner.portal</field>
        <field name="model_id" ref="account.model_res_partner" />
        <field name="domain_force">[('id', '=', user.partner_id.id)]</field>
        <field name="groups" eval="[(6, 0, [ref('base.group_portal')])]"/>
        <field name="perm_read">True</field>
        <field name="perm_write">True</field>
        <field name="perm_create">True</field>
        <field name="perm_unlink">True</field>
    </record>

    <record id="rule_contract_participation" model="ir.rule">
        <field name="active">True</field>
        <field name="name">contract.participation.portal</field>
        <field name="model_id" ref="photovoltaic_mgmt.model_contract_participation" />
        <field name="domain_force">[('partner_id.id', '=', user.partner_id.id)]</field>
        <field name="groups" eval="[(6, 0, [ref('base.group_portal')])]"/>
        <field name="perm_read">True</field>
        <field name="perm_write">True</field>
        <field name="perm_create">True</field>
        <field name="perm_unlink">True</field>
    </record>

    <record id="rule_contract_participation_production" model="ir.rule">
        <field name="active">True</field>
        <field name="name">contract.participation.production.portal</field>
        <field name="model_id" ref="photovoltaic_mgmt.model_contract_participation_production" />
        <field name="domain_force">[('contract_id.partner_id.id', '=', user.partner_id.id)]</field>
        <field name="groups" eval="[(6, 0, [ref('base.group_portal')])]"/>
        <field name="perm_read">True</field>
        <field name="perm_write">True</field>
        <field name="perm_create">True</field>
        <field name="perm_unlink">True</field>
    </record>

    <record id="rule_account_allocation" model="ir.rule">
        <field name="active">True</field>
        <field name="name">account.allocation.portal</field>
        <field name="model_id" ref="photovoltaic_mgmt.model_account_allocation" />
        <field name="domain_force">[('partner_id.id', '=', user.partner_id.id)]</field>
        <field name="groups" eval="[(6, 0, [ref('base.group_portal')])]"/>
        <field name="perm_read">True</field>
        <field name="perm_write">True</field>
        <field name="perm_create">True</field>
        <field name="perm_unlink">True</field>
    </record>

    <record id="rule_participant_liquidations" model="ir.rule">
        <field name="active">True</field>
        <field name="name">participant.liquidations.portal</field>
        <field name="model_id" ref="photovoltaic_participant_liquidations.model_participant_liquidations" />
        <field name="domain_force">[('partner_id.id', '=', user.partner_id.id)]</field>
        <field name="groups" eval="[(6, 0, [ref('base.group_portal')])]"/>
        <field name="perm_read">True</field>
        <field name="perm_write">True</field>
        <field name="perm_create">True</field>
        <field name="perm_unlink">True</field>
    </record> 

    <record id="rule_partner_bank" model="ir.rule">
        <field name="active">True</field>
        <field name="name">res.partner.bank.portal</field>
        <field name="model_id" ref="account.model_res_partner_bank" />
        <field name="domain_force">[('partner_id.id', '=', user.partner_id.id)]</field>
        <field name="groups" eval="[(6, 0, [ref('base.group_portal')])]"/>
        <field name="perm_read">True</field>
        <field name="perm_write">True</field>
        <field name="perm_create">True</field>
        <field name="perm_unlink">True</field>
    </record>


    <record id="auth_signup_uninvited" model="res.config.settings">
        <field name="auth_signup_uninvited">b2c</field>
    </record>

</odoo>
