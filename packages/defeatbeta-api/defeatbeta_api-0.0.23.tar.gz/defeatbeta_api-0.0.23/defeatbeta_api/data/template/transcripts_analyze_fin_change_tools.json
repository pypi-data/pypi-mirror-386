[
  {
    "type": "function",
    "function": {
      "name": "extract_sentences",
      "description": "Read and analyze the `earnings_call_transcripts` sentence by sentence, extract key sentences.",
      "strict": true,
      "parameters": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "key_sentences": {
            "type": "array",
            "description": "Sentences that include figures changes in business or financial aspects.",
            "additionalProperties": false,
            "items": {
              "type": "object",
              "properties": {
                "sentence": {
                  "type": "string",
                  "description": "The sentence MUST explicitly describes a financial metric that changed in the current quarter compared to either:\n  - The previous quarter (QoQ / sequential), or\n  - The same quarter last year (YoY)."
                },
                "speaker": {
                  "type": "string",
                  "description": "Name of the speaker who mentioned the `sentence`."
                },
                "paragraph_number": {
                  "type": "integer",
                  "description": "Paragraph number in the transcript where the `sentence` is mentioned."
                },
                "is_factual": {
                  "type": "string",
                  "enum": ["Y", "N"],
                  "description": "Return \"Y\" if the content of `sentence` is factual (already occurred), and \"N\" otherwise (for projections, guidance, expectation or forecasts)."
                },
                "short_summary": {
                  "type": "string",
                  "description": "The short summary of the `sentence`."
                },
                "direction": {
                  "type": "string",
                  "enum": ["up", "down", "unchanged"],
                  "description": "Based on the `sentence`, infer the `direction` of this figure change (\"up\", \"down\", or \"unchanged\")."
                },
                "reason": {
                  "type": "string",
                  "description": "Based on the `sentence`, infer the `reason` behind this figure change. The reason should be derived from the full transcript and use managementâ€™s own wording. If management does not mention any reason, return an empty string."
                }
              },
              "required": ["sentence", "speaker", "paragraph_number", "is_actual", "short_summary", "direction", "reason"]
            }
          }
        },
        "required": ["key_sentences"]
      }
    }
  }
]
