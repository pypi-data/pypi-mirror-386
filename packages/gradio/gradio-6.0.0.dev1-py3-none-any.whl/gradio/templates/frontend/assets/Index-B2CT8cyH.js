import"./init-5dmMBTcc.js";import{u as _l,a as ce,C as Jt,f as on,I as Zi,k as _s,aa as us,x as fs,y as cs,r as Kn,ab as ms,M as Wi,ac as hs,o as ds,ad as gs,T as bs,ae as ws,c as ks,B as ps,af as vs}from"./FullscreenButton-pJVgMiya.js";import{I as Kt}from"./Image-0bVIZe-w.js";import"./ImagePreview-lSYlR68P.js";import{M as Qn}from"./MarkdownCode-CJL7VgM9.js";import{s as ul,S as $s}from"./StreamingBar-Co5WtsWH.js";import{d as Cs}from"./index-CnqicUFC.js";import"./index-CtRY-svv.js";import"./svelte/svelte.js";import"./prism-python-DspNkBda.js";const zs=async(t,e=1800)=>{let n=[...t],l=await Sn(n);if(l.length>e&&n.length>2){const i=n[0],s=n[n.length-1];n=[i,s],l=await Sn(n)}return l.length>e&&n.length>0&&(n=n.map(s=>{if(s.type==="text"){const r=Math.floor(e/n.length)-20;if(s.content.length>r)return{...s,content:s.content.substring(0,r)+"..."}}return s}),l=await Sn(n)),l},Sn=async t=>(await Promise.all(t.map(async n=>{if(n.role==="system")return"";let l=n.role==="user"?"ðŸ˜ƒ":"ðŸ¤–",i="";if(n.type==="text"){const s={audio:/<audio.*?src="(\/file=.*?)"/g,video:/<video.*?src="(\/file=.*?)"/g,image:/<img.*?src="(\/file=.*?)".*?\/>|!\[.*?\]\((\/file=.*?)\)/g};i=n.content;for(let[r,a]of Object.entries(s)){let o;for(;(o=a.exec(n.content))!==null;){const _=o[1]||o[2],u=await _l(_);i=i.replace(_,u)}}}else{if(!n.content.value)return"";const s=n.content.component==="video"?n.content.value?.video.path:n.content.value,r=await _l(s);n.content.component==="audio"?i=`<audio controls src="${r}"></audio>`:n.content.component==="video"?i=r:n.content.component==="image"&&(i=`<img src="${r}" />`)}return`${l}: ${i}`}))).filter(n=>n!=="").join(`
`),qs=(t,e)=>t.replace('src="/file',`src="${e}file`);function Ss(t,e){if(!t){const n=e?.path;if(n){const l=n.toLowerCase();if(l.endsWith(".glb")||l.endsWith(".gltf")||l.endsWith(".obj")||l.endsWith(".stl")||l.endsWith(".splat")||l.endsWith(".ply"))return"model3d"}return"file"}return t.includes("audio")?"audio":t.includes("video")?"video":t.includes("image")?"image":t.includes("model")?"model3d":"file"}function Hs(t){const e=Array.isArray(t.file)?t.file[0]:t.file;return{component:Ss(e?.mime_type,e),value:t.file,alt_text:t.alt_text,constructor_args:{},props:{}}}function Ls(t,e,n,l){let i;return e.type==="text"?i={role:t.role,metadata:t.metadata,content:qs(e.text,n),type:"text",index:l,options:t.options}:e.type==="file"?i={role:t.role,metadata:t.metadata,content:Hs(e),type:"component",index:l,options:t.options}:i={role:t.role,metadata:t.metadata,content:e,type:"component",index:l,options:t.options},i}function Ns(t,e){if(t===null)return t;const n=new Map;return t.flatMap((l,i)=>{const s=l.content.map(r=>Ls(l,r,e,i));for(const r of s){const{id:a,title:o,parent_id:_}=l.metadata||{};if(_){const u=n.get(String(_));if(u){const f={...r,children:[]};return u.children.push(f),a&&o&&n.set(String(a),f),null}}if(a&&o){const u={...r,children:[]};return n.set(String(a),u),u}}return s}).filter(l=>l!==null)}function fl(t){return t.type==="component"}function en(t,e){const n=t[t.length-1].role==="assistant",l=t[t.length-1].index;return JSON.stringify(l)===JSON.stringify(e[e.length-1].index)&&n}function Ds(t,e=!0){const n=[];let l=[],i=null;for(const s of t)if(s.role==="assistant"||s.role==="user"){if(!e){n.push([s]);continue}s.role===i?l.push(s):(l.length>0&&n.push(l),l=[s],i=s.role)}return l.length>0&&n.push(l),n}async function Vs(t,e,n){let l=[],i=[];return t.forEach(a=>{if(e[a]||a==="file")return;const o=a==="dataframe"||a==="model3d"?"component":"base",{name:_,component:u}=n(a,o);l.push(_),i.push(u)}),(await Promise.allSettled(i)).map((a,o)=>a.status==="fulfilled"?[o,a.value]:null).filter(a=>a!==null).forEach(([a,o])=>{e[l[a]]=o.default}),e}function Is(t){if(!t)return[];let e=new Set;return t.forEach(n=>{n.type==="component"&&e.add(n.content.component)}),Array.from(e)}function Fn(t,e=0){let n="";const l="  ".repeat(e);t.metadata?.title&&(n+=`${l}${e>0?"- ":""}${t.metadata.title}
`),typeof t.content=="string"&&(n+=`${l}  ${t.content}
`);const i=t;return i.children?.length>0&&(n+=i.children.map(s=>Fn(s,e+1)).join("")),n}function Ms(t){return Array.isArray(t)?t.map(e=>e.metadata?.title?Fn(e):e.content).join(`
`):t.metadata?.title?Fn(t):t.content}function cl(t){return Array.isArray(t)&&t.every(e=>typeof e.content=="string")||!Array.isArray(t)&&typeof t.content=="string"}const{SvelteComponent:Es,append:Ts,attr:$t,detach:js,init:As,insert:Bs,noop:Hn,safe_not_equal:Fs,svg_element:ml}=window.__gradio__svelte__internal;function Zs(t){let e,n;return{c(){e=ml("svg"),n=ml("path"),$t(n,"d","M11.25 6.61523H9.375V1.36523H11.25V6.61523ZM3.375 1.36523H8.625V6.91636L7.48425 8.62748L7.16737 10.8464C7.14108 11.0248 7.05166 11.1879 6.91535 11.3061C6.77904 11.4242 6.60488 11.4896 6.4245 11.4902H6.375C6.07672 11.4899 5.79075 11.3713 5.57983 11.1604C5.36892 10.9495 5.2503 10.6635 5.25 10.3652V8.11523H2.25C1.85233 8.11474 1.47109 7.95654 1.18989 7.67535C0.908691 7.39415 0.750496 7.01291 0.75 6.61523V3.99023C0.750992 3.29435 1.02787 2.62724 1.51994 2.13517C2.01201 1.64311 2.67911 1.36623 3.375 1.36523Z"),$t(n,"fill","currentColor"),$t(e,"width","100%"),$t(e,"height","100%"),$t(e,"viewBox","0 0 12 12"),$t(e,"fill","none"),$t(e,"xmlns","http://www.w3.org/2000/svg")},m(l,i){Bs(l,e,i),Ts(e,n)},p:Hn,i:Hn,o:Hn,d(l){l&&js(e)}}}class hl extends Es{constructor(e){super(),As(this,e,null,Zs,Fs,{})}}const{SvelteComponent:Ws,append:Us,attr:Ct,detach:Ps,init:Os,insert:Js,noop:Ln,safe_not_equal:Rs,svg_element:dl}=window.__gradio__svelte__internal;function Gs(t){let e,n;return{c(){e=dl("svg"),n=dl("path"),Ct(n,"d","M2.25 8.11523H4.5V10.3652C4.5003 10.6635 4.61892 10.9495 4.82983 11.1604C5.04075 11.3713 5.32672 11.4899 5.625 11.4902H6.42488C6.60519 11.4895 6.77926 11.4241 6.91549 11.3059C7.05172 11.1878 7.14109 11.0248 7.16737 10.8464L7.48425 8.62748L8.82562 6.61523H11.25V1.36523H3.375C2.67911 1.36623 2.01201 1.64311 1.51994 2.13517C1.02787 2.62724 0.750992 3.29435 0.75 3.99023V6.61523C0.750496 7.01291 0.908691 7.39415 1.18989 7.67535C1.47109 7.95654 1.85233 8.11474 2.25 8.11523ZM9 2.11523H10.5V5.86523H9V2.11523ZM1.5 3.99023C1.5006 3.49314 1.69833 3.01657 2.04983 2.66507C2.40133 2.31356 2.8779 2.11583 3.375 2.11523H8.25V6.12661L6.76575 8.35298L6.4245 10.7402H5.625C5.52554 10.7402 5.43016 10.7007 5.35983 10.6304C5.28951 10.5601 5.25 10.4647 5.25 10.3652V7.36523H2.25C2.05118 7.36494 1.86059 7.28582 1.72 7.14524C1.57941 7.00465 1.5003 6.81406 1.5 6.61523V3.99023Z"),Ct(n,"fill","currentColor"),Ct(e,"width","100%"),Ct(e,"height","100%"),Ct(e,"viewBox","0 0 12 12"),Ct(e,"fill","none"),Ct(e,"xmlns","http://www.w3.org/2000/svg")},m(l,i){Js(l,e,i),Us(e,n)},p:Ln,i:Ln,o:Ln,d(l){l&&Ps(e)}}}class gl extends Ws{constructor(e){super(),Os(this,e,null,Gs,Rs,{})}}const{SvelteComponent:Ks,append:Qs,attr:zt,detach:Xs,init:Ys,insert:ys,noop:Nn,safe_not_equal:xs,svg_element:bl}=window.__gradio__svelte__internal;function eo(t){let e,n;return{c(){e=bl("svg"),n=bl("path"),zt(n,"d","M0.75 6.24023H2.625V11.4902H0.75V6.24023ZM8.625 11.4902H3.375V5.93911L4.51575 4.22798L4.83263 2.00911C4.85892 1.83065 4.94834 1.66754 5.08465 1.5494C5.22096 1.43125 5.39512 1.36591 5.5755 1.36523H5.625C5.92328 1.36553 6.20925 1.48415 6.42017 1.69507C6.63108 1.90598 6.7497 2.19196 6.75 2.49023V4.74023H9.75C10.1477 4.74073 10.5289 4.89893 10.8101 5.18012C11.0913 5.46132 11.2495 5.84256 11.25 6.24023V8.86523C11.249 9.56112 10.9721 10.2282 10.4801 10.7203C9.98799 11.2124 9.32089 11.4892 8.625 11.4902Z"),zt(n,"fill","currentColor"),zt(e,"width","100%"),zt(e,"height","100%"),zt(e,"viewBox","0 0 12 12"),zt(e,"fill","none"),zt(e,"xmlns","http://www.w3.org/2000/svg")},m(l,i){ys(l,e,i),Qs(e,n)},p:Nn,i:Nn,o:Nn,d(l){l&&Xs(e)}}}class wl extends Ks{constructor(e){super(),Ys(this,e,null,eo,xs,{})}}const{SvelteComponent:to,append:no,attr:qt,detach:lo,init:io,insert:so,noop:Dn,safe_not_equal:oo,svg_element:kl}=window.__gradio__svelte__internal;function ao(t){let e,n;return{c(){e=kl("svg"),n=kl("path"),qt(n,"d","M9.75 4.74023H7.5V2.49023C7.4997 2.19196 7.38108 1.90598 7.17017 1.69507C6.95925 1.48415 6.67328 1.36553 6.375 1.36523H5.57512C5.39481 1.366 5.22074 1.43138 5.08451 1.54952C4.94828 1.66766 4.85891 1.83072 4.83262 2.00911L4.51575 4.22798L3.17438 6.24023H0.75V11.4902H8.625C9.32089 11.4892 9.98799 11.2124 10.4801 10.7203C10.9721 10.2282 11.249 9.56112 11.25 8.86523V6.24023C11.2495 5.84256 11.0913 5.46132 10.8101 5.18012C10.5289 4.89893 10.1477 4.74073 9.75 4.74023ZM3 10.7402H1.5V6.99023H3V10.7402ZM10.5 8.86523C10.4994 9.36233 10.3017 9.8389 9.95017 10.1904C9.59867 10.5419 9.1221 10.7396 8.625 10.7402H3.75V6.72886L5.23425 4.50248L5.5755 2.11523H6.375C6.47446 2.11523 6.56984 2.15474 6.64017 2.22507C6.71049 2.2954 6.75 2.39078 6.75 2.49023V5.49023H9.75C9.94882 5.49053 10.1394 5.56965 10.28 5.71023C10.4206 5.85082 10.4997 6.04141 10.5 6.24023V8.86523Z"),qt(n,"fill","currentColor"),qt(e,"width","100%"),qt(e,"height","100%"),qt(e,"viewBox","0 0 12 12"),qt(e,"fill","none"),qt(e,"xmlns","http://www.w3.org/2000/svg")},m(l,i){so(l,e,i),no(e,n)},p:Dn,i:Dn,o:Dn,d(l){l&&lo(e)}}}class pl extends to{constructor(e){super(),io(this,e,null,ao,oo,{})}}const{SvelteComponent:ro,append:_o,attr:Et,detach:uo,init:fo,insert:co,noop:Vn,safe_not_equal:mo,svg_element:vl}=window.__gradio__svelte__internal;function ho(t){let e,n;return{c(){e=vl("svg"),n=vl("path"),Et(n,"fill","currentColor"),Et(n,"d","M6,30H4V2H28l-5.8,9L28,20H6ZM6,18H24.33L19.8,11l4.53-7H6Z"),Et(e,"id","icon"),Et(e,"xmlns","http://www.w3.org/2000/svg"),Et(e,"viewBox","0 0 32 32"),Et(e,"fill","none")},m(l,i){co(l,e,i),_o(e,n)},p:Vn,i:Vn,o:Vn,d(l){l&&uo(e)}}}class $l extends ro{constructor(e){super(),fo(this,e,null,ho,mo,{})}}const{SvelteComponent:go,append:bo,attr:Tt,detach:wo,init:ko,insert:po,noop:In,safe_not_equal:vo,svg_element:Cl}=window.__gradio__svelte__internal;function $o(t){let e,n;return{c(){e=Cl("svg"),n=Cl("path"),Tt(n,"fill","currentColor"),Tt(n,"d","M4,2H28l-5.8,9L28,20H6v10H4V2z"),Tt(e,"id","icon"),Tt(e,"xmlns","http://www.w3.org/2000/svg"),Tt(e,"viewBox","0 0 32 32"),Tt(e,"fill","none")},m(l,i){po(l,e,i),bo(e,n)},p:In,i:In,o:In,d(l){l&&wo(e)}}}class zl extends go{constructor(e){super(),ko(this,e,null,$o,vo,{})}}const{SvelteComponent:Co,append:Zn,attr:Wn,check_outros:an,create_component:Xn,destroy_component:Yn,destroy_each:zo,detach:Zt,element:Un,empty:Ui,ensure_array_like:ql,flush:tn,group_outros:rn,init:qo,insert:Wt,listen:So,mount_component:yn,safe_not_equal:Ho,set_data:Lo,set_style:Sl,space:xn,text:No,transition_in:_e,transition_out:He}=window.__gradio__svelte__internal;function Hl(t,e,n){const l=t.slice();return l[9]=e[n],l}function Ll(t){let e=t[3].includes("Dislike"),n,l=t[3].includes("Like"),i,s,r=e&&Nl(t),a=l&&Dl(t);return{c(){r&&r.c(),n=xn(),a&&a.c(),i=Ui()},m(o,_){r&&r.m(o,_),Wt(o,n,_),a&&a.m(o,_),Wt(o,i,_),s=!0},p(o,_){_&8&&(e=o[3].includes("Dislike")),e?r?(r.p(o,_),_&8&&_e(r,1)):(r=Nl(o),r.c(),_e(r,1),r.m(n.parentNode,n)):r&&(rn(),He(r,1,1,()=>{r=null}),an()),_&8&&(l=o[3].includes("Like")),l?a?(a.p(o,_),_&8&&_e(a,1)):(a=Dl(o),a.c(),_e(a,1),a.m(i.parentNode,i)):a&&(rn(),He(a,1,1,()=>{a=null}),an())},i(o){s||(_e(r),_e(a),s=!0)},o(o){He(r),He(a),s=!1},d(o){o&&(Zt(n),Zt(i)),r&&r.d(o),a&&a.d(o)}}}function Nl(t){let e,n;return e=new ce({props:{Icon:t[0]==="Dislike"?hl:gl,label:t[0]==="Dislike"?"clicked dislike":t[1]("chatbot.dislike"),color:t[0]==="Dislike"?"var(--color-accent)":"var(--block-label-text-color)"}}),e.$on("click",t[6]),{c(){Xn(e.$$.fragment)},m(l,i){yn(e,l,i),n=!0},p(l,i){const s={};i&1&&(s.Icon=l[0]==="Dislike"?hl:gl),i&3&&(s.label=l[0]==="Dislike"?"clicked dislike":l[1]("chatbot.dislike")),i&1&&(s.color=l[0]==="Dislike"?"var(--color-accent)":"var(--block-label-text-color)"),e.$set(s)},i(l){n||(_e(e.$$.fragment,l),n=!0)},o(l){He(e.$$.fragment,l),n=!1},d(l){Yn(e,l)}}}function Dl(t){let e,n;return e=new ce({props:{Icon:t[0]==="Like"?wl:pl,label:t[0]==="Like"?"clicked like":t[1]("chatbot.like"),color:t[0]==="Like"?"var(--color-accent)":"var(--block-label-text-color)"}}),e.$on("click",t[7]),{c(){Xn(e.$$.fragment)},m(l,i){yn(e,l,i),n=!0},p(l,i){const s={};i&1&&(s.Icon=l[0]==="Like"?wl:pl),i&3&&(s.label=l[0]==="Like"?"clicked like":l[1]("chatbot.like")),i&1&&(s.color=l[0]==="Like"?"var(--color-accent)":"var(--block-label-text-color)"),e.$set(s)},i(l){n||(_e(e.$$.fragment,l),n=!0)},o(l){He(e.$$.fragment,l),n=!1},d(l){Yn(e,l)}}}function Vl(t){let e,n,l,i,s;n=new ce({props:{Icon:t[0]&&t[4].includes(t[0])?zl:$l,label:"Feedback",color:t[0]&&t[4].includes(t[0])?"var(--color-accent)":"var(--block-label-text-color)"}});let r=ql(t[4]),a=[];for(let o=0;o<r.length;o+=1)a[o]=Il(Hl(t,r,o));return{c(){e=Un("div"),Xn(n.$$.fragment),l=xn(),i=Un("div");for(let o=0;o<a.length;o+=1)a[o].c();Wn(i,"class","extra-feedback-options svelte-14rmxes"),Wn(e,"class","extra-feedback no-border svelte-14rmxes")},m(o,_){Wt(o,e,_),yn(n,e,null),Zn(e,l),Zn(e,i);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(i,null);s=!0},p(o,_){const u={};if(_&17&&(u.Icon=o[0]&&o[4].includes(o[0])?zl:$l),_&17&&(u.color=o[0]&&o[4].includes(o[0])?"var(--color-accent)":"var(--block-label-text-color)"),n.$set(u),_&53){r=ql(o[4]);let f;for(f=0;f<r.length;f+=1){const c=Hl(o,r,f);a[f]?a[f].p(c,_):(a[f]=Il(c),a[f].c(),a[f].m(i,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=r.length}},i(o){s||(_e(n.$$.fragment,o),s=!0)},o(o){He(n.$$.fragment,o),s=!1},d(o){o&&Zt(e),Yn(n),zo(a,o)}}}function Il(t){let e,n=t[9]+"",l,i,s;function r(){return t[8](t[9])}return{c(){e=Un("button"),l=No(n),Wn(e,"class","extra-feedback-option svelte-14rmxes"),Sl(e,"font-weight",t[0]===t[9]?"bold":"normal")},m(a,o){Wt(a,e,o),Zn(e,l),i||(s=So(e,"click",r),i=!0)},p(a,o){t=a,o&16&&n!==(n=t[9]+"")&&Lo(l,n),o&17&&Sl(e,"font-weight",t[0]===t[9]?"bold":"normal")},d(a){a&&Zt(e),i=!1,s()}}}function Do(t){let e=t[3].includes("Like")||t[3].includes("Dislike"),n,l,i,s=e&&Ll(t),r=t[4].length>0&&Vl(t);return{c(){s&&s.c(),n=xn(),r&&r.c(),l=Ui()},m(a,o){s&&s.m(a,o),Wt(a,n,o),r&&r.m(a,o),Wt(a,l,o),i=!0},p(a,[o]){o&8&&(e=a[3].includes("Like")||a[3].includes("Dislike")),e?s?(s.p(a,o),o&8&&_e(s,1)):(s=Ll(a),s.c(),_e(s,1),s.m(n.parentNode,n)):s&&(rn(),He(s,1,1,()=>{s=null}),an()),a[4].length>0?r?(r.p(a,o),o&16&&_e(r,1)):(r=Vl(a),r.c(),_e(r,1),r.m(l.parentNode,l)):r&&(rn(),He(r,1,1,()=>{r=null}),an())},i(a){i||(_e(s),_e(r),i=!0)},o(a){He(s),He(r),i=!1},d(a){a&&(Zt(n),Zt(l)),s&&s.d(a),r&&r.d(a)}}}function Vo(t,e,n){let l,{i18n:i}=e,{handle_action:s}=e,{feedback_options:r}=e,{selected:a=null}=e;function o(c){n(0,a=a===c?null:c),s(a)}const _=()=>o("Dislike"),u=()=>o("Like"),f=c=>{o(c),s(a||null)};return t.$$set=c=>{"i18n"in c&&n(1,i=c.i18n),"handle_action"in c&&n(2,s=c.handle_action),"feedback_options"in c&&n(3,r=c.feedback_options),"selected"in c&&n(0,a=c.selected)},t.$$.update=()=>{t.$$.dirty&8&&n(4,l=r.filter(c=>c!=="Like"&&c!=="Dislike"))},[a,i,s,r,l,o,_,u,f]}class Io extends Co{constructor(e){super(),qo(this,e,Vo,Do,Ho,{i18n:1,handle_action:2,feedback_options:3,selected:0})}get i18n(){return this.$$.ctx[1]}set i18n(e){this.$$set({i18n:e}),tn()}get handle_action(){return this.$$.ctx[2]}set handle_action(e){this.$$set({handle_action:e}),tn()}get feedback_options(){return this.$$.ctx[3]}set feedback_options(e){this.$$set({feedback_options:e}),tn()}get selected(){return this.$$.ctx[0]}set selected(e){this.$$set({selected:e}),tn()}}const{SvelteComponent:Mo,create_component:Eo,destroy_component:To,flush:Ml,init:jo,mount_component:Ao,safe_not_equal:Bo,transition_in:Fo,transition_out:Zo}=window.__gradio__svelte__internal,{createEventDispatcher:Wo}=window.__gradio__svelte__internal,{onDestroy:Uo}=window.__gradio__svelte__internal;function Po(t){let e,n;return e=new ce({props:{label:t[0]?"Copied message":"Copy message",Icon:t[0]?Jt:on}}),e.$on("click",t[1]),{c(){Eo(e.$$.fragment)},m(l,i){Ao(e,l,i),n=!0},p(l,[i]){const s={};i&1&&(s.label=l[0]?"Copied message":"Copy message"),i&1&&(s.Icon=l[0]?Jt:on),e.$set(s)},i(l){n||(Fo(e.$$.fragment,l),n=!0)},o(l){Zo(e.$$.fragment,l),n=!1},d(l){To(e,l)}}}function Oo(t,e,n){const l=Wo();let i=!1,{value:s}=e,{watermark:r=null}=e,a;function o(){n(0,i=!0),a&&clearTimeout(a),a=setTimeout(()=>{n(0,i=!1)},2e3)}async function _(){if("clipboard"in navigator){l("copy",{value:s});const u=r?`${s}

${r}`:s;await navigator.clipboard.writeText(u),o()}else{const u=document.createElement("textarea"),f=r?`${s}

${r}`:s;u.value=f,u.style.position="absolute",u.style.left="-999999px",document.body.prepend(u),u.select();try{document.execCommand("copy"),o()}catch(c){console.error(c)}finally{u.remove()}}}return Uo(()=>{a&&clearTimeout(a)}),t.$$set=u=>{"value"in u&&n(2,s=u.value),"watermark"in u&&n(3,r=u.watermark)},[i,_,s,r]}class Jo extends Mo{constructor(e){super(),jo(this,e,Oo,Po,Bo,{value:2,watermark:3})}get value(){return this.$$.ctx[2]}set value(e){this.$$set({value:e}),Ml()}get watermark(){return this.$$.ctx[3]}set watermark(e){this.$$set({watermark:e}),Ml()}}const{SvelteComponent:Ro,attr:El,check_outros:Ht,create_component:ct,destroy_component:mt,detach:Ue,element:Go,empty:el,flush:Q,group_outros:Lt,init:Ko,insert:Pe,mount_component:ht,safe_not_equal:Qo,space:Ot,transition_in:I,transition_out:Z}=window.__gradio__svelte__internal;function Tl(t){let e,n,l,i;return n=new Zi({props:{top_panel:!1,$$slots:{default:[yo]},$$scope:{ctx:t}}}),{c(){e=Go("div"),ct(n.$$.fragment),El(e,"class",l="message-buttons-"+t[8]+" "+t[13]+" message-buttons "+(t[9]!==null&&"with-avatar")+" svelte-j7nkv7")},m(s,r){Pe(s,e,r),ht(n,e,null),i=!0},p(s,r){const a={};r&33676543&&(a.$$scope={dirty:r,ctx:s}),n.$set(a),(!i||r&8960&&l!==(l="message-buttons-"+s[8]+" "+s[13]+" message-buttons "+(s[9]!==null&&"with-avatar")+" svelte-j7nkv7"))&&El(e,"class",l)},i(s){i||(I(n.$$.fragment,s),i=!0)},o(s){Z(n.$$.fragment,s),i=!1},d(s){s&&Ue(e),mt(n)}}}function Xo(t){let e,n,l,i,s,r,a=t[15]&&jl(t),o=t[3]&&Al(t),_=t[4]&&Bl(t),u=t[5]&&Fl(t),f=t[1]&&Zl(t);return{c(){a&&a.c(),e=Ot(),o&&o.c(),n=Ot(),_&&_.c(),l=Ot(),u&&u.c(),i=Ot(),f&&f.c(),s=el()},m(c,b){a&&a.m(c,b),Pe(c,e,b),o&&o.m(c,b),Pe(c,n,b),_&&_.m(c,b),Pe(c,l,b),u&&u.m(c,b),Pe(c,i,b),f&&f.m(c,b),Pe(c,s,b),r=!0},p(c,b){c[15]?a?(a.p(c,b),b&32768&&I(a,1)):(a=jl(c),a.c(),I(a,1),a.m(e.parentNode,e)):a&&(Lt(),Z(a,1,1,()=>{a=null}),Ht()),c[3]?o?(o.p(c,b),b&8&&I(o,1)):(o=Al(c),o.c(),I(o,1),o.m(n.parentNode,n)):o&&(Lt(),Z(o,1,1,()=>{o=null}),Ht()),c[4]?_?(_.p(c,b),b&16&&I(_,1)):(_=Bl(c),_.c(),I(_,1),_.m(l.parentNode,l)):_&&(Lt(),Z(_,1,1,()=>{_=null}),Ht()),c[5]?u?(u.p(c,b),b&32&&I(u,1)):(u=Fl(c),u.c(),I(u,1),u.m(i.parentNode,i)):u&&(Lt(),Z(u,1,1,()=>{u=null}),Ht()),c[1]?f?(f.p(c,b),b&2&&I(f,1)):(f=Zl(c),f.c(),I(f,1),f.m(s.parentNode,s)):f&&(Lt(),Z(f,1,1,()=>{f=null}),Ht())},i(c){r||(I(a),I(o),I(_),I(u),I(f),r=!0)},o(c){Z(a),Z(o),Z(_),Z(u),Z(f),r=!1},d(c){c&&(Ue(e),Ue(n),Ue(l),Ue(i),Ue(s)),a&&a.d(c),o&&o.d(c),_&&_.d(c),u&&u.d(c),f&&f.d(c)}}}function Yo(t){let e,n,l,i;return e=new ce({props:{label:t[0]("chatbot.submit"),Icon:Jt,disabled:t[10]}}),e.$on("click",t[19]),l=new ce({props:{label:t[0]("chatbot.cancel"),Icon:_s,disabled:t[10]}}),l.$on("click",t[20]),{c(){ct(e.$$.fragment),n=Ot(),ct(l.$$.fragment)},m(s,r){ht(e,s,r),Pe(s,n,r),ht(l,s,r),i=!0},p(s,r){const a={};r&1&&(a.label=s[0]("chatbot.submit")),r&1024&&(a.disabled=s[10]),e.$set(a);const o={};r&1&&(o.label=s[0]("chatbot.cancel")),r&1024&&(o.disabled=s[10]),l.$set(o)},i(s){i||(I(e.$$.fragment,s),I(l.$$.fragment,s),i=!0)},o(s){Z(e.$$.fragment,s),Z(l.$$.fragment,s),i=!1},d(s){s&&Ue(n),mt(e,s),mt(l,s)}}}function jl(t){let e,n;return e=new Jo({props:{value:t[16],watermark:t[7]}}),e.$on("copy",t[21]),{c(){ct(e.$$.fragment)},m(l,i){ht(e,l,i),n=!0},p(l,i){const s={};i&65536&&(s.value=l[16]),i&128&&(s.watermark=l[7]),e.$set(s)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){Z(e.$$.fragment,l),n=!1},d(l){mt(e,l)}}}function Al(t){let e,n;return e=new ce({props:{Icon:us,label:t[0]("chatbot.retry"),disabled:t[10]}}),e.$on("click",t[22]),{c(){ct(e.$$.fragment)},m(l,i){ht(e,l,i),n=!0},p(l,i){const s={};i&1&&(s.label=l[0]("chatbot.retry")),i&1024&&(s.disabled=l[10]),e.$set(s)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){Z(e.$$.fragment,l),n=!1},d(l){mt(e,l)}}}function Bl(t){let e,n;return e=new ce({props:{label:t[0]("chatbot.undo"),Icon:fs,disabled:t[10]}}),e.$on("click",t[23]),{c(){ct(e.$$.fragment)},m(l,i){ht(e,l,i),n=!0},p(l,i){const s={};i&1&&(s.label=l[0]("chatbot.undo")),i&1024&&(s.disabled=l[10]),e.$set(s)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){Z(e.$$.fragment,l),n=!1},d(l){mt(e,l)}}}function Fl(t){let e,n;return e=new ce({props:{label:t[0]("chatbot.edit"),Icon:cs,disabled:t[10]}}),e.$on("click",t[24]),{c(){ct(e.$$.fragment)},m(l,i){ht(e,l,i),n=!0},p(l,i){const s={};i&1&&(s.label=l[0]("chatbot.edit")),i&1024&&(s.disabled=l[10]),e.$set(s)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){Z(e.$$.fragment,l),n=!1},d(l){mt(e,l)}}}function Zl(t){let e,n;return e=new Io({props:{handle_action:t[12],feedback_options:t[2],selected:t[11],i18n:t[0]}}),{c(){ct(e.$$.fragment)},m(l,i){ht(e,l,i),n=!0},p(l,i){const s={};i&4096&&(s.handle_action=l[12]),i&4&&(s.feedback_options=l[2]),i&2048&&(s.selected=l[11]),i&1&&(s.i18n=l[0]),e.$set(s)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){Z(e.$$.fragment,l),n=!1},d(l){mt(e,l)}}}function yo(t){let e,n,l,i;const s=[Yo,Xo],r=[];function a(o,_){return o[6]?0:1}return e=a(t),n=r[e]=s[e](t),{c(){n.c(),l=el()},m(o,_){r[e].m(o,_),Pe(o,l,_),i=!0},p(o,_){let u=e;e=a(o),e===u?r[e].p(o,_):(Lt(),Z(r[u],1,1,()=>{r[u]=null}),Ht(),n=r[e],n?n.p(o,_):(n=r[e]=s[e](o),n.c()),I(n,1),n.m(l.parentNode,l))},i(o){i||(I(n),i=!0)},o(o){Z(n),i=!1},d(o){o&&Ue(l),r[e].d(o)}}}function xo(t){let e,n,l=(t[15]||t[3]||t[4]||t[5]||t[1])&&Tl(t);return{c(){l&&l.c(),e=el()},m(i,s){l&&l.m(i,s),Pe(i,e,s),n=!0},p(i,[s]){i[15]||i[3]||i[4]||i[5]||i[1]?l?(l.p(i,s),s&32826&&I(l,1)):(l=Tl(i),l.c(),I(l,1),l.m(e.parentNode,e)):l&&(Lt(),Z(l,1,1,()=>{l=null}),Ht())},i(i){n||(I(l),n=!0)},o(i){Z(l),n=!1},d(i){i&&Ue(e),l&&l.d(i)}}}function ea(t,e,n){let l,i,{i18n:s}=e,{likeable:r}=e,{feedback_options:a}=e,{show_retry:o}=e,{show_undo:_}=e,{show_edit:u}=e,{in_edit_mode:f}=e,{show_copy_button:c}=e,{watermark:b=null}=e,{message:m}=e,{position:h}=e,{avatar:k}=e,{generating:d}=e,{current_feedback:$}=e,{handle_action:H}=e,{layout:C}=e,{dispatch:B}=e;const z=()=>H("edit_submit"),j=()=>H("edit_cancel"),ue=v=>B("copy",v.detail),fe=()=>H("retry"),de=()=>H("undo"),ge=()=>H("edit");return t.$$set=v=>{"i18n"in v&&n(0,s=v.i18n),"likeable"in v&&n(1,r=v.likeable),"feedback_options"in v&&n(2,a=v.feedback_options),"show_retry"in v&&n(3,o=v.show_retry),"show_undo"in v&&n(4,_=v.show_undo),"show_edit"in v&&n(5,u=v.show_edit),"in_edit_mode"in v&&n(6,f=v.in_edit_mode),"show_copy_button"in v&&n(17,c=v.show_copy_button),"watermark"in v&&n(7,b=v.watermark),"message"in v&&n(18,m=v.message),"position"in v&&n(8,h=v.position),"avatar"in v&&n(9,k=v.avatar),"generating"in v&&n(10,d=v.generating),"current_feedback"in v&&n(11,$=v.current_feedback),"handle_action"in v&&n(12,H=v.handle_action),"layout"in v&&n(13,C=v.layout),"dispatch"in v&&n(14,B=v.dispatch)},t.$$.update=()=>{t.$$.dirty&262144&&n(16,l=cl(m)?Ms(m):""),t.$$.dirty&393216&&n(15,i=c&&m&&cl(m))},[s,r,a,o,_,u,f,b,h,k,d,$,H,C,B,i,l,c,m,z,j,ue,fe,de,ge]}class Pi extends Ro{constructor(e){super(),Ko(this,e,ea,xo,Qo,{i18n:0,likeable:1,feedback_options:2,show_retry:3,show_undo:4,show_edit:5,in_edit_mode:6,show_copy_button:17,watermark:7,message:18,position:8,avatar:9,generating:10,current_feedback:11,handle_action:12,layout:13,dispatch:14})}get i18n(){return this.$$.ctx[0]}set i18n(e){this.$$set({i18n:e}),Q()}get likeable(){return this.$$.ctx[1]}set likeable(e){this.$$set({likeable:e}),Q()}get feedback_options(){return this.$$.ctx[2]}set feedback_options(e){this.$$set({feedback_options:e}),Q()}get show_retry(){return this.$$.ctx[3]}set show_retry(e){this.$$set({show_retry:e}),Q()}get show_undo(){return this.$$.ctx[4]}set show_undo(e){this.$$set({show_undo:e}),Q()}get show_edit(){return this.$$.ctx[5]}set show_edit(e){this.$$set({show_edit:e}),Q()}get in_edit_mode(){return this.$$.ctx[6]}set in_edit_mode(e){this.$$set({in_edit_mode:e}),Q()}get show_copy_button(){return this.$$.ctx[17]}set show_copy_button(e){this.$$set({show_copy_button:e}),Q()}get watermark(){return this.$$.ctx[7]}set watermark(e){this.$$set({watermark:e}),Q()}get message(){return this.$$.ctx[18]}set message(e){this.$$set({message:e}),Q()}get position(){return this.$$.ctx[8]}set position(e){this.$$set({position:e}),Q()}get avatar(){return this.$$.ctx[9]}set avatar(e){this.$$set({avatar:e}),Q()}get generating(){return this.$$.ctx[10]}set generating(e){this.$$set({generating:e}),Q()}get current_feedback(){return this.$$.ctx[11]}set current_feedback(e){this.$$set({current_feedback:e}),Q()}get handle_action(){return this.$$.ctx[12]}set handle_action(e){this.$$set({handle_action:e}),Q()}get layout(){return this.$$.ctx[13]}set layout(e){this.$$set({layout:e}),Q()}get dispatch(){return this.$$.ctx[14]}set dispatch(e){this.$$set({dispatch:e}),Q()}}const{SvelteComponent:ta,assign:ne,attr:na,bubble:ot,check_outros:Qe,construct_svelte_component:le,create_component:ie,destroy_component:se,detach:Me,element:Oi,empty:bt,flush:qe,get_spread_object:R,get_spread_update:oe,group_outros:Xe,init:la,insert:Ee,mount_component:ae,noop:ia,safe_not_equal:sa,set_style:oa,transition_in:G,transition_out:K}=window.__gradio__svelte__internal;function aa(t){let e,n,l;const i=[t[5],{value:t[2]},{clear_color:t[5].clear_color},{display_mode:t[5].display_mode},{zoom_speed:t[5].zoom_speed},{pan_speed:t[5].pan_speed},t[5].camera_position!==void 0&&{camera_position:t[5].camera_position},{has_change_history:!0},{show_label:!!t[5].label},{root:""},{interactive:!1},{show_share_button:!0},{gradio:{dispatch:En,i18n:t[6]}}];var s=t[1][t[0]];function r(a,o){let _={};for(let u=0;u<i.length;u+=1)_=ne(_,i[u]);return o!==void 0&&o&100&&(_=ne(_,oe(i,[o&32&&R(a[5]),o&4&&{value:a[2]},o&32&&{clear_color:a[5].clear_color},o&32&&{display_mode:a[5].display_mode},o&32&&{zoom_speed:a[5].zoom_speed},o&32&&{pan_speed:a[5].pan_speed},o&32&&R(a[5].camera_position!==void 0&&{camera_position:a[5].camera_position}),i[7],o&32&&{show_label:!!a[5].label},i[9],i[10],i[11],o&64&&{gradio:{dispatch:En,i18n:a[6]}}]))),{props:_}}return s&&(e=le(s,r(t)),e.$on("load",t[18])),{c(){e&&ie(e.$$.fragment),n=bt()},m(a,o){e&&ae(e,a,o),Ee(a,n,o),l=!0},p(a,o){if(o&3&&s!==(s=a[1][a[0]])){if(e){Xe();const _=e;K(_.$$.fragment,1,0,()=>{se(_,1)}),Qe()}s?(e=le(s,r(a,o)),e.$on("load",a[18]),ie(e.$$.fragment),G(e.$$.fragment,1),ae(e,n.parentNode,n)):e=null}else if(s){const _=o&100?oe(i,[o&32&&R(a[5]),o&4&&{value:a[2]},o&32&&{clear_color:a[5].clear_color},o&32&&{display_mode:a[5].display_mode},o&32&&{zoom_speed:a[5].zoom_speed},o&32&&{pan_speed:a[5].pan_speed},o&32&&R(a[5].camera_position!==void 0&&{camera_position:a[5].camera_position}),i[7],o&32&&{show_label:!!a[5].label},i[9],i[10],i[11],o&64&&{gradio:{dispatch:En,i18n:a[6]}}]):{};e.$set(_)}},i(a){l||(e&&G(e.$$.fragment,a),l=!0)},o(a){e&&K(e.$$.fragment,a),l=!1},d(a){a&&Me(n),e&&se(e,a)}}}function ra(t){let e,n,l;const i=[t[5],{value:t[2]},{show_label:!1},{show_share_button:!0},{i18n:t[6]},{gradio:{dispatch:ba}}];var s=t[1][t[0]];function r(a,o){let _={};for(let u=0;u<i.length;u+=1)_=ne(_,i[u]);return o!==void 0&&o&100&&(_=ne(_,oe(i,[o&32&&R(a[5]),o&4&&{value:a[2]},i[2],i[3],o&64&&{i18n:a[6]},i[5]]))),{props:_}}return s&&(e=le(s,r(t)),e.$on("load",t[17])),{c(){e&&ie(e.$$.fragment),n=bt()},m(a,o){e&&ae(e,a,o),Ee(a,n,o),l=!0},p(a,o){if(o&3&&s!==(s=a[1][a[0]])){if(e){Xe();const _=e;K(_.$$.fragment,1,0,()=>{se(_,1)}),Qe()}s?(e=le(s,r(a,o)),e.$on("load",a[17]),ie(e.$$.fragment),G(e.$$.fragment,1),ae(e,n.parentNode,n)):e=null}else if(s){const _=o&100?oe(i,[o&32&&R(a[5]),o&4&&{value:a[2]},i[2],i[3],o&64&&{i18n:a[6]},i[5]]):{};e.$set(_)}},i(a){l||(e&&G(e.$$.fragment,a),l=!0)},o(a){e&&K(e.$$.fragment,a),l=!1},d(a){a&&Me(n),e&&se(e,a)}}}function _a(t){let e,n,l;const i=[t[5],{value:t[2]},{show_label:!!t[5].label},{show_download_button:t[9]},{display_icon_button_wrapper_top_corner:t[10]},{i18n:t[6]}];var s=t[1][t[0]];function r(a,o){let _={};for(let u=0;u<i.length;u+=1)_=ne(_,i[u]);return o!==void 0&&o&1636&&(_=ne(_,oe(i,[o&32&&R(a[5]),o&4&&{value:a[2]},o&32&&{show_label:!!a[5].label},o&512&&{show_download_button:a[9]},o&1024&&{display_icon_button_wrapper_top_corner:a[10]},o&64&&{i18n:a[6]}]))),{props:_}}return s&&(e=le(s,r(t)),e.$on("load",t[16])),{c(){e&&ie(e.$$.fragment),n=bt()},m(a,o){e&&ae(e,a,o),Ee(a,n,o),l=!0},p(a,o){if(o&3&&s!==(s=a[1][a[0]])){if(e){Xe();const _=e;K(_.$$.fragment,1,0,()=>{se(_,1)}),Qe()}s?(e=le(s,r(a,o)),e.$on("load",a[16]),ie(e.$$.fragment),G(e.$$.fragment,1),ae(e,n.parentNode,n)):e=null}else if(s){const _=o&1636?oe(i,[o&32&&R(a[5]),o&4&&{value:a[2]},o&32&&{show_label:!!a[5].label},o&512&&{show_download_button:a[9]},o&1024&&{display_icon_button_wrapper_top_corner:a[10]},o&64&&{i18n:a[6]}]):{};e.$set(_)}},i(a){l||(e&&G(e.$$.fragment,a),l=!0)},o(a){e&&K(e.$$.fragment,a),l=!1},d(a){a&&Me(n),e&&se(e,a)}}}function ua(t){let e,n,l;const i=[t[5],{autoplay:t[5].autoplay},{value:t[2].video||t[2]},{show_label:!!t[5].label},{show_share_button:!0},{i18n:t[6]},{upload:t[7]},{display_icon_button_wrapper_top_corner:t[10]},{show_download_button:t[9]}];var s=t[1][t[0]];function r(a,o){let _={$$slots:{default:[da]},$$scope:{ctx:a}};for(let u=0;u<i.length;u+=1)_=ne(_,i[u]);return o!==void 0&&o&1764&&(_=ne(_,oe(i,[o&32&&R(a[5]),o&32&&{autoplay:a[5].autoplay},o&4&&{value:a[2].video||a[2]},o&32&&{show_label:!!a[5].label},i[4],o&64&&{i18n:a[6]},o&128&&{upload:a[7]},o&1024&&{display_icon_button_wrapper_top_corner:a[10]},o&512&&{show_download_button:a[9]}]))),{props:_}}return s&&(e=le(s,r(t)),e.$on("load",t[15])),{c(){e&&ie(e.$$.fragment),n=bt()},m(a,o){e&&ae(e,a,o),Ee(a,n,o),l=!0},p(a,o){if(o&3&&s!==(s=a[1][a[0]])){if(e){Xe();const _=e;K(_.$$.fragment,1,0,()=>{se(_,1)}),Qe()}s?(e=le(s,r(a,o)),e.$on("load",a[15]),ie(e.$$.fragment),G(e.$$.fragment,1),ae(e,n.parentNode,n)):e=null}else if(s){const _=o&1764?oe(i,[o&32&&R(a[5]),o&32&&{autoplay:a[5].autoplay},o&4&&{value:a[2].video||a[2]},o&32&&{show_label:!!a[5].label},i[4],o&64&&{i18n:a[6]},o&128&&{upload:a[7]},o&1024&&{display_icon_button_wrapper_top_corner:a[10]},o&512&&{show_download_button:a[9]}]):{};o&524288&&(_.$$scope={dirty:o,ctx:a}),e.$set(_)}},i(a){l||(e&&G(e.$$.fragment,a),l=!0)},o(a){e&&K(e.$$.fragment,a),l=!1},d(a){a&&Me(n),e&&se(e,a)}}}function fa(t){let e,n,l;const i=[t[5],{value:t[2]},{show_label:!!t[5].label},{show_share_button:!0},{i18n:t[6]},{waveform_settings:{...t[5].waveform_settings,autoplay:t[5].autoplay}},{show_download_button:t[9]},{display_icon_button_wrapper_top_corner:t[10]}];var s=t[1][t[0]];function r(a,o){let _={};for(let u=0;u<i.length;u+=1)_=ne(_,i[u]);return o!==void 0&&o&1636&&(_=ne(_,oe(i,[o&32&&R(a[5]),o&4&&{value:a[2]},o&32&&{show_label:!!a[5].label},i[3],o&64&&{i18n:a[6]},o&32&&{waveform_settings:{...a[5].waveform_settings,autoplay:a[5].autoplay}},o&512&&{show_download_button:a[9]},o&1024&&{display_icon_button_wrapper_top_corner:a[10]}]))),{props:_}}return s&&(n=le(s,r(t)),n.$on("load",t[14])),{c(){e=Oi("div"),n&&ie(n.$$.fragment),oa(e,"position","relative")},m(a,o){Ee(a,e,o),n&&ae(n,e,null),l=!0},p(a,o){if(o&3&&s!==(s=a[1][a[0]])){if(n){Xe();const _=n;K(_.$$.fragment,1,0,()=>{se(_,1)}),Qe()}s?(n=le(s,r(a,o)),n.$on("load",a[14]),ie(n.$$.fragment),G(n.$$.fragment,1),ae(n,e,null)):n=null}else if(s){const _=o&1636?oe(i,[o&32&&R(a[5]),o&4&&{value:a[2]},o&32&&{show_label:!!a[5].label},i[3],o&64&&{i18n:a[6]},o&32&&{waveform_settings:{...a[5].waveform_settings,autoplay:a[5].autoplay}},o&512&&{show_download_button:a[9]},o&1024&&{display_icon_button_wrapper_top_corner:a[10]}]):{};n.$set(_)}},i(a){l||(n&&G(n.$$.fragment,a),l=!0)},o(a){n&&K(n.$$.fragment,a),l=!1},d(a){a&&Me(e),n&&se(n)}}}function ca(t){let e,n,l;const i=[t[5],{value:t[2]},{target:t[3]},{theme_mode:t[4]},{bokeh_version:t[5].bokeh_version},{caption:t[5].caption||""},{show_actions_button:!0}];var s=t[1][t[0]];function r(a,o){let _={};for(let u=0;u<i.length;u+=1)_=ne(_,i[u]);return o!==void 0&&o&60&&(_=ne(_,oe(i,[o&32&&R(a[5]),o&4&&{value:a[2]},o&8&&{target:a[3]},o&16&&{theme_mode:a[4]},o&32&&{bokeh_version:a[5].bokeh_version},o&32&&{caption:a[5].caption||""},i[6]]))),{props:_}}return s&&(e=le(s,r(t)),e.$on("load",t[13])),{c(){e&&ie(e.$$.fragment),n=bt()},m(a,o){e&&ae(e,a,o),Ee(a,n,o),l=!0},p(a,o){if(o&3&&s!==(s=a[1][a[0]])){if(e){Xe();const _=e;K(_.$$.fragment,1,0,()=>{se(_,1)}),Qe()}s?(e=le(s,r(a,o)),e.$on("load",a[13]),ie(e.$$.fragment),G(e.$$.fragment,1),ae(e,n.parentNode,n)):e=null}else if(s){const _=o&60?oe(i,[o&32&&R(a[5]),o&4&&{value:a[2]},o&8&&{target:a[3]},o&16&&{theme_mode:a[4]},o&32&&{bokeh_version:a[5].bokeh_version},o&32&&{caption:a[5].caption||""},i[6]]):{};e.$set(_)}},i(a){l||(e&&G(e.$$.fragment,a),l=!0)},o(a){e&&K(e.$$.fragment,a),l=!1},d(a){a&&Me(n),e&&se(e,a)}}}function ma(t){let e,n,l;const i=[t[5],{value:t[2]},{show_label:!!t[5].label},{i18n:t[6]},{interactive:!1},{line_breaks:t[5].line_breaks},{wrap:!0},{root:""},{gradio:{dispatch:Mn,i18n:t[6]}},{datatype:t[5].datatype},{latex_delimiters:t[5].latex_delimiters},{col_count:t[5].col_count},{row_count:t[5].row_count}];var s=t[1][t[0]];function r(a,o){let _={};for(let u=0;u<i.length;u+=1)_=ne(_,i[u]);return o!==void 0&&o&100&&(_=ne(_,oe(i,[o&32&&R(a[5]),o&4&&{value:a[2]},o&32&&{show_label:!!a[5].label},o&64&&{i18n:a[6]},i[4],o&32&&{line_breaks:a[5].line_breaks},i[6],i[7],o&64&&{gradio:{dispatch:Mn,i18n:a[6]}},o&32&&{datatype:a[5].datatype},o&32&&{latex_delimiters:a[5].latex_delimiters},o&32&&{col_count:a[5].col_count},o&32&&{row_count:a[5].row_count}]))),{props:_}}return s&&(e=le(s,r(t)),e.$on("load",t[12])),{c(){e&&ie(e.$$.fragment),n=bt()},m(a,o){e&&ae(e,a,o),Ee(a,n,o),l=!0},p(a,o){if(o&3&&s!==(s=a[1][a[0]])){if(e){Xe();const _=e;K(_.$$.fragment,1,0,()=>{se(_,1)}),Qe()}s?(e=le(s,r(a,o)),e.$on("load",a[12]),ie(e.$$.fragment),G(e.$$.fragment,1),ae(e,n.parentNode,n)):e=null}else if(s){const _=o&100?oe(i,[o&32&&R(a[5]),o&4&&{value:a[2]},o&32&&{show_label:!!a[5].label},o&64&&{i18n:a[6]},i[4],o&32&&{line_breaks:a[5].line_breaks},i[6],i[7],o&64&&{gradio:{dispatch:Mn,i18n:a[6]}},o&32&&{datatype:a[5].datatype},o&32&&{latex_delimiters:a[5].latex_delimiters},o&32&&{col_count:a[5].col_count},o&32&&{row_count:a[5].row_count}]):{};e.$set(_)}},i(a){l||(e&&G(e.$$.fragment,a),l=!0)},o(a){e&&K(e.$$.fragment,a),l=!1},d(a){a&&Me(n),e&&se(e,a)}}}function ha(t){let e,n,l;const i=[t[5],{value:t[2]},{display_icon_button_wrapper_top_corner:t[10]},{show_label:!!t[5].label},{i18n:t[6]},{_fetch:t[8]},{allow_preview:!1},{interactive:!1},{mode:"minimal"},{fixed_height:1}];var s=t[1][t[0]];function r(a,o){let _={};for(let u=0;u<i.length;u+=1)_=ne(_,i[u]);return o!==void 0&&o&1380&&(_=ne(_,oe(i,[o&32&&R(a[5]),o&4&&{value:a[2]},o&1024&&{display_icon_button_wrapper_top_corner:a[10]},o&32&&{show_label:!!a[5].label},o&64&&{i18n:a[6]},o&256&&{_fetch:a[8]},i[6],i[7],i[8],i[9]]))),{props:_}}return s&&(e=le(s,r(t)),e.$on("load",t[11])),{c(){e&&ie(e.$$.fragment),n=bt()},m(a,o){e&&ae(e,a,o),Ee(a,n,o),l=!0},p(a,o){if(o&3&&s!==(s=a[1][a[0]])){if(e){Xe();const _=e;K(_.$$.fragment,1,0,()=>{se(_,1)}),Qe()}s?(e=le(s,r(a,o)),e.$on("load",a[11]),ie(e.$$.fragment),G(e.$$.fragment,1),ae(e,n.parentNode,n)):e=null}else if(s){const _=o&1380?oe(i,[o&32&&R(a[5]),o&4&&{value:a[2]},o&1024&&{display_icon_button_wrapper_top_corner:a[10]},o&32&&{show_label:!!a[5].label},o&64&&{i18n:a[6]},o&256&&{_fetch:a[8]},i[6],i[7],i[8],i[9]]):{};e.$set(_)}},i(a){l||(e&&G(e.$$.fragment,a),l=!0)},o(a){e&&K(e.$$.fragment,a),l=!1},d(a){a&&Me(n),e&&se(e,a)}}}function da(t){let e;return{c(){e=Oi("track"),na(e,"kind","captions")},m(n,l){Ee(n,e,l)},p:ia,d(n){n&&Me(e)}}}function ga(t){let e,n,l,i;const s=[ha,ma,ca,fa,ua,_a,ra,aa],r=[];function a(o,_){return o[0]==="gallery"?0:o[0]==="dataframe"?1:o[0]==="plot"?2:o[0]==="audio"?3:o[0]==="video"?4:o[0]==="image"?5:o[0]==="html"?6:o[0]==="model3d"?7:-1}return~(e=a(t))&&(n=r[e]=s[e](t)),{c(){n&&n.c(),l=bt()},m(o,_){~e&&r[e].m(o,_),Ee(o,l,_),i=!0},p(o,[_]){let u=e;e=a(o),e===u?~e&&r[e].p(o,_):(n&&(Xe(),K(r[u],1,1,()=>{r[u]=null}),Qe()),~e?(n=r[e],n?n.p(o,_):(n=r[e]=s[e](o),n.c()),G(n,1),n.m(l.parentNode,l)):n=null)},i(o){i||(G(n),i=!0)},o(o){K(n),i=!1},d(o){o&&Me(l),~e&&r[e].d(o)}}}const Mn=()=>{},ba=()=>{},En=()=>{};function wa(t,e,n){let{type:l}=e,{components:i}=e,{value:s}=e,{target:r}=e,{theme_mode:a}=e,{props:o}=e,{i18n:_}=e,{upload:u}=e,{_fetch:f}=e,{allow_file_downloads:c}=e,{display_icon_button_wrapper_top_corner:b=!1}=e;function m(z){ot.call(this,t,z)}function h(z){ot.call(this,t,z)}function k(z){ot.call(this,t,z)}function d(z){ot.call(this,t,z)}function $(z){ot.call(this,t,z)}function H(z){ot.call(this,t,z)}function C(z){ot.call(this,t,z)}function B(z){ot.call(this,t,z)}return t.$$set=z=>{"type"in z&&n(0,l=z.type),"components"in z&&n(1,i=z.components),"value"in z&&n(2,s=z.value),"target"in z&&n(3,r=z.target),"theme_mode"in z&&n(4,a=z.theme_mode),"props"in z&&n(5,o=z.props),"i18n"in z&&n(6,_=z.i18n),"upload"in z&&n(7,u=z.upload),"_fetch"in z&&n(8,f=z._fetch),"allow_file_downloads"in z&&n(9,c=z.allow_file_downloads),"display_icon_button_wrapper_top_corner"in z&&n(10,b=z.display_icon_button_wrapper_top_corner)},t.$$.update=()=>{t.$$.dirty&32&&console.log("props.label",o.label)},[l,i,s,r,a,o,_,u,f,c,b,m,h,k,d,$,H,C,B]}class ka extends ta{constructor(e){super(),la(this,e,wa,ga,sa,{type:0,components:1,value:2,target:3,theme_mode:4,props:5,i18n:6,upload:7,_fetch:8,allow_file_downloads:9,display_icon_button_wrapper_top_corner:10})}get type(){return this.$$.ctx[0]}set type(e){this.$$set({type:e}),qe()}get components(){return this.$$.ctx[1]}set components(e){this.$$set({components:e}),qe()}get value(){return this.$$.ctx[2]}set value(e){this.$$set({value:e}),qe()}get target(){return this.$$.ctx[3]}set target(e){this.$$set({target:e}),qe()}get theme_mode(){return this.$$.ctx[4]}set theme_mode(e){this.$$set({theme_mode:e}),qe()}get props(){return this.$$.ctx[5]}set props(e){this.$$set({props:e}),qe()}get i18n(){return this.$$.ctx[6]}set i18n(e){this.$$set({i18n:e}),qe()}get upload(){return this.$$.ctx[7]}set upload(e){this.$$set({upload:e}),qe()}get _fetch(){return this.$$.ctx[8]}set _fetch(e){this.$$set({_fetch:e}),qe()}get allow_file_downloads(){return this.$$.ctx[9]}set allow_file_downloads(e){this.$$set({allow_file_downloads:e}),qe()}get display_icon_button_wrapper_top_corner(){return this.$$.ctx[10]}set display_icon_button_wrapper_top_corner(e){this.$$set({display_icon_button_wrapper_top_corner:e}),qe()}}const{SvelteComponent:pa,append:We,attr:we,check_outros:va,create_component:tl,destroy_component:nl,detach:ll,element:St,empty:$a,flush:ee,group_outros:Ca,init:za,insert:il,is_function:qa,mount_component:sl,safe_not_equal:Sa,set_data:Wl,space:Ul,text:Pl,transition_in:Rt,transition_out:Gt}=window.__gradio__svelte__internal;function Ha(t){let e,n,l,i,s,r,a,o=(t[15].content.value?.orig_name||t[15].content.value?.path.split("/").pop()||"file")+"",_,u,f,c,b,m=(t[15].content.value?.orig_name||t[15].content.value?.path||"").split(".").pop().toUpperCase()+"",h,k;return l=new Kn({}),{c(){e=St("div"),n=St("div"),tl(l.$$.fragment),i=Ul(),s=St("div"),r=St("a"),a=St("span"),_=Pl(o),c=Ul(),b=St("span"),h=Pl(m),we(n,"class","file-icon svelte-ulpe0d"),we(a,"class","file-name svelte-ulpe0d"),we(r,"data-testid","chatbot-file"),we(r,"class","file-link svelte-ulpe0d"),we(r,"href",u=t[15].content.value.url),we(r,"target","_blank"),we(r,"download",f=window.__is_colab__?null:t[15].content.value?.orig_name||t[15].content.value?.path.split("/").pop()||"file"),we(b,"class","file-type svelte-ulpe0d"),we(s,"class","file-info svelte-ulpe0d"),we(e,"class","file-container svelte-ulpe0d")},m(d,$){il(d,e,$),We(e,n),sl(l,n,null),We(e,i),We(e,s),We(s,r),We(r,a),We(a,_),We(s,c),We(s,b),We(b,h),k=!0},p(d,$){(!k||$&32768)&&o!==(o=(d[15].content.value?.orig_name||d[15].content.value?.path.split("/").pop()||"file")+"")&&Wl(_,o),(!k||$&32768&&u!==(u=d[15].content.value.url))&&we(r,"href",u),(!k||$&32768&&f!==(f=window.__is_colab__?null:d[15].content.value?.orig_name||d[15].content.value?.path.split("/").pop()||"file"))&&we(r,"download",f),(!k||$&32768)&&m!==(m=(d[15].content.value?.orig_name||d[15].content.value?.path||"").split(".").pop().toUpperCase()+"")&&Wl(h,m)},i(d){k||(Rt(l.$$.fragment,d),k=!0)},o(d){Gt(l.$$.fragment,d),k=!1},d(d){d&&ll(e),nl(l)}}}function La(t){let e,n;return e=new ka({props:{target:t[6],theme_mode:t[7],props:t[15].content.props,type:t[15].content.component,components:t[8],value:t[15].content.value,display_icon_button_wrapper_top_corner:t[13]>0&&t[12],i18n:t[3],upload:t[5],_fetch:t[2],allow_file_downloads:t[11]}}),e.$on("load",t[16]),{c(){tl(e.$$.fragment)},m(l,i){sl(e,l,i),n=!0},p(l,i){const s={};i&64&&(s.target=l[6]),i&128&&(s.theme_mode=l[7]),i&32768&&(s.props=l[15].content.props),i&32768&&(s.type=l[15].content.component),i&256&&(s.components=l[8]),i&32768&&(s.value=l[15].content.value),i&12288&&(s.display_icon_button_wrapper_top_corner=l[13]>0&&l[12]),i&8&&(s.i18n=l[3]),i&32&&(s.upload=l[5]),i&4&&(s._fetch=l[2]),i&2048&&(s.allow_file_downloads=l[11]),e.$set(s)},i(l){n||(Rt(e.$$.fragment,l),n=!0)},o(l){Gt(e.$$.fragment,l),n=!1},d(l){nl(e,l)}}}function Na(t){let e,n,l;return n=new Qn({props:{message:t[15].content,latex_delimiters:t[0],sanitize_html:t[1],render_markdown:t[9],line_breaks:t[4],allow_tags:t[14],theme_mode:t[7]}}),n.$on("load",function(){qa(t[10])&&t[10].apply(this,arguments)}),{c(){e=St("div"),tl(n.$$.fragment),we(e,"class","message-content")},m(i,s){il(i,e,s),sl(n,e,null),l=!0},p(i,s){t=i;const r={};s&32768&&(r.message=t[15].content),s&1&&(r.latex_delimiters=t[0]),s&2&&(r.sanitize_html=t[1]),s&512&&(r.render_markdown=t[9]),s&16&&(r.line_breaks=t[4]),s&16384&&(r.allow_tags=t[14]),s&128&&(r.theme_mode=t[7]),n.$set(r)},i(i){l||(Rt(n.$$.fragment,i),l=!0)},o(i){Gt(n.$$.fragment,i),l=!1},d(i){i&&ll(e),nl(n)}}}function Da(t){let e,n,l,i;const s=[Na,La,Ha],r=[];function a(o,_){return o[15].type==="text"?0:o[15].type==="component"&&o[15].content.component in o[8]?1:o[15].type==="component"&&o[15].content.component==="file"?2:-1}return~(e=a(t))&&(n=r[e]=s[e](t)),{c(){n&&n.c(),l=$a()},m(o,_){~e&&r[e].m(o,_),il(o,l,_),i=!0},p(o,[_]){let u=e;e=a(o),e===u?~e&&r[e].p(o,_):(n&&(Ca(),Gt(r[u],1,1,()=>{r[u]=null}),va()),~e?(n=r[e],n?n.p(o,_):(n=r[e]=s[e](o),n.c()),Rt(n,1),n.m(l.parentNode,l)):n=null)},i(o){i||(Rt(n),i=!0)},o(o){Gt(n),i=!1},d(o){o&&ll(l),~e&&r[e].d(o)}}}function Va(t,e,n){let{latex_delimiters:l}=e,{sanitize_html:i}=e,{_fetch:s}=e,{i18n:r}=e,{line_breaks:a}=e,{upload:o}=e,{target:_}=e,{theme_mode:u}=e,{_components:f}=e,{render_markdown:c}=e,{scroll:b}=e,{allow_file_downloads:m}=e,{display_consecutive_in_same_bubble:h}=e,{thought_index:k}=e,{allow_tags:d=!1}=e,{message:$}=e;const H=()=>b();return t.$$set=C=>{"latex_delimiters"in C&&n(0,l=C.latex_delimiters),"sanitize_html"in C&&n(1,i=C.sanitize_html),"_fetch"in C&&n(2,s=C._fetch),"i18n"in C&&n(3,r=C.i18n),"line_breaks"in C&&n(4,a=C.line_breaks),"upload"in C&&n(5,o=C.upload),"target"in C&&n(6,_=C.target),"theme_mode"in C&&n(7,u=C.theme_mode),"_components"in C&&n(8,f=C._components),"render_markdown"in C&&n(9,c=C.render_markdown),"scroll"in C&&n(10,b=C.scroll),"allow_file_downloads"in C&&n(11,m=C.allow_file_downloads),"display_consecutive_in_same_bubble"in C&&n(12,h=C.display_consecutive_in_same_bubble),"thought_index"in C&&n(13,k=C.thought_index),"allow_tags"in C&&n(14,d=C.allow_tags),"message"in C&&n(15,$=C.message)},[l,i,s,r,a,o,_,u,f,c,b,m,h,k,d,$,H]}class Ji extends pa{constructor(e){super(),za(this,e,Va,Da,Sa,{latex_delimiters:0,sanitize_html:1,_fetch:2,i18n:3,line_breaks:4,upload:5,target:6,theme_mode:7,_components:8,render_markdown:9,scroll:10,allow_file_downloads:11,display_consecutive_in_same_bubble:12,thought_index:13,allow_tags:14,message:15})}get latex_delimiters(){return this.$$.ctx[0]}set latex_delimiters(e){this.$$set({latex_delimiters:e}),ee()}get sanitize_html(){return this.$$.ctx[1]}set sanitize_html(e){this.$$set({sanitize_html:e}),ee()}get _fetch(){return this.$$.ctx[2]}set _fetch(e){this.$$set({_fetch:e}),ee()}get i18n(){return this.$$.ctx[3]}set i18n(e){this.$$set({i18n:e}),ee()}get line_breaks(){return this.$$.ctx[4]}set line_breaks(e){this.$$set({line_breaks:e}),ee()}get upload(){return this.$$.ctx[5]}set upload(e){this.$$set({upload:e}),ee()}get target(){return this.$$.ctx[6]}set target(e){this.$$set({target:e}),ee()}get theme_mode(){return this.$$.ctx[7]}set theme_mode(e){this.$$set({theme_mode:e}),ee()}get _components(){return this.$$.ctx[8]}set _components(e){this.$$set({_components:e}),ee()}get render_markdown(){return this.$$.ctx[9]}set render_markdown(e){this.$$set({render_markdown:e}),ee()}get scroll(){return this.$$.ctx[10]}set scroll(e){this.$$set({scroll:e}),ee()}get allow_file_downloads(){return this.$$.ctx[11]}set allow_file_downloads(e){this.$$set({allow_file_downloads:e}),ee()}get display_consecutive_in_same_bubble(){return this.$$.ctx[12]}set display_consecutive_in_same_bubble(e){this.$$set({display_consecutive_in_same_bubble:e}),ee()}get thought_index(){return this.$$.ctx[13]}set thought_index(e){this.$$set({thought_index:e}),ee()}get allow_tags(){return this.$$.ctx[14]}set allow_tags(e){this.$$set({allow_tags:e}),ee()}get message(){return this.$$.ctx[15]}set message(e){this.$$set({message:e}),ee()}}const{SvelteComponent:Ia,add_render_callback:Ma,append:rt,attr:Se,binding_callbacks:Ea,check_outros:ol,create_bidirectional_transition:Ol,create_component:_n,destroy_component:un,destroy_each:Ta,detach:me,element:Nt,ensure_array_like:Jl,flush:X,group_outros:al,init:ja,insert:he,listen:Pn,mount_component:fn,run_all:Aa,safe_not_equal:Ba,set_data:gn,set_style:Rl,space:jt,stop_propagation:Fa,text:Ke,toggle_class:At,transition_in:ke,transition_out:Ie}=window.__gradio__svelte__internal;function Gl(t,e,n){const l=t.slice();return l[27]=e[n],l[29]=n,l}function Kl(t){let e;return{c(){e=Nt("span"),Se(e,"class","loading-spinner svelte-1qn6r4f")},m(n,l){he(n,e,l)},d(n){n&&me(e)}}}function Ql(t){let e,n,l=t[16].metadata.log&&Xl(t),i=t[16].metadata.duration!==void 0&&Yl(t);return{c(){e=Nt("span"),l&&l.c(),n=jt(),i&&i.c(),Se(e,"class","duration svelte-1qn6r4f")},m(s,r){he(s,e,r),l&&l.m(e,null),rt(e,n),i&&i.m(e,null)},p(s,r){s[16].metadata.log?l?l.p(s,r):(l=Xl(s),l.c(),l.m(e,n)):l&&(l.d(1),l=null),s[16].metadata.duration!==void 0?i?i.p(s,r):(i=Yl(s),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(s){s&&me(e),l&&l.d(),i&&i.d()}}}function Xl(t){let e=t[16].metadata.log+"",n;return{c(){n=Ke(e)},m(l,i){he(l,n,i)},p(l,i){i&65536&&e!==(e=l[16].metadata.log+"")&&gn(n,e)},d(l){l&&me(n)}}}function Yl(t){let e,n,l;function i(a,o){return o&65536&&(n=null),n==null&&(n=!!Number.isInteger(a[16].metadata.duration)),n?Ua:a[16].metadata.duration>=.1?Wa:Za}let s=i(t,-1),r=s(t);return{c(){e=Ke("("),r.c(),l=Ke(")")},m(a,o){he(a,e,o),r.m(a,o),he(a,l,o)},p(a,o){s===(s=i(a,o))&&r?r.p(a,o):(r.d(1),r=s(a),r&&(r.c(),r.m(l.parentNode,l)))},d(a){a&&(me(e),me(l)),r.d(a)}}}function Za(t){let e=(t[16].metadata.duration*1e3).toFixed(1)+"",n,l;return{c(){n=Ke(e),l=Ke("ms")},m(i,s){he(i,n,s),he(i,l,s)},p(i,s){s&65536&&e!==(e=(i[16].metadata.duration*1e3).toFixed(1)+"")&&gn(n,e)},d(i){i&&(me(n),me(l))}}}function Wa(t){let e=t[16].metadata.duration.toFixed(1)+"",n,l;return{c(){n=Ke(e),l=Ke("s")},m(i,s){he(i,n,s),he(i,l,s)},p(i,s){s&65536&&e!==(e=i[16].metadata.duration.toFixed(1)+"")&&gn(n,e)},d(i){i&&(me(n),me(l))}}}function Ua(t){let e=t[16].metadata.duration+"",n,l;return{c(){n=Ke(e),l=Ke("s")},m(i,s){he(i,n,s),he(i,l,s)},p(i,s){s&65536&&e!==(e=i[16].metadata.duration+"")&&gn(n,e)},d(i){i&&(me(n),me(l))}}}function yl(t){let e,n,l,i,s,r,a;n=new Ji({props:{message:t[16],sanitize_html:t[1],allow_tags:t[15],latex_delimiters:t[2],render_markdown:t[3],_components:t[4],upload:t[5],thought_index:t[6],target:t[7],theme_mode:t[8],_fetch:t[9],scroll:t[10],allow_file_downloads:t[11],display_consecutive_in_same_bubble:t[12],i18n:t[13],line_breaks:t[14]}});let o=t[16].children?.length>0&&xl(t);return{c(){e=Nt("div"),_n(n.$$.fragment),l=jt(),o&&o.c(),Se(e,"class","svelte-1qn6r4f"),At(e,"content",t[18]),At(e,"content-preview",!t[18]&&t[16].metadata?.status!=="done")},m(_,u){he(_,e,u),fn(n,e,null),rt(e,l),o&&o.m(e,null),t[24](e),s=!0,r||(a=Pn(e,"scroll",t[20]),r=!0)},p(_,u){const f={};u&65536&&(f.message=_[16]),u&2&&(f.sanitize_html=_[1]),u&32768&&(f.allow_tags=_[15]),u&4&&(f.latex_delimiters=_[2]),u&8&&(f.render_markdown=_[3]),u&16&&(f._components=_[4]),u&32&&(f.upload=_[5]),u&64&&(f.thought_index=_[6]),u&128&&(f.target=_[7]),u&256&&(f.theme_mode=_[8]),u&512&&(f._fetch=_[9]),u&1024&&(f.scroll=_[10]),u&2048&&(f.allow_file_downloads=_[11]),u&4096&&(f.display_consecutive_in_same_bubble=_[12]),u&8192&&(f.i18n=_[13]),u&16384&&(f.line_breaks=_[14]),n.$set(f),_[16].children?.length>0?o?(o.p(_,u),u&65536&&ke(o,1)):(o=xl(_),o.c(),ke(o,1),o.m(e,null)):o&&(al(),Ie(o,1,1,()=>{o=null}),ol()),(!s||u&262144)&&At(e,"content",_[18]),(!s||u&327680)&&At(e,"content-preview",!_[18]&&_[16].metadata?.status!=="done")},i(_){s||(ke(n.$$.fragment,_),ke(o),_&&Ma(()=>{s&&(i||(i=Ol(e,ul,{},!0)),i.run(1))}),s=!0)},o(_){Ie(n.$$.fragment,_),Ie(o),_&&(i||(i=Ol(e,ul,{},!1)),i.run(0)),s=!1},d(_){_&&me(e),un(n),o&&o.d(),t[24](null),_&&i&&i.end(),r=!1,a()}}}function xl(t){let e,n,l=Jl(t[16].children),i=[];for(let r=0;r<l.length;r+=1)i[r]=ei(Gl(t,l,r));const s=r=>Ie(i[r],1,1,()=>{i[r]=null});return{c(){e=Nt("div");for(let r=0;r<i.length;r+=1)i[r].c();Se(e,"class","children svelte-1qn6r4f")},m(r,a){he(r,e,a);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null);n=!0},p(r,a){if(a&98303){l=Jl(r[16].children);let o;for(o=0;o<l.length;o+=1){const _=Gl(r,l,o);i[o]?(i[o].p(_,a),ke(i[o],1)):(i[o]=ei(_),i[o].c(),ke(i[o],1),i[o].m(e,null))}for(al(),o=l.length;o<i.length;o+=1)s(o);ol()}},i(r){if(!n){for(let a=0;a<l.length;a+=1)ke(i[a]);n=!0}},o(r){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)Ie(i[a]);n=!1},d(r){r&&me(e),Ta(i,r)}}}function ei(t){let e,n;return e=new Ri({props:{thought:t[27],rtl:t[0],sanitize_html:t[1],latex_delimiters:t[2],render_markdown:t[3],_components:t[4],upload:t[5],thought_index:t[6]+1,target:t[7],theme_mode:t[8],_fetch:t[9],scroll:t[10],allow_file_downloads:t[11],display_consecutive_in_same_bubble:t[12],i18n:t[13],line_breaks:t[14]}}),{c(){_n(e.$$.fragment)},m(l,i){fn(e,l,i),n=!0},p(l,i){const s={};i&65536&&(s.thought=l[27]),i&1&&(s.rtl=l[0]),i&2&&(s.sanitize_html=l[1]),i&4&&(s.latex_delimiters=l[2]),i&8&&(s.render_markdown=l[3]),i&16&&(s._components=l[4]),i&32&&(s.upload=l[5]),i&64&&(s.thought_index=l[6]+1),i&128&&(s.target=l[7]),i&256&&(s.theme_mode=l[8]),i&512&&(s._fetch=l[9]),i&1024&&(s.scroll=l[10]),i&2048&&(s.allow_file_downloads=l[11]),i&4096&&(s.display_consecutive_in_same_bubble=l[12]),i&8192&&(s.i18n=l[13]),i&16384&&(s.line_breaks=l[14]),e.$set(s)},i(l){n||(ke(e.$$.fragment,l),n=!0)},o(l){Ie(e.$$.fragment,l),n=!1},d(l){un(e,l)}}}function Pa(t){let e,n,l,i,s,r,a,o,_,u,f,c,b;i=new ce({props:{Icon:ms}}),r=new Qn({props:{message:t[16].metadata?.title||"",render_markdown:t[3],latex_delimiters:t[2],sanitize_html:t[1],allow_tags:t[15]}});let m=t[16].metadata?.status==="pending"&&Kl(),h=(t[16]?.metadata?.log||t[16]?.metadata?.duration)&&Ql(t),k=t[18]&&yl(t);return{c(){e=Nt("div"),n=Nt("div"),l=Nt("span"),_n(i.$$.fragment),s=jt(),_n(r.$$.fragment),a=jt(),m&&m.c(),o=jt(),h&&h.c(),u=jt(),k&&k.c(),Se(l,"class","arrow svelte-1qn6r4f"),Rl(l,"transform",t[18]?"rotate(180deg)":"rotate(0deg)"),Se(n,"class","title svelte-1qn6r4f"),Se(n,"aria-busy",_=t[16].content===""||t[16].content===null),Se(n,"role","button"),Se(n,"tabindex","0"),At(n,"expanded",t[18]),Se(e,"class","thought-group svelte-1qn6r4f")},m(d,$){he(d,e,$),rt(e,n),rt(n,l),fn(i,l,null),rt(n,s),fn(r,n,null),rt(n,a),m&&m.m(n,null),rt(n,o),h&&h.m(n,null),rt(e,u),k&&k.m(e,null),f=!0,c||(b=[Pn(n,"click",Fa(t[19])),Pn(n,"keydown",t[23])],c=!0)},p(d,[$]){$&262144&&Rl(l,"transform",d[18]?"rotate(180deg)":"rotate(0deg)");const H={};$&65536&&(H.message=d[16].metadata?.title||""),$&8&&(H.render_markdown=d[3]),$&4&&(H.latex_delimiters=d[2]),$&2&&(H.sanitize_html=d[1]),$&32768&&(H.allow_tags=d[15]),r.$set(H),d[16].metadata?.status==="pending"?m||(m=Kl(),m.c(),m.m(n,o)):m&&(m.d(1),m=null),d[16]?.metadata?.log||d[16]?.metadata?.duration?h?h.p(d,$):(h=Ql(d),h.c(),h.m(n,null)):h&&(h.d(1),h=null),(!f||$&65536&&_!==(_=d[16].content===""||d[16].content===null))&&Se(n,"aria-busy",_),(!f||$&262144)&&At(n,"expanded",d[18]),d[18]?k?(k.p(d,$),$&262144&&ke(k,1)):(k=yl(d),k.c(),ke(k,1),k.m(e,null)):k&&(al(),Ie(k,1,1,()=>{k=null}),ol())},i(d){f||(ke(i.$$.fragment,d),ke(r.$$.fragment,d),ke(k),f=!0)},o(d){Ie(i.$$.fragment,d),Ie(r.$$.fragment,d),Ie(k),f=!1},d(d){d&&me(e),un(i),un(r),m&&m.d(),h&&h.d(),k&&k.d(),c=!1,Aa(b)}}}function Oa(t){return"children"in t}function Ja(t,e,n){let{thought:l}=e,{rtl:i=!1}=e,{sanitize_html:s}=e,{latex_delimiters:r}=e,{render_markdown:a}=e,{_components:o}=e,{upload:_}=e,{thought_index:u}=e,{target:f}=e,{theme_mode:c}=e,{_fetch:b}=e,{scroll:m}=e,{allow_file_downloads:h}=e,{display_consecutive_in_same_bubble:k}=e,{i18n:d}=e,{line_breaks:$}=e,{allow_tags:H=!1}=e,C,B=!1,z=!1,j,ue=!1;function fe(){n(18,B=!B),n(22,z=!0)}function de(){j&&!ue&&n(17,j.scrollTop=j.scrollHeight,j)}function ge(){j&&(j.scrollHeight-j.scrollTop<=j.clientHeight+10||(ue=!0))}const v=q=>q.key==="Enter"&&fe();function Ce(q){Ea[q?"unshift":"push"](()=>{j=q,n(17,j)})}return t.$$set=q=>{"thought"in q&&n(21,l=q.thought),"rtl"in q&&n(0,i=q.rtl),"sanitize_html"in q&&n(1,s=q.sanitize_html),"latex_delimiters"in q&&n(2,r=q.latex_delimiters),"render_markdown"in q&&n(3,a=q.render_markdown),"_components"in q&&n(4,o=q._components),"upload"in q&&n(5,_=q.upload),"thought_index"in q&&n(6,u=q.thought_index),"target"in q&&n(7,f=q.target),"theme_mode"in q&&n(8,c=q.theme_mode),"_fetch"in q&&n(9,b=q._fetch),"scroll"in q&&n(10,m=q.scroll),"allow_file_downloads"in q&&n(11,h=q.allow_file_downloads),"display_consecutive_in_same_bubble"in q&&n(12,k=q.display_consecutive_in_same_bubble),"i18n"in q&&n(13,d=q.i18n),"line_breaks"in q&&n(14,$=q.line_breaks),"allow_tags"in q&&n(15,H=q.allow_tags)},t.$$.update=()=>{t.$$.dirty&2097152&&n(16,C={...l,children:Oa(l)?l.children:[]}),t.$$.dirty&4259840&&(z||n(18,B=C?.metadata?.status!=="done")),t.$$.dirty&196608&&C.content&&j&&C.metadata?.status!=="done"&&setTimeout(de,0)},[i,s,r,a,o,_,u,f,c,b,m,h,k,d,$,H,C,j,B,fe,ge,l,z,v,Ce]}class Ri extends Ia{constructor(e){super(),ja(this,e,Ja,Pa,Ba,{thought:21,rtl:0,sanitize_html:1,latex_delimiters:2,render_markdown:3,_components:4,upload:5,thought_index:6,target:7,theme_mode:8,_fetch:9,scroll:10,allow_file_downloads:11,display_consecutive_in_same_bubble:12,i18n:13,line_breaks:14,allow_tags:15})}get thought(){return this.$$.ctx[21]}set thought(e){this.$$set({thought:e}),X()}get rtl(){return this.$$.ctx[0]}set rtl(e){this.$$set({rtl:e}),X()}get sanitize_html(){return this.$$.ctx[1]}set sanitize_html(e){this.$$set({sanitize_html:e}),X()}get latex_delimiters(){return this.$$.ctx[2]}set latex_delimiters(e){this.$$set({latex_delimiters:e}),X()}get render_markdown(){return this.$$.ctx[3]}set render_markdown(e){this.$$set({render_markdown:e}),X()}get _components(){return this.$$.ctx[4]}set _components(e){this.$$set({_components:e}),X()}get upload(){return this.$$.ctx[5]}set upload(e){this.$$set({upload:e}),X()}get thought_index(){return this.$$.ctx[6]}set thought_index(e){this.$$set({thought_index:e}),X()}get target(){return this.$$.ctx[7]}set target(e){this.$$set({target:e}),X()}get theme_mode(){return this.$$.ctx[8]}set theme_mode(e){this.$$set({theme_mode:e}),X()}get _fetch(){return this.$$.ctx[9]}set _fetch(e){this.$$set({_fetch:e}),X()}get scroll(){return this.$$.ctx[10]}set scroll(e){this.$$set({scroll:e}),X()}get allow_file_downloads(){return this.$$.ctx[11]}set allow_file_downloads(e){this.$$set({allow_file_downloads:e}),X()}get display_consecutive_in_same_bubble(){return this.$$.ctx[12]}set display_consecutive_in_same_bubble(e){this.$$set({display_consecutive_in_same_bubble:e}),X()}get i18n(){return this.$$.ctx[13]}set i18n(e){this.$$set({i18n:e}),X()}get line_breaks(){return this.$$.ctx[14]}set line_breaks(e){this.$$set({line_breaks:e}),X()}get allow_tags(){return this.$$.ctx[15]}set allow_tags(e){this.$$set({allow_tags:e}),X()}}const{SvelteComponent:Ra,append:Tn,assign:Gi,attr:te,binding_callbacks:Ga,check_outros:Bt,create_component:Qt,destroy_component:Xt,destroy_each:Ka,detach:Re,element:Dt,empty:Ki,ensure_array_like:ti,flush:N,get_spread_object:Qi,get_spread_update:Xi,group_outros:Ft,init:Qa,insert:Ge,listen:On,mount_component:Yt,noop:ni,null_to_empty:li,run_all:Xa,safe_not_equal:Ya,set_input_value:ii,set_style:Oe,space:Jn,toggle_class:E,transition_in:W,transition_out:Y}=window.__gradio__svelte__internal;function si(t,e,n){const l=t.slice();return l[46]=e[n],l[47]=e,l[48]=n,l}function oi(t){let e,n,l;return n=new Kt({props:{class:"avatar-image",src:t[2]?.url,alt:t[4]+" avatar"}}),{c(){e=Dt("div"),Qt(n.$$.fragment),te(e,"class","avatar-container svelte-1csv61q")},m(i,s){Ge(i,e,s),Yt(n,e,null),l=!0},p(i,s){const r={};s[0]&4&&(r.src=i[2]?.url),s[0]&16&&(r.alt=i[4]+" avatar"),n.$set(r)},i(i){l||(W(n.$$.fragment,i),l=!0)},o(i){Y(n.$$.fragment,i),l=!1},d(i){i&&Re(e),Xt(n)}}}function ya(t){let e,n,l,i,s,r=t[48],a,o,_;const u=[tr,er],f=[];function c(d,$){return d[46]?.metadata?.title?0:1}n=c(t),l=f[n]=u[n](t);const b=()=>t[42](e,r),m=()=>t[42](null,r);function h(){return t[43](t[46])}function k(...d){return t[44](t[46],...d)}return{c(){e=Dt("div"),l.c(),te(e,"data-testid",t[4]),te(e,"dir",i=t[12]?"rtl":"ltr"),te(e,"aria-label",s=t[4]+"'s message: "+ui(t[46])),te(e,"class","svelte-1csv61q"),E(e,"latest",t[20]===t[1].length-1),E(e,"message-markdown-disabled",!t[7]),E(e,"selectable",t[10]),Oe(e,"user-select","text"),Oe(e,"cursor",t[10]?"pointer":"auto"),Oe(e,"text-align",t[12]?"right":"left")},m(d,$){Ge(d,e,$),f[n].m(e,null),b(),a=!0,o||(_=[On(e,"click",h),On(e,"keydown",k)],o=!0)},p(d,$){t=d;let H=n;n=c(t),n===H?f[n].p(t,$):(Ft(),Y(f[H],1,1,()=>{f[H]=null}),Bt(),l=f[n],l?l.p(t,$):(l=f[n]=u[n](t),l.c()),W(l,1),l.m(e,null)),(!a||$[0]&16)&&te(e,"data-testid",t[4]),(!a||$[0]&4096&&i!==(i=t[12]?"rtl":"ltr"))&&te(e,"dir",i),(!a||$[0]&48&&s!==(s=t[4]+"'s message: "+ui(t[46])))&&te(e,"aria-label",s),r!==t[48]&&(m(),r=t[48],b()),(!a||$[0]&1048578)&&E(e,"latest",t[20]===t[1].length-1),(!a||$[0]&128)&&E(e,"message-markdown-disabled",!t[7]),(!a||$[0]&1024)&&E(e,"selectable",t[10]),$[0]&1024&&Oe(e,"cursor",t[10]?"pointer":"auto"),$[0]&4096&&Oe(e,"text-align",t[12]?"right":"left")},i(d){a||(W(l),a=!0)},o(d){Y(l),a=!1},d(d){d&&Re(e),f[n].d(),m(),o=!1,Xa(_)}}}function xa(t){let e,n,l;function i(){t[41].call(e,t[48])}return{c(){e=Dt("textarea"),te(e,"class","edit-textarea svelte-1csv61q"),e.autofocus=!0,Oe(e,"width",`max(${t[29][t[48]]}px, 160px)`),Oe(e,"min-height",`${t[30][t[48]]}px`)},m(s,r){Ge(s,e,r),ii(e,t[0][t[48]]),e.focus(),n||(l=On(e,"input",i),n=!0)},p(s,r){t=s,r[0]&1&&ii(e,t[0][t[48]]),r[0]&536870912&&Oe(e,"width",`max(${t[29][t[48]]}px, 160px)`),r[0]&1073741824&&Oe(e,"min-height",`${t[30][t[48]]}px`)},i:ni,o:ni,d(s){s&&Re(e),n=!1,l()}}}function er(t){let e,n;return e=new Ji({props:{message:t[46],sanitize_html:t[9],allow_tags:t[26],latex_delimiters:t[8],render_markdown:t[7],_components:t[19],upload:t[16],thought_index:t[48],target:t[17],theme_mode:t[18],_fetch:t[11],scroll:t[21],allow_file_downloads:t[22],display_consecutive_in_same_bubble:t[24],i18n:t[14],line_breaks:t[15]}}),{c(){Qt(e.$$.fragment)},m(l,i){Yt(e,l,i),n=!0},p(l,i){const s={};i[0]&32&&(s.message=l[46]),i[0]&512&&(s.sanitize_html=l[9]),i[0]&67108864&&(s.allow_tags=l[26]),i[0]&256&&(s.latex_delimiters=l[8]),i[0]&128&&(s.render_markdown=l[7]),i[0]&524288&&(s._components=l[19]),i[0]&65536&&(s.upload=l[16]),i[0]&131072&&(s.target=l[17]),i[0]&262144&&(s.theme_mode=l[18]),i[0]&2048&&(s._fetch=l[11]),i[0]&2097152&&(s.scroll=l[21]),i[0]&4194304&&(s.allow_file_downloads=l[22]),i[0]&16777216&&(s.display_consecutive_in_same_bubble=l[24]),i[0]&16384&&(s.i18n=l[14]),i[0]&32768&&(s.line_breaks=l[15]),e.$set(s)},i(l){n||(W(e.$$.fragment,l),n=!0)},o(l){Y(e.$$.fragment,l),n=!1},d(l){Xt(e,l)}}}function tr(t){let e,n;return e=new Ri({props:{thought:t[46],rtl:t[12],sanitize_html:t[9],allow_tags:t[26],latex_delimiters:t[8],render_markdown:t[7],_components:t[19],upload:t[16],thought_index:t[48],target:t[17],theme_mode:t[18],_fetch:t[11],scroll:t[21],allow_file_downloads:t[22],display_consecutive_in_same_bubble:t[24],i18n:t[14],line_breaks:t[15]}}),{c(){Qt(e.$$.fragment)},m(l,i){Yt(e,l,i),n=!0},p(l,i){const s={};i[0]&32&&(s.thought=l[46]),i[0]&4096&&(s.rtl=l[12]),i[0]&512&&(s.sanitize_html=l[9]),i[0]&67108864&&(s.allow_tags=l[26]),i[0]&256&&(s.latex_delimiters=l[8]),i[0]&128&&(s.render_markdown=l[7]),i[0]&524288&&(s._components=l[19]),i[0]&65536&&(s.upload=l[16]),i[0]&131072&&(s.target=l[17]),i[0]&262144&&(s.theme_mode=l[18]),i[0]&2048&&(s._fetch=l[11]),i[0]&2097152&&(s.scroll=l[21]),i[0]&4194304&&(s.allow_file_downloads=l[22]),i[0]&16777216&&(s.display_consecutive_in_same_bubble=l[24]),i[0]&16384&&(s.i18n=l[14]),i[0]&32768&&(s.line_breaks=l[15]),e.$set(s)},i(l){n||(W(e.$$.fragment,l),n=!0)},o(l){Y(e.$$.fragment,l),n=!1},d(l){Xt(e,l)}}}function ai(t){let e,n;const l=[t[31],{current_feedback:t[25]},{watermark:t[27]},{i18n:t[14]}];let i={};for(let s=0;s<l.length;s+=1)i=Gi(i,l[s]);return e=new Pi({props:i}),e.$on("copy",t[45]),{c(){Qt(e.$$.fragment)},m(s,r){Yt(e,s,r),n=!0},p(s,r){const a=r[0]&167788544|r[1]&1?Xi(l,[r[1]&1&&Qi(s[31]),r[0]&33554432&&{current_feedback:s[25]},r[0]&134217728&&{watermark:s[27]},r[0]&16384&&{i18n:s[14]}]):{};e.$set(a)},i(s){n||(W(e.$$.fragment,s),n=!0)},o(s){Y(e.$$.fragment,s),n=!1},d(s){Xt(e,s)}}}function ri(t){let e,n,l,i,s,r,a;const o=[xa,ya],_=[];function u(c,b){return c[23]&&c[46].type==="text"?0:1}n=u(t),l=_[n]=o[n](t);let f=t[6]==="panel"&&ai(t);return{c(){e=Dt("div"),l.c(),s=Jn(),f&&f.c(),r=Ki(),te(e,"class",i="message "+(t[24]?"":t[4])+" svelte-1csv61q"),E(e,"panel-full-width",!0),E(e,"message-markdown-disabled",!t[7]),E(e,"component",t[46].type==="component"),E(e,"html",fl(t[46])&&t[46].content.component==="html"),E(e,"thought",t[48]>0)},m(c,b){Ge(c,e,b),_[n].m(e,null),Ge(c,s,b),f&&f.m(c,b),Ge(c,r,b),a=!0},p(c,b){let m=n;n=u(c),n===m?_[n].p(c,b):(Ft(),Y(_[m],1,1,()=>{_[m]=null}),Bt(),l=_[n],l?l.p(c,b):(l=_[n]=o[n](c),l.c()),W(l,1),l.m(e,null)),(!a||b[0]&16777232&&i!==(i="message "+(c[24]?"":c[4])+" svelte-1csv61q"))&&te(e,"class",i),(!a||b[0]&16777232)&&E(e,"panel-full-width",!0),(!a||b[0]&16777360)&&E(e,"message-markdown-disabled",!c[7]),(!a||b[0]&16777264)&&E(e,"component",c[46].type==="component"),(!a||b[0]&16777264)&&E(e,"html",fl(c[46])&&c[46].content.component==="html"),(!a||b[0]&16777232)&&E(e,"thought",c[48]>0),c[6]==="panel"?f?(f.p(c,b),b[0]&64&&W(f,1)):(f=ai(c),f.c(),W(f,1),f.m(r.parentNode,r)):f&&(Ft(),Y(f,1,1,()=>{f=null}),Bt())},i(c){a||(W(l),W(f),a=!0)},o(c){Y(l),Y(f),a=!1},d(c){c&&(Re(e),Re(s),Re(r)),_[n].d(),f&&f.d(c)}}}function _i(t){let e,n;const l=[t[31],{i18n:t[14]}];let i={};for(let s=0;s<l.length;s+=1)i=Gi(i,l[s]);return e=new Pi({props:i}),{c(){Qt(e.$$.fragment)},m(s,r){Yt(e,s,r),n=!0},p(s,r){const a=r[0]&16384|r[1]&1?Xi(l,[r[1]&1&&Qi(s[31]),r[0]&16384&&{i18n:s[14]}]):{};e.$set(a)},i(s){n||(W(e.$$.fragment,s),n=!0)},o(s){Y(e.$$.fragment,s),n=!1},d(s){Xt(e,s)}}}function nr(t){let e,n,l,i,s,r,a,o,_,u=t[2]!==null&&oi(t),f=ti(t[5]),c=[];for(let h=0;h<f.length;h+=1)c[h]=ri(si(t,f,h));const b=h=>Y(c[h],1,1,()=>{c[h]=null});let m=t[6]==="bubble"&&_i(t);return{c(){e=Dt("div"),u&&u.c(),n=Jn(),l=Dt("div"),i=Dt("div");for(let h=0;h<c.length;h+=1)c[h].c();a=Jn(),m&&m.c(),o=Ki(),te(i,"class",s=li(t[24]?t[4]:"")+" svelte-1csv61q"),E(i,"message",t[24]),te(l,"class","flex-wrap svelte-1csv61q"),E(l,"role",t[4]),E(l,"component-wrap",t[5][0].type==="component"),te(e,"class",r="message-row "+t[6]+" "+t[4]+"-row svelte-1csv61q"),E(e,"with_avatar",t[2]!==null),E(e,"with_opposite_avatar",t[3]!==null)},m(h,k){Ge(h,e,k),u&&u.m(e,null),Tn(e,n),Tn(e,l),Tn(l,i);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(i,null);Ge(h,a,k),m&&m.m(h,k),Ge(h,o,k),_=!0},p(h,k){if(h[2]!==null?u?(u.p(h,k),k[0]&4&&W(u,1)):(u=oi(h),u.c(),W(u,1),u.m(e,n)):u&&(Ft(),Y(u,1,1,()=>{u=null}),Bt()),k[0]&2147483635|k[1]&3){f=ti(h[5]);let d;for(d=0;d<f.length;d+=1){const $=si(h,f,d);c[d]?(c[d].p($,k),W(c[d],1)):(c[d]=ri($),c[d].c(),W(c[d],1),c[d].m(i,null))}for(Ft(),d=f.length;d<c.length;d+=1)b(d);Bt()}(!_||k[0]&16777232&&s!==(s=li(h[24]?h[4]:"")+" svelte-1csv61q"))&&te(i,"class",s),(!_||k[0]&16777232)&&E(i,"message",h[24]),(!_||k[0]&16)&&E(l,"role",h[4]),(!_||k[0]&32)&&E(l,"component-wrap",h[5][0].type==="component"),(!_||k[0]&80&&r!==(r="message-row "+h[6]+" "+h[4]+"-row svelte-1csv61q"))&&te(e,"class",r),(!_||k[0]&84)&&E(e,"with_avatar",h[2]!==null),(!_||k[0]&88)&&E(e,"with_opposite_avatar",h[3]!==null),h[6]==="bubble"?m?(m.p(h,k),k[0]&64&&W(m,1)):(m=_i(h),m.c(),W(m,1),m.m(o.parentNode,o)):m&&(Ft(),Y(m,1,1,()=>{m=null}),Bt())},i(h){if(!_){W(u);for(let k=0;k<f.length;k+=1)W(c[k]);W(m),_=!0}},o(h){Y(u),c=c.filter(Boolean);for(let k=0;k<c.length;k+=1)Y(c[k]);Y(m),_=!1},d(h){h&&(Re(e),Re(a),Re(o)),u&&u.d(),Ka(c,h),m&&m.d(h)}}}function ui(t){return t.type==="text"?t.content:t.type==="component"&&t.content.component==="file"?Array.isArray(t.content.value)?`file of extension type: ${t.content.value[0].orig_name?.split(".").pop()}`:`file of extension type: ${t.content.value?.orig_name?.split(".").pop()}`+(t.content.value?.orig_name??""):`a component of type ${t.content.component??"unknown"}`}function lr(t,e,n){let{value:l}=e,{avatar_img:i}=e,{opposite_avatar_img:s=null}=e,{role:r="user"}=e,{messages:a=[]}=e,{layout:o}=e,{render_markdown:_}=e,{latex_delimiters:u}=e,{sanitize_html:f}=e,{selectable:c}=e,{_fetch:b}=e,{rtl:m}=e,{dispatch:h}=e,{i18n:k}=e,{line_breaks:d}=e,{upload:$}=e,{target:H}=e,{theme_mode:C}=e,{_components:B}=e,{i:z}=e,{show_copy_button:j}=e,{generating:ue}=e,{feedback_options:fe}=e,{show_like:de}=e,{show_edit:ge}=e,{show_retry:v}=e,{show_undo:Ce}=e,{handle_action:q}=e,{scroll:et}=e,{allow_file_downloads:Te}=e,{in_edit_mode:Le}=e,{edit_messages:Ne}=e,{display_consecutive_in_same_bubble:tt}=e,{current_feedback:je=null}=e,{allow_tags:nt=!1}=e,{watermark:Ae=null}=e,be=[],Be=Array(a.length).fill(160),Fe=Array(a.length).fill(0);function Ze(p,U){h("select",{index:U.index,value:U.content})}let vt;function lt(p){Ne[p]=this.value,n(0,Ne)}function $e(p,U){Ga[p?"unshift":"push"](()=>{be[U]=p,n(28,be)})}const y=p=>Ze(z,p),it=(p,U)=>{U.key==="Enter"&&Ze(z,p)},re=p=>h("copy",p.detail);return t.$$set=p=>{"value"in p&&n(1,l=p.value),"avatar_img"in p&&n(2,i=p.avatar_img),"opposite_avatar_img"in p&&n(3,s=p.opposite_avatar_img),"role"in p&&n(4,r=p.role),"messages"in p&&n(5,a=p.messages),"layout"in p&&n(6,o=p.layout),"render_markdown"in p&&n(7,_=p.render_markdown),"latex_delimiters"in p&&n(8,u=p.latex_delimiters),"sanitize_html"in p&&n(9,f=p.sanitize_html),"selectable"in p&&n(10,c=p.selectable),"_fetch"in p&&n(11,b=p._fetch),"rtl"in p&&n(12,m=p.rtl),"dispatch"in p&&n(13,h=p.dispatch),"i18n"in p&&n(14,k=p.i18n),"line_breaks"in p&&n(15,d=p.line_breaks),"upload"in p&&n(16,$=p.upload),"target"in p&&n(17,H=p.target),"theme_mode"in p&&n(18,C=p.theme_mode),"_components"in p&&n(19,B=p._components),"i"in p&&n(20,z=p.i),"show_copy_button"in p&&n(33,j=p.show_copy_button),"generating"in p&&n(34,ue=p.generating),"feedback_options"in p&&n(35,fe=p.feedback_options),"show_like"in p&&n(36,de=p.show_like),"show_edit"in p&&n(37,ge=p.show_edit),"show_retry"in p&&n(38,v=p.show_retry),"show_undo"in p&&n(39,Ce=p.show_undo),"handle_action"in p&&n(40,q=p.handle_action),"scroll"in p&&n(21,et=p.scroll),"allow_file_downloads"in p&&n(22,Te=p.allow_file_downloads),"in_edit_mode"in p&&n(23,Le=p.in_edit_mode),"edit_messages"in p&&n(0,Ne=p.edit_messages),"display_consecutive_in_same_bubble"in p&&n(24,tt=p.display_consecutive_in_same_bubble),"current_feedback"in p&&n(25,je=p.current_feedback),"allow_tags"in p&&n(26,nt=p.allow_tags),"watermark"in p&&n(27,Ae=p.watermark)},t.$$.update=()=>{if(t.$$.dirty[0]&276824096&&Le){const p=be.length-a.length;for(let U=p;U<be.length;U++)U>=0&&(n(29,Be[U-p]=be[U]?.clientWidth,Be),n(30,Fe[U-p]=be[U]?.clientHeight,Fe))}t.$$.dirty[0]&176169076|t.$$.dirty[1]&1020&&n(31,vt={handle_action:q,likeable:de,feedback_options:fe,show_retry:v,show_undo:Ce,show_edit:ge,in_edit_mode:Le,generating:ue,show_copy_button:j,message:a,position:r==="user"?"right":"left",avatar:i,layout:o,dispatch:h,current_feedback:je,watermark:Ae})},[Ne,l,i,s,r,a,o,_,u,f,c,b,m,h,k,d,$,H,C,B,z,et,Te,Le,tt,je,nt,Ae,be,Be,Fe,vt,Ze,j,ue,fe,de,ge,v,Ce,q,lt,$e,y,it,re]}class ir extends Ra{constructor(e){super(),Qa(this,e,lr,nr,Ya,{value:1,avatar_img:2,opposite_avatar_img:3,role:4,messages:5,layout:6,render_markdown:7,latex_delimiters:8,sanitize_html:9,selectable:10,_fetch:11,rtl:12,dispatch:13,i18n:14,line_breaks:15,upload:16,target:17,theme_mode:18,_components:19,i:20,show_copy_button:33,generating:34,feedback_options:35,show_like:36,show_edit:37,show_retry:38,show_undo:39,handle_action:40,scroll:21,allow_file_downloads:22,in_edit_mode:23,edit_messages:0,display_consecutive_in_same_bubble:24,current_feedback:25,allow_tags:26,watermark:27},null,[-1,-1])}get value(){return this.$$.ctx[1]}set value(e){this.$$set({value:e}),N()}get avatar_img(){return this.$$.ctx[2]}set avatar_img(e){this.$$set({avatar_img:e}),N()}get opposite_avatar_img(){return this.$$.ctx[3]}set opposite_avatar_img(e){this.$$set({opposite_avatar_img:e}),N()}get role(){return this.$$.ctx[4]}set role(e){this.$$set({role:e}),N()}get messages(){return this.$$.ctx[5]}set messages(e){this.$$set({messages:e}),N()}get layout(){return this.$$.ctx[6]}set layout(e){this.$$set({layout:e}),N()}get render_markdown(){return this.$$.ctx[7]}set render_markdown(e){this.$$set({render_markdown:e}),N()}get latex_delimiters(){return this.$$.ctx[8]}set latex_delimiters(e){this.$$set({latex_delimiters:e}),N()}get sanitize_html(){return this.$$.ctx[9]}set sanitize_html(e){this.$$set({sanitize_html:e}),N()}get selectable(){return this.$$.ctx[10]}set selectable(e){this.$$set({selectable:e}),N()}get _fetch(){return this.$$.ctx[11]}set _fetch(e){this.$$set({_fetch:e}),N()}get rtl(){return this.$$.ctx[12]}set rtl(e){this.$$set({rtl:e}),N()}get dispatch(){return this.$$.ctx[13]}set dispatch(e){this.$$set({dispatch:e}),N()}get i18n(){return this.$$.ctx[14]}set i18n(e){this.$$set({i18n:e}),N()}get line_breaks(){return this.$$.ctx[15]}set line_breaks(e){this.$$set({line_breaks:e}),N()}get upload(){return this.$$.ctx[16]}set upload(e){this.$$set({upload:e}),N()}get target(){return this.$$.ctx[17]}set target(e){this.$$set({target:e}),N()}get theme_mode(){return this.$$.ctx[18]}set theme_mode(e){this.$$set({theme_mode:e}),N()}get _components(){return this.$$.ctx[19]}set _components(e){this.$$set({_components:e}),N()}get i(){return this.$$.ctx[20]}set i(e){this.$$set({i:e}),N()}get show_copy_button(){return this.$$.ctx[33]}set show_copy_button(e){this.$$set({show_copy_button:e}),N()}get generating(){return this.$$.ctx[34]}set generating(e){this.$$set({generating:e}),N()}get feedback_options(){return this.$$.ctx[35]}set feedback_options(e){this.$$set({feedback_options:e}),N()}get show_like(){return this.$$.ctx[36]}set show_like(e){this.$$set({show_like:e}),N()}get show_edit(){return this.$$.ctx[37]}set show_edit(e){this.$$set({show_edit:e}),N()}get show_retry(){return this.$$.ctx[38]}set show_retry(e){this.$$set({show_retry:e}),N()}get show_undo(){return this.$$.ctx[39]}set show_undo(e){this.$$set({show_undo:e}),N()}get handle_action(){return this.$$.ctx[40]}set handle_action(e){this.$$set({handle_action:e}),N()}get scroll(){return this.$$.ctx[21]}set scroll(e){this.$$set({scroll:e}),N()}get allow_file_downloads(){return this.$$.ctx[22]}set allow_file_downloads(e){this.$$set({allow_file_downloads:e}),N()}get in_edit_mode(){return this.$$.ctx[23]}set in_edit_mode(e){this.$$set({in_edit_mode:e}),N()}get edit_messages(){return this.$$.ctx[0]}set edit_messages(e){this.$$set({edit_messages:e}),N()}get display_consecutive_in_same_bubble(){return this.$$.ctx[24]}set display_consecutive_in_same_bubble(e){this.$$set({display_consecutive_in_same_bubble:e}),N()}get current_feedback(){return this.$$.ctx[25]}set current_feedback(e){this.$$set({current_feedback:e}),N()}get allow_tags(){return this.$$.ctx[26]}set allow_tags(e){this.$$set({allow_tags:e}),N()}get watermark(){return this.$$.ctx[27]}set watermark(e){this.$$set({watermark:e}),N()}}const{SvelteComponent:sr,append:jn,attr:at,check_outros:or,create_component:ar,destroy_component:rr,detach:Yi,element:ln,flush:fi,group_outros:_r,init:ur,insert:yi,mount_component:fr,safe_not_equal:cr,space:mr,toggle_class:nn,transition_in:sn,transition_out:Rn}=window.__gradio__svelte__internal;function ci(t){let e,n,l;return n=new Kt({props:{class:"avatar-image",src:t[1][1].url,alt:"bot avatar"}}),{c(){e=ln("div"),ar(n.$$.fragment),at(e,"class","avatar-container svelte-134ihlx")},m(i,s){yi(i,e,s),fr(n,e,null),l=!0},p(i,s){const r={};s&2&&(r.src=i[1][1].url),n.$set(r)},i(i){l||(sn(n.$$.fragment,i),l=!0)},o(i){Rn(n.$$.fragment,i),l=!1},d(i){i&&Yi(e),rr(n)}}}function hr(t){let e,n,l,i,s,r,a=t[1][1]!==null&&ci(t);return{c(){e=ln("div"),a&&a.c(),n=mr(),l=ln("div"),i=ln("div"),i.innerHTML='<span class="sr-only">Loading content</span> <div class="dots svelte-134ihlx"><div class="dot svelte-134ihlx"></div> <div class="dot svelte-134ihlx"></div> <div class="dot svelte-134ihlx"></div></div>',at(i,"class","message-content svelte-134ihlx"),at(l,"class",s="message bot pending "+t[0]+" svelte-134ihlx"),at(l,"role","status"),at(l,"aria-label","Loading response"),at(l,"aria-live","polite"),nn(l,"with_avatar",t[1][1]!==null),nn(l,"with_opposite_avatar",t[1][0]!==null),at(e,"class","container svelte-134ihlx")},m(o,_){yi(o,e,_),a&&a.m(e,null),jn(e,n),jn(e,l),jn(l,i),r=!0},p(o,[_]){o[1][1]!==null?a?(a.p(o,_),_&2&&sn(a,1)):(a=ci(o),a.c(),sn(a,1),a.m(e,n)):a&&(_r(),Rn(a,1,1,()=>{a=null}),or()),(!r||_&1&&s!==(s="message bot pending "+o[0]+" svelte-134ihlx"))&&at(l,"class",s),(!r||_&3)&&nn(l,"with_avatar",o[1][1]!==null),(!r||_&3)&&nn(l,"with_opposite_avatar",o[1][0]!==null)},i(o){r||(sn(a),r=!0)},o(o){Rn(a),r=!1},d(o){o&&Yi(e),a&&a.d()}}}function dr(t,e,n){let{layout:l="bubble"}=e,{avatar_images:i=[null,null]}=e;return t.$$set=s=>{"layout"in s&&n(0,l=s.layout),"avatar_images"in s&&n(1,i=s.avatar_images)},[l,i]}class xi extends sr{constructor(e){super(),ur(this,e,dr,hr,cr,{layout:0,avatar_images:1})}get layout(){return this.$$.ctx[0]}set layout(e){this.$$set({layout:e}),fi()}get avatar_images(){return this.$$.ctx[1]}set avatar_images(e){this.$$set({avatar_images:e}),fi()}}const{SvelteComponent:gr,append:P,attr:S,check_outros:dt,create_component:wt,destroy_component:kt,destroy_each:es,detach:O,element:F,empty:ts,ensure_array_like:cn,flush:An,group_outros:gt,init:br,insert:J,listen:wr,mount_component:pt,noop:Vt,safe_not_equal:kr,set_data:bn,space:Ut,src_url_equal:mn,text:It,transition_in:M,transition_out:A}=window.__gradio__svelte__internal,{createEventDispatcher:pr}=window.__gradio__svelte__internal;function mi(t,e,n){const l=t.slice();return l[6]=e[n],l[8]=n,l}function hi(t,e,n){const l=t.slice();return l[9]=e[n],l[8]=n,l}function di(t){let e,n,l;return n=new Qn({props:{message:t[1],latex_delimiters:t[2]}}),{c(){e=F("div"),wt(n.$$.fragment),S(e,"class","placeholder svelte-rodltw")},m(i,s){J(i,e,s),pt(n,e,null),l=!0},p(i,s){const r={};s&2&&(r.message=i[1]),s&4&&(r.latex_delimiters=i[2]),n.$set(r)},i(i){l||(M(n.$$.fragment,i),l=!0)},o(i){A(n.$$.fragment,i),l=!1},d(i){i&&O(e),kt(n)}}}function gi(t){let e,n,l=cn(t[0]),i=[];for(let r=0;r<l.length;r+=1)i[r]=vi(mi(t,l,r));const s=r=>A(i[r],1,1,()=>{i[r]=null});return{c(){e=F("div");for(let r=0;r<i.length;r+=1)i[r].c();S(e,"class","examples svelte-rodltw"),S(e,"role","list")},m(r,a){J(r,e,a);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null);n=!0},p(r,a){if(a&9){l=cn(r[0]);let o;for(o=0;o<l.length;o+=1){const _=mi(r,l,o);i[o]?(i[o].p(_,a),M(i[o],1)):(i[o]=vi(_),i[o].c(),M(i[o],1),i[o].m(e,null))}for(gt(),o=l.length;o<i.length;o+=1)s(o);dt()}},i(r){if(!n){for(let a=0;a<l.length;a+=1)M(i[a]);n=!0}},o(r){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)A(i[a]);n=!1},d(r){r&&O(e),es(i,r)}}}function vr(t){let e,n,l,i,s,r,a;const o=[Lr,Hr,Sr,qr,zr],_=[];function u(f,c){return c&1&&(e=null),c&1&&(n=null),c&1&&(l=null),f[6].files.length>1?0:(e==null&&(e=!!f[6].files[0].mime_type?.includes("image")),e?1:(n==null&&(n=!!f[6].files[0].mime_type?.includes("video")),n?2:(l==null&&(l=!!f[6].files[0].mime_type?.includes("audio")),l?3:4)))}return i=u(t,-1),s=_[i]=o[i](t),{c(){s.c(),r=ts()},m(f,c){_[i].m(f,c),J(f,r,c),a=!0},p(f,c){let b=i;i=u(f,c),i===b?_[i].p(f,c):(gt(),A(_[b],1,1,()=>{_[b]=null}),dt(),s=_[i],s?s.p(f,c):(s=_[i]=o[i](f),s.c()),M(s,1),s.m(r.parentNode,r))},i(f){a||(M(s),a=!0)},o(f){A(s),a=!1},d(f){f&&O(r),_[i].d(f)}}}function $r(t){let e;return{c(){e=F("div"),e.innerHTML='<span class="text-icon-aa svelte-rodltw">Aa</span>',S(e,"class","example-icon svelte-rodltw"),S(e,"aria-hidden","true")},m(n,l){J(n,e,l)},p:Vt,i:Vt,o:Vt,d(n){n&&O(e)}}}function Cr(t){let e,n,l;return n=new Kt({props:{class:"example-image",src:t[6].icon.url,alt:"Example icon"}}),{c(){e=F("div"),wt(n.$$.fragment),S(e,"class","example-image-container svelte-rodltw")},m(i,s){J(i,e,s),pt(n,e,null),l=!0},p(i,s){const r={};s&1&&(r.src=i[6].icon.url),n.$set(r)},i(i){l||(M(n.$$.fragment,i),l=!0)},o(i){A(n.$$.fragment,i),l=!1},d(i){i&&O(e),kt(n)}}}function zr(t){let e,n,l,i;return n=new Kn({}),{c(){e=F("div"),wt(n.$$.fragment),S(e,"class","example-icon svelte-rodltw"),S(e,"aria-label",l=`File: ${t[6].files[0].orig_name}`)},m(s,r){J(s,e,r),pt(n,e,null),i=!0},p(s,r){(!i||r&1&&l!==(l=`File: ${s[6].files[0].orig_name}`))&&S(e,"aria-label",l)},i(s){i||(M(n.$$.fragment,s),i=!0)},o(s){A(n.$$.fragment,s),i=!1},d(s){s&&O(e),kt(n)}}}function qr(t){let e,n,l,i;return n=new Wi({}),{c(){e=F("div"),wt(n.$$.fragment),S(e,"class","example-icon svelte-rodltw"),S(e,"aria-label",l=`File: ${t[6].files[0].orig_name}`)},m(s,r){J(s,e,r),pt(n,e,null),i=!0},p(s,r){(!i||r&1&&l!==(l=`File: ${s[6].files[0].orig_name}`))&&S(e,"aria-label",l)},i(s){i||(M(n.$$.fragment,s),i=!0)},o(s){A(n.$$.fragment,s),i=!1},d(s){s&&O(e),kt(n)}}}function Sr(t){let e,n,l;return{c(){e=F("div"),n=F("video"),S(n,"class","example-image"),mn(n.src,l=t[6].files[0].url)||S(n,"src",l),S(n,"aria-hidden","true"),S(e,"class","example-image-container svelte-rodltw")},m(i,s){J(i,e,s),P(e,n)},p(i,s){s&1&&!mn(n.src,l=i[6].files[0].url)&&S(n,"src",l)},i:Vt,o:Vt,d(i){i&&O(e)}}}function Hr(t){let e,n,l;return n=new Kt({props:{class:"example-image",src:t[6].files[0].url,alt:t[6].files[0].orig_name||"Example image"}}),{c(){e=F("div"),wt(n.$$.fragment),S(e,"class","example-image-container svelte-rodltw")},m(i,s){J(i,e,s),pt(n,e,null),l=!0},p(i,s){const r={};s&1&&(r.src=i[6].files[0].url),s&1&&(r.alt=i[6].files[0].orig_name||"Example image"),n.$set(r)},i(i){l||(M(n.$$.fragment,i),l=!0)},o(i){A(n.$$.fragment,i),l=!1},d(i){i&&O(e),kt(n)}}}function Lr(t){let e,n,l,i=cn(t[6].files.slice(0,4)),s=[];for(let o=0;o<i.length;o+=1)s[o]=ki(hi(t,i,o));const r=o=>A(s[o],1,1,()=>{s[o]=null});let a=t[6].files.length>4&&pi(t);return{c(){e=F("div");for(let o=0;o<s.length;o+=1)s[o].c();n=Ut(),a&&a.c(),S(e,"class","example-icons-grid svelte-rodltw"),S(e,"role","group"),S(e,"aria-label","Example attachments")},m(o,_){J(o,e,_);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(e,null);P(e,n),a&&a.m(e,null),l=!0},p(o,_){if(_&1){i=cn(o[6].files.slice(0,4));let u;for(u=0;u<i.length;u+=1){const f=hi(o,i,u);s[u]?(s[u].p(f,_),M(s[u],1)):(s[u]=ki(f),s[u].c(),M(s[u],1),s[u].m(e,n))}for(gt(),u=i.length;u<s.length;u+=1)r(u);dt()}o[6].files.length>4?a?a.p(o,_):(a=pi(o),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(o){if(!l){for(let _=0;_<i.length;_+=1)M(s[_]);l=!0}},o(o){s=s.filter(Boolean);for(let _=0;_<s.length;_+=1)A(s[_]);l=!1},d(o){o&&O(e),es(s,o),a&&a.d()}}}function Nr(t){let e,n,l,i,s,r;const a=[Mr,Ir],o=[];function _(u,f){return f&1&&(n=null),n==null&&(n=!!u[9].mime_type?.includes("audio")),n?0:1}return l=_(t,-1),i=o[l]=a[l](t),{c(){e=F("div"),i.c(),S(e,"class","example-icon svelte-rodltw"),S(e,"aria-label",s=`File: ${t[9].orig_name}`)},m(u,f){J(u,e,f),o[l].m(e,null),r=!0},p(u,f){let c=l;l=_(u,f),l!==c&&(gt(),A(o[c],1,1,()=>{o[c]=null}),dt(),i=o[l],i||(i=o[l]=a[l](u),i.c()),M(i,1),i.m(e,null)),(!r||f&1&&s!==(s=`File: ${u[9].orig_name}`))&&S(e,"aria-label",s)},i(u){r||(M(i),r=!0)},o(u){A(i),r=!1},d(u){u&&O(e),o[l].d()}}}function Dr(t){let e,n,l,i,s=t[8]===3&&t[6].files.length>4&&bi(t);return{c(){e=F("div"),n=F("video"),i=Ut(),s&&s.c(),S(n,"class","example-image"),mn(n.src,l=t[9].url)||S(n,"src",l),S(n,"aria-hidden","true"),S(e,"class","example-image-container svelte-rodltw")},m(r,a){J(r,e,a),P(e,n),P(e,i),s&&s.m(e,null)},p(r,a){a&1&&!mn(n.src,l=r[9].url)&&S(n,"src",l),r[8]===3&&r[6].files.length>4?s?s.p(r,a):(s=bi(r),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:Vt,o:Vt,d(r){r&&O(e),s&&s.d()}}}function Vr(t){let e,n,l,i;n=new Kt({props:{class:"example-image",src:t[9].url,alt:t[9].orig_name||`Example image ${t[8]+1}`}});let s=t[8]===3&&t[6].files.length>4&&wi(t);return{c(){e=F("div"),wt(n.$$.fragment),l=Ut(),s&&s.c(),S(e,"class","example-image-container svelte-rodltw")},m(r,a){J(r,e,a),pt(n,e,null),P(e,l),s&&s.m(e,null),i=!0},p(r,a){const o={};a&1&&(o.src=r[9].url),a&1&&(o.alt=r[9].orig_name||`Example image ${r[8]+1}`),n.$set(o),r[8]===3&&r[6].files.length>4?s?s.p(r,a):(s=wi(r),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i(r){i||(M(n.$$.fragment,r),i=!0)},o(r){A(n.$$.fragment,r),i=!1},d(r){r&&O(e),kt(n),s&&s.d()}}}function Ir(t){let e,n;return e=new Kn({}),{c(){wt(e.$$.fragment)},m(l,i){pt(e,l,i),n=!0},i(l){n||(M(e.$$.fragment,l),n=!0)},o(l){A(e.$$.fragment,l),n=!1},d(l){kt(e,l)}}}function Mr(t){let e,n;return e=new Wi({}),{c(){wt(e.$$.fragment)},m(l,i){pt(e,l,i),n=!0},i(l){n||(M(e.$$.fragment,l),n=!0)},o(l){A(e.$$.fragment,l),n=!1},d(l){kt(e,l)}}}function bi(t){let e,n,l=t[6].files.length-4+"",i,s;return{c(){e=F("div"),n=It("+"),i=It(l),S(e,"class","image-overlay svelte-rodltw"),S(e,"role","status"),S(e,"aria-label",s=`${t[6].files.length-4} more files`)},m(r,a){J(r,e,a),P(e,n),P(e,i)},p(r,a){a&1&&l!==(l=r[6].files.length-4+"")&&bn(i,l),a&1&&s!==(s=`${r[6].files.length-4} more files`)&&S(e,"aria-label",s)},d(r){r&&O(e)}}}function wi(t){let e,n,l=t[6].files.length-4+"",i,s;return{c(){e=F("div"),n=It("+"),i=It(l),S(e,"class","image-overlay svelte-rodltw"),S(e,"role","status"),S(e,"aria-label",s=`${t[6].files.length-4} more files`)},m(r,a){J(r,e,a),P(e,n),P(e,i)},p(r,a){a&1&&l!==(l=r[6].files.length-4+"")&&bn(i,l),a&1&&s!==(s=`${r[6].files.length-4} more files`)&&S(e,"aria-label",s)},d(r){r&&O(e)}}}function ki(t){let e,n,l,i,s,r;const a=[Vr,Dr,Nr],o=[];function _(u,f){return f&1&&(e=null),f&1&&(n=null),e==null&&(e=!!u[9].mime_type?.includes("image")),e?0:(n==null&&(n=!!u[9].mime_type?.includes("video")),n?1:2)}return l=_(t,-1),i=o[l]=a[l](t),{c(){i.c(),s=ts()},m(u,f){o[l].m(u,f),J(u,s,f),r=!0},p(u,f){let c=l;l=_(u,f),l===c?o[l].p(u,f):(gt(),A(o[c],1,1,()=>{o[c]=null}),dt(),i=o[l],i?i.p(u,f):(i=o[l]=a[l](u),i.c()),M(i,1),i.m(s.parentNode,s))},i(u){r||(M(i),r=!0)},o(u){A(i),r=!1},d(u){u&&O(s),o[l].d(u)}}}function pi(t){let e,n,l,i=t[6].files.length-4+"",s,r;return{c(){e=F("div"),n=F("div"),l=It("+"),s=It(i),S(n,"class","file-overlay svelte-rodltw"),S(n,"role","status"),S(n,"aria-label",r=`${t[6].files.length-4} more files`),S(e,"class","example-icon svelte-rodltw")},m(a,o){J(a,e,o),P(e,n),P(n,l),P(n,s)},p(a,o){o&1&&i!==(i=a[6].files.length-4+"")&&bn(s,i),o&1&&r!==(r=`${a[6].files.length-4} more files`)&&S(n,"aria-label",r)},d(a){a&&O(e)}}}function vi(t){let e,n,l,i,s,r,a,o=(t[6].display_text||t[6].text)+"",_,u,f,c,b,m;const h=[Cr,$r,vr],k=[];function d(H,C){return H[6]?.icon?.url?0:H[6]?.icon?.mime_type==="text"?1:H[6].files!==void 0&&H[6].files.length>0?2:-1}~(l=d(t))&&(i=k[l]=h[l](t));function $(){return t[4](t[8],t[6])}return{c(){e=F("button"),n=F("div"),i&&i.c(),s=Ut(),r=F("div"),a=F("span"),_=It(o),u=Ut(),S(a,"class","example-text svelte-rodltw"),S(r,"class","example-text-content svelte-rodltw"),S(n,"class","example-content svelte-rodltw"),S(e,"class","example svelte-rodltw"),S(e,"aria-label",f=`Select example ${t[8]+1}: ${t[6].display_text||t[6].text}`)},m(H,C){J(H,e,C),P(e,n),~l&&k[l].m(n,null),P(n,s),P(n,r),P(r,a),P(a,_),P(e,u),c=!0,b||(m=wr(e,"click",$),b=!0)},p(H,C){t=H;let B=l;l=d(t),l===B?~l&&k[l].p(t,C):(i&&(gt(),A(k[B],1,1,()=>{k[B]=null}),dt()),~l?(i=k[l],i?i.p(t,C):(i=k[l]=h[l](t),i.c()),M(i,1),i.m(n,s)):i=null),(!c||C&1)&&o!==(o=(t[6].display_text||t[6].text)+"")&&bn(_,o),(!c||C&1&&f!==(f=`Select example ${t[8]+1}: ${t[6].display_text||t[6].text}`))&&S(e,"aria-label",f)},i(H){c||(M(i),c=!0)},o(H){A(i),c=!1},d(H){H&&O(e),~l&&k[l].d(),b=!1,m()}}}function Er(t){let e,n,l,i=t[1]!==null&&di(t),s=t[0]!==null&&gi(t);return{c(){e=F("div"),i&&i.c(),n=Ut(),s&&s.c(),S(e,"class","placeholder-content svelte-rodltw"),S(e,"role","complementary")},m(r,a){J(r,e,a),i&&i.m(e,null),P(e,n),s&&s.m(e,null),l=!0},p(r,[a]){r[1]!==null?i?(i.p(r,a),a&2&&M(i,1)):(i=di(r),i.c(),M(i,1),i.m(e,n)):i&&(gt(),A(i,1,1,()=>{i=null}),dt()),r[0]!==null?s?(s.p(r,a),a&1&&M(s,1)):(s=gi(r),s.c(),M(s,1),s.m(e,null)):s&&(gt(),A(s,1,1,()=>{s=null}),dt())},i(r){l||(M(i),M(s),l=!0)},o(r){A(i),A(s),l=!1},d(r){r&&O(e),i&&i.d(),s&&s.d()}}}function Tr(t,e,n){let{examples:l=null}=e,{placeholder:i=null}=e,{latex_delimiters:s}=e;const r=pr();function a(_,u){const f=typeof u=="string"?{text:u}:u;r("example_select",{index:_,value:{text:f.text,files:f.files}})}const o=(_,u)=>a(_,typeof u=="string"?{text:u}:u);return t.$$set=_=>{"examples"in _&&n(0,l=_.examples),"placeholder"in _&&n(1,i=_.placeholder),"latex_delimiters"in _&&n(2,s=_.latex_delimiters)},[l,i,s,a,o]}class jr extends gr{constructor(e){super(),br(this,e,Tr,Er,kr,{examples:0,placeholder:1,latex_delimiters:2})}get examples(){return this.$$.ctx[0]}set examples(e){this.$$set({examples:e}),An()}get placeholder(){return this.$$.ctx[1]}set placeholder(e){this.$$set({placeholder:e}),An()}get latex_delimiters(){return this.$$.ctx[2]}set latex_delimiters(e){this.$$set({latex_delimiters:e}),An()}}const{SvelteComponent:Ar,create_component:Br,destroy_component:Fr,flush:$i,init:Zr,mount_component:Wr,safe_not_equal:Ur,transition_in:Pr,transition_out:Or}=window.__gradio__svelte__internal,{onDestroy:Jr}=window.__gradio__svelte__internal;function Rr(t){let e,n;return e=new ce({props:{Icon:t[0]?Jt:on,label:t[0]?"Copied conversation":"Copy conversation"}}),e.$on("click",t[1]),{c(){Br(e.$$.fragment)},m(l,i){Wr(e,l,i),n=!0},p(l,[i]){const s={};i&1&&(s.Icon=l[0]?Jt:on),i&1&&(s.label=l[0]?"Copied conversation":"Copy conversation"),e.$set(s)},i(l){n||(Pr(e.$$.fragment,l),n=!0)},o(l){Or(e.$$.fragment,l),n=!1},d(l){Fr(e,l)}}}function Gr(t,e,n){let l=!1,{value:i}=e,{watermark:s=null}=e,r;function a(){n(0,l=!0),r&&clearTimeout(r),r=setTimeout(()=>{n(0,l=!1)},1e3)}const o=()=>{if(i){const u=i.map(c=>c.type==="text"?`${c.role}: ${c.content}`:`${c.role}: ${c.content.value.url}`).join(`

`),f=s?`${u}

${s}`:u;navigator.clipboard.writeText(f).catch(c=>{console.error("Failed to copy conversation: ",c)})}};async function _(){"clipboard"in navigator&&(o(),a())}return Jr(()=>{r&&clearTimeout(r)}),t.$$set=u=>{"value"in u&&n(2,i=u.value),"watermark"in u&&n(3,s=u.watermark)},[l,_,i,s]}class Kr extends Ar{constructor(e){super(),Zr(this,e,Gr,Rr,Ur,{value:2,watermark:3})}get value(){return this.$$.ctx[2]}set value(e){this.$$set({value:e}),$i()}get watermark(){return this.$$.ctx[3]}set watermark(e){this.$$set({watermark:e}),$i()}}const{SvelteComponent:Qr,action_destroyer:Xr,add_flush_callback:Yr,append:Gn,attr:Je,bind:yr,binding_callbacks:ns,check_outros:ut,create_component:Ye,destroy_component:ye,destroy_each:ls,detach:pe,element:yt,empty:rl,ensure_array_like:hn,flush:D,group_outros:ft,init:xr,insert:ve,listen:e_,mount_component:xe,noop:dn,null_to_empty:Ci,safe_not_equal:t_,set_data:n_,space:Mt,text:l_,transition_in:V,transition_out:T}=window.__gradio__svelte__internal,{createEventDispatcher:i_,tick:s_,onMount:Bn}=window.__gradio__svelte__internal;function zi(t,e,n){const l=t.slice();return l[60]=e[n],l[62]=n,l}function qi(t,e,n){const l=t.slice();l[63]=e[n],l[70]=n;const i=l[63][0].role==="user"?"user":"bot";l[64]=i;const s=l[16][l[64]==="user"?0:1];l[65]=s;const r=l[16][l[64]==="user"?0:1];l[66]=r;const a=l[38].slice(0,l[70]).filter(_=>_[0].role==="assistant").length;l[67]=a;const o=l[64]==="bot"&&l[10]&&l[10][l[67]]?l[10][l[67]]:null;return l[68]=o,l}function Si(t){let e,n;return e=new Zi({props:{$$slots:{default:[o_]},$$scope:{ctx:t}}}),{c(){Ye(e.$$.fragment)},m(l,i){xe(e,l,i),n=!0},p(l,i){const s={};i[0]&1075851265|i[2]&512&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){n||(V(e.$$.fragment,l),n=!0)},o(l){T(e.$$.fragment,l),n=!1},d(l){ye(e,l)}}}function Hi(t){let e,n;return e=new ce({props:{Icon:ws}}),e.$on("click",t[47]),{c(){Ye(e.$$.fragment)},m(l,i){xe(e,l,i),n=!0},p:dn,i(l){n||(V(e.$$.fragment,l),n=!0)},o(l){T(e.$$.fragment,l),n=!1},d(l){ye(e,l)}}}function Li(t){let e,n;return e=new Kr({props:{value:t[0],watermark:t[30]}}),{c(){Ye(e.$$.fragment)},m(l,i){xe(e,l,i),n=!0},p(l,i){const s={};i[0]&1&&(s.value=l[0]),i[0]&1073741824&&(s.watermark=l[30]),e.$set(s)},i(l){n||(V(e.$$.fragment,l),n=!0)},o(l){T(e.$$.fragment,l),n=!1},d(l){ye(e,l)}}}function o_(t){let e,n,l,i,s,r=t[12]&&Hi(t);n=new ce({props:{Icon:bs,label:t[21]("chatbot.clear")}}),n.$on("click",t[48]);let a=t[13]&&Li(t);return{c(){r&&r.c(),e=Mt(),Ye(n.$$.fragment),l=Mt(),a&&a.c(),i=rl()},m(o,_){r&&r.m(o,_),ve(o,e,_),xe(n,o,_),ve(o,l,_),a&&a.m(o,_),ve(o,i,_),s=!0},p(o,_){o[12]?r?(r.p(o,_),_[0]&4096&&V(r,1)):(r=Hi(o),r.c(),V(r,1),r.m(e.parentNode,e)):r&&(ft(),T(r,1,1,()=>{r=null}),ut());const u={};_[0]&2097152&&(u.label=o[21]("chatbot.clear")),n.$set(u),o[13]?a?(a.p(o,_),_[0]&8192&&V(a,1)):(a=Li(o),a.c(),V(a,1),a.m(i.parentNode,i)):a&&(ft(),T(a,1,1,()=>{a=null}),ut())},i(o){s||(V(r),V(n.$$.fragment,o),V(a),s=!0)},o(o){T(r),T(n.$$.fragment,o),T(a),s=!1},d(o){o&&(pe(e),pe(l),pe(i)),r&&r.d(o),ye(n,o),a&&a.d(o)}}}function a_(t){let e,n;return e=new jr({props:{examples:t[25],placeholder:t[23],latex_delimiters:t[4]}}),e.$on("example_select",t[53]),{c(){Ye(e.$$.fragment)},m(l,i){xe(e,l,i),n=!0},p(l,i){const s={};i[0]&33554432&&(s.examples=l[25]),i[0]&8388608&&(s.placeholder=l[23]),i[0]&16&&(s.latex_delimiters=l[4]),e.$set(s)},i(l){n||(V(e.$$.fragment,l),n=!0)},o(l){T(e.$$.fragment,l),n=!1},d(l){ye(e,l)}}}function r_(t){let e,n,l,i,s,r,a,o=hn(t[38]),_=[];for(let m=0;m<o.length;m+=1)_[m]=Di(qi(t,o,m));const u=m=>T(_[m],1,1,()=>{_[m]=null}),f=[u_,__],c=[];function b(m,h){return m[31]!=="hidden"&&m[5]?0:m[39]?1:-1}return~(l=b(t))&&(i=c[l]=f[l](t)),{c(){e=yt("div");for(let m=0;m<_.length;m+=1)_[m].c();n=Mt(),i&&i.c(),Je(e,"class","message-wrap svelte-gjtrl6")},m(m,h){ve(m,e,h);for(let k=0;k<_.length;k+=1)_[k]&&_[k].m(e,null);Gn(e,n),~l&&c[l].m(e,null),s=!0,r||(a=Xr(ds.call(null,e)),r=!0)},p(m,h){if(h[0]&2105528287|h[1]&5791){o=hn(m[38]);let d;for(d=0;d<o.length;d+=1){const $=qi(m,o,d);_[d]?(_[d].p($,h),V(_[d],1)):(_[d]=Di($),_[d].c(),V(_[d],1),_[d].m(e,n))}for(ft(),d=o.length;d<_.length;d+=1)u(d);ut()}let k=l;l=b(m),l===k?~l&&c[l].p(m,h):(i&&(ft(),T(c[k],1,1,()=>{c[k]=null}),ut()),~l?(i=c[l],i?i.p(m,h):(i=c[l]=f[l](m),i.c()),V(i,1),i.m(e,null)):i=null)},i(m){if(!s){for(let h=0;h<o.length;h+=1)V(_[h]);V(i),s=!0}},o(m){_=_.filter(Boolean);for(let h=0;h<_.length;h+=1)T(_[h]);T(i),s=!1},d(m){m&&pe(e),ls(_,m),~l&&c[l].d(),r=!1,a()}}}function Ni(t){let e,n;return e=new xi({props:{layout:t[22],avatar_images:t[16]}}),{c(){Ye(e.$$.fragment)},m(l,i){xe(e,l,i),n=!0},p(l,i){const s={};i[0]&4194304&&(s.layout=l[22]),i[0]&65536&&(s.avatar_images=l[16]),e.$set(s)},i(l){n||(V(e.$$.fragment,l),n=!0)},o(l){T(e.$$.fragment,l),n=!1},d(l){ye(e,l)}}}function Di(t){let e,n,l,i,s;function r(...u){return t[49](t[63],t[70],...u)}function a(u){t[50](u)}let o={messages:t[63],display_consecutive_in_same_bubble:t[3],opposite_avatar_img:t[66],avatar_img:t[65],role:t[64],layout:t[22],dispatch:t[41],i18n:t[21],_fetch:t[1],line_breaks:t[19],theme_mode:t[20],target:t[33],upload:t[24],selectable:t[7],sanitize_html:t[17],render_markdown:t[18],rtl:t[14],i:t[70],value:t[0],latex_delimiters:t[4],_components:t[32],generating:t[6],feedback_options:t[9],current_feedback:t[68],allow_tags:t[29],watermark:t[30],show_like:t[64]==="user"?t[8]&&t[28]:t[8],show_retry:t[26]&&en(t[63],t[0]),show_undo:t[27]&&en(t[63],t[0]),show_edit:t[11]==="all"||t[11]=="user"&&t[64]==="user"&&t[63].length>0&&t[63][t[63].length-1].type=="text",in_edit_mode:t[34]===t[70],show_copy_button:t[15],handle_action:r,scroll:t[40]?scroll:c_,allow_file_downloads:t[2]};t[35]!==void 0&&(o.edit_messages=t[35]),e=new ir({props:o}),ns.push(()=>yr(e,"edit_messages",a)),e.$on("copy",t[51]);let _=t[31]!=="hidden"&&t[6]&&t[63][t[63].length-1].role==="assistant"&&t[63][t[63].length-1].metadata?.status==="done"&&Ni(t);return{c(){Ye(e.$$.fragment),l=Mt(),_&&_.c(),i=rl()},m(u,f){xe(e,u,f),ve(u,l,f),_&&_.m(u,f),ve(u,i,f),s=!0},p(u,f){t=u;const c={};f[1]&128&&(c.messages=t[63]),f[0]&8&&(c.display_consecutive_in_same_bubble=t[3]),f[0]&65536|f[1]&128&&(c.opposite_avatar_img=t[66]),f[0]&65536|f[1]&128&&(c.avatar_img=t[65]),f[1]&128&&(c.role=t[64]),f[0]&4194304&&(c.layout=t[22]),f[0]&2097152&&(c.i18n=t[21]),f[0]&2&&(c._fetch=t[1]),f[0]&524288&&(c.line_breaks=t[19]),f[0]&1048576&&(c.theme_mode=t[20]),f[1]&4&&(c.target=t[33]),f[0]&16777216&&(c.upload=t[24]),f[0]&128&&(c.selectable=t[7]),f[0]&131072&&(c.sanitize_html=t[17]),f[0]&262144&&(c.render_markdown=t[18]),f[0]&16384&&(c.rtl=t[14]),f[0]&1&&(c.value=t[0]),f[0]&16&&(c.latex_delimiters=t[4]),f[1]&2&&(c._components=t[32]),f[0]&64&&(c.generating=t[6]),f[0]&512&&(c.feedback_options=t[9]),f[0]&1024|f[1]&128&&(c.current_feedback=t[68]),f[0]&536870912&&(c.allow_tags=t[29]),f[0]&1073741824&&(c.watermark=t[30]),f[0]&268435712|f[1]&128&&(c.show_like=t[64]==="user"?t[8]&&t[28]:t[8]),f[0]&67108865|f[1]&128&&(c.show_retry=t[26]&&en(t[63],t[0])),f[0]&134217729|f[1]&128&&(c.show_undo=t[27]&&en(t[63],t[0])),f[0]&2048|f[1]&128&&(c.show_edit=t[11]==="all"||t[11]=="user"&&t[64]==="user"&&t[63].length>0&&t[63][t[63].length-1].type=="text"),f[1]&8&&(c.in_edit_mode=t[34]===t[70]),f[0]&32768&&(c.show_copy_button=t[15]),f[1]&144&&(c.handle_action=r),f[0]&4&&(c.allow_file_downloads=t[2]),!n&&f[1]&16&&(n=!0,c.edit_messages=t[35],Yr(()=>n=!1)),e.$set(c),t[31]!=="hidden"&&t[6]&&t[63][t[63].length-1].role==="assistant"&&t[63][t[63].length-1].metadata?.status==="done"?_?(_.p(t,f),f[0]&64|f[1]&129&&V(_,1)):(_=Ni(t),_.c(),V(_,1),_.m(i.parentNode,i)):_&&(ft(),T(_,1,1,()=>{_=null}),ut())},i(u){s||(V(e.$$.fragment,u),V(_),s=!0)},o(u){T(e.$$.fragment,u),T(_),s=!1},d(u){u&&(pe(l),pe(i)),ye(e,u),_&&_.d(u)}}}function __(t){let e,n=hn(t[39]),l=[];for(let i=0;i<n.length;i+=1)l[i]=Vi(zi(t,n,i));return{c(){e=yt("div");for(let i=0;i<l.length;i+=1)l[i].c();Je(e,"class","options svelte-gjtrl6")},m(i,s){ve(i,e,s);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(i,s){if(s[1]&1280){n=hn(i[39]);let r;for(r=0;r<n.length;r+=1){const a=zi(i,n,r);l[r]?l[r].p(a,s):(l[r]=Vi(a),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},i:dn,o:dn,d(i){i&&pe(e),ls(l,i)}}}function u_(t){let e,n;return e=new xi({props:{layout:t[22],avatar_images:t[16]}}),{c(){Ye(e.$$.fragment)},m(l,i){xe(e,l,i),n=!0},p(l,i){const s={};i[0]&4194304&&(s.layout=l[22]),i[0]&65536&&(s.avatar_images=l[16]),e.$set(s)},i(l){n||(V(e.$$.fragment,l),n=!0)},o(l){T(e.$$.fragment,l),n=!1},d(l){ye(e,l)}}}function Vi(t){let e,n=(t[60].label||t[60].value)+"",l,i,s,r;function a(){return t[52](t[62],t[60])}return{c(){e=yt("button"),l=l_(n),i=Mt(),Je(e,"class","option svelte-gjtrl6")},m(o,_){ve(o,e,_),Gn(e,l),Gn(e,i),s||(r=e_(e,"click",a),s=!0)},p(o,_){t=o,_[1]&256&&n!==(n=(t[60].label||t[60].value)+"")&&n_(l,n)},d(o){o&&pe(e),s=!1,r()}}}function Ii(t){let e,n,l;return n=new ce({props:{Icon:gs,label:"Scroll down",size:"large"}}),n.$on("click",t[42]),{c(){e=yt("div"),Ye(n.$$.fragment),Je(e,"class","scroll-down-button-container svelte-gjtrl6")},m(i,s){ve(i,e,s),xe(n,e,null),l=!0},p:dn,i(i){l||(V(n.$$.fragment,i),l=!0)},o(i){T(n.$$.fragment,i),l=!1},d(i){i&&pe(e),ye(n)}}}function f_(t){let e,n,l,i,s,r,a,o,_=t[0]!==null&&t[0].length>0&&Si(t);const u=[r_,a_],f=[];function c(m,h){return m[0]!==null&&m[0].length>0&&m[38]!==null?0:1}l=c(t),i=f[l]=u[l](t);let b=t[37]&&Ii(t);return{c(){_&&_.c(),e=Mt(),n=yt("div"),i.c(),r=Mt(),b&&b.c(),a=rl(),Je(n,"class",s=Ci(t[22]==="bubble"?"bubble-wrap":"panel-wrap")+" svelte-gjtrl6"),Je(n,"role","log"),Je(n,"aria-label","chatbot conversation"),Je(n,"aria-live","polite")},m(m,h){_&&_.m(m,h),ve(m,e,h),ve(m,n,h),f[l].m(n,null),t[54](n),ve(m,r,h),b&&b.m(m,h),ve(m,a,h),o=!0},p(m,h){m[0]!==null&&m[0].length>0?_?(_.p(m,h),h[0]&1&&V(_,1)):(_=Si(m),_.c(),V(_,1),_.m(e.parentNode,e)):_&&(ft(),T(_,1,1,()=>{_=null}),ut());let k=l;l=c(m),l===k?f[l].p(m,h):(ft(),T(f[k],1,1,()=>{f[k]=null}),ut(),i=f[l],i?i.p(m,h):(i=f[l]=u[l](m),i.c()),V(i,1),i.m(n,null)),(!o||h[0]&4194304&&s!==(s=Ci(m[22]==="bubble"?"bubble-wrap":"panel-wrap")+" svelte-gjtrl6"))&&Je(n,"class",s),m[37]?b?(b.p(m,h),h[1]&64&&V(b,1)):(b=Ii(m),b.c(),V(b,1),b.m(a.parentNode,a)):b&&(ft(),T(b,1,1,()=>{b=null}),ut())},i(m){o||(V(_),V(i),V(b),o=!0)},o(m){T(_),T(i),T(b),o=!1},d(m){m&&(pe(e),pe(n),pe(r),pe(a)),_&&_.d(m),f[l].d(),t[54](null),b&&b.d(m)}}}const c_=()=>{};function m_(t,e,n){let l,i,{value:s=[]}=e,r=null,{_fetch:a}=e,{load_component:o}=e,{allow_file_downloads:_}=e,{display_consecutive_in_same_bubble:u}=e,f={};const c=typeof window<"u";async function b(){n(32,f=await Vs(Is(s),f,o))}let{latex_delimiters:m}=e,{pending_message:h=!1}=e,{generating:k=!1}=e,{selectable:d=!1}=e,{likeable:$=!1}=e,{feedback_options:H}=e,{feedback_value:C=null}=e,{editable:B=null}=e,{show_share_button:z=!1}=e,{show_copy_all_button:j=!1}=e,{rtl:ue=!1}=e,{show_copy_button:fe=!1}=e,{avatar_images:de=[null,null]}=e,{sanitize_html:ge=!0}=e,{render_markdown:v=!0}=e,{line_breaks:Ce=!0}=e,{autoscroll:q=!0}=e,{theme_mode:et}=e,{i18n:Te}=e,{layout:Le="bubble"}=e,{placeholder:Ne=null}=e,{upload:tt}=e,{examples:je=null}=e,{_retryable:nt=!1}=e,{_undoable:Ae=!1}=e,{like_user_message:be=!1}=e,{allow_tags:Be=!1}=e,{watermark:Fe=null}=e,{show_progress:Ze="full"}=e,vt=null,lt=null,$e=[];Bn(()=>{n(33,vt=document.querySelector("div.gradio-container"))});let y,it=!1;const re=i_();function p(){return y&&y.offsetHeight+y.scrollTop>y.scrollHeight-100}function U(){y&&(y.scrollTo(0,y.scrollHeight),n(37,it=!1))}async function xt(){q&&p()&&(await s_(),await new Promise(w=>setTimeout(w,300)),U())}Bn(()=>{q&&U(),xt()}),Bn(()=>{function w(){p()?n(37,it=!1):n(37,it=!0)}return y?.addEventListener("scroll",w),()=>{y?.removeEventListener("scroll",w)}});function Pt(w,De,x){if(x==="undo"||x==="retry"){const st=s;let ze=st.length-1;for(;st[ze].role==="assistant";)ze--;re(x,{index:st[ze].index,value:st[ze].content})}else if(x=="edit")n(34,lt=w),$e.push(De.content);else if(x=="edit_cancel")n(34,lt=null);else if(x=="edit_submit")n(34,lt=null),re("edit",{index:De.index,_dispatch_value:[{type:"text",text:$e[w].slice()}],value:$e[w].slice(),previous_value:De.content});else{let st=x==="Like"?!0:x==="Dislike"?!1:x||"";if(!l)return;const ze=l[w],[as,H_]=[ze[0],ze[ze.length-1]];re("like",{index:as.index,value:ze.map(rs=>rs.content),liked:st})}}function vn(){if(!s||!l||l.length===0)return;const w=l[l.length-1];if(w[0].role==="assistant")return w[w.length-1].options}const $n=async()=>{try{const w=await zs(s);re("share",{description:w})}catch(w){console.error(w);let De=w instanceof hs?w.message:"Share failed.";re("error",De)}},Cn=()=>re("clear"),zn=(w,De,x)=>{x=="edit"&&$e.splice(0,$e.length),x==="edit"||x==="edit_submit"?w.forEach((st,ze)=>{Pt(x==="edit"?De:ze,st,x)}):Pt(De,w[0],x)};function qn(w){$e=w,n(35,$e)}const g=w=>re("copy",w.detail),is=(w,De)=>re("option_select",{index:w,value:De.value}),ss=w=>re("example_select",w.detail);function os(w){ns[w?"unshift":"push"](()=>{y=w,n(36,y)})}return t.$$set=w=>{"value"in w&&n(0,s=w.value),"_fetch"in w&&n(1,a=w._fetch),"load_component"in w&&n(44,o=w.load_component),"allow_file_downloads"in w&&n(2,_=w.allow_file_downloads),"display_consecutive_in_same_bubble"in w&&n(3,u=w.display_consecutive_in_same_bubble),"latex_delimiters"in w&&n(4,m=w.latex_delimiters),"pending_message"in w&&n(5,h=w.pending_message),"generating"in w&&n(6,k=w.generating),"selectable"in w&&n(7,d=w.selectable),"likeable"in w&&n(8,$=w.likeable),"feedback_options"in w&&n(9,H=w.feedback_options),"feedback_value"in w&&n(10,C=w.feedback_value),"editable"in w&&n(11,B=w.editable),"show_share_button"in w&&n(12,z=w.show_share_button),"show_copy_all_button"in w&&n(13,j=w.show_copy_all_button),"rtl"in w&&n(14,ue=w.rtl),"show_copy_button"in w&&n(15,fe=w.show_copy_button),"avatar_images"in w&&n(16,de=w.avatar_images),"sanitize_html"in w&&n(17,ge=w.sanitize_html),"render_markdown"in w&&n(18,v=w.render_markdown),"line_breaks"in w&&n(19,Ce=w.line_breaks),"autoscroll"in w&&n(45,q=w.autoscroll),"theme_mode"in w&&n(20,et=w.theme_mode),"i18n"in w&&n(21,Te=w.i18n),"layout"in w&&n(22,Le=w.layout),"placeholder"in w&&n(23,Ne=w.placeholder),"upload"in w&&n(24,tt=w.upload),"examples"in w&&n(25,je=w.examples),"_retryable"in w&&n(26,nt=w._retryable),"_undoable"in w&&n(27,Ae=w._undoable),"like_user_message"in w&&n(28,be=w.like_user_message),"allow_tags"in w&&n(29,Be=w.allow_tags),"watermark"in w&&n(30,Fe=w.watermark),"show_progress"in w&&n(31,Ze=w.show_progress)},t.$$.update=()=>{t.$$.dirty[0]&1&&b(),t.$$.dirty[0]&33|t.$$.dirty[1]&2&&(s||h||f)&&xt(),t.$$.dirty[0]&1|t.$$.dirty[1]&32768&&(Cs(s,r)||(n(46,r=s),re("change"))),t.$$.dirty[0]&9&&n(38,l=s&&Ds(s,u)),t.$$.dirty[0]&1&&n(39,i=s&&vn())},[s,a,_,u,m,h,k,d,$,H,C,B,z,j,ue,fe,de,ge,v,Ce,et,Te,Le,Ne,tt,je,nt,Ae,be,Be,Fe,Ze,f,vt,lt,$e,y,it,l,i,c,re,U,Pt,o,q,r,$n,Cn,zn,qn,g,is,ss,os]}class h_ extends Qr{constructor(e){super(),xr(this,e,m_,f_,t_,{value:0,_fetch:1,load_component:44,allow_file_downloads:2,display_consecutive_in_same_bubble:3,latex_delimiters:4,pending_message:5,generating:6,selectable:7,likeable:8,feedback_options:9,feedback_value:10,editable:11,show_share_button:12,show_copy_all_button:13,rtl:14,show_copy_button:15,avatar_images:16,sanitize_html:17,render_markdown:18,line_breaks:19,autoscroll:45,theme_mode:20,i18n:21,layout:22,placeholder:23,upload:24,examples:25,_retryable:26,_undoable:27,like_user_message:28,allow_tags:29,watermark:30,show_progress:31},null,[-1,-1,-1])}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),D()}get _fetch(){return this.$$.ctx[1]}set _fetch(e){this.$$set({_fetch:e}),D()}get load_component(){return this.$$.ctx[44]}set load_component(e){this.$$set({load_component:e}),D()}get allow_file_downloads(){return this.$$.ctx[2]}set allow_file_downloads(e){this.$$set({allow_file_downloads:e}),D()}get display_consecutive_in_same_bubble(){return this.$$.ctx[3]}set display_consecutive_in_same_bubble(e){this.$$set({display_consecutive_in_same_bubble:e}),D()}get latex_delimiters(){return this.$$.ctx[4]}set latex_delimiters(e){this.$$set({latex_delimiters:e}),D()}get pending_message(){return this.$$.ctx[5]}set pending_message(e){this.$$set({pending_message:e}),D()}get generating(){return this.$$.ctx[6]}set generating(e){this.$$set({generating:e}),D()}get selectable(){return this.$$.ctx[7]}set selectable(e){this.$$set({selectable:e}),D()}get likeable(){return this.$$.ctx[8]}set likeable(e){this.$$set({likeable:e}),D()}get feedback_options(){return this.$$.ctx[9]}set feedback_options(e){this.$$set({feedback_options:e}),D()}get feedback_value(){return this.$$.ctx[10]}set feedback_value(e){this.$$set({feedback_value:e}),D()}get editable(){return this.$$.ctx[11]}set editable(e){this.$$set({editable:e}),D()}get show_share_button(){return this.$$.ctx[12]}set show_share_button(e){this.$$set({show_share_button:e}),D()}get show_copy_all_button(){return this.$$.ctx[13]}set show_copy_all_button(e){this.$$set({show_copy_all_button:e}),D()}get rtl(){return this.$$.ctx[14]}set rtl(e){this.$$set({rtl:e}),D()}get show_copy_button(){return this.$$.ctx[15]}set show_copy_button(e){this.$$set({show_copy_button:e}),D()}get avatar_images(){return this.$$.ctx[16]}set avatar_images(e){this.$$set({avatar_images:e}),D()}get sanitize_html(){return this.$$.ctx[17]}set sanitize_html(e){this.$$set({sanitize_html:e}),D()}get render_markdown(){return this.$$.ctx[18]}set render_markdown(e){this.$$set({render_markdown:e}),D()}get line_breaks(){return this.$$.ctx[19]}set line_breaks(e){this.$$set({line_breaks:e}),D()}get autoscroll(){return this.$$.ctx[45]}set autoscroll(e){this.$$set({autoscroll:e}),D()}get theme_mode(){return this.$$.ctx[20]}set theme_mode(e){this.$$set({theme_mode:e}),D()}get i18n(){return this.$$.ctx[21]}set i18n(e){this.$$set({i18n:e}),D()}get layout(){return this.$$.ctx[22]}set layout(e){this.$$set({layout:e}),D()}get placeholder(){return this.$$.ctx[23]}set placeholder(e){this.$$set({placeholder:e}),D()}get upload(){return this.$$.ctx[24]}set upload(e){this.$$set({upload:e}),D()}get examples(){return this.$$.ctx[25]}set examples(e){this.$$set({examples:e}),D()}get _retryable(){return this.$$.ctx[26]}set _retryable(e){this.$$set({_retryable:e}),D()}get _undoable(){return this.$$.ctx[27]}set _undoable(e){this.$$set({_undoable:e}),D()}get like_user_message(){return this.$$.ctx[28]}set like_user_message(e){this.$$set({like_user_message:e}),D()}get allow_tags(){return this.$$.ctx[29]}set allow_tags(e){this.$$set({allow_tags:e}),D()}get watermark(){return this.$$.ctx[30]}set watermark(e){this.$$set({watermark:e}),D()}get show_progress(){return this.$$.ctx[31]}set show_progress(e){this.$$set({show_progress:e}),D()}}const{SvelteComponent:d_,append:g_,assign:b_,attr:w_,check_outros:Mi,create_component:wn,destroy_component:kn,detach:Ei,element:k_,flush:L,get_spread_object:p_,get_spread_update:v_,group_outros:Ti,init:$_,insert:ji,mount_component:pn,safe_not_equal:C_,space:Ai,transition_in:Ve,transition_out:_t}=window.__gradio__svelte__internal;function Bi(t){let e,n;const l=[{autoscroll:t[24].autoscroll},{i18n:t[24].i18n},t[27],{show_progress:t[27].show_progress==="hidden"?"hidden":"minimal"}];let i={};for(let s=0;s<l.length;s+=1)i=b_(i,l[s]);return e=new $s({props:i}),e.$on("clear_status",t[40]),{c(){wn(e.$$.fragment)},m(s,r){pn(e,s,r),n=!0},p(s,r){const a=r[0]&150994944?v_(l,[r[0]&16777216&&{autoscroll:s[24].autoscroll},r[0]&16777216&&{i18n:s[24].i18n},r[0]&134217728&&p_(s[27]),r[0]&134217728&&{show_progress:s[27].show_progress==="hidden"?"hidden":"minimal"}]):{};e.$set(a)},i(s){n||(Ve(e.$$.fragment,s),n=!0)},o(s){_t(e.$$.fragment,s),n=!1},d(s){kn(e,s)}}}function Fi(t){let e,n;return e=new ps({props:{show_label:t[7],Icon:vs,float:!0,label:t[6]||"Chatbot"}}),{c(){wn(e.$$.fragment)},m(l,i){pn(e,l,i),n=!0},p(l,i){const s={};i[0]&128&&(s.show_label=l[7]),i[0]&64&&(s.label=l[6]||"Chatbot"),e.$set(s)},i(l){n||(Ve(e.$$.fragment,l),n=!0)},o(l){_t(e.$$.fragment,l),n=!1},d(l){kn(e,l)}}}function z_(t){let e,n,l,i,s,r=t[27]&&Bi(t),a=t[7]&&Fi(t);return i=new h_({props:{i18n:t[24].i18n,selectable:t[8],likeable:t[9],feedback_options:t[10],feedback_value:t[11],show_share_button:t[12]===null?!0:t[12].includes("share"),show_copy_all_button:t[12]===null?!0:t[12].includes("copy_all"),value:t[38],latex_delimiters:t[23],display_consecutive_in_same_bubble:t[21],render_markdown:t[16],theme_mode:t[35],editable:t[32],pending_message:t[27]?.status==="pending",generating:t[27]?.status==="generating",rtl:t[13],show_copy_button:t[12]===null?!1:t[12].includes("copy"),like_user_message:t[26],show_progress:t[27]?.show_progress||"full",avatar_images:t[25],sanitize_html:t[14],line_breaks:t[17],autoscroll:t[18],layout:t[15],placeholder:t[33],examples:t[34],_retryable:t[19],_undoable:t[20],upload:t[41],_fetch:t[42],load_component:t[24].load_component,allow_file_downloads:t[36],allow_tags:t[22],watermark:t[37]}}),i.$on("change",t[43]),i.$on("select",t[44]),i.$on("like",t[45]),i.$on("share",t[46]),i.$on("error",t[47]),i.$on("example_select",t[48]),i.$on("option_select",t[49]),i.$on("retry",t[50]),i.$on("undo",t[51]),i.$on("clear",t[52]),i.$on("copy",t[53]),i.$on("edit",t[54]),{c(){r&&r.c(),e=Ai(),n=k_("div"),a&&a.c(),l=Ai(),wn(i.$$.fragment),w_(n,"class","wrapper svelte-g3p8na")},m(o,_){r&&r.m(o,_),ji(o,e,_),ji(o,n,_),a&&a.m(n,null),g_(n,l),pn(i,n,null),s=!0},p(o,_){o[27]?r?(r.p(o,_),_[0]&134217728&&Ve(r,1)):(r=Bi(o),r.c(),Ve(r,1),r.m(e.parentNode,e)):r&&(Ti(),_t(r,1,1,()=>{r=null}),Mi()),o[7]?a?(a.p(o,_),_[0]&128&&Ve(a,1)):(a=Fi(o),a.c(),Ve(a,1),a.m(n,l)):a&&(Ti(),_t(a,1,1,()=>{a=null}),Mi());const u={};_[0]&16777216&&(u.i18n=o[24].i18n),_[0]&256&&(u.selectable=o[8]),_[0]&512&&(u.likeable=o[9]),_[0]&1024&&(u.feedback_options=o[10]),_[0]&2048&&(u.feedback_value=o[11]),_[0]&4096&&(u.show_share_button=o[12]===null?!0:o[12].includes("share")),_[0]&4096&&(u.show_copy_all_button=o[12]===null?!0:o[12].includes("copy_all")),_[1]&128&&(u.value=o[38]),_[0]&8388608&&(u.latex_delimiters=o[23]),_[0]&2097152&&(u.display_consecutive_in_same_bubble=o[21]),_[0]&65536&&(u.render_markdown=o[16]),_[1]&16&&(u.theme_mode=o[35]),_[1]&2&&(u.editable=o[32]),_[0]&134217728&&(u.pending_message=o[27]?.status==="pending"),_[0]&134217728&&(u.generating=o[27]?.status==="generating"),_[0]&8192&&(u.rtl=o[13]),_[0]&4096&&(u.show_copy_button=o[12]===null?!1:o[12].includes("copy")),_[0]&67108864&&(u.like_user_message=o[26]),_[0]&134217728&&(u.show_progress=o[27]?.show_progress||"full"),_[0]&33554432&&(u.avatar_images=o[25]),_[0]&16384&&(u.sanitize_html=o[14]),_[0]&131072&&(u.line_breaks=o[17]),_[0]&262144&&(u.autoscroll=o[18]),_[0]&32768&&(u.layout=o[15]),_[1]&4&&(u.placeholder=o[33]),_[1]&8&&(u.examples=o[34]),_[0]&524288&&(u._retryable=o[19]),_[0]&1048576&&(u._undoable=o[20]),_[0]&16777216&&(u.upload=o[41]),_[0]&16777216&&(u._fetch=o[42]),_[0]&16777216&&(u.load_component=o[24].load_component),_[1]&32&&(u.allow_file_downloads=o[36]),_[0]&4194304&&(u.allow_tags=o[22]),_[1]&64&&(u.watermark=o[37]),i.$set(u)},i(o){s||(Ve(r),Ve(a),Ve(i.$$.fragment,o),s=!0)},o(o){_t(r),_t(a),_t(i.$$.fragment,o),s=!1},d(o){o&&(Ei(e),Ei(n)),r&&r.d(o),a&&a.d(),kn(i)}}}function q_(t){let e,n;return e=new ks({props:{elem_id:t[1],elem_classes:t[2],visible:t[3],padding:!1,scale:t[4],min_width:t[5],height:t[28],resizable:t[29],min_height:t[30],max_height:t[31],allow_overflow:!0,flex:!0,overflow_behavior:"auto",$$slots:{default:[z_]},$$scope:{ctx:t}}}),{c(){wn(e.$$.fragment)},m(l,i){pn(e,l,i),n=!0},p(l,i){const s={};i[0]&2&&(s.elem_id=l[1]),i[0]&4&&(s.elem_classes=l[2]),i[0]&8&&(s.visible=l[3]),i[0]&16&&(s.scale=l[4]),i[0]&32&&(s.min_width=l[5]),i[0]&268435456&&(s.height=l[28]),i[0]&536870912&&(s.resizable=l[29]),i[0]&1073741824&&(s.min_height=l[30]),i[1]&1&&(s.max_height=l[31]),i[0]&268435393|i[1]&16777470&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){n||(Ve(e.$$.fragment,l),n=!0)},o(l){_t(e.$$.fragment,l),n=!1},d(l){kn(e,l)}}}function S_(t,e,n){let{elem_id:l=""}=e,{elem_classes:i=[]}=e,{visible:s=!0}=e,{value:r=[]}=e,{scale:a=null}=e,{min_width:o=void 0}=e,{label:_}=e,{show_label:u=!0}=e,{root:f}=e,{_selectable:c=!1}=e,{likeable:b=!1}=e,{feedback_options:m=["Like","Dislike"]}=e,{feedback_value:h=null}=e,{buttons:k=null}=e,{rtl:d=!1}=e,{sanitize_html:$=!0}=e,{layout:H="bubble"}=e,{render_markdown:C=!0}=e,{line_breaks:B=!0}=e,{autoscroll:z=!0}=e,{_retryable:j=!1}=e,{_undoable:ue=!1}=e,{group_consecutive_messages:fe=!0}=e,{allow_tags:de=!1}=e,{latex_delimiters:ge}=e,{gradio:v}=e,Ce=[],{avatar_images:q=[null,null]}=e,{like_user_message:et=!1}=e,{loading_status:Te=void 0}=e,{height:Le}=e,{resizable:Ne}=e,{min_height:tt}=e,{max_height:je}=e,{editable:nt=null}=e,{placeholder:Ae=null}=e,{examples:be=null}=e,{theme_mode:Be}=e,{allow_file_downloads:Fe=!0}=e,{watermark:Ze=null}=e;const vt=()=>v.dispatch("clear_status",Te),lt=(...g)=>v.client.upload(...g),$e=(...g)=>v.client.fetch(...g),y=()=>v.dispatch("change",r),it=g=>v.dispatch("select",g.detail),re=g=>v.dispatch("like",g.detail),p=g=>v.dispatch("share",g.detail),U=g=>v.dispatch("error",g.detail),xt=g=>v.dispatch("example_select",g.detail),Pt=g=>v.dispatch("option_select",g.detail),vn=g=>v.dispatch("retry",g.detail),$n=g=>v.dispatch("undo",g.detail),Cn=()=>{n(0,r=[]),v.dispatch("clear")},zn=g=>v.dispatch("copy",g.detail),qn=g=>{r===null||r.length===0||(n(0,r[g.detail.index].content=g.detail._dispatch_value,r),n(0,r),v.dispatch("edit",g.detail))};return t.$$set=g=>{"elem_id"in g&&n(1,l=g.elem_id),"elem_classes"in g&&n(2,i=g.elem_classes),"visible"in g&&n(3,s=g.visible),"value"in g&&n(0,r=g.value),"scale"in g&&n(4,a=g.scale),"min_width"in g&&n(5,o=g.min_width),"label"in g&&n(6,_=g.label),"show_label"in g&&n(7,u=g.show_label),"root"in g&&n(39,f=g.root),"_selectable"in g&&n(8,c=g._selectable),"likeable"in g&&n(9,b=g.likeable),"feedback_options"in g&&n(10,m=g.feedback_options),"feedback_value"in g&&n(11,h=g.feedback_value),"buttons"in g&&n(12,k=g.buttons),"rtl"in g&&n(13,d=g.rtl),"sanitize_html"in g&&n(14,$=g.sanitize_html),"layout"in g&&n(15,H=g.layout),"render_markdown"in g&&n(16,C=g.render_markdown),"line_breaks"in g&&n(17,B=g.line_breaks),"autoscroll"in g&&n(18,z=g.autoscroll),"_retryable"in g&&n(19,j=g._retryable),"_undoable"in g&&n(20,ue=g._undoable),"group_consecutive_messages"in g&&n(21,fe=g.group_consecutive_messages),"allow_tags"in g&&n(22,de=g.allow_tags),"latex_delimiters"in g&&n(23,ge=g.latex_delimiters),"gradio"in g&&n(24,v=g.gradio),"avatar_images"in g&&n(25,q=g.avatar_images),"like_user_message"in g&&n(26,et=g.like_user_message),"loading_status"in g&&n(27,Te=g.loading_status),"height"in g&&n(28,Le=g.height),"resizable"in g&&n(29,Ne=g.resizable),"min_height"in g&&n(30,tt=g.min_height),"max_height"in g&&n(31,je=g.max_height),"editable"in g&&n(32,nt=g.editable),"placeholder"in g&&n(33,Ae=g.placeholder),"examples"in g&&n(34,be=g.examples),"theme_mode"in g&&n(35,Be=g.theme_mode),"allow_file_downloads"in g&&n(36,Fe=g.allow_file_downloads),"watermark"in g&&n(37,Ze=g.watermark)},t.$$.update=()=>{t.$$.dirty[0]&1|t.$$.dirty[1]&256&&n(38,Ce=Ns(r,f))},[r,l,i,s,a,o,_,u,c,b,m,h,k,d,$,H,C,B,z,j,ue,fe,de,ge,v,q,et,Te,Le,Ne,tt,je,nt,Ae,be,Be,Fe,Ze,Ce,f,vt,lt,$e,y,it,re,p,U,xt,Pt,vn,$n,Cn,zn,qn]}class B_ extends d_{constructor(e){super(),$_(this,e,S_,q_,C_,{elem_id:1,elem_classes:2,visible:3,value:0,scale:4,min_width:5,label:6,show_label:7,root:39,_selectable:8,likeable:9,feedback_options:10,feedback_value:11,buttons:12,rtl:13,sanitize_html:14,layout:15,render_markdown:16,line_breaks:17,autoscroll:18,_retryable:19,_undoable:20,group_consecutive_messages:21,allow_tags:22,latex_delimiters:23,gradio:24,avatar_images:25,like_user_message:26,loading_status:27,height:28,resizable:29,min_height:30,max_height:31,editable:32,placeholder:33,examples:34,theme_mode:35,allow_file_downloads:36,watermark:37},null,[-1,-1])}get elem_id(){return this.$$.ctx[1]}set elem_id(e){this.$$set({elem_id:e}),L()}get elem_classes(){return this.$$.ctx[2]}set elem_classes(e){this.$$set({elem_classes:e}),L()}get visible(){return this.$$.ctx[3]}set visible(e){this.$$set({visible:e}),L()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),L()}get scale(){return this.$$.ctx[4]}set scale(e){this.$$set({scale:e}),L()}get min_width(){return this.$$.ctx[5]}set min_width(e){this.$$set({min_width:e}),L()}get label(){return this.$$.ctx[6]}set label(e){this.$$set({label:e}),L()}get show_label(){return this.$$.ctx[7]}set show_label(e){this.$$set({show_label:e}),L()}get root(){return this.$$.ctx[39]}set root(e){this.$$set({root:e}),L()}get _selectable(){return this.$$.ctx[8]}set _selectable(e){this.$$set({_selectable:e}),L()}get likeable(){return this.$$.ctx[9]}set likeable(e){this.$$set({likeable:e}),L()}get feedback_options(){return this.$$.ctx[10]}set feedback_options(e){this.$$set({feedback_options:e}),L()}get feedback_value(){return this.$$.ctx[11]}set feedback_value(e){this.$$set({feedback_value:e}),L()}get buttons(){return this.$$.ctx[12]}set buttons(e){this.$$set({buttons:e}),L()}get rtl(){return this.$$.ctx[13]}set rtl(e){this.$$set({rtl:e}),L()}get sanitize_html(){return this.$$.ctx[14]}set sanitize_html(e){this.$$set({sanitize_html:e}),L()}get layout(){return this.$$.ctx[15]}set layout(e){this.$$set({layout:e}),L()}get render_markdown(){return this.$$.ctx[16]}set render_markdown(e){this.$$set({render_markdown:e}),L()}get line_breaks(){return this.$$.ctx[17]}set line_breaks(e){this.$$set({line_breaks:e}),L()}get autoscroll(){return this.$$.ctx[18]}set autoscroll(e){this.$$set({autoscroll:e}),L()}get _retryable(){return this.$$.ctx[19]}set _retryable(e){this.$$set({_retryable:e}),L()}get _undoable(){return this.$$.ctx[20]}set _undoable(e){this.$$set({_undoable:e}),L()}get group_consecutive_messages(){return this.$$.ctx[21]}set group_consecutive_messages(e){this.$$set({group_consecutive_messages:e}),L()}get allow_tags(){return this.$$.ctx[22]}set allow_tags(e){this.$$set({allow_tags:e}),L()}get latex_delimiters(){return this.$$.ctx[23]}set latex_delimiters(e){this.$$set({latex_delimiters:e}),L()}get gradio(){return this.$$.ctx[24]}set gradio(e){this.$$set({gradio:e}),L()}get avatar_images(){return this.$$.ctx[25]}set avatar_images(e){this.$$set({avatar_images:e}),L()}get like_user_message(){return this.$$.ctx[26]}set like_user_message(e){this.$$set({like_user_message:e}),L()}get loading_status(){return this.$$.ctx[27]}set loading_status(e){this.$$set({loading_status:e}),L()}get height(){return this.$$.ctx[28]}set height(e){this.$$set({height:e}),L()}get resizable(){return this.$$.ctx[29]}set resizable(e){this.$$set({resizable:e}),L()}get min_height(){return this.$$.ctx[30]}set min_height(e){this.$$set({min_height:e}),L()}get max_height(){return this.$$.ctx[31]}set max_height(e){this.$$set({max_height:e}),L()}get editable(){return this.$$.ctx[32]}set editable(e){this.$$set({editable:e}),L()}get placeholder(){return this.$$.ctx[33]}set placeholder(e){this.$$set({placeholder:e}),L()}get examples(){return this.$$.ctx[34]}set examples(e){this.$$set({examples:e}),L()}get theme_mode(){return this.$$.ctx[35]}set theme_mode(e){this.$$set({theme_mode:e}),L()}get allow_file_downloads(){return this.$$.ctx[36]}set allow_file_downloads(e){this.$$set({allow_file_downloads:e}),L()}get watermark(){return this.$$.ctx[37]}set watermark(e){this.$$set({watermark:e}),L()}}export{h_ as BaseChatBot,B_ as default};
//# sourceMappingURL=Index-B2CT8cyH.js.map
