import{SvelteComponent as M,init as Q,safe_not_equal as R,create_component as h,space as E,empty as z,claim_component as w,claim_space as N,mount_component as $,insert_hydration as v,group_outros as B,transition_out as b,check_outros as D,transition_in as m,detach as p,destroy_component as k,createEventDispatcher as X,bubble as I,binding_callbacks as Y,element as F,claim_element as S,children as T,attr as L,toggle_class as q,append_hydration as V,listen as Z}from"../../../svelte/svelte.js";import"../../../svelte/svelte-submodules.js";import{u as y,I as x,o as ee,h as le}from"./2.kHWxRulR.js";import{B as ne}from"./BlockLabel.BOO7yzSi.js";import{D as te}from"./DownloadLink.DtKqE-UZ.js";import{E as re}from"./Empty.CO7FZzAD.js";import{S as oe}from"./ShareButton.BdgLeiM2.js";import{D as ae}from"./Download.CpfEFmFf.js";import{I as P}from"./Image.CTVzPhL7.js";import{F as ie}from"./FullscreenButton.ZmySZmof.js";import{g as fe}from"./utils.Gtzs_Zla.js";function ue(a){let l,t,e,o,i,_,g,f,s;return t=new x({props:{display_top_corner:a[6],$$slots:{default:[_e]},$$scope:{ctx:a}}}),_=new ee({props:{src:a[0].url,alt:"",loading:"lazy"}}),_.$on("load",a[14]),{c(){l=F("div"),h(t.$$.fragment),e=E(),o=F("button"),i=F("div"),h(_.$$.fragment),this.h()},l(n){l=S(n,"DIV",{class:!0});var r=T(l);w(t.$$.fragment,r),e=N(r),o=S(r,"BUTTON",{class:!0});var c=T(o);i=S(c,"DIV",{class:!0});var d=T(i);w(_.$$.fragment,d),d.forEach(p),c.forEach(p),r.forEach(p),this.h()},h(){L(i,"class","image-frame svelte-zxsjoa"),q(i,"selectable",a[4]),L(o,"class","svelte-zxsjoa"),L(l,"class","image-container svelte-zxsjoa")},m(n,r){v(n,l,r),$(t,l,null),V(l,e),V(l,o),V(o,i),$(_,i,null),a[15](l),g=!0,f||(s=Z(o,"click",a[9]),f=!0)},p(n,r){const c={};r&64&&(c.display_top_corner=n[6]),r&131241&&(c.$$scope={dirty:r,ctx:n}),t.$set(c);const d={};r&1&&(d.src=n[0].url),_.$set(d),(!g||r&16)&&q(i,"selectable",n[4])},i(n){g||(m(t.$$.fragment,n),m(_.$$.fragment,n),g=!0)},o(n){b(t.$$.fragment,n),b(_.$$.fragment,n),g=!1},d(n){n&&p(l),k(t),k(_),a[15](null),f=!1,s()}}}function se(a){let l,t;return l=new re({props:{unpadded_box:!0,size:"large",$$slots:{default:[me]},$$scope:{ctx:a}}}),{c(){h(l.$$.fragment)},l(e){w(l.$$.fragment,e)},m(e,o){$(l,e,o),t=!0},p(e,o){const i={};o&131072&&(i.$$scope={dirty:o,ctx:e}),l.$set(i)},i(e){t||(m(l.$$.fragment,e),t=!0)},o(e){b(l.$$.fragment,e),t=!1},d(e){k(l,e)}}}function C(a){let l,t;return l=new ie({props:{fullscreen:a[7]}}),l.$on("fullscreen",a[10]),{c(){h(l.$$.fragment)},l(e){w(l.$$.fragment,e)},m(e,o){$(l,e,o),t=!0},p(e,o){const i={};o&128&&(i.fullscreen=e[7]),l.$set(i)},i(e){t||(m(l.$$.fragment,e),t=!0)},o(e){b(l.$$.fragment,e),t=!1},d(e){k(l,e)}}}function H(a){let l,t;return l=new te({props:{href:a[0].url,download:a[0].orig_name||"image",$$slots:{default:[ce]},$$scope:{ctx:a}}}),{c(){h(l.$$.fragment)},l(e){w(l.$$.fragment,e)},m(e,o){$(l,e,o),t=!0},p(e,o){const i={};o&1&&(i.href=e[0].url),o&1&&(i.download=e[0].orig_name||"image"),o&131104&&(i.$$scope={dirty:o,ctx:e}),l.$set(i)},i(e){t||(m(l.$$.fragment,e),t=!0)},o(e){b(l.$$.fragment,e),t=!1},d(e){k(l,e)}}}function ce(a){let l,t;return l=new le({props:{Icon:ae,label:a[5]("common.download")}}),{c(){h(l.$$.fragment)},l(e){w(l.$$.fragment,e)},m(e,o){$(l,e,o),t=!0},p(e,o){const i={};o&32&&(i.label=e[5]("common.download")),l.$set(i)},i(e){t||(m(l.$$.fragment,e),t=!0)},o(e){b(l.$$.fragment,e),t=!1},d(e){k(l,e)}}}function O(a){let l,t;return l=new oe({props:{i18n:a[5],formatter:a[11],value:a[0]}}),l.$on("share",a[12]),l.$on("error",a[13]),{c(){h(l.$$.fragment)},l(e){w(l.$$.fragment,e)},m(e,o){$(l,e,o),t=!0},p(e,o){const i={};o&32&&(i.i18n=e[5]),o&1&&(i.value=e[0]),l.$set(i)},i(e){t||(m(l.$$.fragment,e),t=!0)},o(e){b(l.$$.fragment,e),t=!1},d(e){k(l,e)}}}function _e(a){let l=a[3]===null?!0:a[3].includes("fullscreen"),t,e=a[3]===null?!0:a[3].includes("download"),o,i=a[3]===null?!0:a[3].includes("share"),_,g,f=l&&C(a),s=e&&H(a),n=i&&O(a);return{c(){f&&f.c(),t=E(),s&&s.c(),o=E(),n&&n.c(),_=z()},l(r){f&&f.l(r),t=N(r),s&&s.l(r),o=N(r),n&&n.l(r),_=z()},m(r,c){f&&f.m(r,c),v(r,t,c),s&&s.m(r,c),v(r,o,c),n&&n.m(r,c),v(r,_,c),g=!0},p(r,c){c&8&&(l=r[3]===null?!0:r[3].includes("fullscreen")),l?f?(f.p(r,c),c&8&&m(f,1)):(f=C(r),f.c(),m(f,1),f.m(t.parentNode,t)):f&&(B(),b(f,1,1,()=>{f=null}),D()),c&8&&(e=r[3]===null?!0:r[3].includes("download")),e?s?(s.p(r,c),c&8&&m(s,1)):(s=H(r),s.c(),m(s,1),s.m(o.parentNode,o)):s&&(B(),b(s,1,1,()=>{s=null}),D()),c&8&&(i=r[3]===null?!0:r[3].includes("share")),i?n?(n.p(r,c),c&8&&m(n,1)):(n=O(r),n.c(),m(n,1),n.m(_.parentNode,_)):n&&(B(),b(n,1,1,()=>{n=null}),D())},i(r){g||(m(f),m(s),m(n),g=!0)},o(r){b(f),b(s),b(n),g=!1},d(r){r&&(p(t),p(o),p(_)),f&&f.d(r),s&&s.d(r),n&&n.d(r)}}}function me(a){let l,t;return l=new P({}),{c(){h(l.$$.fragment)},l(e){w(l.$$.fragment,e)},m(e,o){$(l,e,o),t=!0},i(e){t||(m(l.$$.fragment,e),t=!0)},o(e){b(l.$$.fragment,e),t=!1},d(e){k(l,e)}}}function be(a){let l,t,e,o,i,_;l=new ne({props:{show_label:a[2],Icon:P,label:a[2]?a[1]||a[5]("image.image"):""}});const g=[se,ue],f=[];function s(n,r){return n[0]===null||!n[0].url?0:1}return e=s(a),o=f[e]=g[e](a),{c(){h(l.$$.fragment),t=E(),o.c(),i=z()},l(n){w(l.$$.fragment,n),t=N(n),o.l(n),i=z()},m(n,r){$(l,n,r),v(n,t,r),f[e].m(n,r),v(n,i,r),_=!0},p(n,[r]){const c={};r&4&&(c.show_label=n[2]),r&38&&(c.label=n[2]?n[1]||n[5]("image.image"):""),l.$set(c);let d=e;e=s(n),e===d?f[e].p(n,r):(B(),b(f[d],1,1,()=>{f[d]=null}),D(),o=f[e],o?o.p(n,r):(o=f[e]=g[e](n),o.c()),m(o,1),o.m(i.parentNode,i))},i(n){_||(m(l.$$.fragment,n),m(o),_=!0)},o(n){b(l.$$.fragment,n),b(o),_=!1},d(n){n&&(p(t),p(i)),k(l,n),f[e].d(n)}}}function ge(a,l,t){let{value:e}=l,{label:o=void 0}=l,{show_label:i}=l,{buttons:_=null}=l,{selectable:g=!1}=l,{i18n:f}=l,{display_icon_button_wrapper_top_corner:s=!1}=l,{fullscreen:n=!1}=l;const r=X(),c=u=>{let j=fe(u);j&&r("select",{index:j,value:null})};let d;function U(u){I.call(this,a,u)}const W=async u=>u?`<img src="${await y(u)}" />`:"";function A(u){I.call(this,a,u)}function G(u){I.call(this,a,u)}function J(u){I.call(this,a,u)}function K(u){Y[u?"unshift":"push"](()=>{d=u,t(8,d)})}return a.$$set=u=>{"value"in u&&t(0,e=u.value),"label"in u&&t(1,o=u.label),"show_label"in u&&t(2,i=u.show_label),"buttons"in u&&t(3,_=u.buttons),"selectable"in u&&t(4,g=u.selectable),"i18n"in u&&t(5,f=u.i18n),"display_icon_button_wrapper_top_corner"in u&&t(6,s=u.display_icon_button_wrapper_top_corner),"fullscreen"in u&&t(7,n=u.fullscreen)},[e,o,i,_,g,f,s,n,d,c,U,W,A,G,J,K]}class ze extends M{constructor(l){super(),Q(this,l,ge,be,R,{value:0,label:1,show_label:2,buttons:3,selectable:4,i18n:5,display_icon_button_wrapper_top_corner:6,fullscreen:7})}}export{ze as default};
//# sourceMappingURL=ImagePreview.BGEMa4vq.js.map
