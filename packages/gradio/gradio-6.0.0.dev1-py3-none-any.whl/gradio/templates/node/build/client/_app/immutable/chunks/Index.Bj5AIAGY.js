import{SvelteComponent as ce,init as me,safe_not_equal as de,binding_callbacks as E,bind as G,create_component as p,claim_component as A,mount_component as C,add_flush_callback as I,transition_in as b,transition_out as v,destroy_component as U,createEventDispatcher as he,assign as ge,space as we,empty as W,claim_space as be,insert_hydration as H,get_spread_update as ve,get_spread_object as ke,group_outros as ze,check_outros as je,detach as J}from"../../../svelte/svelte.js";import"../../../svelte/svelte-submodules.js";import{B as Be,S as pe}from"./2.kHWxRulR.js";import{U as Ae}from"./UploadText.nD762jfa.js";import Ce from"./Gallery.DeECI6vq.js";import{B as Ue}from"./FileUpload.DjvhvUe8.js";/* empty css                                              */import{default as Me}from"./Example.BHb8pvZm.js";function Se(n){var m,g,d;let e,i,t,o;function _(a){n[34](a)}function u(a){n[35](a)}let r={label:n[5],show_label:n[4],columns:n[14],rows:n[15],height:n[16],preview:n[17],object_fit:n[19],interactive:n[21],allow_preview:n[18],show_share_button:((m=n[20])==null?void 0:m.includes("share"))??!0,show_download_button:((g=n[20])==null?void 0:g.includes("download"))??!0,fit_columns:n[23],i18n:n[22].i18n,_fetch:n[31],show_fullscreen_button:((d=n[20])==null?void 0:d.includes("fullscreen"))??!0,fullscreen:n[3],root:n[6],file_types:n[10],max_file_size:n[22].max_file_size,upload:n[32],stream_handler:n[33]};return n[1]!==void 0&&(r.selected_index=n[1]),n[0]!==void 0&&(r.value=n[0]),e=new Ce({props:r}),E.push(()=>G(e,"selected_index",_)),E.push(()=>G(e,"value",u)),e.$on("change",n[36]),e.$on("select",n[37]),e.$on("share",n[38]),e.$on("error",n[39]),e.$on("preview_open",n[40]),e.$on("preview_close",n[41]),e.$on("fullscreen",n[42]),e.$on("delete",n[25]),e.$on("upload",n[43]),{c(){p(e.$$.fragment)},l(a){A(e.$$.fragment,a)},m(a,s){C(e,a,s),o=!0},p(a,s){var w,h,k;const f={};s[0]&32&&(f.label=a[5]),s[0]&16&&(f.show_label=a[4]),s[0]&16384&&(f.columns=a[14]),s[0]&32768&&(f.rows=a[15]),s[0]&65536&&(f.height=a[16]),s[0]&131072&&(f.preview=a[17]),s[0]&524288&&(f.object_fit=a[19]),s[0]&2097152&&(f.interactive=a[21]),s[0]&262144&&(f.allow_preview=a[18]),s[0]&1048576&&(f.show_share_button=((w=a[20])==null?void 0:w.includes("share"))??!0),s[0]&1048576&&(f.show_download_button=((h=a[20])==null?void 0:h.includes("download"))??!0),s[0]&8388608&&(f.fit_columns=a[23]),s[0]&4194304&&(f.i18n=a[22].i18n),s[0]&4194304&&(f._fetch=a[31]),s[0]&1048576&&(f.show_fullscreen_button=((k=a[20])==null?void 0:k.includes("fullscreen"))??!0),s[0]&8&&(f.fullscreen=a[3]),s[0]&64&&(f.root=a[6]),s[0]&1024&&(f.file_types=a[10]),s[0]&4194304&&(f.max_file_size=a[22].max_file_size),s[0]&4194304&&(f.upload=a[32]),s[0]&4194304&&(f.stream_handler=a[33]),!i&&s[0]&2&&(i=!0,f.selected_index=a[1],I(()=>i=!1)),!t&&s[0]&1&&(t=!0,f.value=a[0],I(()=>t=!1)),e.$set(f)},i(a){o||(b(e.$$.fragment,a),o=!0)},o(a){v(e.$$.fragment,a),o=!1},d(a){U(e,a)}}}function Ee(n){let e,i;return e=new Ue({props:{value:null,root:n[6],label:n[5],max_file_size:n[22].max_file_size,file_count:"multiple",file_types:n[10],i18n:n[22].i18n,upload:n[27],stream_handler:n[28],$$slots:{default:[Ge]},$$scope:{ctx:n}}}),e.$on("upload",n[29]),e.$on("error",n[30]),{c(){p(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){C(e,t,o),i=!0},p(t,o){const _={};o[0]&64&&(_.root=t[6]),o[0]&32&&(_.label=t[5]),o[0]&4194304&&(_.max_file_size=t[22].max_file_size),o[0]&1024&&(_.file_types=t[10]),o[0]&4194304&&(_.i18n=t[22].i18n),o[0]&4194304&&(_.upload=t[27]),o[0]&4194304&&(_.stream_handler=t[28]),o[0]&4194304|o[1]&32768&&(_.$$scope={dirty:o,ctx:t}),e.$set(_)},i(t){i||(b(e.$$.fragment,t),i=!0)},o(t){v(e.$$.fragment,t),i=!1},d(t){U(e,t)}}}function Ge(n){let e,i;return e=new Ae({props:{i18n:n[22].i18n,type:"gallery"}}),{c(){p(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){C(e,t,o),i=!0},p(t,o){const _={};o[0]&4194304&&(_.i18n=t[22].i18n),e.$set(_)},i(t){i||(b(e.$$.fragment,t),i=!0)},o(t){v(e.$$.fragment,t),i=!1},d(t){U(e,t)}}}function Ie(n){let e,i,t,o,_,u;const r=[{autoscroll:n[22].autoscroll},{i18n:n[22].i18n},n[2]];let m={};for(let s=0;s<r.length;s+=1)m=ge(m,r[s]);e=new pe({props:m}),e.$on("clear_status",n[26]);const g=[Ee,Se],d=[];function a(s,f){return s[21]&&s[24]?0:1}return t=a(n),o=d[t]=g[t](n),{c(){p(e.$$.fragment),i=we(),o.c(),_=W()},l(s){A(e.$$.fragment,s),i=be(s),o.l(s),_=W()},m(s,f){C(e,s,f),H(s,i,f),d[t].m(s,f),H(s,_,f),u=!0},p(s,f){const w=f[0]&4194308?ve(r,[f[0]&4194304&&{autoscroll:s[22].autoscroll},f[0]&4194304&&{i18n:s[22].i18n},f[0]&4&&ke(s[2])]):{};e.$set(w);let h=t;t=a(s),t===h?d[t].p(s,f):(ze(),v(d[h],1,1,()=>{d[h]=null}),je(),o=d[t],o?o.p(s,f):(o=d[t]=g[t](s),o.c()),b(o,1),o.m(_.parentNode,_))},i(s){u||(b(e.$$.fragment,s),b(o),u=!0)},o(s){v(e.$$.fragment,s),v(o),u=!1},d(s){s&&(J(i),J(_)),U(e,s),d[t].d(s)}}}function qe(n){let e,i,t;function o(u){n[44](u)}let _={visible:n[9],variant:"solid",padding:!1,elem_id:n[7],elem_classes:n[8],container:n[11],scale:n[12],min_width:n[13],allow_overflow:!1,height:typeof n[16]=="number"?n[16]:void 0,$$slots:{default:[Ie]},$$scope:{ctx:n}};return n[3]!==void 0&&(_.fullscreen=n[3]),e=new Be({props:_}),E.push(()=>G(e,"fullscreen",o)),{c(){p(e.$$.fragment)},l(u){A(e.$$.fragment,u)},m(u,r){C(e,u,r),t=!0},p(u,r){const m={};r[0]&512&&(m.visible=u[9]),r[0]&128&&(m.elem_id=u[7]),r[0]&256&&(m.elem_classes=u[8]),r[0]&2048&&(m.container=u[11]),r[0]&4096&&(m.scale=u[12]),r[0]&8192&&(m.min_width=u[13]),r[0]&65536&&(m.height=typeof u[16]=="number"?u[16]:void 0),r[0]&33539199|r[1]&32768&&(m.$$scope={dirty:r,ctx:u}),!i&&r[0]&8&&(i=!0,m.fullscreen=u[3],I(()=>i=!1)),e.$set(m)},i(u){t||(b(e.$$.fragment,u),t=!0)},o(u){v(e.$$.fragment,u),t=!1},d(u){U(e,u)}}}async function K(n){return(await Promise.all(n.map(async i=>{var t;if((t=i.path)!=null&&t.toLowerCase().endsWith(".svg")&&i.url){const _=await(await fetch(i.url)).text();return{...i,url:`data:image/svg+xml,${encodeURIComponent(_)}`}}return i}))).map(i=>{var t;return(t=i.mime_type)!=null&&t.includes("video")?{video:i,caption:null}:{image:i,caption:null}})}function De(n,e,i){let t,{loading_status:o}=e,{show_label:_}=e,{label:u}=e,{root:r}=e,{elem_id:m=""}=e,{elem_classes:g=[]}=e,{visible:d=!0}=e,{value:a=null}=e,{file_types:s=["image","video"]}=e,{container:f=!0}=e,{scale:w=null}=e,{min_width:h=void 0}=e,{columns:k=[2]}=e,{rows:q=void 0}=e,{height:D="auto"}=e,{preview:F}=e,{allow_preview:L=!0}=e,{selected_index:z=null}=e,{object_fit:N="cover"}=e,{buttons:P=null}=e,{interactive:R}=e,{gradio:c}=e,{fullscreen:j=!1}=e,{fit_columns:T=!0}=e;const M=he();function O(l){if(!a)return;const{index:B}=l.detail;c.dispatch("delete",l.detail),i(0,a=a.filter((S,re)=>re!==B)),c.dispatch("change",a)}const Q=()=>c.dispatch("clear_status",o),V=(...l)=>c.client.upload(...l),X=(...l)=>c.client.stream(...l),Y=async l=>{const B=Array.isArray(l.detail)?l.detail:[l.detail];i(0,a=await K(B)),c.dispatch("upload",a),c.dispatch("change",a)},Z=({detail:l})=>{i(2,o=o||{}),i(2,o.status="error",o),c.dispatch("error",l)},y=(...l)=>c.client.fetch(...l),x=(...l)=>c.client.upload(...l),$=(...l)=>c.client.stream(...l);function ee(l){z=l,i(1,z)}function le(l){a=l,i(0,a)}const ne=()=>c.dispatch("change",a),ie=l=>c.dispatch("select",l.detail),te=l=>c.dispatch("share",l.detail),se=l=>c.dispatch("error",l.detail),ae=()=>c.dispatch("preview_open"),oe=()=>c.dispatch("preview_close"),fe=({detail:l})=>{i(3,j=l)},ue=async l=>{const B=Array.isArray(l.detail)?l.detail:[l.detail],S=await K(B);i(0,a=a?[...a,...S]:S),c.dispatch("upload",S),c.dispatch("change",a)};function _e(l){j=l,i(3,j)}return n.$$set=l=>{"loading_status"in l&&i(2,o=l.loading_status),"show_label"in l&&i(4,_=l.show_label),"label"in l&&i(5,u=l.label),"root"in l&&i(6,r=l.root),"elem_id"in l&&i(7,m=l.elem_id),"elem_classes"in l&&i(8,g=l.elem_classes),"visible"in l&&i(9,d=l.visible),"value"in l&&i(0,a=l.value),"file_types"in l&&i(10,s=l.file_types),"container"in l&&i(11,f=l.container),"scale"in l&&i(12,w=l.scale),"min_width"in l&&i(13,h=l.min_width),"columns"in l&&i(14,k=l.columns),"rows"in l&&i(15,q=l.rows),"height"in l&&i(16,D=l.height),"preview"in l&&i(17,F=l.preview),"allow_preview"in l&&i(18,L=l.allow_preview),"selected_index"in l&&i(1,z=l.selected_index),"object_fit"in l&&i(19,N=l.object_fit),"buttons"in l&&i(20,P=l.buttons),"interactive"in l&&i(21,R=l.interactive),"gradio"in l&&i(22,c=l.gradio),"fullscreen"in l&&i(3,j=l.fullscreen),"fit_columns"in l&&i(23,T=l.fit_columns)},n.$$.update=()=>{n.$$.dirty[0]&1&&i(24,t=a===null?!0:a.length===0),n.$$.dirty[0]&2&&M("prop_change",{selected_index:z})},[a,z,o,j,_,u,r,m,g,d,s,f,w,h,k,q,D,F,L,N,P,R,c,T,t,O,Q,V,X,Y,Z,y,x,$,ee,le,ne,ie,te,se,ae,oe,fe,ue,_e]}class He extends ce{constructor(e){super(),me(this,e,De,qe,de,{loading_status:2,show_label:4,label:5,root:6,elem_id:7,elem_classes:8,visible:9,value:0,file_types:10,container:11,scale:12,min_width:13,columns:14,rows:15,height:16,preview:17,allow_preview:18,selected_index:1,object_fit:19,buttons:20,interactive:21,gradio:22,fullscreen:3,fit_columns:23},null,[-1,-1])}}export{Me as BaseExample,Ce as BaseGallery,He as default};
//# sourceMappingURL=Index.Bj5AIAGY.js.map
