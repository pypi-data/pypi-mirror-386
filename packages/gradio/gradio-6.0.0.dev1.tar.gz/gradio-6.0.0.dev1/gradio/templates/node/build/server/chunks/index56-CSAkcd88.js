import { c as create_ssr_component, b as createEventDispatcher, v as validate_component, e as escape } from './ssr-C3HYbsxA.js';
import { v as ve } from './ModifyUpload-DlGngGby.js';
import { c as Et, av as be, a8 as Ve, I as It, E as Et$1, Z as Ze } from './2-BcuNmVBB.js';
import { Webcam as Be } from './Index28-CBuiN4mB.js';
import { P as bt, p as Kt, V as yt } from './VideoPreview-CZQsEiHh.js';
export { l as loaded, a as playable } from './VideoPreview-CZQsEiHh.js';
export { default as BaseExample } from './Example28-jZrVGfAM.js';
import './Component-NmRBwSfF.js';
import './index-ClteBeTX.js';
import 'path';
import 'url';
import 'fs';
import './ImagePreview-DNQJ2bLD.js';
import './Example12-B4jxwv3Q.js';
import './Video-BOxlhE7M.js';
import './hls-DpKhbIaL.js';

const X={code:".file-name.svelte-14jis2k{padding:var(--size-6);font-size:var(--text-xxl);word-break:break-all}.file-size.svelte-14jis2k{padding:var(--size-2);font-size:var(--text-xl)}.upload-container.svelte-14jis2k{height:100%;width:100%}.video-container.svelte-14jis2k{display:flex;height:100%;flex-direction:column;justify-content:center;align-items:center}",map:'{"version":3,"file":"InteractiveVideo.svelte","sources":["InteractiveVideo.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { createEventDispatcher } from \\"svelte\\";\\nimport { Upload, ModifyUpload } from \\"@gradio/upload\\";\\nimport { BlockLabel } from \\"@gradio/atoms\\";\\nimport { Webcam } from \\"@gradio/image\\";\\nimport { Video } from \\"@gradio/icons\\";\\nimport { prettyBytes, playable } from \\"./utils\\";\\nimport Player from \\"./Player.svelte\\";\\nimport { SelectSource } from \\"@gradio/atoms\\";\\nexport let value = null;\\nexport let subtitle = null;\\nexport let sources = [\\"webcam\\", \\"upload\\"];\\nexport let label = void 0;\\nexport let show_download_button = false;\\nexport let show_label = true;\\nexport let webcam_options;\\nexport let include_audio;\\nexport let autoplay;\\nexport let root;\\nexport let i18n;\\nexport let active_source = \\"webcam\\";\\nexport let handle_reset_value = () => {\\n};\\nexport let max_file_size = null;\\nexport let upload;\\nexport let stream_handler;\\nexport let loop;\\nexport let uploading = false;\\nlet has_change_history = false;\\nconst dispatch = createEventDispatcher();\\nfunction handle_load({ detail }) {\\n    value = detail;\\n    dispatch(\\"change\\", detail);\\n    dispatch(\\"upload\\", detail);\\n}\\nfunction handle_clear() {\\n    value = null;\\n    dispatch(\\"change\\", null);\\n    dispatch(\\"clear\\");\\n}\\nfunction handle_change(video) {\\n    has_change_history = true;\\n    dispatch(\\"change\\", video);\\n}\\nfunction handle_capture({ detail }) {\\n    dispatch(\\"change\\", detail);\\n}\\nlet dragging = false;\\n$: dispatch(\\"drag\\", dragging);\\n<\/script>\\n\\n<BlockLabel {show_label} Icon={Video} label={label || \\"Video\\"} />\\n<div data-testid=\\"video\\" class=\\"video-container\\">\\n\\t{#if value === null || value.url === undefined}\\n\\t\\t<div class=\\"upload-container\\">\\n\\t\\t\\t{#if active_source === \\"upload\\"}\\n\\t\\t\\t\\t<Upload\\n\\t\\t\\t\\t\\tbind:dragging\\n\\t\\t\\t\\t\\tbind:uploading\\n\\t\\t\\t\\t\\tfiletype=\\"video/x-m4v,video/*\\"\\n\\t\\t\\t\\t\\ton:load={handle_load}\\n\\t\\t\\t\\t\\t{max_file_size}\\n\\t\\t\\t\\t\\ton:error={({ detail }) => dispatch(\\"error\\", detail)}\\n\\t\\t\\t\\t\\t{root}\\n\\t\\t\\t\\t\\t{upload}\\n\\t\\t\\t\\t\\t{stream_handler}\\n\\t\\t\\t\\t\\taria_label={i18n(\\"video.drop_to_upload\\")}\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<slot />\\n\\t\\t\\t\\t</Upload>\\n\\t\\t\\t{:else if active_source === \\"webcam\\"}\\n\\t\\t\\t\\t<Webcam\\n\\t\\t\\t\\t\\t{root}\\n\\t\\t\\t\\t\\tmirror_webcam={webcam_options.mirror}\\n\\t\\t\\t\\t\\twebcam_constraints={webcam_options.constraints}\\n\\t\\t\\t\\t\\t{include_audio}\\n\\t\\t\\t\\t\\tmode=\\"video\\"\\n\\t\\t\\t\\t\\ton:error\\n\\t\\t\\t\\t\\ton:capture={handle_capture}\\n\\t\\t\\t\\t\\ton:start_recording\\n\\t\\t\\t\\t\\ton:stop_recording\\n\\t\\t\\t\\t\\t{i18n}\\n\\t\\t\\t\\t\\t{upload}\\n\\t\\t\\t\\t\\tstream_every={1}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t{/if}\\n\\t\\t</div>\\n\\t{:else if value?.url}\\n\\t\\t{#key value?.url}\\n\\t\\t\\t<Player\\n\\t\\t\\t\\t{upload}\\n\\t\\t\\t\\t{root}\\n\\t\\t\\t\\tinteractive\\n\\t\\t\\t\\t{autoplay}\\n\\t\\t\\t\\tsrc={value.url}\\n\\t\\t\\t\\tsubtitle={subtitle?.url}\\n\\t\\t\\t\\tis_stream={false}\\n\\t\\t\\t\\ton:play\\n\\t\\t\\t\\ton:pause\\n\\t\\t\\t\\ton:stop\\n\\t\\t\\t\\ton:end\\n\\t\\t\\t\\ton:error\\n\\t\\t\\t\\tmirror={webcam_options.mirror && active_source === \\"webcam\\"}\\n\\t\\t\\t\\t{label}\\n\\t\\t\\t\\t{handle_change}\\n\\t\\t\\t\\t{handle_reset_value}\\n\\t\\t\\t\\t{loop}\\n\\t\\t\\t\\t{value}\\n\\t\\t\\t\\t{i18n}\\n\\t\\t\\t\\t{show_download_button}\\n\\t\\t\\t\\t{handle_clear}\\n\\t\\t\\t\\t{has_change_history}\\n\\t\\t\\t/>\\n\\t\\t{/key}\\n\\t{:else if value.size}\\n\\t\\t<div class=\\"file-name\\">{value.orig_name || value.url}</div>\\n\\t\\t<div class=\\"file-size\\">\\n\\t\\t\\t{prettyBytes(value.size)}\\n\\t\\t</div>\\n\\t{/if}\\n\\n\\t<SelectSource {sources} bind:active_source {handle_clear} />\\n</div>\\n\\n<style>\\n\\t.file-name {\\n\\t\\tpadding: var(--size-6);\\n\\t\\tfont-size: var(--text-xxl);\\n\\t\\tword-break: break-all;\\n\\t}\\n\\n\\t.file-size {\\n\\t\\tpadding: var(--size-2);\\n\\t\\tfont-size: var(--text-xl);\\n\\t}\\n\\n\\t.upload-container {\\n\\t\\theight: 100%;\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\t.video-container {\\n\\t\\tdisplay: flex;\\n\\t\\theight: 100%;\\n\\t\\tflex-direction: column;\\n\\t\\tjustify-content: center;\\n\\t\\talign-items: center;\\n\\t}</style>\\n"],"names":[],"mappings":"AA4HC,yBAAW,CACV,OAAO,CAAE,IAAI,QAAQ,CAAC,CACtB,SAAS,CAAE,IAAI,UAAU,CAAC,CAC1B,UAAU,CAAE,SACb,CAEA,yBAAW,CACV,OAAO,CAAE,IAAI,QAAQ,CAAC,CACtB,SAAS,CAAE,IAAI,SAAS,CACzB,CAEA,gCAAkB,CACjB,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,IACR,CAEA,+BAAiB,CAChB,OAAO,CAAE,IAAI,CACb,MAAM,CAAE,IAAI,CACZ,cAAc,CAAE,MAAM,CACtB,eAAe,CAAE,MAAM,CACvB,WAAW,CAAE,MACd"}'},Y=create_ssr_component((l,t,e,M)=>{let{value:a=null}=t,{subtitle:h=null}=t,{sources:A=["webcam","upload"]}=t,{label:o=void 0}=t,{show_download_button:E=!1}=t,{show_label:w=!0}=t,{webcam_options:c}=t,{include_audio:f}=t,{autoplay:k}=t,{root:u}=t,{i18n:v}=t,{active_source:n="webcam"}=t,{handle_reset_value:C=()=>{}}=t,{max_file_size:y=null}=t,{upload:s}=t,{stream_handler:x}=t,{loop:B}=t,{uploading:_=!1}=t,i=!1;const b=createEventDispatcher();function V(){a=null,b("change",null),b("clear");}function j(d){i=!0,b("change",d);}let z=!1;t.value===void 0&&e.value&&a!==void 0&&e.value(a),t.subtitle===void 0&&e.subtitle&&h!==void 0&&e.subtitle(h),t.sources===void 0&&e.sources&&A!==void 0&&e.sources(A),t.label===void 0&&e.label&&o!==void 0&&e.label(o),t.show_download_button===void 0&&e.show_download_button&&E!==void 0&&e.show_download_button(E),t.show_label===void 0&&e.show_label&&w!==void 0&&e.show_label(w),t.webcam_options===void 0&&e.webcam_options&&c!==void 0&&e.webcam_options(c),t.include_audio===void 0&&e.include_audio&&f!==void 0&&e.include_audio(f),t.autoplay===void 0&&e.autoplay&&k!==void 0&&e.autoplay(k),t.root===void 0&&e.root&&u!==void 0&&e.root(u),t.i18n===void 0&&e.i18n&&v!==void 0&&e.i18n(v),t.active_source===void 0&&e.active_source&&n!==void 0&&e.active_source(n),t.handle_reset_value===void 0&&e.handle_reset_value&&C!==void 0&&e.handle_reset_value(C),t.max_file_size===void 0&&e.max_file_size&&y!==void 0&&e.max_file_size(y),t.upload===void 0&&e.upload&&s!==void 0&&e.upload(s),t.stream_handler===void 0&&e.stream_handler&&x!==void 0&&e.stream_handler(x),t.loop===void 0&&e.loop&&B!==void 0&&e.loop(B),t.uploading===void 0&&e.uploading&&_!==void 0&&e.uploading(_),l.css.add(X);let m,U,I=l.head;do m=!0,l.head=I,b("drag",z),U=`${validate_component(Et,"BlockLabel").$$render(l,{show_label:w,Icon:be,label:o||"Video"},{},{})} <div data-testid="video" class="video-container svelte-14jis2k">${a===null||a.url===void 0?`<div class="upload-container svelte-14jis2k">${n==="upload"?`${validate_component(ve,"Upload").$$render(l,{filetype:"video/x-m4v,video/*",max_file_size:y,root:u,upload:s,stream_handler:x,aria_label:v("video.drop_to_upload"),dragging:z,uploading:_},{dragging:d=>{z=d,m=!1;},uploading:d=>{_=d,m=!1;}},{default:()=>`${M.default?M.default({}):""}`})}`:`${n==="webcam"?`${validate_component(Be,"Webcam").$$render(l,{root:u,mirror_webcam:c.mirror,webcam_constraints:c.constraints,include_audio:f,mode:"video",i18n:v,upload:s,stream_every:1},{},{})}`:""}`}</div>`:`${a?.url?`${validate_component(bt,"Player").$$render(l,{upload:s,root:u,interactive:!0,autoplay:k,src:a.url,subtitle:h?.url,is_stream:!1,mirror:c.mirror&&n==="webcam",label:o,handle_change:j,handle_reset_value:C,loop:B,value:a,i18n:v,show_download_button:E,handle_clear:V,has_change_history:i},{},{})}`:`${a.size?`<div class="file-name svelte-14jis2k">${escape(a.orig_name||a.url)}</div> <div class="file-size svelte-14jis2k">${escape(Kt(a.size))}</div>`:""}`}`} ${validate_component(Ve,"SelectSource").$$render(l,{sources:A,handle_clear:V,active_source:n},{active_source:d=>{n=d,m=!1;}},{})} </div>`;while(!m);return U}),$=Y,tt=create_ssr_component((l,t,e,M)=>{let{elem_id:a=""}=t,{elem_classes:h=[]}=t,{visible:A=!0}=t,{value:o=null}=t,E=null,{subtitles:w=null}=t,{label:c}=t,{sources:f}=t,{root:k}=t,{show_label:u}=t,{loading_status:v}=t,{height:n}=t,{width:C}=t,{container:y=!1}=t,{scale:s=null}=t,{min_width:x=void 0}=t,{autoplay:B=!1}=t,{buttons:_=null}=t,{gradio:i}=t,{interactive:b}=t,{webcam_options:V}=t,{include_audio:j}=t,{loop:z=!1}=t,{input_ready:m}=t,U=!1,I,d=null;const T=()=>{d===null||o===d||(o=d);};t.elem_id===void 0&&e.elem_id&&a!==void 0&&e.elem_id(a),t.elem_classes===void 0&&e.elem_classes&&h!==void 0&&e.elem_classes(h),t.visible===void 0&&e.visible&&A!==void 0&&e.visible(A),t.value===void 0&&e.value&&o!==void 0&&e.value(o),t.subtitles===void 0&&e.subtitles&&w!==void 0&&e.subtitles(w),t.label===void 0&&e.label&&c!==void 0&&e.label(c),t.sources===void 0&&e.sources&&f!==void 0&&e.sources(f),t.root===void 0&&e.root&&k!==void 0&&e.root(k),t.show_label===void 0&&e.show_label&&u!==void 0&&e.show_label(u),t.loading_status===void 0&&e.loading_status&&v!==void 0&&e.loading_status(v),t.height===void 0&&e.height&&n!==void 0&&e.height(n),t.width===void 0&&e.width&&C!==void 0&&e.width(C),t.container===void 0&&e.container&&y!==void 0&&e.container(y),t.scale===void 0&&e.scale&&s!==void 0&&e.scale(s),t.min_width===void 0&&e.min_width&&x!==void 0&&e.min_width(x),t.autoplay===void 0&&e.autoplay&&B!==void 0&&e.autoplay(B),t.buttons===void 0&&e.buttons&&_!==void 0&&e.buttons(_),t.gradio===void 0&&e.gradio&&i!==void 0&&e.gradio(i),t.interactive===void 0&&e.interactive&&b!==void 0&&e.interactive(b),t.webcam_options===void 0&&e.webcam_options&&V!==void 0&&e.webcam_options(V),t.include_audio===void 0&&e.include_audio&&j!==void 0&&e.include_audio(j),t.loop===void 0&&e.loop&&z!==void 0&&e.loop(z),t.input_ready===void 0&&e.input_ready&&m!==void 0&&e.input_ready(m);let O,P,D=l.head;do O=!0,l.head=D,m=!U,o&&d===null&&(d=o),f&&!I&&(I=f[0]),JSON.stringify(o)!==JSON.stringify(E)&&(E=o,i.dispatch("change")),P=`  ${b?`${validate_component(It,"Block").$$render(l,{visible:A,variant:o===null&&I==="upload"?"dashed":"solid",border_mode:"base",padding:!1,elem_id:a,elem_classes:h,height:n,width:C,container:y,scale:s,min_width:x,allow_overflow:!1},{},{default:()=>`${validate_component(Et$1,"StatusTracker").$$render(l,Object.assign({},{autoscroll:i.autoscroll},{i18n:i.i18n},v),{},{})} ${validate_component($,"Video").$$render(l,{value:o,subtitle:w,label:c,show_label:u,show_download_button:_?.includes("download")??!1,sources:f,active_source:I,webcam_options:V,include_audio:j,autoplay:B,root:k,loop:z,handle_reset_value:T,i18n:i.i18n,max_file_size:i.max_file_size,upload:(...S)=>i.client.upload(...S),stream_handler:(...S)=>i.client.stream(...S),uploading:U},{uploading:S=>{U=S,O=!1;}},{default:()=>`${validate_component(Ze,"UploadText").$$render(l,{i18n:i.i18n,type:"video"},{},{})}`})}`})}`:`${validate_component(It,"Block").$$render(l,{visible:A,variant:o===null&&I==="upload"?"dashed":"solid",border_mode:"base",padding:!1,elem_id:a,elem_classes:h,height:n,width:C,container:y,scale:s,min_width:x,allow_overflow:!1},{},{default:()=>`${validate_component(Et$1,"StatusTracker").$$render(l,Object.assign({},{autoscroll:i.autoscroll},{i18n:i.i18n},v),{},{})} ${validate_component(yt,"StaticVideo").$$render(l,{value:o,subtitle:w,label:c,show_label:u,autoplay:B,loop:z,show_share_button:_?.includes("share")??!0,show_download_button:_?.includes("download")??!0,i18n:i.i18n,upload:(...S)=>i.client.upload(...S)},{},{})}`})}`}`;while(!O);return P}),rt=tt;

export { $ as BaseInteractiveVideo, bt as BasePlayer, yt as BaseStaticVideo, rt as default, Kt as prettyBytes };
//# sourceMappingURL=index56-CSAkcd88.js.map
