import{c as fe,U as ce}from"./FullscreenButton-pJVgMiya.js";import he from"./Gallery-m0vlzA8l.js";import{S as me}from"./StreamingBar-Co5WtsWH.js";import{BaseFileUpload as de}from"./Index-Dr9hKwaH.js";import{default as $e}from"./Example-BFRraYb6.js";import"./MarkdownCode-CJL7VgM9.js";import"./index-CtRY-svv.js";import"./svelte/svelte.js";import"./prism-python-DspNkBda.js";import"./init-5dmMBTcc.js";import"./ModifyUpload-B6U-QBfa.js";import"./Image-0bVIZe-w.js";import"./ImagePreview-lSYlR68P.js";import"./Video-NpeJCQXG.js";import"./hls-C7-VjdhD.js";import"./index-tFQomdd2.js";import"./Example-cR3xzyOo.js";const{SvelteComponent:ge,add_flush_callback:S,assign:we,bind:E,binding_callbacks:F,check_outros:be,create_component:z,destroy_component:U,detach:W,empty:ve,flush:h,get_spread_object:ke,get_spread_update:pe,group_outros:je,init:ze,insert:H,mount_component:A,safe_not_equal:Ue,space:Ae,transition_in:w,transition_out:b}=window.__gradio__svelte__internal,{createEventDispatcher:Be}=window.__gradio__svelte__internal;function Ce(l){let e,n,s,o;function f(i){l[34](i)}function u(i){l[35](i)}let c={label:l[5],show_label:l[4],columns:l[14],rows:l[15],height:l[16],preview:l[17],object_fit:l[19],interactive:l[21],allow_preview:l[18],show_share_button:l[20]?.includes("share")??!0,show_download_button:l[20]?.includes("download")??!0,fit_columns:l[23],i18n:l[22].i18n,_fetch:l[31],show_fullscreen_button:l[20]?.includes("fullscreen")??!0,fullscreen:l[3],root:l[6],file_types:l[10],max_file_size:l[22].max_file_size,upload:l[32],stream_handler:l[33]};return l[1]!==void 0&&(c.selected_index=l[1]),l[0]!==void 0&&(c.value=l[0]),e=new he({props:c}),F.push(()=>E(e,"selected_index",f)),F.push(()=>E(e,"value",u)),e.$on("change",l[36]),e.$on("select",l[37]),e.$on("share",l[38]),e.$on("error",l[39]),e.$on("preview_open",l[40]),e.$on("preview_close",l[41]),e.$on("fullscreen",l[42]),e.$on("delete",l[25]),e.$on("upload",l[43]),{c(){z(e.$$.fragment)},m(i,r){A(e,i,r),o=!0},p(i,r){const a={};r[0]&32&&(a.label=i[5]),r[0]&16&&(a.show_label=i[4]),r[0]&16384&&(a.columns=i[14]),r[0]&32768&&(a.rows=i[15]),r[0]&65536&&(a.height=i[16]),r[0]&131072&&(a.preview=i[17]),r[0]&524288&&(a.object_fit=i[19]),r[0]&2097152&&(a.interactive=i[21]),r[0]&262144&&(a.allow_preview=i[18]),r[0]&1048576&&(a.show_share_button=i[20]?.includes("share")??!0),r[0]&1048576&&(a.show_download_button=i[20]?.includes("download")??!0),r[0]&8388608&&(a.fit_columns=i[23]),r[0]&4194304&&(a.i18n=i[22].i18n),r[0]&4194304&&(a._fetch=i[31]),r[0]&1048576&&(a.show_fullscreen_button=i[20]?.includes("fullscreen")??!0),r[0]&8&&(a.fullscreen=i[3]),r[0]&64&&(a.root=i[6]),r[0]&1024&&(a.file_types=i[10]),r[0]&4194304&&(a.max_file_size=i[22].max_file_size),r[0]&4194304&&(a.upload=i[32]),r[0]&4194304&&(a.stream_handler=i[33]),!n&&r[0]&2&&(n=!0,a.selected_index=i[1],S(()=>n=!1)),!s&&r[0]&1&&(s=!0,a.value=i[0],S(()=>s=!1)),e.$set(a)},i(i){o||(w(e.$$.fragment,i),o=!0)},o(i){b(e.$$.fragment,i),o=!1},d(i){U(e,i)}}}function Se(l){let e,n;return e=new de({props:{value:null,root:l[6],label:l[5],max_file_size:l[22].max_file_size,file_count:"multiple",file_types:l[10],i18n:l[22].i18n,upload:l[27],stream_handler:l[28],$$slots:{default:[Ee]},$$scope:{ctx:l}}}),e.$on("upload",l[29]),e.$on("error",l[30]),{c(){z(e.$$.fragment)},m(s,o){A(e,s,o),n=!0},p(s,o){const f={};o[0]&64&&(f.root=s[6]),o[0]&32&&(f.label=s[5]),o[0]&4194304&&(f.max_file_size=s[22].max_file_size),o[0]&1024&&(f.file_types=s[10]),o[0]&4194304&&(f.i18n=s[22].i18n),o[0]&4194304&&(f.upload=s[27]),o[0]&4194304&&(f.stream_handler=s[28]),o[0]&4194304|o[1]&32768&&(f.$$scope={dirty:o,ctx:s}),e.$set(f)},i(s){n||(w(e.$$.fragment,s),n=!0)},o(s){b(e.$$.fragment,s),n=!1},d(s){U(e,s)}}}function Ee(l){let e,n;return e=new ce({props:{i18n:l[22].i18n,type:"gallery"}}),{c(){z(e.$$.fragment)},m(s,o){A(e,s,o),n=!0},p(s,o){const f={};o[0]&4194304&&(f.i18n=s[22].i18n),e.$set(f)},i(s){n||(w(e.$$.fragment,s),n=!0)},o(s){b(e.$$.fragment,s),n=!1},d(s){U(e,s)}}}function Fe(l){let e,n,s,o,f,u;const c=[{autoscroll:l[22].autoscroll},{i18n:l[22].i18n},l[2]];let i={};for(let _=0;_<c.length;_+=1)i=we(i,c[_]);e=new me({props:i}),e.$on("clear_status",l[26]);const r=[Se,Ce],a=[];function m(_,g){return _[21]&&_[24]?0:1}return s=m(l),o=a[s]=r[s](l),{c(){z(e.$$.fragment),n=Ae(),o.c(),f=ve()},m(_,g){A(e,_,g),H(_,n,g),a[s].m(_,g),H(_,f,g),u=!0},p(_,g){const B=g[0]&4194308?pe(c,[g[0]&4194304&&{autoscroll:_[22].autoscroll},g[0]&4194304&&{i18n:_[22].i18n},g[0]&4&&ke(_[2])]):{};e.$set(B);let v=s;s=m(_),s===v?a[s].p(_,g):(je(),b(a[v],1,1,()=>{a[v]=null}),be(),o=a[s],o?o.p(_,g):(o=a[s]=r[s](_),o.c()),w(o,1),o.m(f.parentNode,f))},i(_){u||(w(e.$$.fragment,_),w(o),u=!0)},o(_){b(e.$$.fragment,_),b(o),u=!1},d(_){_&&(W(n),W(f)),U(e,_),a[s].d(_)}}}function Ge(l){let e,n,s;function o(u){l[44](u)}let f={visible:l[9],variant:"solid",padding:!1,elem_id:l[7],elem_classes:l[8],container:l[11],scale:l[12],min_width:l[13],allow_overflow:!1,height:typeof l[16]=="number"?l[16]:void 0,$$slots:{default:[Fe]},$$scope:{ctx:l}};return l[3]!==void 0&&(f.fullscreen=l[3]),e=new fe({props:f}),F.push(()=>E(e,"fullscreen",o)),{c(){z(e.$$.fragment)},m(u,c){A(e,u,c),s=!0},p(u,c){const i={};c[0]&512&&(i.visible=u[9]),c[0]&128&&(i.elem_id=u[7]),c[0]&256&&(i.elem_classes=u[8]),c[0]&2048&&(i.container=u[11]),c[0]&4096&&(i.scale=u[12]),c[0]&8192&&(i.min_width=u[13]),c[0]&65536&&(i.height=typeof u[16]=="number"?u[16]:void 0),c[0]&33539199|c[1]&32768&&(i.$$scope={dirty:c,ctx:u}),!n&&c[0]&8&&(n=!0,i.fullscreen=u[3],S(()=>n=!1)),e.$set(i)},i(u){s||(w(e.$$.fragment,u),s=!0)},o(u){b(e.$$.fragment,u),s=!1},d(u){U(e,u)}}}async function J(l){return(await Promise.all(l.map(async n=>{if(n.path?.toLowerCase().endsWith(".svg")&&n.url){const o=await(await fetch(n.url)).text();return{...n,url:`data:image/svg+xml,${encodeURIComponent(o)}`}}return n}))).map(n=>n.mime_type?.includes("video")?{video:n,caption:null}:{image:n,caption:null})}function Ie(l,e,n){let s,{loading_status:o}=e,{show_label:f}=e,{label:u}=e,{root:c}=e,{elem_id:i=""}=e,{elem_classes:r=[]}=e,{visible:a=!0}=e,{value:m=null}=e,{file_types:_=["image","video"]}=e,{container:g=!0}=e,{scale:B=null}=e,{min_width:v=void 0}=e,{columns:G=[2]}=e,{rows:I=void 0}=e,{height:q="auto"}=e,{preview:D}=e,{allow_preview:L=!0}=e,{selected_index:k=null}=e,{object_fit:N="cover"}=e,{buttons:P=null}=e,{interactive:R}=e,{gradio:d}=e,{fullscreen:p=!1}=e,{fit_columns:T=!0}=e;const K=Be();function M(t){if(!m)return;const{index:j}=t.detail;d.dispatch("delete",t.detail),n(0,m=m.filter((C,_e)=>_e!==j)),d.dispatch("change",m)}const O=()=>d.dispatch("clear_status",o),Q=(...t)=>d.client.upload(...t),V=(...t)=>d.client.stream(...t),X=async t=>{const j=Array.isArray(t.detail)?t.detail:[t.detail];n(0,m=await J(j)),d.dispatch("upload",m),d.dispatch("change",m)},Y=({detail:t})=>{n(2,o=o||{}),n(2,o.status="error",o),d.dispatch("error",t)},Z=(...t)=>d.client.fetch(...t),y=(...t)=>d.client.upload(...t),$=(...t)=>d.client.stream(...t);function x(t){k=t,n(1,k)}function ee(t){m=t,n(0,m)}const te=()=>d.dispatch("change",m),le=t=>d.dispatch("select",t.detail),ne=t=>d.dispatch("share",t.detail),ie=t=>d.dispatch("error",t.detail),se=()=>d.dispatch("preview_open"),oe=()=>d.dispatch("preview_close"),ae=({detail:t})=>{n(3,p=t)},re=async t=>{const j=Array.isArray(t.detail)?t.detail:[t.detail],C=await J(j);n(0,m=m?[...m,...C]:C),d.dispatch("upload",C),d.dispatch("change",m)};function ue(t){p=t,n(3,p)}return l.$$set=t=>{"loading_status"in t&&n(2,o=t.loading_status),"show_label"in t&&n(4,f=t.show_label),"label"in t&&n(5,u=t.label),"root"in t&&n(6,c=t.root),"elem_id"in t&&n(7,i=t.elem_id),"elem_classes"in t&&n(8,r=t.elem_classes),"visible"in t&&n(9,a=t.visible),"value"in t&&n(0,m=t.value),"file_types"in t&&n(10,_=t.file_types),"container"in t&&n(11,g=t.container),"scale"in t&&n(12,B=t.scale),"min_width"in t&&n(13,v=t.min_width),"columns"in t&&n(14,G=t.columns),"rows"in t&&n(15,I=t.rows),"height"in t&&n(16,q=t.height),"preview"in t&&n(17,D=t.preview),"allow_preview"in t&&n(18,L=t.allow_preview),"selected_index"in t&&n(1,k=t.selected_index),"object_fit"in t&&n(19,N=t.object_fit),"buttons"in t&&n(20,P=t.buttons),"interactive"in t&&n(21,R=t.interactive),"gradio"in t&&n(22,d=t.gradio),"fullscreen"in t&&n(3,p=t.fullscreen),"fit_columns"in t&&n(23,T=t.fit_columns)},l.$$.update=()=>{l.$$.dirty[0]&1&&n(24,s=m===null?!0:m.length===0),l.$$.dirty[0]&2&&K("prop_change",{selected_index:k})},[m,k,o,p,f,u,c,i,r,a,_,g,B,v,G,I,q,D,L,N,P,R,d,T,s,M,O,Q,V,X,Y,Z,y,$,x,ee,te,le,ne,ie,se,oe,ae,re,ue]}class Ye extends ge{constructor(e){super(),ze(this,e,Ie,Ge,Ue,{loading_status:2,show_label:4,label:5,root:6,elem_id:7,elem_classes:8,visible:9,value:0,file_types:10,container:11,scale:12,min_width:13,columns:14,rows:15,height:16,preview:17,allow_preview:18,selected_index:1,object_fit:19,buttons:20,interactive:21,gradio:22,fullscreen:3,fit_columns:23},null,[-1,-1])}get loading_status(){return this.$$.ctx[2]}set loading_status(e){this.$$set({loading_status:e}),h()}get show_label(){return this.$$.ctx[4]}set show_label(e){this.$$set({show_label:e}),h()}get label(){return this.$$.ctx[5]}set label(e){this.$$set({label:e}),h()}get root(){return this.$$.ctx[6]}set root(e){this.$$set({root:e}),h()}get elem_id(){return this.$$.ctx[7]}set elem_id(e){this.$$set({elem_id:e}),h()}get elem_classes(){return this.$$.ctx[8]}set elem_classes(e){this.$$set({elem_classes:e}),h()}get visible(){return this.$$.ctx[9]}set visible(e){this.$$set({visible:e}),h()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),h()}get file_types(){return this.$$.ctx[10]}set file_types(e){this.$$set({file_types:e}),h()}get container(){return this.$$.ctx[11]}set container(e){this.$$set({container:e}),h()}get scale(){return this.$$.ctx[12]}set scale(e){this.$$set({scale:e}),h()}get min_width(){return this.$$.ctx[13]}set min_width(e){this.$$set({min_width:e}),h()}get columns(){return this.$$.ctx[14]}set columns(e){this.$$set({columns:e}),h()}get rows(){return this.$$.ctx[15]}set rows(e){this.$$set({rows:e}),h()}get height(){return this.$$.ctx[16]}set height(e){this.$$set({height:e}),h()}get preview(){return this.$$.ctx[17]}set preview(e){this.$$set({preview:e}),h()}get allow_preview(){return this.$$.ctx[18]}set allow_preview(e){this.$$set({allow_preview:e}),h()}get selected_index(){return this.$$.ctx[1]}set selected_index(e){this.$$set({selected_index:e}),h()}get object_fit(){return this.$$.ctx[19]}set object_fit(e){this.$$set({object_fit:e}),h()}get buttons(){return this.$$.ctx[20]}set buttons(e){this.$$set({buttons:e}),h()}get interactive(){return this.$$.ctx[21]}set interactive(e){this.$$set({interactive:e}),h()}get gradio(){return this.$$.ctx[22]}set gradio(e){this.$$set({gradio:e}),h()}get fullscreen(){return this.$$.ctx[3]}set fullscreen(e){this.$$set({fullscreen:e}),h()}get fit_columns(){return this.$$.ctx[23]}set fit_columns(e){this.$$set({fit_columns:e}),h()}}export{$e as BaseExample,he as BaseGallery,Ye as default};
//# sourceMappingURL=Index-CdpuC2Mn.js.map
