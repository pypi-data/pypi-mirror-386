import{g as Ht,I as Jt}from"./ImagePreview-lSYlR68P.js";import{W as Kt,K as Qt,N as zt,O as Gt,h as Vt,Q as Xt,B as Yt,d as It,I as Zt,s as $t,a as xt,k as en,F as tn,c as Dt,U as yt,E as nn}from"./FullscreenButton-pJVgMiya.js";import"./init-5dmMBTcc.js";import{a as ln,f as sn,S as St}from"./StreamingBar-Co5WtsWH.js";import{p as rn,F as an}from"./index-CtRY-svv.js";import{U as on,a as un}from"./ModifyUpload-B6U-QBfa.js";import{I as _n}from"./Image-0bVIZe-w.js";import{default as Xl}from"./Example-BU7VN3ij.js";import"./MarkdownCode-CJL7VgM9.js";import"./prism-python-DspNkBda.js";import"./svelte/svelte.js";const{SvelteComponent:cn,append:je,attr:nt,create_component:fn,destroy_component:mn,detach:dn,element:lt,init:gn,insert:hn,listen:bn,mount_component:pn,noop:wn,safe_not_equal:vn,set_style:kn,space:zn,text:In,transition_in:Dn,transition_out:yn}=window.__gradio__svelte__internal,{createEventDispatcher:Sn}=window.__gradio__svelte__internal;function En(l){let e,t,n,i,o,s="Click to Access Webcam",a,r,c,f;return i=new Kt({}),{c(){e=lt("button"),t=lt("div"),n=lt("span"),fn(i.$$.fragment),o=zn(),a=In(s),nt(n,"class","icon-wrap svelte-qbrfs"),nt(t,"class","wrap svelte-qbrfs"),nt(e,"class","svelte-qbrfs"),kn(e,"height","100%")},m(d,v){hn(d,e,v),je(e,t),je(t,n),pn(i,n,null),je(t,o),je(t,a),r=!0,c||(f=bn(e,"click",l[1]),c=!0)},p:wn,i(d){r||(Dn(i.$$.fragment,d),r=!0)},o(d){yn(i.$$.fragment,d),r=!1},d(d){d&&dn(e),mn(i),c=!1,f()}}}function Cn(l){const e=Sn();return[e,()=>e("click")]}class Bn extends cn{constructor(e){super(),gn(this,e,Cn,En,vn,{})}}function qn(){return navigator.mediaDevices.enumerateDevices()}function Nn(l,e){e.srcObject=l,e.muted=!0,e.play()}async function _t(l,e,t,n){const i={video:n?{deviceId:{exact:n},...t?.video}:t?.video||{width:{ideal:1920},height:{ideal:1440}},audio:l&&(t?.audio??!0)};return navigator.mediaDevices.getUserMedia(i).then(o=>(Nn(o,e),o))}function Un(l){return l.filter(t=>t.kind==="videoinput")}const{SvelteComponent:Tn,action_destroyer:Mn,add_render_callback:Wn,append:R,attr:E,binding_callbacks:Pn,check_outros:Ne,create_component:he,create_in_transition:Rn,destroy_component:be,destroy_each:Fn,detach:Q,element:H,empty:at,ensure_array_like:ct,flush:ee,group_outros:Ue,init:jn,insert:G,listen:He,mount_component:pe,noop:ot,run_all:Ln,safe_not_equal:On,set_data:Re,set_input_value:it,set_style:Et,space:ne,src_url_equal:ft,stop_propagation:An,text:Fe,toggle_class:Ie,transition_in:j,transition_out:A}=window.__gradio__svelte__internal,{createEventDispatcher:Hn,onDestroy:Jn,onMount:Kn}=window.__gradio__svelte__internal;function mt(l,e,t){const n=l.slice();return n[39]=e[t],n}function Qn(l){let e,t,n,i,o,s,a,r,c,f,d;const v=[Xn,Vn],D=[];function T(z,y){return z[2]==="video"||z[1]?0:1}n=T(l),i=D[n]=v[n](l);let h=!l[11]&&dt(l),k=l[13]&&l[8]&&gt(l);return{c(){e=H("div"),t=H("button"),i.c(),s=ne(),h&&h.c(),a=ne(),k&&k.c(),r=at(),E(t,"aria-label",o=l[2]==="image"?"capture photo":"start recording"),E(t,"class","svelte-10cpz3p"),E(e,"class","button-wrap svelte-10cpz3p")},m(z,y){G(z,e,y),R(e,t),D[n].m(t,null),R(e,s),h&&h.m(e,null),G(z,a,y),k&&k.m(z,y),G(z,r,y),c=!0,f||(d=He(t,"click",l[28]),f=!0)},p(z,y){let q=n;n=T(z),n===q?D[n].p(z,y):(Ue(),A(D[q],1,1,()=>{D[q]=null}),Ne(),i=D[n],i?i.p(z,y):(i=D[n]=v[n](z),i.c()),j(i,1),i.m(t,null)),(!c||y[0]&4&&o!==(o=z[2]==="image"?"capture photo":"start recording"))&&E(t,"aria-label",o),z[11]?h&&(Ue(),A(h,1,1,()=>{h=null}),Ne()):h?(h.p(z,y),y[0]&2048&&j(h,1)):(h=dt(z),h.c(),j(h,1),h.m(e,null)),z[13]&&z[8]?k?(k.p(z,y),y[0]&8448&&j(k,1)):(k=gt(z),k.c(),j(k,1),k.m(r.parentNode,r)):k&&(Ue(),A(k,1,1,()=>{k=null}),Ne())},i(z){c||(j(i),j(h),j(k),c=!0)},o(z){A(i),A(h),A(k),c=!1},d(z){z&&(Q(e),Q(a),Q(r)),D[n].d(),h&&h.d(),k&&k.d(z),f=!1,d()}}}function Gn(l){let e,t,n,i;return t=new Bn({}),t.$on("click",l[27]),{c(){e=H("div"),he(t.$$.fragment),E(e,"title","grant webcam access"),Et(e,"height","100%")},m(o,s){G(o,e,s),pe(t,e,null),i=!0},p:ot,i(o){i||(j(t.$$.fragment,o),o&&(n||Wn(()=>{n=Rn(e,sn,{delay:100,duration:200}),n.start()})),i=!0)},o(o){A(t.$$.fragment,o),i=!1},d(o){o&&Q(e),be(t)}}}function Vn(l){let e,t,n;return t=new Qt({}),{c(){e=H("div"),he(t.$$.fragment),E(e,"class","icon svelte-10cpz3p"),E(e,"title","capture photo")},m(i,o){G(i,e,o),pe(t,e,null),n=!0},p:ot,i(i){n||(j(t.$$.fragment,i),n=!0)},o(i){A(t.$$.fragment,i),n=!1},d(i){i&&Q(e),be(t)}}}function Xn(l){let e,t,n,i;const o=[$n,Zn,Yn],s=[];function a(r,c){return r[1]&&r[10]==="waiting"?0:r[1]&&r[10]==="open"||!r[1]&&r[11]?1:2}return e=a(l),t=s[e]=o[e](l),{c(){t.c(),n=at()},m(r,c){s[e].m(r,c),G(r,n,c),i=!0},p(r,c){let f=e;e=a(r),e===f?s[e].p(r,c):(Ue(),A(s[f],1,1,()=>{s[f]=null}),Ne(),t=s[e],t?t.p(r,c):(t=s[e]=o[e](r),t.c()),j(t,1),t.m(n.parentNode,n))},i(r){i||(j(t),i=!0)},o(r){A(t),i=!1},d(r){r&&Q(n),s[e].d(r)}}}function Yn(l){let e,t,n,i,o=l[4]("audio.record")+"",s,a;return n=new Xt({}),{c(){e=H("div"),t=H("div"),he(n.$$.fragment),i=ne(),s=Fe(o),E(t,"class","icon color-primary svelte-10cpz3p"),E(t,"title","start recording"),E(e,"class","icon-with-text svelte-10cpz3p")},m(r,c){G(r,e,c),R(e,t),pe(n,t,null),R(e,i),R(e,s),a=!0},p(r,c){(!a||c[0]&16)&&o!==(o=r[4]("audio.record")+"")&&Re(s,o)},i(r){a||(j(n.$$.fragment,r),a=!0)},o(r){A(n.$$.fragment,r),a=!1},d(r){r&&Q(e),be(n)}}}function Zn(l){let e,t,n,i,o=l[4]("audio.stop")+"",s,a;return n=new Vt({}),{c(){e=H("div"),t=H("div"),he(n.$$.fragment),i=ne(),s=Fe(o),E(t,"class","icon color-primary svelte-10cpz3p"),E(t,"title","stop recording"),E(e,"class","icon-with-text svelte-10cpz3p")},m(r,c){G(r,e,c),R(e,t),pe(n,t,null),R(e,i),R(e,s),a=!0},p(r,c){(!a||c[0]&16)&&o!==(o=r[4]("audio.stop")+"")&&Re(s,o)},i(r){a||(j(n.$$.fragment,r),a=!0)},o(r){A(n.$$.fragment,r),a=!1},d(r){r&&Q(e),be(n)}}}function $n(l){let e,t,n,i,o=l[4]("audio.waiting")+"",s,a;return n=new Gt({}),{c(){e=H("div"),t=H("div"),he(n.$$.fragment),i=ne(),s=Fe(o),E(t,"class","icon color-primary svelte-10cpz3p"),E(t,"title","spinner"),E(e,"class","icon-with-text svelte-10cpz3p"),Et(e,"width","var(--size-24)")},m(r,c){G(r,e,c),R(e,t),pe(n,t,null),R(e,i),R(e,s),a=!0},p(r,c){(!a||c[0]&16)&&o!==(o=r[4]("audio.waiting")+"")&&Re(s,o)},i(r){a||(j(n.$$.fragment,r),a=!0)},o(r){A(n.$$.fragment,r),a=!1},d(r){r&&Q(e),be(n)}}}function dt(l){let e,t,n,i,o;return t=new zt({}),{c(){e=H("button"),he(t.$$.fragment),E(e,"class","icon svelte-10cpz3p"),E(e,"aria-label","select input source")},m(s,a){G(s,e,a),pe(t,e,null),n=!0,i||(o=He(e,"click",l[29]),i=!0)},p:ot,i(s){n||(j(t.$$.fragment,s),n=!0)},o(s){A(t.$$.fragment,s),n=!1},d(s){s&&Q(e),be(t),i=!1,o()}}}function gt(l){let e,t,n,i,o,s,a;n=new zt({});function r(d,v){return d[7].length===0?el:xn}let c=r(l),f=c(l);return{c(){e=H("select"),t=H("button"),he(n.$$.fragment),i=ne(),f.c(),E(t,"class","inset-icon svelte-10cpz3p"),E(e,"class","select-wrap svelte-10cpz3p"),E(e,"aria-label","select source")},m(d,v){G(d,e,v),R(e,t),pe(n,t,null),R(t,i),f.m(e,null),o=!0,s||(a=[He(t,"click",An(l[30])),Mn(ut.call(null,e,l[17])),He(e,"change",l[14])],s=!0)},p(d,v){c===(c=r(d))&&f?f.p(d,v):(f.d(1),f=c(d),f&&(f.c(),f.m(e,null)))},i(d){o||(j(n.$$.fragment,d),o=!0)},o(d){A(n.$$.fragment,d),o=!1},d(d){d&&Q(e),be(n),f.d(),s=!1,Ln(a)}}}function xn(l){let e,t=ct(l[7]),n=[];for(let i=0;i<t.length;i+=1)n[i]=ht(mt(l,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=at()},m(i,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(i,o);G(i,e,o)},p(i,o){if(o[0]&384){t=ct(i[7]);let s;for(s=0;s<t.length;s+=1){const a=mt(i,t,s);n[s]?n[s].p(a,o):(n[s]=ht(a),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(i){i&&Q(e),Fn(n,i)}}}function el(l){let e,t=l[4]("common.no_devices")+"",n;return{c(){e=H("option"),n=Fe(t),e.__value="",it(e,e.__value),E(e,"class","svelte-10cpz3p")},m(i,o){G(i,e,o),R(e,n)},p(i,o){o[0]&16&&t!==(t=i[4]("common.no_devices")+"")&&Re(n,t)},d(i){i&&Q(e)}}}function ht(l){let e,t=l[39].label+"",n,i,o,s;return{c(){e=H("option"),n=Fe(t),i=ne(),e.__value=o=l[39].deviceId,it(e,e.__value),e.selected=s=l[8].deviceId===l[39].deviceId,E(e,"class","svelte-10cpz3p")},m(a,r){G(a,e,r),R(e,n),R(e,i)},p(a,r){r[0]&128&&t!==(t=a[39].label+"")&&Re(n,t),r[0]&128&&o!==(o=a[39].deviceId)&&(e.__value=o,it(e,e.__value)),r[0]&384&&s!==(s=a[8].deviceId===a[39].deviceId)&&(e.selected=s)},d(a){a&&Q(e)}}}function tl(l){let e,t,n,i,o,s,a,r,c,f,d;t=new ln({props:{time_limit:l[9]}});const v=[Gn,Qn],D=[];function T(h,k){return h[12]?1:0}return c=T(l),f=D[c]=v[c](l),{c(){e=H("div"),he(t.$$.fragment),n=ne(),i=H("video"),o=ne(),s=H("img"),r=ne(),f.c(),E(i,"class","svelte-10cpz3p"),Ie(i,"flip",l[3]),Ie(i,"hide",!l[12]||l[12]&&!!l[0]),ft(s.src,a=l[0]?.url)||E(s,"src",a),E(s,"class","svelte-10cpz3p"),Ie(s,"hide",!l[12]||l[12]&&!l[0]),E(e,"class","wrap svelte-10cpz3p")},m(h,k){G(h,e,k),pe(t,e,null),R(e,n),R(e,i),l[26](i),R(e,o),R(e,s),R(e,r),D[c].m(e,null),d=!0},p(h,k){const z={};k[0]&512&&(z.time_limit=h[9]),t.$set(z),(!d||k[0]&8)&&Ie(i,"flip",h[3]),(!d||k[0]&4097)&&Ie(i,"hide",!h[12]||h[12]&&!!h[0]),(!d||k[0]&1&&!ft(s.src,a=h[0]?.url))&&E(s,"src",a),(!d||k[0]&4097)&&Ie(s,"hide",!h[12]||h[12]&&!h[0]);let y=c;c=T(h),c===y?D[c].p(h,k):(Ue(),A(D[y],1,1,()=>{D[y]=null}),Ne(),f=D[c],f?f.p(h,k):(f=D[c]=v[c](h),f.c()),j(f,1),f.m(e,null))},i(h){d||(j(t.$$.fragment,h),j(f),d=!0)},o(h){A(t.$$.fragment,h),A(f),d=!1},d(h){h&&Q(e),be(t),l[26](null),D[c].d()}}}function ut(l,e){const t=n=>{l&&!l.contains(n.target)&&!n.defaultPrevented&&e(n)};return document.addEventListener("click",t,!0),{destroy(){document.removeEventListener("click",t,!0)}}}function nl(l,e,t){let n,i=[],o=null,s=null,a="closed";const r=b=>{b==="closed"?(t(9,s=null),t(10,a="closed"),t(0,p=null)):b==="waiting"?t(10,a="waiting"):t(10,a="open")},c=b=>{w&&t(9,s=b)};let f,{streaming:d=!1}=e,{pending:v=!1}=e,{root:D=""}=e,{stream_every:T=1}=e,{mode:h="image"}=e,{mirror_webcam:k}=e,{include_audio:z}=e,{webcam_constraints:y=null}=e,{i18n:q}=e,{upload:g}=e,{value:p=null}=e;const B=Hn();Kn(()=>{f=document.createElement("canvas"),d&&h==="image"&&window.setInterval(()=>{n&&!v&&m()},T*1e3)});const I=async b=>{const Z=b.target.value;await _t(z,n,y,Z).then(async ve=>{J=ve,t(8,o=i.find(ke=>ke.deviceId===Z)||null),t(13,O=!1)})};async function S(){try{_t(z,n,y).then(async b=>{t(12,$=!0),t(7,i=await qn()),J=b}).then(()=>Un(i)).then(b=>{t(7,i=b);const W=J.getTracks().map(Z=>Z.getSettings()?.deviceId)[0];t(8,o=W&&b.find(Z=>Z.deviceId===W)||i[0])}),(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)&&B("error",q("image.no_webcam_support"))}catch(b){if(b instanceof DOMException&&b.name=="NotAllowedError")B("error",q("image.allow_webcam_access"));else throw b}}function m(){var b=f.getContext("2d");if((!d||d&&w)&&n.videoWidth&&n.videoHeight){if(f.width=n.videoWidth,f.height=n.videoHeight,b.drawImage(n,0,0,n.videoWidth,n.videoHeight),k&&(b.scale(-1,1),b.drawImage(n,-n.videoWidth,0)),d&&(!w||a==="waiting"))return;if(d){const W=f.toDataURL("image/jpeg");B("stream",W);return}f.toBlob(W=>{B(d?"stream":"capture",W)},`image/${d?"jpeg":"png"}`,.8)}}let w=!1,V=[],J,U,K;function we(){if(w){K.stop();let b=new Blob(V,{type:U}),W=new FileReader;W.onload=async function(Z){if(Z.target){let ve=new File([b],"sample."+U.substring(6));const ke=await rn([ve]);let Ce=(await g(ke,D))?.filter(Boolean)[0];B("capture",Ce),B("stop_recording")}},W.readAsDataURL(b)}else if(typeof MediaRecorder<"u"){B("start_recording"),V=[];let b=["video/webm","video/mp4"];for(let W of b)if(MediaRecorder.isTypeSupported(W)){U=W;break}if(U===null){console.error("No supported MediaRecorder mimeType");return}K=new MediaRecorder(J,{mimeType:U}),K.addEventListener("dataavailable",function(W){V.push(W.data)}),K.start(200)}t(11,w=!w)}let $=!1;function F({destroy:b}={}){h==="image"&&d&&t(11,w=!w),b||(h==="image"?m():we()),!w&&J&&(B("close_stream"),J.getTracks().forEach(W=>W.stop()),t(6,n.srcObject=null,n),t(12,$=!1),window.setTimeout(()=>{t(0,p=null)},500),t(0,p=null))}let O=!1;function M(b){b.preventDefault(),b.stopPropagation(),t(13,O=!1)}Jn(()=>{typeof window>"u"||(F({destroy:!0}),J?.getTracks().forEach(b=>b.stop()))});function x(b){Pn[b?"unshift":"push"](()=>{n=b,t(6,n)})}const re=async()=>S(),ae=()=>F(),Se=()=>t(13,O=!0),Ee=()=>t(13,O=!1);return l.$$set=b=>{"streaming"in b&&t(1,d=b.streaming),"pending"in b&&t(20,v=b.pending),"root"in b&&t(21,D=b.root),"stream_every"in b&&t(22,T=b.stream_every),"mode"in b&&t(2,h=b.mode),"mirror_webcam"in b&&t(3,k=b.mirror_webcam),"include_audio"in b&&t(23,z=b.include_audio),"webcam_constraints"in b&&t(24,y=b.webcam_constraints),"i18n"in b&&t(4,q=b.i18n),"upload"in b&&t(25,g=b.upload),"value"in b&&t(0,p=b.value)},[p,d,h,k,q,ut,n,i,o,s,a,w,$,O,I,S,F,M,r,c,v,D,T,z,y,g,x,re,ae,Se,Ee]}class ll extends Tn{constructor(e){super(),jn(this,e,nl,tl,On,{modify_stream:18,set_time_limit:19,streaming:1,pending:20,root:21,stream_every:22,mode:2,mirror_webcam:3,include_audio:23,webcam_constraints:24,i18n:4,upload:25,value:0,click_outside:5},null,[-1,-1])}get modify_stream(){return this.$$.ctx[18]}get set_time_limit(){return this.$$.ctx[19]}get streaming(){return this.$$.ctx[1]}set streaming(e){this.$$set({streaming:e}),ee()}get pending(){return this.$$.ctx[20]}set pending(e){this.$$set({pending:e}),ee()}get root(){return this.$$.ctx[21]}set root(e){this.$$set({root:e}),ee()}get stream_every(){return this.$$.ctx[22]}set stream_every(e){this.$$set({stream_every:e}),ee()}get mode(){return this.$$.ctx[2]}set mode(e){this.$$set({mode:e}),ee()}get mirror_webcam(){return this.$$.ctx[3]}set mirror_webcam(e){this.$$set({mirror_webcam:e}),ee()}get include_audio(){return this.$$.ctx[23]}set include_audio(e){this.$$set({include_audio:e}),ee()}get webcam_constraints(){return this.$$.ctx[24]}set webcam_constraints(e){this.$$set({webcam_constraints:e}),ee()}get i18n(){return this.$$.ctx[4]}set i18n(e){this.$$set({i18n:e}),ee()}get upload(){return this.$$.ctx[25]}set upload(e){this.$$set({upload:e}),ee()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),ee()}get click_outside(){return ut}}const{SvelteComponent:il,add_flush_callback:Te,append:Le,attr:Ae,bind:Me,binding_callbacks:ze,bubble:Be,check_outros:We,create_component:ce,create_slot:sl,destroy_component:fe,detach:De,element:st,empty:Ct,flush:P,get_all_dirty_from_scope:rl,get_slot_changes:al,group_outros:Pe,init:ol,insert:ye,listen:rt,mount_component:me,run_all:ul,safe_not_equal:_l,set_style:bt,space:qe,toggle_class:Je,transition_in:N,transition_out:L,update_slot_base:cl}=window.__gradio__svelte__internal,{createEventDispatcher:fl,tick:Oe}=window.__gradio__svelte__internal;function pt(l){let e,t,n,i=l[19]&&wt(l);return t=new xt({props:{Icon:en,label:"Remove Image"}}),t.$on("click",l[28]),{c(){i&&i.c(),e=qe(),ce(t.$$.fragment)},m(o,s){i&&i.m(o,s),ye(o,e,s),me(t,o,s),n=!0},p(o,s){o[19]?i?(i.p(o,s),s[0]&524288&&N(i,1)):(i=wt(o),i.c(),N(i,1),i.m(e.parentNode,e)):i&&(Pe(),L(i,1,1,()=>{i=null}),We())},i(o){n||(N(i),N(t.$$.fragment,o),n=!0)},o(o){L(i),L(t.$$.fragment,o),n=!1},d(o){o&&De(e),i&&i.d(o),fe(t,o)}}}function wt(l){let e,t;return e=new tn({props:{fullscreen:l[20]}}),e.$on("fullscreen",l[35]),{c(){ce(e.$$.fragment)},m(n,i){me(e,n,i),t=!0},p(n,i){const o={};i[0]&1048576&&(o.fullscreen=n[20]),e.$set(o)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function ml(l){let e,t,n=l[3]?.url&&!l[21]&&pt(l);return{c(){n&&n.c(),e=Ct()},m(i,o){n&&n.m(i,o),ye(i,e,o),t=!0},p(i,o){i[3]?.url&&!i[21]?n?(n.p(i,o),o[0]&2097160&&N(n,1)):(n=pt(i),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(Pe(),L(n,1,1,()=>{n=null}),We())},i(i){t||(N(n),t=!0)},o(i){L(n),t=!1},d(i){i&&De(e),n&&n.d(i)}}}function vt(l){let e;const t=l[34].default,n=sl(t,l,l[50],null);return{c(){n&&n.c()},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o[1]&524288)&&cl(n,t,i,i[50],e?al(t,i[50],o,null):rl(i[50]),null)},i(i){e||(N(n,i),e=!0)},o(i){L(n,i),e=!1},d(i){n&&n.d(i)}}}function dl(l){let e,t,n=l[3]===null&&vt(l);return{c(){n&&n.c(),e=Ct()},m(i,o){n&&n.m(i,o),ye(i,e,o),t=!0},p(i,o){i[3]===null?n?(n.p(i,o),o[0]&8&&N(n,1)):(n=vt(i),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(Pe(),L(n,1,1,()=>{n=null}),We())},i(i){t||(N(n),t=!0)},o(i){L(n),t=!1},d(i){i&&De(e),n&&n.d(i)}}}function gl(l){let e,t,n,i,o;return t=new _n({props:{src:l[3].url,alt:l[3].alt_text}}),{c(){e=st("div"),ce(t.$$.fragment),Ae(e,"class","image-frame svelte-1hdlew6"),Je(e,"selectable",l[12])},m(s,a){ye(s,e,a),me(t,e,null),n=!0,i||(o=rt(e,"click",l[30]),i=!0)},p(s,a){const r={};a[0]&8&&(r.src=s[3].url),a[0]&8&&(r.alt=s[3].alt_text),t.$set(r),(!n||a[0]&4096)&&Je(e,"selectable",s[12])},i(s){n||(N(t.$$.fragment,s),n=!0)},o(s){L(t.$$.fragment,s),n=!1},d(s){s&&De(e),fe(t),i=!1,o()}}}function hl(l){let e,t,n,i;function o(r){l[40](r)}function s(r){l[41](r)}let a={root:l[13],value:l[3],mirror_webcam:l[11].mirror,stream_every:l[18],streaming:l[10],mode:"image",include_audio:!1,i18n:l[14],upload:l[16],webcam_constraints:l[11].constraints};return l[5]!==void 0&&(a.modify_stream=l[5]),l[6]!==void 0&&(a.set_time_limit=l[6]),e=new ll({props:a}),ze.push(()=>Me(e,"modify_stream",o)),ze.push(()=>Me(e,"set_time_limit",s)),e.$on("capture",l[42]),e.$on("stream",l[43]),e.$on("error",l[44]),e.$on("drag",l[45]),e.$on("upload",l[46]),e.$on("close_stream",l[47]),{c(){ce(e.$$.fragment)},m(r,c){me(e,r,c),i=!0},p(r,c){const f={};c[0]&8192&&(f.root=r[13]),c[0]&8&&(f.value=r[3]),c[0]&2048&&(f.mirror_webcam=r[11].mirror),c[0]&262144&&(f.stream_every=r[18]),c[0]&1024&&(f.streaming=r[10]),c[0]&16384&&(f.i18n=r[14]),c[0]&65536&&(f.upload=r[16]),c[0]&2048&&(f.webcam_constraints=r[11].constraints),!t&&c[0]&32&&(t=!0,f.modify_stream=r[5],Te(()=>t=!1)),!n&&c[0]&64&&(n=!0,f.set_time_limit=r[6],Te(()=>n=!1)),e.$set(f)},i(r){i||(N(e.$$.fragment,r),i=!0)},o(r){L(e.$$.fragment,r),i=!1},d(r){fe(e,r)}}}function bl(l){let e,t;return e=new un({props:{root:l[13],upload_id:l[24],stream_handler:l[17],files:l[23]}}),{c(){ce(e.$$.fragment)},m(n,i){me(e,n,i),t=!0},p(n,i){const o={};i[0]&8192&&(o.root=n[13]),i[0]&16777216&&(o.upload_id=n[24]),i[0]&131072&&(o.stream_handler=n[17]),i[0]&8388608&&(o.files=n[23]),e.$set(o)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function kt(l){let e,t,n;function i(s){l[48](s)}let o={sources:l[9],handle_clear:l[27],handle_select:l[31]};return l[1]!==void 0&&(o.active_source=l[1]),e=new $t({props:o}),ze.push(()=>Me(e,"active_source",i)),{c(){ce(e.$$.fragment)},m(s,a){me(e,s,a),n=!0},p(s,a){const r={};a[0]&512&&(r.sources=s[9]),!t&&a[0]&2&&(t=!0,r.active_source=s[1],Te(()=>t=!1)),e.$set(r)},i(s){n||(N(e.$$.fragment,s),n=!0)},o(s){L(e.$$.fragment,s),n=!1},d(s){fe(e,s)}}}function pl(l){let e,t,n,i,o,s,a,r,c,f,d,v,D,T=l[9].length>1||l[9].includes("clipboard"),h,k,z;e=new Yt({props:{show_label:l[8],Icon:It,label:l[7]||"Image"}}),i=new Zt({props:{$$slots:{default:[ml]},$$scope:{ctx:l}}});function y(m){l[37](m)}function q(m){l[38](m)}let g={hidden:l[3]!==null||l[1]==="webcam",filetype:l[1]==="clipboard"?"clipboard":"image/*",root:l[13],max_file_size:l[15],disable_click:!l[9].includes("upload")||l[3]!==null,upload:l[16],stream_handler:l[17],aria_label:l[14]("image.drop_to_upload"),$$slots:{default:[dl]},$$scope:{ctx:l}};l[0]!==void 0&&(g.uploading=l[0]),l[2]!==void 0&&(g.dragging=l[2]),a=new on({props:g}),l[36](a),ze.push(()=>Me(a,"uploading",y)),ze.push(()=>Me(a,"dragging",q)),a.$on("load",l[26]),a.$on("error",l[39]);const p=[bl,hl,gl],B=[];function I(m,w){return m[1]==="webcam"&&!m[10]&&m[4]?0:m[1]==="webcam"&&(m[10]||!m[10]&&!m[3])?1:m[3]!==null&&!m[10]?2:-1}~(d=I(l))&&(v=B[d]=p[d](l));let S=T&&kt(l);return{c(){ce(e.$$.fragment),t=qe(),n=st("div"),ce(i.$$.fragment),o=qe(),s=st("div"),ce(a.$$.fragment),f=qe(),v&&v.c(),D=qe(),S&&S.c(),Ae(s,"class","upload-container svelte-1hdlew6"),Je(s,"reduced-height",l[9].length>1),bt(s,"width",l[3]?"auto":"100%"),Ae(n,"data-testid","image"),Ae(n,"class","image-container svelte-1hdlew6")},m(m,w){me(e,m,w),ye(m,t,w),ye(m,n,w),me(i,n,null),Le(n,o),Le(n,s),me(a,s,null),Le(s,f),~d&&B[d].m(s,null),Le(n,D),S&&S.m(n,null),l[49](n),h=!0,k||(z=[rt(s,"dragover",l[32]),rt(s,"drop",l[33])],k=!0)},p(m,w){const V={};w[0]&256&&(V.show_label=m[8]),w[0]&128&&(V.label=m[7]||"Image"),e.$set(V);const J={};w[0]&3670024|w[1]&524288&&(J.$$scope={dirty:w,ctx:m}),i.$set(J);const U={};w[0]&10&&(U.hidden=m[3]!==null||m[1]==="webcam"),w[0]&2&&(U.filetype=m[1]==="clipboard"?"clipboard":"image/*"),w[0]&8192&&(U.root=m[13]),w[0]&32768&&(U.max_file_size=m[15]),w[0]&520&&(U.disable_click=!m[9].includes("upload")||m[3]!==null),w[0]&65536&&(U.upload=m[16]),w[0]&131072&&(U.stream_handler=m[17]),w[0]&16384&&(U.aria_label=m[14]("image.drop_to_upload")),w[0]&8|w[1]&524288&&(U.$$scope={dirty:w,ctx:m}),!r&&w[0]&1&&(r=!0,U.uploading=m[0],Te(()=>r=!1)),!c&&w[0]&4&&(c=!0,U.dragging=m[2],Te(()=>c=!1)),a.$set(U);let K=d;d=I(m),d===K?~d&&B[d].p(m,w):(v&&(Pe(),L(B[K],1,1,()=>{B[K]=null}),We()),~d?(v=B[d],v?v.p(m,w):(v=B[d]=p[d](m),v.c()),N(v,1),v.m(s,null)):v=null),(!h||w[0]&512)&&Je(s,"reduced-height",m[9].length>1),w[0]&8&&bt(s,"width",m[3]?"auto":"100%"),w[0]&512&&(T=m[9].length>1||m[9].includes("clipboard")),T?S?(S.p(m,w),w[0]&512&&N(S,1)):(S=kt(m),S.c(),N(S,1),S.m(n,null)):S&&(Pe(),L(S,1,1,()=>{S=null}),We())},i(m){h||(N(e.$$.fragment,m),N(i.$$.fragment,m),N(a.$$.fragment,m),N(v),N(S),h=!0)},o(m){L(e.$$.fragment,m),L(i.$$.fragment,m),L(a.$$.fragment,m),L(v),L(S),h=!1},d(m){m&&(De(t),De(n)),fe(e,m),fe(i),l[36](null),fe(a),~d&&B[d].d(),S&&S.d(),l[49](null),k=!1,ul(z)}}}function wl(l,e,t){let n,{$$slots:i={},$$scope:o}=e,{value:s=null}=e,{label:a=void 0}=e,{show_label:r}=e,{sources:c=["upload","clipboard","webcam"]}=e,{streaming:f=!1}=e,{pending:d=!1}=e,{webcam_options:v}=e,{selectable:D=!1}=e,{root:T}=e,{i18n:h}=e,{max_file_size:k=null}=e,{upload:z}=e,{stream_handler:y}=e,{stream_every:q}=e,{modify_stream:g}=e,{set_time_limit:p}=e,{show_fullscreen_button:B=!0}=e,I,{uploading:S=!1}=e,{active_source:m=null}=e,{fullscreen:w=!1}=e,V=[],J;async function U({detail:u}){if(!f){if(u.path?.toLowerCase().endsWith(".svg")&&u.url){const te=await(await fetch(u.url)).text();t(3,s={...u,url:`data:image/svg+xml,${encodeURIComponent(te)}`})}else t(3,s=u);await Oe(),F("upload")}}function K(){t(3,s=null),F("clear"),F("change",null)}function we(u){K(),u.stopPropagation()}async function $(u,oe){if(oe==="stream"){F("stream",{value:{url:u},is_value_data:!0});return}t(24,J=Math.random().toString(36).substring(2,15));const te=new File([u],`image.${f?"jpeg":"png"}`);t(23,V=[new an({path:te.name,orig_name:te.name,blob:te,size:te.size,mime_type:te.type,is_stream:!1})]),t(4,d=!0);const tt=await I.load_files([te],J);(oe==="change"||oe==="upload")&&(t(3,s=tt?.[0]||null),await Oe(),F("change")),t(4,d=!1)}const F=fl();let{dragging:O=!1}=e;function M(u){let oe=Ht(u);oe&&F("select",{index:oe,value:null})}async function x(u){switch(u){case"clipboard":I.paste_clipboard();break}}let re;function ae(u){u.preventDefault(),u.stopPropagation(),u.dataTransfer&&(u.dataTransfer.dropEffect="copy"),t(2,O=!0)}async function Se(u){u.preventDefault(),u.stopPropagation(),t(2,O=!1),s&&(K(),await Oe()),t(1,m="upload"),await Oe(),I.load_files_from_drop(u)}function Ee(u){Be.call(this,l,u)}function b(u){ze[u?"unshift":"push"](()=>{I=u,t(22,I)})}function W(u){S=u,t(0,S)}function Z(u){O=u,t(2,O)}function ve(u){Be.call(this,l,u)}function ke(u){g=u,t(5,g)}function Ce(u){p=u,t(6,p)}const Ge=u=>$(u.detail,"change"),Ve=u=>$(u.detail,"stream");function Xe(u){Be.call(this,l,u)}function Ye(u){Be.call(this,l,u)}const Ze=u=>$(u.detail,"upload");function $e(u){Be.call(this,l,u)}function xe(u){m=u,t(1,m),t(9,c)}function et(u){ze[u?"unshift":"push"](()=>{re=u,t(25,re)})}return l.$$set=u=>{"value"in u&&t(3,s=u.value),"label"in u&&t(7,a=u.label),"show_label"in u&&t(8,r=u.show_label),"sources"in u&&t(9,c=u.sources),"streaming"in u&&t(10,f=u.streaming),"pending"in u&&t(4,d=u.pending),"webcam_options"in u&&t(11,v=u.webcam_options),"selectable"in u&&t(12,D=u.selectable),"root"in u&&t(13,T=u.root),"i18n"in u&&t(14,h=u.i18n),"max_file_size"in u&&t(15,k=u.max_file_size),"upload"in u&&t(16,z=u.upload),"stream_handler"in u&&t(17,y=u.stream_handler),"stream_every"in u&&t(18,q=u.stream_every),"modify_stream"in u&&t(5,g=u.modify_stream),"set_time_limit"in u&&t(6,p=u.set_time_limit),"show_fullscreen_button"in u&&t(19,B=u.show_fullscreen_button),"uploading"in u&&t(0,S=u.uploading),"active_source"in u&&t(1,m=u.active_source),"fullscreen"in u&&t(20,w=u.fullscreen),"dragging"in u&&t(2,O=u.dragging),"$$scope"in u&&t(50,o=u.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&514&&!m&&c&&t(1,m=c[0]),l.$$.dirty[0]&1026&&t(21,n=f&&m==="webcam"),l.$$.dirty[0]&2097153&&S&&!n&&t(3,s=null),l.$$.dirty[0]&4&&F("drag",O)},[S,m,O,s,d,g,p,a,r,c,f,v,D,T,h,k,z,y,q,B,w,n,I,V,J,re,U,K,we,$,M,x,ae,Se,i,Ee,b,W,Z,ve,ke,Ce,Ge,Ve,Xe,Ye,Ze,$e,xe,et,o]}class vl extends il{constructor(e){super(),ol(this,e,wl,pl,_l,{value:3,label:7,show_label:8,sources:9,streaming:10,pending:4,webcam_options:11,selectable:12,root:13,i18n:14,max_file_size:15,upload:16,stream_handler:17,stream_every:18,modify_stream:5,set_time_limit:6,show_fullscreen_button:19,uploading:0,active_source:1,fullscreen:20,dragging:2},null,[-1,-1])}get value(){return this.$$.ctx[3]}set value(e){this.$$set({value:e}),P()}get label(){return this.$$.ctx[7]}set label(e){this.$$set({label:e}),P()}get show_label(){return this.$$.ctx[8]}set show_label(e){this.$$set({show_label:e}),P()}get sources(){return this.$$.ctx[9]}set sources(e){this.$$set({sources:e}),P()}get streaming(){return this.$$.ctx[10]}set streaming(e){this.$$set({streaming:e}),P()}get pending(){return this.$$.ctx[4]}set pending(e){this.$$set({pending:e}),P()}get webcam_options(){return this.$$.ctx[11]}set webcam_options(e){this.$$set({webcam_options:e}),P()}get selectable(){return this.$$.ctx[12]}set selectable(e){this.$$set({selectable:e}),P()}get root(){return this.$$.ctx[13]}set root(e){this.$$set({root:e}),P()}get i18n(){return this.$$.ctx[14]}set i18n(e){this.$$set({i18n:e}),P()}get max_file_size(){return this.$$.ctx[15]}set max_file_size(e){this.$$set({max_file_size:e}),P()}get upload(){return this.$$.ctx[16]}set upload(e){this.$$set({upload:e}),P()}get stream_handler(){return this.$$.ctx[17]}set stream_handler(e){this.$$set({stream_handler:e}),P()}get stream_every(){return this.$$.ctx[18]}set stream_every(e){this.$$set({stream_every:e}),P()}get modify_stream(){return this.$$.ctx[5]}set modify_stream(e){this.$$set({modify_stream:e}),P()}get set_time_limit(){return this.$$.ctx[6]}set set_time_limit(e){this.$$set({set_time_limit:e}),P()}get show_fullscreen_button(){return this.$$.ctx[19]}set show_fullscreen_button(e){this.$$set({show_fullscreen_button:e}),P()}get uploading(){return this.$$.ctx[0]}set uploading(e){this.$$set({uploading:e}),P()}get active_source(){return this.$$.ctx[1]}set active_source(e){this.$$set({active_source:e}),P()}get fullscreen(){return this.$$.ctx[20]}set fullscreen(e){this.$$set({fullscreen:e}),P()}get dragging(){return this.$$.ctx[2]}set dragging(e){this.$$set({dragging:e}),P()}}const{SvelteComponent:kl,add_flush_callback:de,assign:Bt,bind:ge,binding_callbacks:_e,check_outros:qt,create_component:le,destroy_component:ie,detach:Ke,empty:Nt,flush:C,get_spread_object:Ut,get_spread_update:Tt,group_outros:Mt,init:zl,insert:Qe,mount_component:se,safe_not_equal:Il,space:Wt,transition_in:X,transition_out:Y}=window.__gradio__svelte__internal,{afterUpdate:Dl}=window.__gradio__svelte__internal;function yl(l){let e,t,n;function i(s){l[61](s)}let o={visible:l[5],variant:l[0]===null?"dashed":"solid",border_mode:l[27]?"focus":"base",padding:!1,elem_id:l[3],elem_classes:l[4],height:l[10]||void 0,width:l[11],allow_overflow:!1,container:l[14],scale:l[15],min_width:l[16],$$slots:{default:[Ul]},$$scope:{ctx:l}};return l[26]!==void 0&&(o.fullscreen=l[26]),e=new Dt({props:o}),_e.push(()=>ge(e,"fullscreen",i)),e.$on("dragenter",l[30]),e.$on("dragleave",l[30]),e.$on("dragover",l[30]),e.$on("drop",l[31]),{c(){le(e.$$.fragment)},m(s,a){se(e,s,a),n=!0},p(s,a){const r={};a[0]&32&&(r.visible=s[5]),a[0]&1&&(r.variant=s[0]===null?"dashed":"solid"),a[0]&134217728&&(r.border_mode=s[27]?"focus":"base"),a[0]&8&&(r.elem_id=s[3]),a[0]&16&&(r.elem_classes=s[4]),a[0]&1024&&(r.height=s[10]||void 0),a[0]&2048&&(r.width=s[11]),a[0]&16384&&(r.container=s[14]),a[0]&32768&&(r.scale=s[15]),a[0]&65536&&(r.min_width=s[16]),a[0]&1073361863|a[2]&2&&(r.$$scope={dirty:a,ctx:s}),!t&&a[0]&67108864&&(t=!0,r.fullscreen=s[26],de(()=>t=!1)),e.$set(r)},i(s){n||(X(e.$$.fragment,s),n=!0)},o(s){Y(e.$$.fragment,s),n=!1},d(s){ie(e,s)}}}function Sl(l){let e,t,n;function i(s){l[41](s)}let o={visible:l[5],variant:"solid",border_mode:l[27]?"focus":"base",padding:!1,elem_id:l[3],elem_classes:l[4],height:l[10]||void 0,width:l[11],allow_overflow:!1,container:l[14],scale:l[15],min_width:l[16],$$slots:{default:[Tl]},$$scope:{ctx:l}};return l[26]!==void 0&&(o.fullscreen=l[26]),e=new Dt({props:o}),_e.push(()=>ge(e,"fullscreen",i)),{c(){le(e.$$.fragment)},m(s,a){se(e,s,a),n=!0},p(s,a){const r={};a[0]&32&&(r.visible=s[5]),a[0]&134217728&&(r.border_mode=s[27]?"focus":"base"),a[0]&8&&(r.elem_id=s[3]),a[0]&16&&(r.elem_classes=s[4]),a[0]&1024&&(r.height=s[10]||void 0),a[0]&2048&&(r.width=s[11]),a[0]&16384&&(r.container=s[14]),a[0]&32768&&(r.scale=s[15]),a[0]&65536&&(r.min_width=s[16]),a[0]&75506117|a[2]&2&&(r.$$scope={dirty:a,ctx:s}),!t&&a[0]&67108864&&(t=!0,r.fullscreen=s[26],de(()=>t=!1)),e.$set(r)},i(s){n||(X(e.$$.fragment,s),n=!0)},o(s){Y(e.$$.fragment,s),n=!1},d(s){ie(e,s)}}}function El(l){let e,t;return e=new nn({props:{unpadded_box:!0,size:"large",$$slots:{default:[ql]},$$scope:{ctx:l}}}),{c(){le(e.$$.fragment)},m(n,i){se(e,n,i),t=!0},p(n,i){const o={};i[2]&2&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){t||(X(e.$$.fragment,n),t=!0)},o(n){Y(e.$$.fragment,n),t=!1},d(n){ie(e,n)}}}function Cl(l){let e,t;return e=new yt({props:{i18n:l[23].i18n,type:"clipboard",mode:"short"}}),{c(){le(e.$$.fragment)},m(n,i){se(e,n,i),t=!0},p(n,i){const o={};i[0]&8388608&&(o.i18n=n[23].i18n),e.$set(o)},i(n){t||(X(e.$$.fragment,n),t=!0)},o(n){Y(e.$$.fragment,n),t=!1},d(n){ie(e,n)}}}function Bl(l){let e,t;return e=new yt({props:{i18n:l[23].i18n,type:"image",placeholder:l[21]}}),{c(){le(e.$$.fragment)},m(n,i){se(e,n,i),t=!0},p(n,i){const o={};i[0]&8388608&&(o.i18n=n[23].i18n),i[0]&2097152&&(o.placeholder=n[21]),e.$set(o)},i(n){t||(X(e.$$.fragment,n),t=!0)},o(n){Y(e.$$.fragment,n),t=!1},d(n){ie(e,n)}}}function ql(l){let e,t;return e=new It({}),{c(){le(e.$$.fragment)},m(n,i){se(e,n,i),t=!0},i(n){t||(X(e.$$.fragment,n),t=!0)},o(n){Y(e.$$.fragment,n),t=!1},d(n){ie(e,n)}}}function Nl(l){let e,t,n,i;const o=[Bl,Cl,El],s=[];function a(r,c){return r[28]==="upload"||!r[28]?0:r[28]==="clipboard"?1:2}return e=a(l),t=s[e]=o[e](l),{c(){t.c(),n=Nt()},m(r,c){s[e].m(r,c),Qe(r,n,c),i=!0},p(r,c){let f=e;e=a(r),e===f?s[e].p(r,c):(Mt(),Y(s[f],1,1,()=>{s[f]=null}),qt(),t=s[e],t?t.p(r,c):(t=s[e]=o[e](r),t.c()),X(t,1),t.m(n.parentNode,n))},i(r){i||(X(t),i=!0)},o(r){Y(t),i=!1},d(r){r&&Ke(n),s[e].d(r)}}}function Ul(l){let e,t,n,i,o,s,a,r,c,f;const d=[{autoscroll:l[23].autoscroll},{i18n:l[23].i18n},l[2]];let v={};for(let g=0;g<d.length;g+=1)v=Bt(v,d[g]);e=new St({props:v}),e.$on("clear_status",l[42]);function D(g){l[45](g)}function T(g){l[46](g)}function h(g){l[47](g)}function k(g){l[48](g)}function z(g){l[49](g)}function y(g){l[50](g)}let q={selectable:l[13],root:l[9],sources:l[17],fullscreen:l[26],show_fullscreen_button:l[8]===null?!0:l[8].includes("fullscreen"),label:l[6],show_label:l[7],pending:l[20],streaming:l[19],webcam_options:l[22],stream_every:l[12],max_file_size:l[23].max_file_size,i18n:l[23].i18n,upload:l[43],stream_handler:l[23].client?.stream,$$slots:{default:[Nl]},$$scope:{ctx:l}};return l[24]!==void 0&&(q.uploading=l[24]),l[28]!==void 0&&(q.active_source=l[28]),l[0]!==void 0&&(q.value=l[0]),l[27]!==void 0&&(q.dragging=l[27]),l[25]!==void 0&&(q.modify_stream=l[25]),l[1]!==void 0&&(q.set_time_limit=l[1]),n=new vl({props:q}),l[44](n),_e.push(()=>ge(n,"uploading",D)),_e.push(()=>ge(n,"active_source",T)),_e.push(()=>ge(n,"value",h)),_e.push(()=>ge(n,"dragging",k)),_e.push(()=>ge(n,"modify_stream",z)),_e.push(()=>ge(n,"set_time_limit",y)),n.$on("edit",l[51]),n.$on("clear",l[52]),n.$on("stream",l[53]),n.$on("drag",l[54]),n.$on("upload",l[55]),n.$on("select",l[56]),n.$on("share",l[57]),n.$on("error",l[58]),n.$on("close_stream",l[59]),n.$on("fullscreen",l[60]),{c(){le(e.$$.fragment),t=Wt(),le(n.$$.fragment)},m(g,p){se(e,g,p),Qe(g,t,p),se(n,g,p),f=!0},p(g,p){const B=p[0]&8388612?Tt(d,[p[0]&8388608&&{autoscroll:g[23].autoscroll},p[0]&8388608&&{i18n:g[23].i18n},p[0]&4&&Ut(g[2])]):{};e.$set(B);const I={};p[0]&8192&&(I.selectable=g[13]),p[0]&512&&(I.root=g[9]),p[0]&131072&&(I.sources=g[17]),p[0]&67108864&&(I.fullscreen=g[26]),p[0]&256&&(I.show_fullscreen_button=g[8]===null?!0:g[8].includes("fullscreen")),p[0]&64&&(I.label=g[6]),p[0]&128&&(I.show_label=g[7]),p[0]&1048576&&(I.pending=g[20]),p[0]&524288&&(I.streaming=g[19]),p[0]&4194304&&(I.webcam_options=g[22]),p[0]&4096&&(I.stream_every=g[12]),p[0]&8388608&&(I.max_file_size=g[23].max_file_size),p[0]&8388608&&(I.i18n=g[23].i18n),p[0]&8388608&&(I.upload=g[43]),p[0]&8388608&&(I.stream_handler=g[23].client?.stream),p[0]&278921216|p[2]&2&&(I.$$scope={dirty:p,ctx:g}),!i&&p[0]&16777216&&(i=!0,I.uploading=g[24],de(()=>i=!1)),!o&&p[0]&268435456&&(o=!0,I.active_source=g[28],de(()=>o=!1)),!s&&p[0]&1&&(s=!0,I.value=g[0],de(()=>s=!1)),!a&&p[0]&134217728&&(a=!0,I.dragging=g[27],de(()=>a=!1)),!r&&p[0]&33554432&&(r=!0,I.modify_stream=g[25],de(()=>r=!1)),!c&&p[0]&2&&(c=!0,I.set_time_limit=g[1],de(()=>c=!1)),n.$set(I)},i(g){f||(X(e.$$.fragment,g),X(n.$$.fragment,g),f=!0)},o(g){Y(e.$$.fragment,g),Y(n.$$.fragment,g),f=!1},d(g){g&&Ke(t),ie(e,g),l[44](null),ie(n,g)}}}function Tl(l){let e,t,n,i;const o=[{autoscroll:l[23].autoscroll},{i18n:l[23].i18n},l[2]];let s={};for(let a=0;a<o.length;a+=1)s=Bt(s,o[a]);return e=new St({props:s}),n=new Jt({props:{fullscreen:l[26],value:l[0],label:l[6],show_label:l[7],buttons:l[8],selectable:l[13],i18n:l[23].i18n}}),n.$on("select",l[37]),n.$on("share",l[38]),n.$on("error",l[39]),n.$on("fullscreen",l[40]),{c(){le(e.$$.fragment),t=Wt(),le(n.$$.fragment)},m(a,r){se(e,a,r),Qe(a,t,r),se(n,a,r),i=!0},p(a,r){const c=r[0]&8388612?Tt(o,[r[0]&8388608&&{autoscroll:a[23].autoscroll},r[0]&8388608&&{i18n:a[23].i18n},r[0]&4&&Ut(a[2])]):{};e.$set(c);const f={};r[0]&67108864&&(f.fullscreen=a[26]),r[0]&1&&(f.value=a[0]),r[0]&64&&(f.label=a[6]),r[0]&128&&(f.show_label=a[7]),r[0]&256&&(f.buttons=a[8]),r[0]&8192&&(f.selectable=a[13]),r[0]&8388608&&(f.i18n=a[23].i18n),n.$set(f)},i(a){i||(X(e.$$.fragment,a),X(n.$$.fragment,a),i=!0)},o(a){Y(e.$$.fragment,a),Y(n.$$.fragment,a),i=!1},d(a){a&&Ke(t),ie(e,a),ie(n,a)}}}function Ml(l){let e,t,n,i;const o=[Sl,yl],s=[];function a(r,c){return r[18]?1:0}return e=a(l),t=s[e]=o[e](l),{c(){t.c(),n=Nt()},m(r,c){s[e].m(r,c),Qe(r,n,c),i=!0},p(r,c){let f=e;e=a(r),e===f?s[e].p(r,c):(Mt(),Y(s[f],1,1,()=>{s[f]=null}),qt(),t=s[e],t?t.p(r,c):(t=s[e]=o[e](r),t.c()),X(t,1),t.m(n.parentNode,n))},i(r){i||(X(t),i=!0)},o(r){Y(t),i=!1},d(r){r&&Ke(n),s[e].d(r)}}}function Wl(l,e,t){let n="closed",i=()=>{};function o(_){n=_,i(_)}const s=()=>n;let{set_time_limit:a}=e,{value_is_output:r=!1}=e,{elem_id:c=""}=e,{elem_classes:f=[]}=e,{visible:d=!0}=e,{value:v=null}=e,D=null,{label:T}=e,{show_label:h}=e,{buttons:k=null}=e,{root:z}=e,{height:y}=e,{width:q}=e,{stream_every:g}=e,{_selectable:p=!1}=e,{container:B=!0}=e,{scale:I=null}=e,{min_width:S=void 0}=e,{loading_status:m}=e,{sources:w=["upload","clipboard","webcam"]}=e,{interactive:V}=e,{streaming:J}=e,{pending:U}=e,{placeholder:K=void 0}=e,{input_ready:we}=e,{webcam_options:$}=e,F=!1,O=!1,{gradio:M}=e;Dl(()=>{t(32,r=!1)});let x,re=null,ae;const Se=_=>{const ue=_;ue.preventDefault(),ue.stopPropagation(),ue.type==="dragenter"||ue.type==="dragover"?t(27,x=!0):ue.type==="dragleave"&&t(27,x=!1)},Ee=_=>{if(V){const ue=_;ue.preventDefault(),ue.stopPropagation(),t(27,x=!1),ae&&ae.loadFilesFromDrop(ue)}},b=({detail:_})=>M.dispatch("select",_),W=({detail:_})=>M.dispatch("share",_),Z=({detail:_})=>M.dispatch("error",_),ve=({detail:_})=>{t(26,F=_)};function ke(_){F=_,t(26,F)}const Ce=()=>M.dispatch("clear_status",m),Ge=(..._)=>M.client.upload(..._);function Ve(_){_e[_?"unshift":"push"](()=>{ae=_,t(29,ae)})}function Xe(_){O=_,t(24,O)}function Ye(_){re=_,t(28,re)}function Ze(_){v=_,t(0,v)}function $e(_){x=_,t(27,x)}function xe(_){i=_,t(25,i)}function et(_){a=_,t(1,a)}const u=()=>M.dispatch("edit"),oe=()=>{t(26,F=!1),M.dispatch("clear")},te=({detail:_})=>M.dispatch("stream",_),tt=({detail:_})=>t(27,x=_),Pt=()=>M.dispatch("upload"),Rt=({detail:_})=>M.dispatch("select",_),Ft=({detail:_})=>M.dispatch("share",_),jt=({detail:_})=>{t(2,m=m||{}),t(2,m.status="error",m),M.dispatch("error",_)},Lt=()=>{M.dispatch("close_stream","stream")},Ot=({detail:_})=>{t(26,F=_)};function At(_){F=_,t(26,F)}return l.$$set=_=>{"set_time_limit"in _&&t(1,a=_.set_time_limit),"value_is_output"in _&&t(32,r=_.value_is_output),"elem_id"in _&&t(3,c=_.elem_id),"elem_classes"in _&&t(4,f=_.elem_classes),"visible"in _&&t(5,d=_.visible),"value"in _&&t(0,v=_.value),"label"in _&&t(6,T=_.label),"show_label"in _&&t(7,h=_.show_label),"buttons"in _&&t(8,k=_.buttons),"root"in _&&t(9,z=_.root),"height"in _&&t(10,y=_.height),"width"in _&&t(11,q=_.width),"stream_every"in _&&t(12,g=_.stream_every),"_selectable"in _&&t(13,p=_._selectable),"container"in _&&t(14,B=_.container),"scale"in _&&t(15,I=_.scale),"min_width"in _&&t(16,S=_.min_width),"loading_status"in _&&t(2,m=_.loading_status),"sources"in _&&t(17,w=_.sources),"interactive"in _&&t(18,V=_.interactive),"streaming"in _&&t(19,J=_.streaming),"pending"in _&&t(20,U=_.pending),"placeholder"in _&&t(21,K=_.placeholder),"input_ready"in _&&t(33,we=_.input_ready),"webcam_options"in _&&t(22,$=_.webcam_options),"gradio"in _&&t(23,M=_.gradio)},l.$$.update=()=>{l.$$.dirty[0]&16777216&&t(33,we=!O),l.$$.dirty[0]&8388609|l.$$.dirty[1]&34&&JSON.stringify(v)!==JSON.stringify(D)&&(t(36,D=v),M.dispatch("change"),r||M.dispatch("input"))},[v,a,m,c,f,d,T,h,k,z,y,q,g,p,B,I,S,w,V,J,U,K,$,M,O,i,F,x,re,ae,Se,Ee,r,we,o,s,D,b,W,Z,ve,ke,Ce,Ge,Ve,Xe,Ye,Ze,$e,xe,et,u,oe,te,tt,Pt,Rt,Ft,jt,Lt,Ot,At]}class Ql extends kl{constructor(e){super(),zl(this,e,Wl,Ml,Il,{modify_stream_state:34,get_stream_state:35,set_time_limit:1,value_is_output:32,elem_id:3,elem_classes:4,visible:5,value:0,label:6,show_label:7,buttons:8,root:9,height:10,width:11,stream_every:12,_selectable:13,container:14,scale:15,min_width:16,loading_status:2,sources:17,interactive:18,streaming:19,pending:20,placeholder:21,input_ready:33,webcam_options:22,gradio:23},null,[-1,-1,-1])}get modify_stream_state(){return this.$$.ctx[34]}get get_stream_state(){return this.$$.ctx[35]}get set_time_limit(){return this.$$.ctx[1]}set set_time_limit(e){this.$$set({set_time_limit:e}),C()}get value_is_output(){return this.$$.ctx[32]}set value_is_output(e){this.$$set({value_is_output:e}),C()}get elem_id(){return this.$$.ctx[3]}set elem_id(e){this.$$set({elem_id:e}),C()}get elem_classes(){return this.$$.ctx[4]}set elem_classes(e){this.$$set({elem_classes:e}),C()}get visible(){return this.$$.ctx[5]}set visible(e){this.$$set({visible:e}),C()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),C()}get label(){return this.$$.ctx[6]}set label(e){this.$$set({label:e}),C()}get show_label(){return this.$$.ctx[7]}set show_label(e){this.$$set({show_label:e}),C()}get buttons(){return this.$$.ctx[8]}set buttons(e){this.$$set({buttons:e}),C()}get root(){return this.$$.ctx[9]}set root(e){this.$$set({root:e}),C()}get height(){return this.$$.ctx[10]}set height(e){this.$$set({height:e}),C()}get width(){return this.$$.ctx[11]}set width(e){this.$$set({width:e}),C()}get stream_every(){return this.$$.ctx[12]}set stream_every(e){this.$$set({stream_every:e}),C()}get _selectable(){return this.$$.ctx[13]}set _selectable(e){this.$$set({_selectable:e}),C()}get container(){return this.$$.ctx[14]}set container(e){this.$$set({container:e}),C()}get scale(){return this.$$.ctx[15]}set scale(e){this.$$set({scale:e}),C()}get min_width(){return this.$$.ctx[16]}set min_width(e){this.$$set({min_width:e}),C()}get loading_status(){return this.$$.ctx[2]}set loading_status(e){this.$$set({loading_status:e}),C()}get sources(){return this.$$.ctx[17]}set sources(e){this.$$set({sources:e}),C()}get interactive(){return this.$$.ctx[18]}set interactive(e){this.$$set({interactive:e}),C()}get streaming(){return this.$$.ctx[19]}set streaming(e){this.$$set({streaming:e}),C()}get pending(){return this.$$.ctx[20]}set pending(e){this.$$set({pending:e}),C()}get placeholder(){return this.$$.ctx[21]}set placeholder(e){this.$$set({placeholder:e}),C()}get input_ready(){return this.$$.ctx[33]}set input_ready(e){this.$$set({input_ready:e}),C()}get webcam_options(){return this.$$.ctx[22]}set webcam_options(e){this.$$set({webcam_options:e}),C()}get gradio(){return this.$$.ctx[23]}set gradio(e){this.$$set({gradio:e}),C()}}export{Xl as BaseExample,_n as BaseImage,vl as BaseImageUploader,Jt as BaseStaticImage,ll as Webcam,Ql as default};
//# sourceMappingURL=Index-D7lICm3Q.js.map
