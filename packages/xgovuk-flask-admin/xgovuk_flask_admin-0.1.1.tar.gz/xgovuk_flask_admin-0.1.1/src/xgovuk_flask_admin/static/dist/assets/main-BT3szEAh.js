function Ke(s){const e=`--govuk-breakpoint-${s}`,t=window.getComputedStyle(document.documentElement).getPropertyValue(e);return{property:e,value:t||void 0}}function Ve(s,e={}){var t;const i=s.getAttribute("tabindex");i||s.setAttribute("tabindex","-1");function n(){s.addEventListener("blur",o,{once:!0})}function o(){var r;(r=e.onBlur)==null||r.call(s),i||s.removeAttribute("tabindex")}s.addEventListener("focus",n,{once:!0}),(t=e.onBeforeFocus)==null||t.call(s),s.focus()}function Rt(s,e){return s instanceof HTMLElement&&s.hasAttribute(`data-${e}-init`)}function We(s=document.body){return s?s.classList.contains("govuk-frontend-supported"):!1}function qt(s){return Array.isArray(s)}function D(s){return!!s&&typeof s=="object"&&!qt(s)}function Xe(s){return!!s&&(s instanceof Element||s instanceof Document)}function te(s,e){return`${s.moduleName}: ${e}`}class be extends Error{constructor(...e){super(...e),this.name="GOVUKFrontendError"}}class Ue extends be{constructor(e=document.body){const t="noModule"in HTMLScriptElement.prototype?'GOV.UK Frontend initialised without `<body class="govuk-frontend-supported">` from template `<script>` snippet':"GOV.UK Frontend is not supported in this browser";super(e?t:'GOV.UK Frontend initialised without `<script type="module">`'),this.name="SupportError"}}class Ye extends be{constructor(...e){super(...e),this.name="ConfigError"}}class v extends be{constructor(e){let t=typeof e=="string"?e:"";if(D(e)){const{component:i,identifier:n,element:o,expectedType:r}=e;t=n,t+=o?` is not of type ${r??"HTMLElement"}`:" not found",i&&(t=te(i,t))}super(t),this.name="ElementError"}}class et extends be{constructor(e){const t=typeof e=="string"?e:te(e,"Root element (`$root`) already initialised");super(t),this.name="InitError"}}class M{get $root(){return this._$root}constructor(e){this._$root=void 0;const t=this.constructor;if(typeof t.moduleName!="string")throw new et("`moduleName` not defined in component");if(e instanceof t.elementType)this._$root=e;else throw new v({element:e,component:t,identifier:"Root element (`$root`)",expectedType:t.elementType.name});t.checkSupport(),this.checkInitialised();const i=t.moduleName;this.$root.setAttribute(`data-${i}-init`,"")}checkInitialised(){const e=this.constructor,t=e.moduleName;if(t&&Rt(this.$root,t))throw new et(e)}static checkSupport(){if(!We())throw new Ue}}M.elementType=HTMLElement;const Be=Symbol.for("configOverride");class $ extends M{[Be](e){return{}}get config(){return this._config}constructor(e,t){super(e),this._config=void 0;const i=this.constructor;if(!D(i.defaults))throw new Ye(te(i,"Config passed as parameter into constructor but no defaults defined"));const n=Kt(i,this._$root.dataset);this._config=Et(i.defaults,t??{},this[Be](n),n)}}function yt(s,e){const t=s?s.trim():"";let i,n=e==null?void 0:e.type;switch(n||(["true","false"].includes(t)&&(n="boolean"),t.length>0&&isFinite(Number(t))&&(n="number")),n){case"boolean":i=t==="true";break;case"number":i=Number(t);break;default:i=s}return i}function Kt(s,e){if(!D(s.schema))throw new Ye(te(s,"Config passed as parameter into constructor but no schema defined"));const t={},i=Object.entries(s.schema.properties);for(const n of i){const[o,r]=n,a=o.toString();a in e&&(t[a]=yt(e[a],r)),(r==null?void 0:r.type)==="object"&&(t[a]=Wt(s.schema,e,o))}return t}function _t(s){let e=document,t;if(D(s)){const i=s;(Xe(i.scope)||i.scope===null)&&(e=i.scope),typeof i.onError=="function"&&(t=i.onError)}return Xe(s)?e=s:s===null?e=null:typeof s=="function"&&(t=s),{scope:e,onError:t}}function Et(...s){const e={};for(const t of s)for(const i of Object.keys(t)){const n=e[i],o=t[i];D(n)&&D(o)?e[i]=Et(n,o):e[i]=o}return e}function Vt(s,e){const t=[];for(const[i,n]of Object.entries(s)){const o=[];if(Array.isArray(n)){for(const{required:r,errorMessage:a}of n)r.every(l=>!!e[l])||o.push(a);i==="anyOf"&&!(n.length-o.length>=1)&&t.push(...o)}}return t}function Wt(s,e,t){const i=s.properties[t];if((i==null?void 0:i.type)!=="object")return;const n={[t]:{}};for(const[o,r]of Object.entries(e)){let a=n;const l=o.split(".");for(const[h,c]of l.entries())D(a)&&(h<l.length-1?(D(a[c])||(a[c]={}),a=a[c]):o!==t&&(a[c]=yt(r)))}return n[t]}class ue{constructor(e={},t={}){var i;this.translations=void 0,this.locale=void 0,this.translations=e,this.locale=(i=t.locale)!=null?i:document.documentElement.lang||"en"}t(e,t){if(!e)throw new Error("i18n: lookup key missing");let i=this.translations[e];if(typeof(t==null?void 0:t.count)=="number"&&D(i)){const n=i[this.getPluralSuffix(e,t.count)];n&&(i=n)}if(typeof i=="string"){if(i.match(/%{(.\S+)}/)){if(!t)throw new Error("i18n: cannot replace placeholders in string if no option data provided");return this.replacePlaceholders(i,t)}return i}return e}replacePlaceholders(e,t){const i=Intl.NumberFormat.supportedLocalesOf(this.locale).length?new Intl.NumberFormat(this.locale):void 0;return e.replace(/%{(.\S+)}/g,function(n,o){if(Object.prototype.hasOwnProperty.call(t,o)){const r=t[o];return r===!1||typeof r!="number"&&typeof r!="string"?"":typeof r=="number"?i?i.format(r):`${r}`:r}throw new Error(`i18n: no data found to replace ${n} placeholder in string`)})}hasIntlPluralRulesSupport(){return!!("PluralRules"in window.Intl&&Intl.PluralRules.supportedLocalesOf(this.locale).length)}getPluralSuffix(e,t){if(t=Number(t),!isFinite(t))return"other";const i=this.translations[e],n=this.hasIntlPluralRulesSupport()?new Intl.PluralRules(this.locale).select(t):"other";if(D(i)){if(n in i)return n;if("other"in i)return console.warn(`i18n: Missing plural form ".${n}" for "${this.locale}" locale. Falling back to ".other".`),"other"}throw new Error(`i18n: Plural form ".other" is required for "${this.locale}" locale`)}}/**
 * Accordion component
 *
 * This allows a collection of sections to be collapsed by default, showing only
 * their headers. Sections can be expanded or collapsed individually by clicking
 * their headers. A "Show all sections" button is also added to the top of the
 * accordion, which switches to "Hide all sections" when all the sections are
 * expanded.
 *
 * The state of each section is saved to the DOM via the `aria-expanded`
 * attribute, which also provides accessibility.
 *
 * @preserve
 * @augments ConfigurableComponent<AccordionConfig>
 */class B extends ${constructor(e,t={}){super(e,t),this.i18n=void 0,this.controlsClass="govuk-accordion__controls",this.showAllClass="govuk-accordion__show-all",this.showAllTextClass="govuk-accordion__show-all-text",this.sectionClass="govuk-accordion__section",this.sectionExpandedClass="govuk-accordion__section--expanded",this.sectionButtonClass="govuk-accordion__section-button",this.sectionHeaderClass="govuk-accordion__section-header",this.sectionHeadingClass="govuk-accordion__section-heading",this.sectionHeadingDividerClass="govuk-accordion__section-heading-divider",this.sectionHeadingTextClass="govuk-accordion__section-heading-text",this.sectionHeadingTextFocusClass="govuk-accordion__section-heading-text-focus",this.sectionShowHideToggleClass="govuk-accordion__section-toggle",this.sectionShowHideToggleFocusClass="govuk-accordion__section-toggle-focus",this.sectionShowHideTextClass="govuk-accordion__section-toggle-text",this.upChevronIconClass="govuk-accordion-nav__chevron",this.downChevronIconClass="govuk-accordion-nav__chevron--down",this.sectionSummaryClass="govuk-accordion__section-summary",this.sectionSummaryFocusClass="govuk-accordion__section-summary-focus",this.sectionContentClass="govuk-accordion__section-content",this.$sections=void 0,this.$showAllButton=null,this.$showAllIcon=null,this.$showAllText=null,this.i18n=new ue(this.config.i18n);const i=this.$root.querySelectorAll(`.${this.sectionClass}`);if(!i.length)throw new v({component:B,identifier:`Sections (\`<div class="${this.sectionClass}">\`)`});this.$sections=i,this.initControls(),this.initSectionHeaders(),this.updateShowAllButton(this.areAllSectionsOpen())}initControls(){this.$showAllButton=document.createElement("button"),this.$showAllButton.setAttribute("type","button"),this.$showAllButton.setAttribute("class",this.showAllClass),this.$showAllButton.setAttribute("aria-expanded","false"),this.$showAllIcon=document.createElement("span"),this.$showAllIcon.classList.add(this.upChevronIconClass),this.$showAllButton.appendChild(this.$showAllIcon);const e=document.createElement("div");e.setAttribute("class",this.controlsClass),e.appendChild(this.$showAllButton),this.$root.insertBefore(e,this.$root.firstChild),this.$showAllText=document.createElement("span"),this.$showAllText.classList.add(this.showAllTextClass),this.$showAllButton.appendChild(this.$showAllText),this.$showAllButton.addEventListener("click",()=>this.onShowOrHideAllToggle()),"onbeforematch"in document&&document.addEventListener("beforematch",t=>this.onBeforeMatch(t))}initSectionHeaders(){this.$sections.forEach((e,t)=>{const i=e.querySelector(`.${this.sectionHeaderClass}`);if(!i)throw new v({component:B,identifier:`Section headers (\`<div class="${this.sectionHeaderClass}">\`)`});this.constructHeaderMarkup(i,t),this.setExpanded(this.isExpanded(e),e),i.addEventListener("click",()=>this.onSectionToggle(e)),this.setInitialState(e)})}constructHeaderMarkup(e,t){const i=e.querySelector(`.${this.sectionButtonClass}`),n=e.querySelector(`.${this.sectionHeadingClass}`),o=e.querySelector(`.${this.sectionSummaryClass}`);if(!n)throw new v({component:B,identifier:`Section heading (\`.${this.sectionHeadingClass}\`)`});if(!i)throw new v({component:B,identifier:`Section button placeholder (\`<span class="${this.sectionButtonClass}">\`)`});const r=document.createElement("button");r.setAttribute("type","button"),r.setAttribute("aria-controls",`${this.$root.id}-content-${t+1}`);for(const p of Array.from(i.attributes))p.name!=="id"&&r.setAttribute(p.name,p.value);const a=document.createElement("span");a.classList.add(this.sectionHeadingTextClass),a.id=i.id;const l=document.createElement("span");l.classList.add(this.sectionHeadingTextFocusClass),a.appendChild(l),Array.from(i.childNodes).forEach(p=>l.appendChild(p));const h=document.createElement("span");h.classList.add(this.sectionShowHideToggleClass),h.setAttribute("data-nosnippet","");const c=document.createElement("span");c.classList.add(this.sectionShowHideToggleFocusClass),h.appendChild(c);const u=document.createElement("span"),f=document.createElement("span");if(f.classList.add(this.upChevronIconClass),c.appendChild(f),u.classList.add(this.sectionShowHideTextClass),c.appendChild(u),r.appendChild(a),r.appendChild(this.getButtonPunctuationEl()),o){const p=document.createElement("span"),d=document.createElement("span");d.classList.add(this.sectionSummaryFocusClass),p.appendChild(d);for(const m of Array.from(o.attributes))p.setAttribute(m.name,m.value);Array.from(o.childNodes).forEach(m=>d.appendChild(m)),o.remove(),r.appendChild(p),r.appendChild(this.getButtonPunctuationEl())}r.appendChild(h),n.removeChild(i),n.appendChild(r)}onBeforeMatch(e){const t=e.target;if(!(t instanceof Element))return;const i=t.closest(`.${this.sectionClass}`);i&&this.setExpanded(!0,i)}onSectionToggle(e){const t=!this.isExpanded(e);this.setExpanded(t,e),this.storeState(e,t)}onShowOrHideAllToggle(){const e=!this.areAllSectionsOpen();this.$sections.forEach(t=>{this.setExpanded(e,t),this.storeState(t,e)}),this.updateShowAllButton(e)}setExpanded(e,t){const i=t.querySelector(`.${this.upChevronIconClass}`),n=t.querySelector(`.${this.sectionShowHideTextClass}`),o=t.querySelector(`.${this.sectionButtonClass}`),r=t.querySelector(`.${this.sectionContentClass}`);if(!r)throw new v({component:B,identifier:`Section content (\`<div class="${this.sectionContentClass}">\`)`});if(!i||!n||!o)return;const a=e?this.i18n.t("hideSection"):this.i18n.t("showSection");n.textContent=a,o.setAttribute("aria-expanded",`${e}`);const l=[],h=t.querySelector(`.${this.sectionHeadingTextClass}`);h&&l.push(h.textContent.trim());const c=t.querySelector(`.${this.sectionSummaryClass}`);c&&l.push(c.textContent.trim());const u=e?this.i18n.t("hideSectionAriaLabel"):this.i18n.t("showSectionAriaLabel");l.push(u),o.setAttribute("aria-label",l.join(" , ")),e?(r.removeAttribute("hidden"),t.classList.add(this.sectionExpandedClass),i.classList.remove(this.downChevronIconClass)):(r.setAttribute("hidden","until-found"),t.classList.remove(this.sectionExpandedClass),i.classList.add(this.downChevronIconClass)),this.updateShowAllButton(this.areAllSectionsOpen())}isExpanded(e){return e.classList.contains(this.sectionExpandedClass)}areAllSectionsOpen(){return Array.from(this.$sections).every(e=>this.isExpanded(e))}updateShowAllButton(e){!this.$showAllButton||!this.$showAllText||!this.$showAllIcon||(this.$showAllButton.setAttribute("aria-expanded",e.toString()),this.$showAllText.textContent=e?this.i18n.t("hideAllSections"):this.i18n.t("showAllSections"),this.$showAllIcon.classList.toggle(this.downChevronIconClass,!e))}getIdentifier(e){const t=e.querySelector(`.${this.sectionButtonClass}`);return t==null?void 0:t.getAttribute("aria-controls")}storeState(e,t){if(!this.config.rememberExpanded)return;const i=this.getIdentifier(e);if(i)try{window.sessionStorage.setItem(i,t.toString())}catch{}}setInitialState(e){if(!this.config.rememberExpanded)return;const t=this.getIdentifier(e);if(t)try{const i=window.sessionStorage.getItem(t);i!==null&&this.setExpanded(i==="true",e)}catch{}}getButtonPunctuationEl(){const e=document.createElement("span");return e.classList.add("govuk-visually-hidden",this.sectionHeadingDividerClass),e.textContent=", ",e}}B.moduleName="govuk-accordion";B.defaults=Object.freeze({i18n:{hideAllSections:"Hide all sections",hideSection:"Hide",hideSectionAriaLabel:"Hide this section",showAllSections:"Show all sections",showSection:"Show",showSectionAriaLabel:"Show this section"},rememberExpanded:!0});B.schema=Object.freeze({properties:{i18n:{type:"object"},rememberExpanded:{type:"boolean"}}});const Ut=1;/**
 * JavaScript enhancements for the Button component
 *
 * @preserve
 * @augments ConfigurableComponent<ButtonConfig>
 */class ve extends ${constructor(e,t={}){super(e,t),this.debounceFormSubmitTimer=null,this.$root.addEventListener("keydown",i=>this.handleKeyDown(i)),this.$root.addEventListener("click",i=>this.debounce(i))}handleKeyDown(e){const t=e.target;e.key===" "&&t instanceof HTMLElement&&t.getAttribute("role")==="button"&&(e.preventDefault(),t.click())}debounce(e){if(this.config.preventDoubleClick){if(this.debounceFormSubmitTimer)return e.preventDefault(),!1;this.debounceFormSubmitTimer=window.setTimeout(()=>{this.debounceFormSubmitTimer=null},Ut*1e3)}}}ve.moduleName="govuk-button";ve.defaults=Object.freeze({preventDoubleClick:!1});ve.schema=Object.freeze({properties:{preventDoubleClick:{type:"boolean"}}});function Ge(s,e){const t=s.closest(`[${e}]`);return t?t.getAttribute(e):null}/**
 * Character count component
 *
 * Tracks the number of characters or words in the `.govuk-js-character-count`
 * `<textarea>` inside the element. Displays a message with the remaining number
 * of characters/words available, or the number of characters/words in excess.
 *
 * You can configure the message to only appear after a certain percentage
 * of the available characters/words has been entered.
 *
 * @preserve
 * @augments ConfigurableComponent<CharacterCountConfig>
 */class F extends ${[Be](e){let t={};return("maxwords"in e||"maxlength"in e)&&(t={maxlength:void 0,maxwords:void 0}),t}constructor(e,t={}){var i,n;super(e,t),this.$textarea=void 0,this.$visibleCountMessage=void 0,this.$screenReaderCountMessage=void 0,this.lastInputTimestamp=null,this.lastInputValue="",this.valueChecker=null,this.i18n=void 0,this.maxLength=void 0;const o=this.$root.querySelector(".govuk-js-character-count");if(!(o instanceof HTMLTextAreaElement||o instanceof HTMLInputElement))throw new v({component:F,element:o,expectedType:"HTMLTextareaElement or HTMLInputElement",identifier:"Form field (`.govuk-js-character-count`)"});const r=Vt(F.schema,this.config);if(r[0])throw new Ye(te(F,r[0]));this.i18n=new ue(this.config.i18n,{locale:Ge(this.$root,"lang")}),this.maxLength=(i=(n=this.config.maxwords)!=null?n:this.config.maxlength)!=null?i:1/0,this.$textarea=o;const a=`${this.$textarea.id}-info`,l=document.getElementById(a);if(!l)throw new v({component:F,element:l,identifier:`Count message (\`id="${a}"\`)`});this.$errorMessage=this.$root.querySelector(".govuk-error-message"),l.textContent.match(/^\s*$/)&&(l.textContent=this.i18n.t("textareaDescription",{count:this.maxLength})),this.$textarea.insertAdjacentElement("afterend",l);const h=document.createElement("div");h.className="govuk-character-count__sr-status govuk-visually-hidden",h.setAttribute("aria-live","polite"),this.$screenReaderCountMessage=h,l.insertAdjacentElement("afterend",h);const c=document.createElement("div");c.className=l.className,c.classList.add("govuk-character-count__status"),c.setAttribute("aria-hidden","true"),this.$visibleCountMessage=c,l.insertAdjacentElement("afterend",c),l.classList.add("govuk-visually-hidden"),this.$textarea.removeAttribute("maxlength"),this.bindChangeEvents(),window.addEventListener("pageshow",()=>this.updateCountMessage()),this.updateCountMessage()}bindChangeEvents(){this.$textarea.addEventListener("keyup",()=>this.handleKeyUp()),this.$textarea.addEventListener("focus",()=>this.handleFocus()),this.$textarea.addEventListener("blur",()=>this.handleBlur())}handleKeyUp(){this.updateVisibleCountMessage(),this.lastInputTimestamp=Date.now()}handleFocus(){this.valueChecker=window.setInterval(()=>{(!this.lastInputTimestamp||Date.now()-500>=this.lastInputTimestamp)&&this.updateIfValueChanged()},1e3)}handleBlur(){this.valueChecker&&window.clearInterval(this.valueChecker)}updateIfValueChanged(){this.$textarea.value!==this.lastInputValue&&(this.lastInputValue=this.$textarea.value,this.updateCountMessage())}updateCountMessage(){this.updateVisibleCountMessage(),this.updateScreenReaderCountMessage()}updateVisibleCountMessage(){const t=this.maxLength-this.count(this.$textarea.value)<0;this.$visibleCountMessage.classList.toggle("govuk-character-count__message--disabled",!this.isOverThreshold()),this.$errorMessage||this.$textarea.classList.toggle("govuk-textarea--error",t),this.$visibleCountMessage.classList.toggle("govuk-error-message",t),this.$visibleCountMessage.classList.toggle("govuk-hint",!t),this.$visibleCountMessage.textContent=this.getCountMessage()}updateScreenReaderCountMessage(){this.isOverThreshold()?this.$screenReaderCountMessage.removeAttribute("aria-hidden"):this.$screenReaderCountMessage.setAttribute("aria-hidden","true"),this.$screenReaderCountMessage.textContent=this.getCountMessage()}count(e){if(this.config.maxwords){var t;return((t=e.match(/\S+/g))!=null?t:[]).length}return e.length}getCountMessage(){const e=this.maxLength-this.count(this.$textarea.value),t=this.config.maxwords?"words":"characters";return this.formatCountMessage(e,t)}formatCountMessage(e,t){if(e===0)return this.i18n.t(`${t}AtLimit`);const i=e<0?"OverLimit":"UnderLimit";return this.i18n.t(`${t}${i}`,{count:Math.abs(e)})}isOverThreshold(){if(!this.config.threshold)return!0;const e=this.count(this.$textarea.value);return this.maxLength*this.config.threshold/100<=e}}F.moduleName="govuk-character-count";F.defaults=Object.freeze({threshold:0,i18n:{charactersUnderLimit:{one:"You have %{count} character remaining",other:"You have %{count} characters remaining"},charactersAtLimit:"You have 0 characters remaining",charactersOverLimit:{one:"You have %{count} character too many",other:"You have %{count} characters too many"},wordsUnderLimit:{one:"You have %{count} word remaining",other:"You have %{count} words remaining"},wordsAtLimit:"You have 0 words remaining",wordsOverLimit:{one:"You have %{count} word too many",other:"You have %{count} words too many"},textareaDescription:{other:""}}});F.schema=Object.freeze({properties:{i18n:{type:"object"},maxwords:{type:"number"},maxlength:{type:"number"},threshold:{type:"number"}},anyOf:[{required:["maxwords"],errorMessage:'Either "maxlength" or "maxwords" must be provided'},{required:["maxlength"],errorMessage:'Either "maxlength" or "maxwords" must be provided'}]});/**
 * Checkboxes component
 *
 * @preserve
 */class ce extends M{constructor(e){super(e),this.$inputs=void 0;const t=this.$root.querySelectorAll('input[type="checkbox"]');if(!t.length)throw new v({component:ce,identifier:'Form inputs (`<input type="checkbox">`)'});this.$inputs=t,this.$inputs.forEach(i=>{const n=i.getAttribute("data-aria-controls");if(n){if(!document.getElementById(n))throw new v({component:ce,identifier:`Conditional reveal (\`id="${n}"\`)`});i.setAttribute("aria-controls",n),i.removeAttribute("data-aria-controls")}}),window.addEventListener("pageshow",()=>this.syncAllConditionalReveals()),this.syncAllConditionalReveals(),this.$root.addEventListener("click",i=>this.handleClick(i))}syncAllConditionalReveals(){this.$inputs.forEach(e=>this.syncConditionalRevealWithInputState(e))}syncConditionalRevealWithInputState(e){const t=e.getAttribute("aria-controls");if(!t)return;const i=document.getElementById(t);if(i!=null&&i.classList.contains("govuk-checkboxes__conditional")){const n=e.checked;e.setAttribute("aria-expanded",n.toString()),i.classList.toggle("govuk-checkboxes__conditional--hidden",!n)}}unCheckAllInputsExcept(e){document.querySelectorAll(`input[type="checkbox"][name="${e.name}"]`).forEach(i=>{e.form===i.form&&i!==e&&(i.checked=!1,this.syncConditionalRevealWithInputState(i))})}unCheckExclusiveInputs(e){document.querySelectorAll(`input[data-behaviour="exclusive"][type="checkbox"][name="${e.name}"]`).forEach(i=>{e.form===i.form&&(i.checked=!1,this.syncConditionalRevealWithInputState(i))})}handleClick(e){const t=e.target;if(!(t instanceof HTMLInputElement)||t.type!=="checkbox"||(t.getAttribute("aria-controls")&&this.syncConditionalRevealWithInputState(t),!t.checked))return;t.getAttribute("data-behaviour")==="exclusive"?this.unCheckAllInputsExcept(t):this.unCheckExclusiveInputs(t)}}ce.moduleName="govuk-checkboxes";/**
 * Error summary component
 *
 * Takes focus on initialisation for accessible announcement, unless disabled in
 * configuration.
 *
 * @preserve
 * @augments ConfigurableComponent<ErrorSummaryConfig>
 */class ye extends ${constructor(e,t={}){super(e,t),this.config.disableAutoFocus||Ve(this.$root),this.$root.addEventListener("click",i=>this.handleClick(i))}handleClick(e){const t=e.target;t&&this.focusTarget(t)&&e.preventDefault()}focusTarget(e){if(!(e instanceof HTMLAnchorElement))return!1;const t=e.hash.replace("#","");if(!t)return!1;const i=document.getElementById(t);if(!i)return!1;const n=this.getAssociatedLegendOrLabel(i);return n?(n.scrollIntoView(),i.focus({preventScroll:!0}),!0):!1}getAssociatedLegendOrLabel(e){var t;const i=e.closest("fieldset");if(i){const n=i.getElementsByTagName("legend");if(n.length){const o=n[0];if(e instanceof HTMLInputElement&&(e.type==="checkbox"||e.type==="radio"))return o;const r=o.getBoundingClientRect().top,a=e.getBoundingClientRect();if(a.height&&window.innerHeight&&a.top+a.height-r<window.innerHeight/2)return o}}return(t=document.querySelector(`label[for='${e.getAttribute("id")}']`))!=null?t:e.closest("label")}}ye.moduleName="govuk-error-summary";ye.defaults=Object.freeze({disableAutoFocus:!1});ye.schema=Object.freeze({properties:{disableAutoFocus:{type:"boolean"}}});/**
 * Exit this page component
 *
 * @preserve
 * @augments ConfigurableComponent<ExitThisPageConfig>
 */class ie extends ${constructor(e,t={}){super(e,t),this.i18n=void 0,this.$button=void 0,this.$skiplinkButton=null,this.$updateSpan=null,this.$indicatorContainer=null,this.$overlay=null,this.keypressCounter=0,this.lastKeyWasModified=!1,this.timeoutTime=5e3,this.keypressTimeoutId=null,this.timeoutMessageId=null;const i=this.$root.querySelector(".govuk-exit-this-page__button");if(!(i instanceof HTMLAnchorElement))throw new v({component:ie,element:i,expectedType:"HTMLAnchorElement",identifier:"Button (`.govuk-exit-this-page__button`)"});this.i18n=new ue(this.config.i18n),this.$button=i;const n=document.querySelector(".govuk-js-exit-this-page-skiplink");n instanceof HTMLAnchorElement&&(this.$skiplinkButton=n),this.buildIndicator(),this.initUpdateSpan(),this.initButtonClickHandler(),"govukFrontendExitThisPageKeypress"in document.body.dataset||(document.addEventListener("keyup",this.handleKeypress.bind(this),!0),document.body.dataset.govukFrontendExitThisPageKeypress="true"),window.addEventListener("pageshow",this.resetPage.bind(this))}initUpdateSpan(){this.$updateSpan=document.createElement("span"),this.$updateSpan.setAttribute("role","status"),this.$updateSpan.className="govuk-visually-hidden",this.$root.appendChild(this.$updateSpan)}initButtonClickHandler(){this.$button.addEventListener("click",this.handleClick.bind(this)),this.$skiplinkButton&&this.$skiplinkButton.addEventListener("click",this.handleClick.bind(this))}buildIndicator(){this.$indicatorContainer=document.createElement("div"),this.$indicatorContainer.className="govuk-exit-this-page__indicator",this.$indicatorContainer.setAttribute("aria-hidden","true");for(let e=0;e<3;e++){const t=document.createElement("div");t.className="govuk-exit-this-page__indicator-light",this.$indicatorContainer.appendChild(t)}this.$button.appendChild(this.$indicatorContainer)}updateIndicator(){if(!this.$indicatorContainer)return;this.$indicatorContainer.classList.toggle("govuk-exit-this-page__indicator--visible",this.keypressCounter>0),this.$indicatorContainer.querySelectorAll(".govuk-exit-this-page__indicator-light").forEach((t,i)=>{t.classList.toggle("govuk-exit-this-page__indicator-light--on",i<this.keypressCounter)})}exitPage(){this.$updateSpan&&(this.$updateSpan.textContent="",document.body.classList.add("govuk-exit-this-page-hide-content"),this.$overlay=document.createElement("div"),this.$overlay.className="govuk-exit-this-page-overlay",this.$overlay.setAttribute("role","alert"),document.body.appendChild(this.$overlay),this.$overlay.textContent=this.i18n.t("activated"),window.location.href=this.$button.href)}handleClick(e){e.preventDefault(),this.exitPage()}handleKeypress(e){this.$updateSpan&&(e.key==="Shift"&&!this.lastKeyWasModified?(this.keypressCounter+=1,this.updateIndicator(),this.timeoutMessageId&&(window.clearTimeout(this.timeoutMessageId),this.timeoutMessageId=null),this.keypressCounter>=3?(this.keypressCounter=0,this.keypressTimeoutId&&(window.clearTimeout(this.keypressTimeoutId),this.keypressTimeoutId=null),this.exitPage()):this.keypressCounter===1?this.$updateSpan.textContent=this.i18n.t("pressTwoMoreTimes"):this.$updateSpan.textContent=this.i18n.t("pressOneMoreTime"),this.setKeypressTimer()):this.keypressTimeoutId&&this.resetKeypressTimer(),this.lastKeyWasModified=e.shiftKey)}setKeypressTimer(){this.keypressTimeoutId&&window.clearTimeout(this.keypressTimeoutId),this.keypressTimeoutId=window.setTimeout(this.resetKeypressTimer.bind(this),this.timeoutTime)}resetKeypressTimer(){if(!this.$updateSpan)return;this.keypressTimeoutId&&(window.clearTimeout(this.keypressTimeoutId),this.keypressTimeoutId=null);const e=this.$updateSpan;this.keypressCounter=0,e.textContent=this.i18n.t("timedOut"),this.timeoutMessageId=window.setTimeout(()=>{e.textContent=""},this.timeoutTime),this.updateIndicator()}resetPage(){document.body.classList.remove("govuk-exit-this-page-hide-content"),this.$overlay&&(this.$overlay.remove(),this.$overlay=null),this.$updateSpan&&(this.$updateSpan.setAttribute("role","status"),this.$updateSpan.textContent=""),this.updateIndicator(),this.keypressTimeoutId&&window.clearTimeout(this.keypressTimeoutId),this.timeoutMessageId&&window.clearTimeout(this.timeoutMessageId)}}ie.moduleName="govuk-exit-this-page";ie.defaults=Object.freeze({i18n:{activated:"Loading.",timedOut:"Exit this page expired.",pressTwoMoreTimes:"Shift, press 2 more times to exit.",pressOneMoreTime:"Shift, press 1 more time to exit."}});ie.schema=Object.freeze({properties:{i18n:{type:"object"}}});/**
 * File upload component
 *
 * @preserve
 * @augments ConfigurableComponent<FileUploadConfig>
 */class P extends ${constructor(e,t={}){super(e,t),this.$input=void 0,this.$button=void 0,this.$status=void 0,this.i18n=void 0,this.id=void 0,this.$announcements=void 0,this.enteredAnotherElement=void 0;const i=this.$root.querySelector("input");if(i===null)throw new v({component:P,identifier:'File inputs (`<input type="file">`)'});if(i.type!=="file")throw new v(te(P,'File input (`<input type="file">`) attribute (`type`) is not `file`'));if(this.$input=i,!this.$input.id)throw new v({component:P,identifier:'File input (`<input type="file">`) attribute (`id`)'});this.id=this.$input.id,this.i18n=new ue(this.config.i18n,{locale:Ge(this.$root,"lang")});const n=this.findLabel();n.id||(n.id=`${this.id}-label`),this.$input.id=`${this.id}-input`,this.$input.setAttribute("hidden","true");const o=document.createElement("button");o.classList.add("govuk-file-upload-button"),o.type="button",o.id=this.id,o.classList.add("govuk-file-upload-button--empty");const r=this.$input.getAttribute("aria-describedby");r&&o.setAttribute("aria-describedby",r);const a=document.createElement("span");a.className="govuk-body govuk-file-upload-button__status",a.setAttribute("aria-live","polite"),a.innerText=this.i18n.t("noFileChosen"),o.appendChild(a);const l=document.createElement("span");l.className="govuk-visually-hidden",l.innerText=", ",l.id=`${this.id}-comma`,o.appendChild(l);const h=document.createElement("span");h.className="govuk-file-upload-button__pseudo-button-container";const c=document.createElement("span");c.className="govuk-button govuk-button--secondary govuk-file-upload-button__pseudo-button",c.innerText=this.i18n.t("chooseFilesButton"),h.appendChild(c),h.insertAdjacentText("beforeend"," ");const u=document.createElement("span");u.className="govuk-body govuk-file-upload-button__instruction",u.innerText=this.i18n.t("dropInstruction"),h.appendChild(u),o.appendChild(h),o.setAttribute("aria-labelledby",`${n.id} ${l.id} ${o.id}`),o.addEventListener("click",this.onClick.bind(this)),o.addEventListener("dragover",f=>{f.preventDefault()}),this.$root.insertAdjacentElement("afterbegin",o),this.$input.setAttribute("tabindex","-1"),this.$input.setAttribute("aria-hidden","true"),this.$button=o,this.$status=a,this.$input.addEventListener("change",this.onChange.bind(this)),this.updateDisabledState(),this.observeDisabledState(),this.$announcements=document.createElement("span"),this.$announcements.classList.add("govuk-file-upload-announcements"),this.$announcements.classList.add("govuk-visually-hidden"),this.$announcements.setAttribute("aria-live","assertive"),this.$root.insertAdjacentElement("afterend",this.$announcements),this.$button.addEventListener("drop",this.onDrop.bind(this)),document.addEventListener("dragenter",this.updateDropzoneVisibility.bind(this)),document.addEventListener("dragenter",()=>{this.enteredAnotherElement=!0}),document.addEventListener("dragleave",()=>{!this.enteredAnotherElement&&!this.$button.disabled&&(this.hideDraggingState(),this.$announcements.innerText=this.i18n.t("leftDropZone")),this.enteredAnotherElement=!1})}updateDropzoneVisibility(e){this.$button.disabled||e.target instanceof Node&&(this.$root.contains(e.target)?e.dataTransfer&&this.canDrop(e.dataTransfer)&&(this.$button.classList.contains("govuk-file-upload-button--dragging")||(this.showDraggingState(),this.$announcements.innerText=this.i18n.t("enteredDropZone"))):this.$button.classList.contains("govuk-file-upload-button--dragging")&&(this.hideDraggingState(),this.$announcements.innerText=this.i18n.t("leftDropZone")))}showDraggingState(){this.$button.classList.add("govuk-file-upload-button--dragging")}hideDraggingState(){this.$button.classList.remove("govuk-file-upload-button--dragging")}onDrop(e){e.preventDefault(),e.dataTransfer&&this.canFillInput(e.dataTransfer)&&(this.$input.files=e.dataTransfer.files,this.$input.dispatchEvent(new CustomEvent("change")),this.hideDraggingState())}canFillInput(e){return this.matchesInputCapacity(e.files.length)}canDrop(e){return e.items.length?this.matchesInputCapacity(Yt(e.items)):e.types.length?e.types.includes("Files"):!0}matchesInputCapacity(e){return this.$input.multiple?e>0:e===1}onChange(){const e=this.$input.files.length;e===0?(this.$status.innerText=this.i18n.t("noFileChosen"),this.$button.classList.add("govuk-file-upload-button--empty")):(e===1?this.$status.innerText=this.$input.files[0].name:this.$status.innerText=this.i18n.t("multipleFilesChosen",{count:e}),this.$button.classList.remove("govuk-file-upload-button--empty"))}findLabel(){const e=document.querySelector(`label[for="${this.$input.id}"]`);if(!e)throw new v({component:P,identifier:`Field label (\`<label for=${this.$input.id}>\`)`});return e}onClick(){this.$input.click()}observeDisabledState(){new MutationObserver(t=>{for(const i of t)i.type==="attributes"&&i.attributeName==="disabled"&&this.updateDisabledState()}).observe(this.$input,{attributes:!0})}updateDisabledState(){this.$button.disabled=this.$input.disabled,this.$root.classList.toggle("govuk-drop-zone--disabled",this.$button.disabled)}}P.moduleName="govuk-file-upload";P.defaults=Object.freeze({i18n:{chooseFilesButton:"Choose file",dropInstruction:"or drop file",noFileChosen:"No file chosen",multipleFilesChosen:{one:"%{count} file chosen",other:"%{count} files chosen"},enteredDropZone:"Entered drop zone",leftDropZone:"Left drop zone"}});P.schema=Object.freeze({properties:{i18n:{type:"object"}}});function Yt(s){let e=0;for(let t=0;t<s.length;t++)s[t].kind==="file"&&e++;return e}/**
 * Header component
 *
 * @preserve
 */class X extends M{constructor(e){super(e),this.$menuButton=void 0,this.$menu=void 0,this.menuIsOpen=!1,this.mql=null;const t=this.$root.querySelector(".govuk-js-header-toggle");if(!t)return this;this.$root.classList.add("govuk-header--with-js-navigation");const i=t.getAttribute("aria-controls");if(!i)throw new v({component:X,identifier:'Navigation button (`<button class="govuk-js-header-toggle">`) attribute (`aria-controls`)'});const n=document.getElementById(i);if(!n)throw new v({component:X,element:n,identifier:`Navigation (\`<ul id="${i}">\`)`});this.$menu=n,this.$menuButton=t,this.setupResponsiveChecks(),this.$menuButton.addEventListener("click",()=>this.handleMenuButtonClick())}setupResponsiveChecks(){const e=Ke("desktop");if(!e.value)throw new v({component:X,identifier:`CSS custom property (\`${e.property}\`) on pseudo-class \`:root\``});this.mql=window.matchMedia(`(min-width: ${e.value})`),"addEventListener"in this.mql?this.mql.addEventListener("change",()=>this.checkMode()):this.mql.addListener(()=>this.checkMode()),this.checkMode()}checkMode(){!this.mql||!this.$menu||!this.$menuButton||(this.mql.matches?(this.$menu.removeAttribute("hidden"),this.$menuButton.setAttribute("hidden","")):(this.$menuButton.removeAttribute("hidden"),this.$menuButton.setAttribute("aria-expanded",this.menuIsOpen.toString()),this.menuIsOpen?this.$menu.removeAttribute("hidden"):this.$menu.setAttribute("hidden","")))}handleMenuButtonClick(){this.menuIsOpen=!this.menuIsOpen,this.checkMode()}}X.moduleName="govuk-header";/**
 * Notification Banner component
 *
 * @preserve
 * @augments ConfigurableComponent<NotificationBannerConfig>
 */class _e extends ${constructor(e,t={}){super(e,t),this.$root.getAttribute("role")==="alert"&&!this.config.disableAutoFocus&&Ve(this.$root)}}_e.moduleName="govuk-notification-banner";_e.defaults=Object.freeze({disableAutoFocus:!1});_e.schema=Object.freeze({properties:{disableAutoFocus:{type:"boolean"}}});/**
 * Password input component
 *
 * @preserve
 * @augments ConfigurableComponent<PasswordInputConfig>
 */class Z extends ${constructor(e,t={}){super(e,t),this.i18n=void 0,this.$input=void 0,this.$showHideButton=void 0,this.$screenReaderStatusMessage=void 0;const i=this.$root.querySelector(".govuk-js-password-input-input");if(!(i instanceof HTMLInputElement))throw new v({component:Z,element:i,expectedType:"HTMLInputElement",identifier:"Form field (`.govuk-js-password-input-input`)"});if(i.type!=="password")throw new v("Password input: Form field (`.govuk-js-password-input-input`) must be of type `password`.");const n=this.$root.querySelector(".govuk-js-password-input-toggle");if(!(n instanceof HTMLButtonElement))throw new v({component:Z,element:n,expectedType:"HTMLButtonElement",identifier:"Button (`.govuk-js-password-input-toggle`)"});if(n.type!=="button")throw new v("Password input: Button (`.govuk-js-password-input-toggle`) must be of type `button`.");this.$input=i,this.$showHideButton=n,this.i18n=new ue(this.config.i18n,{locale:Ge(this.$root,"lang")}),this.$showHideButton.removeAttribute("hidden");const o=document.createElement("div");o.className="govuk-password-input__sr-status govuk-visually-hidden",o.setAttribute("aria-live","polite"),this.$screenReaderStatusMessage=o,this.$input.insertAdjacentElement("afterend",o),this.$showHideButton.addEventListener("click",this.toggle.bind(this)),this.$input.form&&this.$input.form.addEventListener("submit",()=>this.hide()),window.addEventListener("pageshow",r=>{r.persisted&&this.$input.type!=="password"&&this.hide()}),this.hide()}toggle(e){if(e.preventDefault(),this.$input.type==="password"){this.show();return}this.hide()}show(){this.setType("text")}hide(){this.setType("password")}setType(e){if(e===this.$input.type)return;this.$input.setAttribute("type",e);const t=e==="password",i=t?"show":"hide",n=t?"passwordHidden":"passwordShown";this.$showHideButton.innerText=this.i18n.t(`${i}Password`),this.$showHideButton.setAttribute("aria-label",this.i18n.t(`${i}PasswordAriaLabel`)),this.$screenReaderStatusMessage.innerText=this.i18n.t(`${n}Announcement`)}}Z.moduleName="govuk-password-input";Z.defaults=Object.freeze({i18n:{showPassword:"Show",hidePassword:"Hide",showPasswordAriaLabel:"Show password",hidePasswordAriaLabel:"Hide password",passwordShownAnnouncement:"Your password is visible",passwordHiddenAnnouncement:"Your password is hidden"}});Z.schema=Object.freeze({properties:{i18n:{type:"object"}}});/**
 * Radios component
 *
 * @preserve
 */class he extends M{constructor(e){super(e),this.$inputs=void 0;const t=this.$root.querySelectorAll('input[type="radio"]');if(!t.length)throw new v({component:he,identifier:'Form inputs (`<input type="radio">`)'});this.$inputs=t,this.$inputs.forEach(i=>{const n=i.getAttribute("data-aria-controls");if(n){if(!document.getElementById(n))throw new v({component:he,identifier:`Conditional reveal (\`id="${n}"\`)`});i.setAttribute("aria-controls",n),i.removeAttribute("data-aria-controls")}}),window.addEventListener("pageshow",()=>this.syncAllConditionalReveals()),this.syncAllConditionalReveals(),this.$root.addEventListener("click",i=>this.handleClick(i))}syncAllConditionalReveals(){this.$inputs.forEach(e=>this.syncConditionalRevealWithInputState(e))}syncConditionalRevealWithInputState(e){const t=e.getAttribute("aria-controls");if(!t)return;const i=document.getElementById(t);if(i!=null&&i.classList.contains("govuk-radios__conditional")){const n=e.checked;e.setAttribute("aria-expanded",n.toString()),i.classList.toggle("govuk-radios__conditional--hidden",!n)}}handleClick(e){const t=e.target;if(!(t instanceof HTMLInputElement)||t.type!=="radio")return;const i=document.querySelectorAll('input[type="radio"][aria-controls]'),n=t.form,o=t.name;i.forEach(r=>{const a=r.form===n;r.name===o&&a&&this.syncConditionalRevealWithInputState(r)})}}he.moduleName="govuk-radios";/**
 * Service Navigation component
 *
 * @preserve
 */class ee extends M{constructor(e){super(e),this.$menuButton=void 0,this.$menu=void 0,this.menuIsOpen=!1,this.mql=null;const t=this.$root.querySelector(".govuk-js-service-navigation-toggle");if(!t)return this;const i=t.getAttribute("aria-controls");if(!i)throw new v({component:ee,identifier:'Navigation button (`<button class="govuk-js-service-navigation-toggle">`) attribute (`aria-controls`)'});const n=document.getElementById(i);if(!n)throw new v({component:ee,element:n,identifier:`Navigation (\`<ul id="${i}">\`)`});this.$menu=n,this.$menuButton=t,this.setupResponsiveChecks(),this.$menuButton.addEventListener("click",()=>this.handleMenuButtonClick())}setupResponsiveChecks(){const e=Ke("tablet");if(!e.value)throw new v({component:ee,identifier:`CSS custom property (\`${e.property}\`) on pseudo-class \`:root\``});this.mql=window.matchMedia(`(min-width: ${e.value})`),"addEventListener"in this.mql?this.mql.addEventListener("change",()=>this.checkMode()):this.mql.addListener(()=>this.checkMode()),this.checkMode()}checkMode(){!this.mql||!this.$menu||!this.$menuButton||(this.mql.matches?(this.$menu.removeAttribute("hidden"),this.$menuButton.setAttribute("hidden","")):(this.$menuButton.removeAttribute("hidden"),this.$menuButton.setAttribute("aria-expanded",this.menuIsOpen.toString()),this.menuIsOpen?this.$menu.removeAttribute("hidden"):this.$menu.setAttribute("hidden","")))}handleMenuButtonClick(){this.menuIsOpen=!this.menuIsOpen,this.checkMode()}}ee.moduleName="govuk-service-navigation";/**
 * Skip link component
 *
 * @preserve
 * @augments Component<HTMLAnchorElement>
 */class de extends M{constructor(e){var t;super(e);const i=this.$root.hash,n=(t=this.$root.getAttribute("href"))!=null?t:"";if(this.$root.origin!==window.location.origin||this.$root.pathname!==window.location.pathname)return;const o=i.replace("#","");if(!o)throw new v(`Skip link: Target link (\`href="${n}"\`) has no hash fragment`);const r=document.getElementById(o);if(!r)throw new v({component:de,element:r,identifier:`Target content (\`id="${o}"\`)`});this.$root.addEventListener("click",()=>Ve(r,{onBeforeFocus(){r.classList.add("govuk-skip-link-focused-element")},onBlur(){r.classList.remove("govuk-skip-link-focused-element")}}))}}de.elementType=HTMLAnchorElement;de.moduleName="govuk-skip-link";/**
 * Tabs component
 *
 * @preserve
 */class G extends M{constructor(e){super(e),this.$tabs=void 0,this.$tabList=void 0,this.$tabListItems=void 0,this.jsHiddenClass="govuk-tabs__panel--hidden",this.changingHash=!1,this.boundTabClick=void 0,this.boundTabKeydown=void 0,this.boundOnHashChange=void 0,this.mql=null;const t=this.$root.querySelectorAll("a.govuk-tabs__tab");if(!t.length)throw new v({component:G,identifier:'Links (`<a class="govuk-tabs__tab">`)'});this.$tabs=t,this.boundTabClick=this.onTabClick.bind(this),this.boundTabKeydown=this.onTabKeydown.bind(this),this.boundOnHashChange=this.onHashChange.bind(this);const i=this.$root.querySelector(".govuk-tabs__list"),n=this.$root.querySelectorAll("li.govuk-tabs__list-item");if(!i)throw new v({component:G,identifier:'List (`<ul class="govuk-tabs__list">`)'});if(!n.length)throw new v({component:G,identifier:'List items (`<li class="govuk-tabs__list-item">`)'});this.$tabList=i,this.$tabListItems=n,this.setupResponsiveChecks()}setupResponsiveChecks(){const e=Ke("tablet");if(!e.value)throw new v({component:G,identifier:`CSS custom property (\`${e.property}\`) on pseudo-class \`:root\``});this.mql=window.matchMedia(`(min-width: ${e.value})`),"addEventListener"in this.mql?this.mql.addEventListener("change",()=>this.checkMode()):this.mql.addListener(()=>this.checkMode()),this.checkMode()}checkMode(){var e;(e=this.mql)!=null&&e.matches?this.setup():this.teardown()}setup(){var e;this.$tabList.setAttribute("role","tablist"),this.$tabListItems.forEach(i=>{i.setAttribute("role","presentation")}),this.$tabs.forEach(i=>{this.setAttributes(i),i.addEventListener("click",this.boundTabClick,!0),i.addEventListener("keydown",this.boundTabKeydown,!0),this.hideTab(i)});const t=(e=this.getTab(window.location.hash))!=null?e:this.$tabs[0];this.showTab(t),window.addEventListener("hashchange",this.boundOnHashChange,!0)}teardown(){this.$tabList.removeAttribute("role"),this.$tabListItems.forEach(e=>{e.removeAttribute("role")}),this.$tabs.forEach(e=>{e.removeEventListener("click",this.boundTabClick,!0),e.removeEventListener("keydown",this.boundTabKeydown,!0),this.unsetAttributes(e)}),window.removeEventListener("hashchange",this.boundOnHashChange,!0)}onHashChange(){const e=window.location.hash,t=this.getTab(e);if(!t)return;if(this.changingHash){this.changingHash=!1;return}const i=this.getCurrentTab();i&&(this.hideTab(i),this.showTab(t),t.focus())}hideTab(e){this.unhighlightTab(e),this.hidePanel(e)}showTab(e){this.highlightTab(e),this.showPanel(e)}getTab(e){return this.$root.querySelector(`a.govuk-tabs__tab[href="${e}"]`)}setAttributes(e){const t=e.hash.replace("#","");if(!t)return;e.setAttribute("id",`tab_${t}`),e.setAttribute("role","tab"),e.setAttribute("aria-controls",t),e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1");const i=this.getPanel(e);i&&(i.setAttribute("role","tabpanel"),i.setAttribute("aria-labelledby",e.id),i.classList.add(this.jsHiddenClass))}unsetAttributes(e){e.removeAttribute("id"),e.removeAttribute("role"),e.removeAttribute("aria-controls"),e.removeAttribute("aria-selected"),e.removeAttribute("tabindex");const t=this.getPanel(e);t&&(t.removeAttribute("role"),t.removeAttribute("aria-labelledby"),t.classList.remove(this.jsHiddenClass))}onTabClick(e){const t=this.getCurrentTab(),i=e.currentTarget;!t||!(i instanceof HTMLAnchorElement)||(e.preventDefault(),this.hideTab(t),this.showTab(i),this.createHistoryEntry(i))}createHistoryEntry(e){const t=this.getPanel(e);if(!t)return;const i=t.id;t.id="",this.changingHash=!0,window.location.hash=i,t.id=i}onTabKeydown(e){switch(e.key){case"ArrowLeft":case"Left":this.activatePreviousTab(),e.preventDefault();break;case"ArrowRight":case"Right":this.activateNextTab(),e.preventDefault();break}}activateNextTab(){const e=this.getCurrentTab();if(!(e!=null&&e.parentElement))return;const t=e.parentElement.nextElementSibling;if(!t)return;const i=t.querySelector("a.govuk-tabs__tab");i&&(this.hideTab(e),this.showTab(i),i.focus(),this.createHistoryEntry(i))}activatePreviousTab(){const e=this.getCurrentTab();if(!(e!=null&&e.parentElement))return;const t=e.parentElement.previousElementSibling;if(!t)return;const i=t.querySelector("a.govuk-tabs__tab");i&&(this.hideTab(e),this.showTab(i),i.focus(),this.createHistoryEntry(i))}getPanel(e){const t=e.hash.replace("#","");return t?this.$root.querySelector(`#${t}`):null}showPanel(e){const t=this.getPanel(e);t&&t.classList.remove(this.jsHiddenClass)}hidePanel(e){const t=this.getPanel(e);t&&t.classList.add(this.jsHiddenClass)}unhighlightTab(e){e.parentElement&&(e.setAttribute("aria-selected","false"),e.parentElement.classList.remove("govuk-tabs__list-item--selected"),e.setAttribute("tabindex","-1"))}highlightTab(e){e.parentElement&&(e.setAttribute("aria-selected","true"),e.parentElement.classList.add("govuk-tabs__list-item--selected"),e.setAttribute("tabindex","0"))}getCurrentTab(){return this.$root.querySelector(".govuk-tabs__list-item--selected a.govuk-tabs__tab")}}G.moduleName="govuk-tabs";function Gt(s={}){const e=D(s)?s:{},t=_t(s);try{if(!We())throw new Ue;if(t.scope===null)throw new v({element:t.scope,identifier:"GOV.UK Frontend scope element (`$scope`)"})}catch(n){t.onError?t.onError(n,{config:e}):console.log(n);return}[[B,e.accordion],[ve,e.button],[F,e.characterCount],[ce],[ye,e.errorSummary],[ie,e.exitThisPage],[P,e.fileUpload],[X],[_e,e.notificationBanner],[Z,e.passwordInput],[he],[ee],[de],[G]].forEach(([n,o])=>{wt(n,o,t)})}function wt(s,e,t){let i;const n=_t(t);try{var o;if(!We())throw new Ue;if(n.scope===null)throw new v({element:n.scope,component:s,identifier:"Scope element (`$scope`)"});i=(o=n.scope)==null?void 0:o.querySelectorAll(`[data-module="${s.moduleName}"]`)}catch(r){return n.onError?n.onError(r,{component:s,config:e}):console.log(r),[]}return Array.from(i??[]).map(r=>{try{return typeof e<"u"?new s(r,e):new s(r)}catch(a){return n.onError?n.onError(a,{element:r,component:s,config:e}):console.log(a),null}}).filter(Boolean)}class Ct extends M{constructor(e){super(e),this.$root.addEventListener("click",this.onRemoveButtonClick.bind(this)),this.$root.addEventListener("click",this.onAddButtonClick.bind(this)),this.$root.querySelectorAll(".moj-add-another__add-button, moj-add-another__remove-button").forEach(i=>{i instanceof HTMLButtonElement&&(i.type="button")})}onAddButtonClick(e){const t=e.target;if(!t||!(t instanceof HTMLButtonElement)||!t.classList.contains("moj-add-another__add-button"))return;const i=this.getItems(),n=this.getNewItem();if(!n||!(n instanceof HTMLElement))return;this.updateAttributes(n,i.length),this.resetItem(n);const o=i[0];this.hasRemoveButton(o)||this.createRemoveButton(o),i[i.length-1].after(n);const r=n.querySelector("input, textarea, select");r&&r instanceof HTMLInputElement&&r.focus()}hasRemoveButton(e){return e.querySelectorAll(".moj-add-another__remove-button").length}getItems(){return this.$root?Array.from(this.$root.querySelectorAll(".moj-add-another__item")).filter(t=>t instanceof HTMLElement):[]}getNewItem(){const t=this.getItems()[0].cloneNode(!0);if(!(!t||!(t instanceof HTMLElement)))return this.hasRemoveButton(t)||this.createRemoveButton(t),t}updateAttributes(e,t){e.querySelectorAll("[data-name]").forEach(i=>{if(!this.isValidInputElement(i))return;const n=i.getAttribute("data-name")||"",o=i.getAttribute("data-id")||"",r=i.id;i.name=n.replace(/%index%/,`${t}`),i.id=o.replace(/%index%/,`${t}`);const a=i.parentElement.querySelector("label")||i.closest("label")||e.querySelector(`[for="${r}"]`);a&&a instanceof HTMLLabelElement&&(a.htmlFor=i.id)})}createRemoveButton(e){const t=document.createElement("button");t.type="button",t.classList.add("govuk-button","govuk-button--secondary","moj-add-another__remove-button"),t.textContent="Remove",e.append(t)}resetItem(e){e.querySelectorAll("[data-name], [data-id]").forEach(t=>{if(this.isValidInputElement(t))if(t instanceof HTMLSelectElement)t.selectedIndex=-1,t.value="";else if(t instanceof HTMLTextAreaElement)t.value="";else switch(t.type){case"checkbox":case"radio":t.checked=!1;break;default:t.value=""}})}onRemoveButtonClick(e){const t=e.target;if(!t||!(t instanceof HTMLButtonElement)||!t.classList.contains("moj-add-another__remove-button"))return;t.closest(".moj-add-another__item").remove();const i=this.getItems();i.length===1&&i[0].querySelector(".moj-add-another__remove-button").remove(),i.forEach((n,o)=>{this.updateAttributes(n,o)}),this.focusHeading()}focusHeading(){const e=this.$root.querySelector(".moj-add-another__heading");e&&e instanceof HTMLElement&&e.focus()}isValidInputElement(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement}}Ct.moduleName="moj-add-another";function tt(s,e={}){var t;const i=s.getAttribute("tabindex");i||s.setAttribute("tabindex","-1");function n(){s.addEventListener("blur",o,{once:!0})}function o(){var r;(r=e.onBlur)==null||r.call(s),i||s.removeAttribute("tabindex")}s.addEventListener("focus",n,{once:!0}),(t=e.onBeforeFocus)==null||t.call(s),s.focus()}function zt(s,e){if(!s||!(s instanceof HTMLElement))return;let t=s.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}}function Zt(s,e){if(!s||!(s instanceof HTMLElement)||!e)return;let t=s;for(;t;){if(t.matches(e))return t;let i=t.previousElementSibling;for(;i;){if(i.matches(e))return i;i=i.previousElementSibling}t=t.parentElement}}class Ee extends ${constructor(e,t={}){super(e,t),this.$root.getAttribute("role")==="alert"&&!this.config.disableAutoFocus&&tt(this.$root),this.$dismissButton=this.$root.querySelector(".moj-alert__dismiss"),this.config.dismissible&&this.$dismissButton&&(this.$dismissButton.innerHTML=this.config.dismissText,this.$dismissButton.removeAttribute("hidden"),this.$root.addEventListener("click",i=>{i.target instanceof Node&&this.$dismissButton.contains(i.target)&&this.dimiss()}))}dimiss(){let e;if(this.config.focusOnDismissSelector&&(e=document.querySelector(this.config.focusOnDismissSelector)),!e){const t=this.$root.nextElementSibling;t&&t.matches(".moj-alert")&&(e=t)}e||(e=zt(this.$root,".moj-alert, h1, h2, h3, h4, h5, h6")),e||(e=Zt(this.$root,"h1, h2, h3, h4, h5, h6, main, body")),e instanceof HTMLElement&&tt(e),this.$root.remove()}}Ee.moduleName="moj-alert";Ee.defaults=Object.freeze({dismissible:!1,dismissText:"Dismiss",disableAutoFocus:!1});Ee.schema=Object.freeze({properties:{dismissible:{type:"boolean"},dismissText:{type:"string"},disableAutoFocus:{type:"boolean"},focusOnDismissSelector:{type:"string"}}});class we extends ${constructor(e,t={}){if(super(e,t),this.$root.children.length===1){const i=this.$root.children[0];i.classList.forEach(n=>{n.startsWith("govuk-button-")&&i.classList.remove(n),i.classList.remove("moj-button-menu__item"),i.classList.add("moj-button-menu__single-button")}),this.config.buttonClasses&&i.classList.add(...this.config.buttonClasses.split(" "))}this.$root.children.length>1&&this.initMenu()}initMenu(){this.$menu=this.createMenu(),this.$root.insertAdjacentHTML("afterbegin",this.toggleTemplate()),this.setupMenuItems(),this.$menuToggle=this.$root.querySelector(":scope > button"),this.$items=this.$menu.querySelectorAll("a, button"),this.$menuToggle.addEventListener("click",e=>{this.toggleMenu(e)}),this.$root.addEventListener("keydown",e=>{this.handleKeyDown(e)}),document.addEventListener("click",e=>{e.target instanceof Node&&!this.$root.contains(e.target)&&this.closeMenu(!1)})}createMenu(){const e=document.createElement("ul");for(e.setAttribute("role","list"),e.hidden=!0,e.classList.add("moj-button-menu__wrapper"),this.config.alignMenu==="right"&&e.classList.add("moj-button-menu__wrapper--right"),this.$root.appendChild(e);this.$root.firstChild!==e;)e.appendChild(this.$root.firstChild);return e}setupMenuItems(){Array.from(this.$menu.children).forEach(e=>{const t=document.createElement("li");this.$menu.insertBefore(t,e),t.appendChild(e),e.setAttribute("tabindex","-1"),e.tagName==="BUTTON"&&e.setAttribute("type","button"),e.classList.forEach(i=>{i.startsWith("govuk-button")&&e.classList.remove(i)}),e.addEventListener("click",()=>{setTimeout(()=>{this.closeMenu(!1)},50)})})}toggleTemplate(){return`
    <button type="button" class="govuk-button moj-button-menu__toggle-button ${this.config.buttonClasses||""}" aria-haspopup="true" aria-expanded="false">
      <span>
       ${this.config.buttonText}
       <svg width="11" height="5" viewBox="0 0 11 5"  xmlns="http://www.w3.org/2000/svg">
         <path d="M5.5 0L11 5L0 5L5.5 0Z" fill="currentColor"/>
       </svg>
      </span>
    </button>`}isOpen(){return this.$menuToggle.getAttribute("aria-expanded")==="true"}toggleMenu(e){e.preventDefault();const i=e.detail===0?0:-1;this.isOpen()?this.closeMenu():this.openMenu(i)}openMenu(e=0){this.$menu.hidden=!1,this.$menuToggle.setAttribute("aria-expanded","true"),e!==-1&&this.focusItem(e)}closeMenu(e=!0){this.$menu.hidden=!0,this.$menuToggle.setAttribute("aria-expanded","false"),e&&this.$menuToggle.focus()}focusItem(e){e>=this.$items.length&&(e=0),e<0&&(e=this.$items.length-1);const t=this.$items.item(e);t&&t.focus()}currentFocusIndex(){const e=document.activeElement,t=Array.from(this.$items);return(e instanceof HTMLAnchorElement||e instanceof HTMLButtonElement)&&t.indexOf(e)}handleKeyDown(e){if(e.target===this.$menuToggle)switch(e.key){case"ArrowDown":e.preventDefault(),this.openMenu();break;case"ArrowUp":e.preventDefault(),this.openMenu(this.$items.length-1);break}if(e.target instanceof Node&&this.$menu.contains(e.target)&&this.isOpen())switch(e.key){case"ArrowDown":e.preventDefault(),this.currentFocusIndex()!==-1&&this.focusItem(this.currentFocusIndex()+1);break;case"ArrowUp":e.preventDefault(),this.currentFocusIndex()!==-1&&this.focusItem(this.currentFocusIndex()-1);break;case"Home":e.preventDefault(),this.focusItem(0);break;case"End":e.preventDefault(),this.focusItem(this.$items.length-1);break}e.key==="Escape"&&this.isOpen()&&this.closeMenu(),e.key==="Tab"&&this.isOpen()&&this.closeMenu(!1)}}we.moduleName="moj-button-menu";we.defaults=Object.freeze({buttonText:"Actions",alignMenu:"left",buttonClasses:""});we.schema=Object.freeze({properties:{buttonText:{type:"string"},buttonClasses:{type:"string"},alignMenu:{type:"string"}}});class Ce extends ${constructor(e,t={}){var i;super(e,t);const n=(i=this.config.input.element)!=null?i:this.$root.querySelector(this.config.input.selector);if(!n||!(n instanceof HTMLInputElement))return this;this.$input=n,this.dayLabels=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],this.monthLabels=["January","February","March","April","May","June","July","August","September","October","November","December"],this.currentDate=new Date,this.currentDate.setHours(0,0,0,0),this.calendarDays=[],this.excludedDates=[],this.excludedDays=[],this.buttonClass="moj-datepicker__button",this.selectedDayButtonClass="moj-datepicker__button--selected",this.currentDayButtonClass="moj-datepicker__button--current",this.todayButtonClass="moj-datepicker__button--today",this.setOptions(),this.initControls()}initControls(){this.id=`datepicker-${this.$input.id}`,this.$dialog=this.createDialog(),this.createCalendarHeaders();const e=document.createElement("div"),t=document.createElement("div");e.classList.add("moj-datepicker__wrapper"),t.classList.add("govuk-input__wrapper"),this.$input.parentElement.insertBefore(e,this.$input),e.appendChild(t),t.appendChild(this.$input),t.insertAdjacentHTML("beforeend",this.toggleTemplate()),e.insertAdjacentElement("beforeend",this.$dialog),this.$calendarButton=this.$root.querySelector(".moj-js-datepicker-toggle"),this.$dialogTitle=this.$dialog.querySelector(".moj-js-datepicker-month-year"),this.createCalendar(),this.$prevMonthButton=this.$dialog.querySelector(".moj-js-datepicker-prev-month"),this.$prevYearButton=this.$dialog.querySelector(".moj-js-datepicker-prev-year"),this.$nextMonthButton=this.$dialog.querySelector(".moj-js-datepicker-next-month"),this.$nextYearButton=this.$dialog.querySelector(".moj-js-datepicker-next-year"),this.$cancelButton=this.$dialog.querySelector(".moj-js-datepicker-cancel"),this.$okButton=this.$dialog.querySelector(".moj-js-datepicker-ok"),this.$prevMonthButton.addEventListener("click",n=>this.focusPreviousMonth(n,!1)),this.$prevYearButton.addEventListener("click",n=>this.focusPreviousYear(n,!1)),this.$nextMonthButton.addEventListener("click",n=>this.focusNextMonth(n,!1)),this.$nextYearButton.addEventListener("click",n=>this.focusNextYear(n,!1)),this.$cancelButton.addEventListener("click",n=>{n.preventDefault(),this.closeDialog()}),this.$okButton.addEventListener("click",()=>{this.selectDate(this.currentDate)});const i=this.$dialog.querySelectorAll('button:not([disabled="true"])');this.$firstButtonInDialog=i[0],this.$lastButtonInDialog=i[i.length-1],this.$firstButtonInDialog.addEventListener("keydown",n=>this.firstButtonKeydown(n)),this.$lastButtonInDialog.addEventListener("keydown",n=>this.lastButtonKeydown(n)),this.$calendarButton.addEventListener("click",n=>this.toggleDialog(n)),this.$dialog.addEventListener("keydown",n=>{n.key==="Escape"&&(this.closeDialog(),n.preventDefault(),n.stopPropagation())}),document.body.addEventListener("mouseup",n=>{this.backgroundClick(n)}),this.updateCalendar()}createDialog(){const e=`datepicker-title-${this.$input.id}`,t=document.createElement("div");return t.id=this.id,t.setAttribute("class","moj-datepicker__dialog"),t.setAttribute("role","dialog"),t.setAttribute("aria-modal","true"),t.setAttribute("aria-labelledby",e),t.innerHTML=this.dialogTemplate(e),t.hidden=!0,t}createCalendar(){const e=this.$dialog.querySelector("tbody");let t=0;for(let i=0;i<6;i++){const n=e.insertRow(i);for(let o=0;o<7;o++){const r=document.createElement("td");n.appendChild(r);const a=document.createElement("button");a.setAttribute("type","button"),r.appendChild(a);const l=new Jt(a,t,i,o,this);this.calendarDays.push(l),t++}}}toggleTemplate(){return`<button class="moj-datepicker__toggle moj-js-datepicker-toggle" type="button" aria-haspopup="dialog" aria-controls="${this.id}" aria-expanded="false">
            <span class="govuk-visually-hidden">Choose date</span>
            <svg width="32" height="24" focusable="false" class="moj-datepicker-icon" aria-hidden="true" role="img" viewBox="0 0 22 22">
              <path
                fill="currentColor"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M16.1333 2.93333H5.86668V4.4C5.86668 5.21002 5.21003 5.86667 4.40002 5.86667C3.59 5.86667 2.93335 5.21002 2.93335 4.4V2.93333H2C0.895431 2.93333 0 3.82877 0 4.93334V19.2667C0 20.3712 0.89543 21.2667 2 21.2667H20C21.1046 21.2667 22 20.3712 22 19.2667V4.93333C22 3.82876 21.1046 2.93333 20 2.93333H19.0667V4.4C19.0667 5.21002 18.41 5.86667 17.6 5.86667C16.79 5.86667 16.1333 5.21002 16.1333 4.4V2.93333ZM20.5333 8.06667H1.46665V18.8C1.46665 19.3523 1.91436 19.8 2.46665 19.8H19.5333C20.0856 19.8 20.5333 19.3523 20.5333 18.8V8.06667Z"
              ></path>
              <rect x="3.66669" width="1.46667" height="5.13333" rx="0.733333" fill="currentColor"></rect>
              <rect x="16.8667" width="1.46667" height="5.13333" rx="0.733333" fill="currentColor"></rect>
            </svg>
          </button>`}dialogTemplate(e){return`<div class="moj-datepicker__dialog-header">
            <div class="moj-datepicker__dialog-navbuttons">
              <button type="button" class="moj-datepicker__button moj-js-datepicker-prev-year">
                <span class="govuk-visually-hidden">Previous year</span>
                <svg width="44" height="40" viewBox="0 0 44 40" fill="none" fill="none" focusable="false" aria-hidden="true" role="img">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M23.1643 20L28.9572 14.2071L27.5429 12.7929L20.3358 20L27.5429 27.2071L28.9572 25.7929L23.1643 20Z" fill="currentColor"/>
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M17.1643 20L22.9572 14.2071L21.5429 12.7929L14.3358 20L21.5429 27.2071L22.9572 25.7929L17.1643 20Z" fill="currentColor"/>
                </svg>
              </button>

              <button type="button" class="moj-datepicker__button moj-js-datepicker-prev-month">
                <span class="govuk-visually-hidden">Previous month</span>
                <svg width="44" height="40" viewBox="0 0 44 40" fill="none" focusable="false" aria-hidden="true" role="img">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M20.5729 20L25.7865 14.2071L24.5137 12.7929L18.0273 20L24.5137 27.2071L25.7865 25.7929L20.5729 20Z" fill="currentColor"/>
                </svg>
              </button>
            </div>

            <h2 id="${e}" class="moj-datepicker__dialog-title moj-js-datepicker-month-year" aria-live="polite">June 2020</h2>

            <div class="moj-datepicker__dialog-navbuttons">
              <button type="button" class="moj-datepicker__button moj-js-datepicker-next-month">
                <span class="govuk-visually-hidden">Next month</span>
                <svg width="44" height="40" viewBox="0 0 44 40" fill="none"  focusable="false" aria-hidden="true" role="img">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M23.4271 20L18.2135 14.2071L19.4863 12.7929L25.9727 20L19.4863 27.2071L18.2135 25.7929L23.4271 20Z" fill="currentColor"/>
                </svg>
              </button>

              <button type="button" class="moj-datepicker__button moj-js-datepicker-next-year">
                <span class="govuk-visually-hidden">Next year</span>
                <svg width="44" height="40" viewBox="0 0 44 40" fill="none" fill="none" focusable="false" aria-hidden="true" role="img">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M20.8357 20L15.0428 14.2071L16.4571 12.7929L23.6642 20L16.4571 27.2071L15.0428 25.7929L20.8357 20Z" fill="currentColor"/>
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M26.8357 20L21.0428 14.2071L22.4571 12.7929L29.6642 20L22.4571 27.2071L21.0428 25.7929L26.8357 20Z" fill="currentColor"/>
                </svg>
              </button>
            </div>
          </div>

          <table class="moj-datepicker__calendar moj-js-datepicker-grid" role="application" aria-labelledby="${e}">
            <thead>
              <tr></tr>
            </thead>

            <tbody></tbody>
          </table>

          <div class="govuk-button-group">
            <button type="button" class="govuk-button moj-js-datepicker-ok">Select</button>
            <button type="button" class="govuk-button govuk-button--secondary moj-js-datepicker-cancel">Close</button>
          </div>`}createCalendarHeaders(){this.dayLabels.forEach(e=>{const t=`<th scope="col"><span aria-hidden="true">${e.substring(0,3)}</span><span class="govuk-visually-hidden">${e}</span></th>`;this.$dialog.querySelector("thead > tr").insertAdjacentHTML("beforeend",t)})}leadingZeros(e,t=2){let i=e.toString();for(;i.length<t;)i=`0${i}`;return i}setOptions(){this.setMinAndMaxDatesOnCalendar(),this.setExcludedDates(),this.setExcludedDays(),this.setWeekStartDay()}setMinAndMaxDatesOnCalendar(){this.config.minDate&&(this.minDate=this.formattedDateFromString(this.config.minDate,null),this.minDate&&this.currentDate<this.minDate&&(this.currentDate=this.minDate)),this.config.maxDate&&(this.maxDate=this.formattedDateFromString(this.config.maxDate,null),this.maxDate&&this.currentDate>this.maxDate&&(this.currentDate=this.maxDate))}setExcludedDates(){this.config.excludedDates&&(this.excludedDates=this.config.excludedDates.replace(/\s+/," ").split(" ").map(e=>e.includes("-")?this.parseDateRangeString(e):[this.formattedDateFromString(e)]).reduce((e,t)=>e.concat(t)).filter(e=>e))}parseDateRangeString(e){const t=[],[i,n]=e.split("-").map(o=>this.formattedDateFromString(o,null));if(i&&n){const o=new Date(i.getTime());for(;o<=n;)t.push(new Date(o)),o.setDate(o.getDate()+1)}return t}setExcludedDays(){if(this.config.excludedDays){const e=this.dayLabels.map(t=>t.toLowerCase());this.config.weekStartDay==="monday"&&e.unshift(e.pop()),this.excludedDays=this.config.excludedDays.replace(/\s+/," ").toLowerCase().split(" ").map(t=>e.indexOf(t)).filter(t=>t!==-1)}}setWeekStartDay(){const e=this.config.weekStartDay;e&&e.toLowerCase()==="sunday"?(this.config.weekStartDay="sunday",this.dayLabels.unshift(this.dayLabels.pop())):this.config.weekStartDay="monday"}isExcludedDate(e){if(this.minDate&&this.minDate>e||this.maxDate&&this.maxDate<e)return!0;for(const t of this.excludedDates)if(e.toDateString()===t.toDateString())return!0;return!!this.excludedDays.includes(e.getDay())}formattedDateFromString(e,t=new Date){let i=null;const n=/(\d{1,2})([-/,. ])(\d{1,2})\2(\d{4})/;if(!n.test(e))return t;const o=n.exec(e),r=o[1],a=o[3],l=o[4];return i=new Date(`${l}-${a}-${r}`),i instanceof Date&&Number.isFinite(i.getTime())?i:t}formattedDateFromDate(e){return this.config.leadingZeros?`${this.leadingZeros(e.getDate())}/${this.leadingZeros(e.getMonth()+1)}/${e.getFullYear()}`:`${e.getDate()}/${e.getMonth()+1}/${e.getFullYear()}`}formattedDateHuman(e){return`${this.dayLabels[(e.getDay()+6)%7]} ${e.getDate()} ${this.monthLabels[e.getMonth()]} ${e.getFullYear()}`}backgroundClick(e){this.isOpen()&&e.target instanceof Node&&!this.$dialog.contains(e.target)&&!this.$input.contains(e.target)&&!this.$calendarButton.contains(e.target)&&(e.preventDefault(),this.closeDialog())}firstButtonKeydown(e){e.key==="Tab"&&e.shiftKey&&(this.$lastButtonInDialog.focus(),e.preventDefault())}lastButtonKeydown(e){e.key==="Tab"&&!e.shiftKey&&(this.$firstButtonInDialog.focus(),e.preventDefault())}updateCalendar(){this.$dialogTitle.innerHTML=`${this.monthLabels[this.currentDate.getMonth()]} ${this.currentDate.getFullYear()}`;const e=this.currentDate,t=new Date(e.getFullYear(),e.getMonth(),1);let i;this.config.weekStartDay==="monday"?i=t.getDay()===0?6:t.getDay()-1:i=t.getDay(),t.setDate(t.getDate()-i);const n=new Date(t);for(const o of this.calendarDays){const r=n.getMonth()!==e.getMonth(),a=this.isExcludedDate(n);o.update(n,r,a),n.setDate(n.getDate()+1)}}setCurrentDate(e=!0){const{currentDate:t}=this;if(this.calendarDays.forEach(i=>{i.$button.classList.add("moj-datepicker__button"),i.$button.classList.add("moj-datepicker__calendar-day"),i.$button.setAttribute("tabindex","-1"),i.$button.classList.remove(this.selectedDayButtonClass);const n=i.date;n.setHours(0,0,0,0);const o=new Date;o.setHours(0,0,0,0),n.getTime()===t.getTime()&&e&&(i.$button.setAttribute("tabindex","0"),i.$button.focus(),i.$button.classList.add(this.selectedDayButtonClass)),this.inputDate&&n.getTime()===this.inputDate.getTime()?(i.$button.classList.add(this.currentDayButtonClass),i.$button.setAttribute("aria-current","date")):(i.$button.classList.remove(this.currentDayButtonClass),i.$button.removeAttribute("aria-current")),n.getTime()===o.getTime()?i.$button.classList.add(this.todayButtonClass):i.$button.classList.remove(this.todayButtonClass)}),!e){const i=this.calendarDays.filter(n=>window.getComputedStyle(n.$button).display==="block"&&!n.$button.disabled);i[0].$button.setAttribute("tabindex","0"),this.currentDate=i[0].date}}selectDate(e){if(this.isExcludedDate(e))return;this.$calendarButton.querySelector("span").innerText=`Choose date. Selected date is ${this.formattedDateHuman(e)}`,this.$input.value=this.formattedDateFromDate(e);const t=new Event("change",{bubbles:!0,cancelable:!0});this.$input.dispatchEvent(t),this.closeDialog()}isOpen(){return this.$dialog.classList.contains("moj-datepicker__dialog--open")}toggleDialog(e){e.preventDefault(),this.isOpen()?this.closeDialog():(this.setMinAndMaxDatesOnCalendar(),this.openDialog())}openDialog(){this.$dialog.hidden=!1,this.$dialog.classList.add("moj-datepicker__dialog--open"),this.$calendarButton.setAttribute("aria-expanded","true"),this.$input.offsetWidth>this.$dialog.offsetWidth&&(this.$dialog.style.right="0px"),this.$dialog.style.top=`${this.$input.offsetHeight+3}px`,this.inputDate=this.formattedDateFromString(this.$input.value),this.currentDate=this.inputDate,this.currentDate.setHours(0,0,0,0),this.updateCalendar(),this.setCurrentDate()}closeDialog(){this.$dialog.hidden=!0,this.$dialog.classList.remove("moj-datepicker__dialog--open"),this.$calendarButton.setAttribute("aria-expanded","false"),this.$calendarButton.focus()}goToDate(e,t){const i=this.currentDate;this.currentDate=e,(i.getMonth()!==this.currentDate.getMonth()||i.getFullYear()!==this.currentDate.getFullYear())&&this.updateCalendar(),this.setCurrentDate(t)}focusNextDay(){const e=new Date(this.currentDate);e.setDate(e.getDate()+1),this.goToDate(e)}focusPreviousDay(){const e=new Date(this.currentDate);e.setDate(e.getDate()-1),this.goToDate(e)}focusNextWeek(){const e=new Date(this.currentDate);e.setDate(e.getDate()+7),this.goToDate(e)}focusPreviousWeek(){const e=new Date(this.currentDate);e.setDate(e.getDate()-7),this.goToDate(e)}focusFirstDayOfWeek(){const e=new Date(this.currentDate),t=this.config.weekStartDay==="sunday"?0:1,i=e.getDay(),n=i>=t?i-t:6-i;e.setDate(e.getDate()-n),e.setHours(0,0,0,0),this.goToDate(e)}focusLastDayOfWeek(){const e=new Date(this.currentDate),t=this.config.weekStartDay==="sunday"?6:0,i=e.getDay(),n=i<=t?t-i:7-i;e.setDate(e.getDate()+n),e.setHours(0,0,0,0),this.goToDate(e)}focusNextMonth(e,t=!0){e.preventDefault();const i=new Date(this.currentDate);i.setMonth(i.getMonth()+1,1),this.goToDate(i,t)}focusPreviousMonth(e,t=!0){e.preventDefault();const i=new Date(this.currentDate);i.setMonth(i.getMonth()-1,1),this.goToDate(i,t)}focusNextYear(e,t=!0){e.preventDefault();const i=new Date(this.currentDate);i.setFullYear(i.getFullYear()+1,i.getMonth(),1),this.goToDate(i,t)}focusPreviousYear(e,t=!0){e.preventDefault();const i=new Date(this.currentDate);i.setFullYear(i.getFullYear()-1,i.getMonth(),1),this.goToDate(i,t)}}Ce.moduleName="moj-date-picker";Ce.defaults=Object.freeze({leadingZeros:!1,weekStartDay:"monday",input:{selector:".moj-js-datepicker-input"}});Ce.schema=Object.freeze({properties:{excludedDates:{type:"string"},excludedDays:{type:"string"},leadingZeros:{type:"boolean"},maxDate:{type:"string"},minDate:{type:"string"},weekStartDay:{type:"string"},input:{type:"object"}}});class Jt{constructor(e,t,i,n,o){this.index=t,this.row=i,this.column=n,this.$button=e,this.picker=o,this.date=new Date,this.$button.addEventListener("keydown",this.keyPress.bind(this)),this.$button.addEventListener("click",this.click.bind(this))}update(e,t,i){const n=e.getDate();let o=this.picker.formattedDateHuman(e);i?(this.$button.setAttribute("aria-disabled","true"),o=`Excluded date, ${o}`):this.$button.removeAttribute("aria-disabled"),t?this.$button.style.display="none":this.$button.style.display="block",this.$button.setAttribute("data-testid",this.picker.formattedDateFromDate(e)),this.$button.innerHTML=`<span class="govuk-visually-hidden">${o}</span><span aria-hidden="true">${n}</span>`,this.date=new Date(e)}click(e){this.picker.goToDate(this.date),this.picker.selectDate(this.date),e.stopPropagation(),e.preventDefault()}keyPress(e){let t=!0;switch(e.key){case"ArrowLeft":this.picker.focusPreviousDay();break;case"ArrowRight":this.picker.focusNextDay();break;case"ArrowUp":this.picker.focusPreviousWeek();break;case"ArrowDown":this.picker.focusNextWeek();break;case"Home":this.picker.focusFirstDayOfWeek();break;case"End":this.picker.focusLastDayOfWeek();break;case"PageUp":{e.shiftKey?this.picker.focusPreviousYear(e):this.picker.focusPreviousMonth(e);break}case"PageDown":{e.shiftKey?this.picker.focusNextYear(e):this.picker.focusNextMonth(e);break}default:t=!1;break}t&&(e.preventDefault(),e.stopPropagation())}}class $t extends M{constructor(e){super(e),this.initHeader()}initHeader(){this.$tabOpenClass="probation-common-header__toggle-open";const e=this.$root.querySelector(".probation-common-header__user-menu-toggle"),t=this.$root.querySelector("#probation-common-header-user-menu");if(!e||!t||!(e instanceof HTMLElement)||!(t instanceof HTMLElement))return 0;this.hideFallbackLinks(),e.removeAttribute("hidden"),this.closeTabs([[e,t]]),e.addEventListener("click",i=>{this.toggleMenu(e,t)})}closeTabs(e){e.forEach(([t,i])=>{i&&t&&(i.setAttribute("hidden","hidden"),t.classList.remove(this.$tabOpenClass),t.parentElement.classList.remove("item-open"),t.setAttribute("aria-expanded","false"),t.dataset.textForShow&&t.setAttribute("aria-label",t.dataset.textForShow))})}toggleMenu(e,t){!t.getAttribute("hidden")?this.closeTabs([[e,t]]):t&&e&&(t.removeAttribute("hidden"),e.classList.add(this.$tabOpenClass),e.parentElement.classList.add("item-open"),e.setAttribute("aria-expanded","true"),e.dataset.textForHide&&e.setAttribute("aria-label",e.dataset.textForHide))}hideFallbackLinks(){const e=this.$root.querySelector(".probation-common-header__user-menu-link");e&&e.setAttribute("hidden","hidden")}}$t.moduleName="pds-header";class $e extends ${constructor(e,t={}){var i,n;super(e,t);const o=(i=this.config.toggleButtonContainer.element)!=null?i:document.querySelector(this.config.toggleButtonContainer.selector),r=(n=this.config.closeButtonContainer.element)!=null?n:this.$root.querySelector(this.config.closeButtonContainer.selector);if(!(o instanceof HTMLElement&&r instanceof HTMLElement))return this;this.$toggleButtonContainer=o,this.$closeButtonContainer=r,this.createToggleButton(),this.setupResponsiveChecks(),this.$root.setAttribute("tabindex","-1"),this.config.startHidden&&this.hideMenu()}setupResponsiveChecks(){this.mq=window.matchMedia(this.config.bigModeMediaQuery),this.mq.addListener(this.checkMode.bind(this)),this.checkMode()}createToggleButton(){this.$menuButton=document.createElement("button"),this.$menuButton.setAttribute("type","button"),this.$menuButton.setAttribute("aria-haspopup","true"),this.$menuButton.setAttribute("aria-expanded","false"),this.$menuButton.className=`govuk-button ${this.config.toggleButton.classes}`,this.$menuButton.textContent=this.config.toggleButton.showText,this.$menuButton.addEventListener("click",this.onMenuButtonClick.bind(this)),this.$toggleButtonContainer.append(this.$menuButton)}checkMode(){this.mq.matches?this.enableBigMode():this.enableSmallMode()}enableBigMode(){this.showMenu(),this.removeCloseButton()}enableSmallMode(){this.hideMenu(),this.addCloseButton()}addCloseButton(){this.$closeButton=document.createElement("button"),this.$closeButton.setAttribute("type","button"),this.$closeButton.className=this.config.closeButton.classes,this.$closeButton.textContent=this.config.closeButton.text,this.$closeButton.addEventListener("click",this.onCloseClick.bind(this)),this.$closeButtonContainer.append(this.$closeButton)}onCloseClick(){this.hideMenu(),this.$menuButton.focus()}removeCloseButton(){this.$closeButton&&(this.$closeButton.remove(),this.$closeButton=null)}hideMenu(){this.$menuButton.setAttribute("aria-expanded","false"),this.$root.classList.add("moj-js-hidden"),this.$menuButton.textContent=this.config.toggleButton.showText}showMenu(){this.$menuButton.setAttribute("aria-expanded","true"),this.$root.classList.remove("moj-js-hidden"),this.$menuButton.textContent=this.config.toggleButton.hideText}onMenuButtonClick(){this.toggle()}toggle(){this.$menuButton.getAttribute("aria-expanded")==="false"?(this.showMenu(),this.$root.focus()):this.hideMenu()}}$e.moduleName="moj-filter";$e.defaults=Object.freeze({bigModeMediaQuery:"(min-width: 48.0625em)",startHidden:!0,toggleButton:{showText:"Show filter",hideText:"Hide filter",classes:"govuk-button--secondary"},toggleButtonContainer:{selector:".moj-action-bar__filter"},closeButton:{text:"Close",classes:"moj-filter__close"},closeButtonContainer:{selector:".moj-filter__header-action"}});$e.schema=Object.freeze({properties:{bigModeMediaQuery:{type:"string"},startHidden:{type:"boolean"},toggleButton:{type:"object"},toggleButtonContainer:{type:"object"},closeButton:{type:"object"},closeButtonContainer:{type:"object"}}});class Se extends ${constructor(e,t={}){var i;super(e,t);const n=this.$root.querySelector(`#${this.config.idPrefix}select-all`),o=(i=this.config.checkboxes.items)!=null?i:this.$root.querySelectorAll(this.config.checkboxes.selector);if(!n||!(n instanceof HTMLElement)||!o.length)return this;this.setupToggle(this.config.idPrefix),this.$toggleButton=this.$toggle.querySelector("input"),this.$toggleButton.addEventListener("click",this.onButtonClick.bind(this)),this.$container=n,this.$container.append(this.$toggle),this.$checkboxes=Array.from(o),this.$checkboxes.forEach(r=>r.addEventListener("click",this.onCheckboxClick.bind(this))),this.checked=t.checked||!1}setupToggle(e=""){const t=`${e}checkboxes-all`,i=document.createElement("div"),n=document.createElement("label"),o=document.createElement("input"),r=document.createElement("span");i.classList.add("govuk-checkboxes__item","govuk-checkboxes--small","moj-multi-select__checkbox"),o.id=t,o.type="checkbox",o.classList.add("govuk-checkboxes__input"),n.setAttribute("for",t),n.classList.add("govuk-label","govuk-checkboxes__label","moj-multi-select__toggle-label"),r.classList.add("govuk-visually-hidden"),r.textContent="Select all",n.append(r),i.append(o,n),this.$toggle=i}onButtonClick(){this.checked?(this.uncheckAll(),this.$toggleButton.checked=!1):(this.checkAll(),this.$toggleButton.checked=!0)}checkAll(){this.$checkboxes.forEach(e=>{e.checked=!0}),this.checked=!0}uncheckAll(){this.$checkboxes.forEach(e=>{e.checked=!1}),this.checked=!1}onCheckboxClick(e){e.target instanceof HTMLInputElement&&(e.target.checked?this.$checkboxes.filter(t=>t.checked).length===this.$checkboxes.length&&(this.$toggleButton.checked=!0,this.checked=!0):(this.$toggleButton.checked=!1,this.checked=!1))}}Se.moduleName="moj-multi-select";Se.defaults=Object.freeze({idPrefix:"",checkboxes:{selector:"tbody input.govuk-checkboxes__input"}});Se.schema=Object.freeze({properties:{idPrefix:{type:"string"},checked:{type:"boolean"},checkboxes:{type:"object"}}});class St extends M{constructor(e){super(e);const t=this.$root.querySelector(".govuk-input");if(!t||!(t instanceof HTMLInputElement))return this;this.$input=t,this.$input.setAttribute("spellcheck","false"),this.createButton()}createButton(){this.$group=document.createElement("div"),this.$button=document.createElement("button"),this.$button.setAttribute("type","button"),this.$root.classList.add("moj-password-reveal"),this.$group.classList.add("moj-password-reveal__wrapper"),this.$button.classList.add("govuk-button","govuk-button--secondary","moj-password-reveal__button"),this.$button.innerHTML='Show <span class="govuk-visually-hidden">password</span>',this.$button.addEventListener("click",this.onButtonClick.bind(this)),this.$group.append(this.$input,this.$button),this.$root.append(this.$group)}onButtonClick(){this.$input.type==="password"?(this.$input.type="text",this.$button.innerHTML='Hide <span class="govuk-visually-hidden">password</span>'):(this.$input.type="password",this.$button.innerHTML='Show <span class="govuk-visually-hidden">password</span>')}}St.moduleName="moj-password-reveal";class se extends ${constructor(e,t={}){if(super(e,t),!se.isSupported())return this;const i=this.$root.querySelector(".govuk-textarea");if(!i||!(i instanceof HTMLTextAreaElement))return this;this.$textarea=i,this.createToolbar(),this.hideDefault(),this.configureToolbar(),this.keys={left:37,right:39,up:38,down:40},this.$content.addEventListener("input",this.onEditorInput.bind(this)),this.$root.querySelector("label").addEventListener("click",this.onLabelClick.bind(this)),this.$toolbar.addEventListener("keydown",this.onToolbarKeydown.bind(this))}onToolbarKeydown(e){let t;switch(e.keyCode){case this.keys.right:case this.keys.down:{if(t=this.$buttons.find(i=>i.getAttribute("tabindex")==="0"),t){const i=t.nextElementSibling;i&&i instanceof HTMLButtonElement&&(i.focus(),t.setAttribute("tabindex","-1"),i.setAttribute("tabindex","0"))}break}case this.keys.left:case this.keys.up:{if(t=this.$buttons.find(i=>i.getAttribute("tabindex")==="0"),t){const i=t.previousElementSibling;i&&i instanceof HTMLButtonElement&&(i.focus(),t.setAttribute("tabindex","-1"),i.setAttribute("tabindex","0"))}break}}}getToolbarHtml(){let e="";return e+='<div class="moj-rich-text-editor__toolbar" role="toolbar">',this.config.toolbar.bold&&(e+='<button class="moj-rich-text-editor__toolbar-button moj-rich-text-editor__toolbar-button--bold" type="button" data-command="bold"><span class="govuk-visually-hidden">Bold</span></button>'),this.config.toolbar.italic&&(e+='<button class="moj-rich-text-editor__toolbar-button moj-rich-text-editor__toolbar-button--italic" type="button" data-command="italic"><span class="govuk-visually-hidden">Italic</span></button>'),this.config.toolbar.underline&&(e+='<button class="moj-rich-text-editor__toolbar-button moj-rich-text-editor__toolbar-button--underline" type="button" data-command="underline"><span class="govuk-visually-hidden">Underline</span></button>'),this.config.toolbar.bullets&&(e+='<button class="moj-rich-text-editor__toolbar-button moj-rich-text-editor__toolbar-button--unordered-list" type="button" data-command="insertUnorderedList"><span class="govuk-visually-hidden">Unordered list</span></button>'),this.config.toolbar.numbers&&(e+='<button class="moj-rich-text-editor__toolbar-button moj-rich-text-editor__toolbar-button--ordered-list" type="button" data-command="insertOrderedList"><span class="govuk-visually-hidden">Ordered list</span></button>'),e+="</div>",e}getEnhancedHtml(){return`${this.getToolbarHtml()}<div class="govuk-textarea moj-rich-text-editor__content" contenteditable="true" spellcheck="false"></div>`}hideDefault(){this.$textarea.classList.add("govuk-visually-hidden"),this.$textarea.setAttribute("aria-hidden","true"),this.$textarea.setAttribute("tabindex","-1")}createToolbar(){this.$toolbar=document.createElement("div"),this.$toolbar.className="moj-rich-text-editor",this.$toolbar.innerHTML=this.getEnhancedHtml(),this.$root.append(this.$toolbar),this.$content=this.$root.querySelector(".moj-rich-text-editor__content"),this.$content.innerHTML=this.$textarea.value}configureToolbar(){this.$buttons=Array.from(this.$root.querySelectorAll(".moj-rich-text-editor__toolbar-button")),this.$buttons.forEach((e,t)=>{e.setAttribute("tabindex",t?"-1":"0"),e.addEventListener("click",this.onButtonClick.bind(this))})}onButtonClick(e){e.currentTarget instanceof HTMLElement&&document.execCommand(e.currentTarget.getAttribute("data-command"),!1,void 0)}getContent(){return this.$content.innerHTML}onEditorInput(){this.updateTextarea()}updateTextarea(){document.execCommand("defaultParagraphSeparator",!1,"p"),this.$textarea.value=this.getContent()}onLabelClick(e){e.preventDefault(),this.$content.focus()}static isSupported(){return"contentEditable"in document.documentElement}}se.moduleName="moj-rich-text-editor";se.defaults=Object.freeze({toolbar:{bold:!1,italic:!1,underline:!1,bullets:!0,numbers:!0}});se.schema=Object.freeze({properties:{toolbar:{type:"object"}}});class ke extends ${constructor(e,t={}){var i,n;super(e,t);const o=(i=this.config.searchContainer.element)!=null?i:this.$root.querySelector(this.config.searchContainer.selector),r=(n=this.config.toggleButtonContainer.element)!=null?n:this.$root.querySelector(this.config.toggleButtonContainer.selector);if(!o||!r||!(o instanceof HTMLElement)||!(r instanceof HTMLElement))return this;this.$searchContainer=o,this.$toggleButtonContainer=r;const a='<svg viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="moj-search-toggle__button__icon"><path d="M7.433,12.5790048 C6.06762625,12.5808611 4.75763941,12.0392925 3.79217348,11.0738265 C2.82670755,10.1083606 2.28513891,8.79837375 2.28699522,7.433 C2.28513891,6.06762625 2.82670755,4.75763941 3.79217348,3.79217348 C4.75763941,2.82670755 6.06762625,2.28513891 7.433,2.28699522 C8.79837375,2.28513891 10.1083606,2.82670755 11.0738265,3.79217348 C12.0392925,4.75763941 12.5808611,6.06762625 12.5790048,7.433 C12.5808611,8.79837375 12.0392925,10.1083606 11.0738265,11.0738265 C10.1083606,12.0392925 8.79837375,12.5808611 7.433,12.5790048 L7.433,12.5790048 Z M14.293,12.579 L13.391,12.579 L13.071,12.269 C14.2300759,10.9245158 14.8671539,9.20813198 14.866,7.433 C14.866,3.32786745 11.5381325,-1.65045755e-15 7.433,-1.65045755e-15 C3.32786745,-1.65045755e-15 -1.65045755e-15,3.32786745 -1.65045755e-15,7.433 C-1.65045755e-15,11.5381325 3.32786745,14.866 7.433,14.866 C9.208604,14.8671159 10.9253982,14.2296624 12.27,13.07 L12.579,13.39 L12.579,14.294 L18.296,20 L20,18.296 L14.294,12.579 L14.293,12.579 Z"></path></svg>';this.$toggleButton=document.createElement("button"),this.$toggleButton.setAttribute("class","moj-search-toggle__button"),this.$toggleButton.setAttribute("type","button"),this.$toggleButton.setAttribute("aria-haspopup","true"),this.$toggleButton.setAttribute("aria-expanded","false"),this.$toggleButton.innerHTML=`${this.config.toggleButton.text} ${a}`,this.$toggleButton.addEventListener("click",this.onToggleButtonClick.bind(this)),this.$toggleButtonContainer.append(this.$toggleButton),document.addEventListener("click",this.onDocumentClick.bind(this)),document.addEventListener("focusin",this.onDocumentClick.bind(this))}showMenu(){this.$toggleButton.setAttribute("aria-expanded","true"),this.$searchContainer.classList.remove("moj-js-hidden"),this.$searchContainer.querySelector("input").focus()}hideMenu(){this.$searchContainer.classList.add("moj-js-hidden"),this.$toggleButton.setAttribute("aria-expanded","false")}onToggleButtonClick(){this.$toggleButton.getAttribute("aria-expanded")==="false"?this.showMenu():this.hideMenu()}onDocumentClick(e){e.target instanceof Node&&!this.$toggleButtonContainer.contains(e.target)&&!this.$searchContainer.contains(e.target)&&this.hideMenu()}}ke.moduleName="moj-search-toggle";ke.defaults=Object.freeze({searchContainer:{selector:".moj-search"},toggleButton:{text:"Search"},toggleButtonContainer:{selector:".moj-search-toggle__toggle"}});ke.schema=Object.freeze({properties:{searchContainer:{type:"object"},toggleButton:{type:"object"},toggleButtonContainer:{type:"object"}}});class Ae extends ${constructor(e,t={}){super(e,t);const i=e==null?void 0:e.querySelector("thead"),n=e==null?void 0:e.querySelector("tbody");if(!i||!n)return this;this.$head=i,this.$body=n,this.$caption=this.$root.querySelector("caption"),this.$upArrow=`<svg width="22" height="22" focusable="false" aria-hidden="true" role="img" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.5625 15.5L11 6.63125L15.4375 15.5H6.5625Z" fill="currentColor"/>
</svg>`,this.$downArrow=`<svg width="22" height="22" focusable="false" aria-hidden="true" role="img" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.4375 7L11 15.8687L6.5625 7L15.4375 7Z" fill="currentColor"/>
</svg>`,this.$upDownArrow=`<svg width="22" height="22" focusable="false" aria-hidden="true" role="img" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8.1875 9.5L10.9609 3.95703L13.7344 9.5H8.1875Z" fill="currentColor"/>
<path d="M13.7344 12.0781L10.9609 17.6211L8.1875 12.0781H13.7344Z" fill="currentColor"/>
</svg>`,this.$headings=this.$head?Array.from(this.$head.querySelectorAll("th")):[],this.createHeadingButtons(),this.updateCaption(),this.updateDirectionIndicators(),this.createStatusBox(),this.initialiseSortedColumn(),this.$head.addEventListener("click",this.onSortButtonClick.bind(this))}createHeadingButtons(){for(const e of this.$headings)e.hasAttribute("aria-sort")&&this.createHeadingButton(e)}createHeadingButton(e){const t=this.$headings.indexOf(e),i=document.createElement("button");i.setAttribute("type","button"),i.setAttribute("data-index",`${t}`),i.textContent=e.textContent,e.textContent="",e.appendChild(i)}createStatusBox(){this.$status=document.createElement("div"),this.$status.setAttribute("aria-atomic","true"),this.$status.setAttribute("aria-live","polite"),this.$status.setAttribute("class","govuk-visually-hidden"),this.$status.setAttribute("role","status"),this.$root.insertAdjacentElement("afterend",this.$status)}initialiseSortedColumn(){var e;const t=this.getTableRowsArray(),i=this.$root.querySelector('th[aria-sort="ascending"], th[aria-sort="descending"]'),n=i==null?void 0:i.querySelector("button"),o=i==null?void 0:i.getAttribute("aria-sort"),r=Number.parseInt((e=n==null?void 0:n.getAttribute("data-index"))!=null?e:"0",10);if(!i||!n||!(o==="ascending"||o==="descending"))return;const a=this.sort(t,r,o);this.addRows(a)}onSortButtonClick(e){var t;const n=e.target.closest("button");if(!n||!(n instanceof HTMLButtonElement)||!n.parentElement)return;const r=n.parentElement.getAttribute("aria-sort"),a=Number.parseInt((t=n==null?void 0:n.getAttribute("data-index"))!=null?t:"0",10),l=r==="none"||r==="descending"?"ascending":"descending",h=this.getTableRowsArray(),c=this.sort(h,a,l);this.addRows(c),this.removeButtonStates(),this.updateButtonState(n,l),this.updateDirectionIndicators()}updateCaption(){if(!this.$caption)return;let e=this.$caption.querySelector(".govuk-visually-hidden");e||(e=document.createElement("span"),e.classList.add("govuk-visually-hidden"),e.textContent=" (column headers with buttons are sortable).",this.$caption.appendChild(e))}updateButtonState(e,t){if(!(t==="ascending"||t==="descending"))return;e.parentElement.setAttribute("aria-sort",t);let i=this.config.statusMessage;i=i.replace(/%heading%/,e.textContent),i=i.replace(/%direction%/,this.config[`${t}Text`]),this.$status.textContent=i}updateDirectionIndicators(){for(const t of this.$headings){const i=t.querySelector("button");if(t.hasAttribute("aria-sort")&&i){var e;const n=t.getAttribute("aria-sort");switch((e=i.querySelector("svg"))==null||e.remove(),n){case"ascending":i.insertAdjacentHTML("beforeend",this.$upArrow);break;case"descending":i.insertAdjacentHTML("beforeend",this.$downArrow);break;default:i.insertAdjacentHTML("beforeend",this.$upDownArrow)}}}}removeButtonStates(){for(const e of this.$headings)e.setAttribute("aria-sort","none")}addRows(e){for(const t of e)this.$body.append(t)}getTableRowsArray(){return Array.from(this.$body.querySelectorAll("tr"))}sort(e,t,i){return e.sort((n,o)=>{const r=n.querySelectorAll("td, th")[t],a=o.querySelectorAll("td, th")[t];if(!r||!a||!(r instanceof HTMLElement)||!(a instanceof HTMLElement))return 0;const l=i==="ascending"?this.getCellValue(r):this.getCellValue(a),h=i==="ascending"?this.getCellValue(a):this.getCellValue(r);return typeof l=="number"&&typeof h=="number"?l-h:l.toString().localeCompare(h.toString())})}getCellValue(e){const t=e.getAttribute("data-sort-value")||e.innerHTML,i=Number(t);return Number.isFinite(i)?i:t}}Ae.moduleName="moj-sortable-table";Ae.defaults=Object.freeze({statusMessage:"Sort by %heading% (%direction%)",ascendingText:"ascending",descendingText:"descending"});Ae.schema=Object.freeze({properties:{statusMessage:{type:"string"},ascendingText:{type:"string"},descendingText:{type:"string"}}});function Qt(s){for(const e of[Ct,Ee,we,Ce,Se,St,$t,se,ke,Ae])wt(e,void 0,s)}/*! choices.js v11.1.0 | © 2025 Josh Johnson | https://github.com/jshjohnson/Choices#readme */var je=function(s,e){return je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},je(s,e)};function kt(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");je(s,e);function t(){this.constructor=s}s.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var x=function(){return x=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},x.apply(this,arguments)};function Xt(s,e,t){for(var i=0,n=e.length,o;i<n;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return s.concat(o||Array.prototype.slice.call(e))}var E={ADD_CHOICE:"ADD_CHOICE",REMOVE_CHOICE:"REMOVE_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM"},A={showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice",unhighlightItem:"unhighlightItem"},C={TAB_KEY:9,SHIFT_KEY:16,BACK_KEY:46,DELETE_KEY:8,ENTER_KEY:13,A_KEY:65,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40,PAGE_UP_KEY:33,PAGE_DOWN_KEY:34},ei=["fuseOptions","classNames"],V={Text:"text",SelectOne:"select-one",SelectMultiple:"select-multiple"},it=function(s){return{type:E.ADD_CHOICE,choice:s}},ti=function(s){return{type:E.REMOVE_CHOICE,choice:s}},ii=function(s){return{type:E.FILTER_CHOICES,results:s}},si=function(s){return{type:E.ACTIVATE_CHOICES,active:s}},ni=function(s){return{type:E.ADD_GROUP,group:s}},st=function(s){return{type:E.ADD_ITEM,item:s}},nt=function(s){return{type:E.REMOVE_ITEM,item:s}},pe=function(s,e){return{type:E.HIGHLIGHT_ITEM,item:s,highlighted:e}},oi=function(s,e){return Math.floor(Math.random()*(e-s)+s)},ot=function(s){return Array.from({length:s},function(){return oi(0,36).toString(36)}).join("")},ri=function(s,e){var t=s.id||s.name&&"".concat(s.name,"-").concat(ot(2))||ot(4);return t=t.replace(/(:|\.|\[|\]|,)/g,""),t="".concat(e,"-").concat(t),t},ai=function(s,e,t){t===void 0&&(t=1);for(var i="".concat(t>0?"next":"previous","ElementSibling"),n=s[i];n;){if(n.matches(e))return n;n=n[i]}return null},li=function(s,e,t){t===void 0&&(t=1);var i;return t>0?i=e.scrollTop+e.offsetHeight>=s.offsetTop+s.offsetHeight:i=s.offsetTop>=e.scrollTop,i},xe=function(s){if(typeof s!="string"){if(s==null)return"";if(typeof s=="object"){if("raw"in s)return xe(s.raw);if("trusted"in s)return s.trusted}return s}return s.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;")},ci=function(){var s=document.createElement("div");return function(e){s.innerHTML=e.trim();for(var t=s.children[0];s.firstChild;)s.removeChild(s.firstChild);return t}}(),le=function(s,e){return typeof s=="function"?s(xe(e),e):s},rt=function(s){return typeof s=="function"?s():s},z=function(s){if(typeof s=="string")return s;if(typeof s=="object"){if("trusted"in s)return s.trusted;if("raw"in s)return s.raw}return""},At=function(s){if(typeof s=="string")return s;if(typeof s=="object"){if("escaped"in s)return s.escaped;if("trusted"in s)return s.trusted}return""},ze=function(s,e){return s?At(e):xe(e)},N=function(s,e,t){s.innerHTML=ze(e,t)},hi=function(s,e){var t=s.value,i=s.label,n=i===void 0?t:i,o=e.value,r=e.label,a=r===void 0?o:r;return z(n).localeCompare(z(a),[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})},ui=function(s,e){return s.rank-e.rank},di=function(s,e,t){t===void 0&&(t=null);var i=new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0});return s.dispatchEvent(i)},fi=function(s,e){var t=Object.keys(s).sort(),i=Object.keys(e).sort();return t.filter(function(n){return i.indexOf(n)<0})},Le=function(s){return Array.isArray(s)?s:[s]},oe=function(s){return s&&Array.isArray(s)?s.map(function(e){return".".concat(e)}).join(""):".".concat(s)},b=function(s,e){var t;(t=s.classList).add.apply(t,Le(e))},j=function(s,e){var t;(t=s.classList).remove.apply(t,Le(e))},pi=function(s){if(typeof s<"u")try{return JSON.parse(s)}catch{return s}return{}},mi=function(s,e,t){var i=s.itemEl;i&&(j(i,t),b(i,e))},gi=function(){function s(e){var t=e.element,i=e.type,n=e.classNames;this.element=t,this.classNames=n,this.type=i,this.isActive=!1}return s.prototype.show=function(){return b(this.element,this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},s.prototype.hide=function(){return j(this.element,this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},s}(),at=function(){function s(e){var t=e.element,i=e.type,n=e.classNames,o=e.position;this.element=t,this.classNames=n,this.type=i,this.position=o,this.isOpen=!1,this.isFlipped=!1,this.isDisabled=!1,this.isLoading=!1}return s.prototype.shouldFlip=function(e,t){var i=!1;return this.position==="auto"?i=this.element.getBoundingClientRect().top-t>=0&&!window.matchMedia("(min-height: ".concat(e+1,"px)")).matches:this.position==="top"&&(i=!0),i},s.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},s.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},s.prototype.open=function(e,t){b(this.element,this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(e,t)&&(b(this.element,this.classNames.flippedState),this.isFlipped=!0)},s.prototype.close=function(){j(this.element,this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(j(this.element,this.classNames.flippedState),this.isFlipped=!1)},s.prototype.addFocusState=function(){b(this.element,this.classNames.focusState)},s.prototype.removeFocusState=function(){j(this.element,this.classNames.focusState)},s.prototype.enable=function(){j(this.element,this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===V.SelectOne&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},s.prototype.disable=function(){b(this.element,this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===V.SelectOne&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},s.prototype.wrap=function(e){var t=this.element,i=e.parentNode;i&&(e.nextSibling?i.insertBefore(t,e.nextSibling):i.appendChild(t)),t.appendChild(e)},s.prototype.unwrap=function(e){var t=this.element,i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))},s.prototype.addLoadingState=function(){b(this.element,this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},s.prototype.removeLoadingState=function(){j(this.element,this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},s}(),bi=function(){function s(e){var t=e.element,i=e.type,n=e.classNames,o=e.preventPaste;this.element=t,this.type=i,this.classNames=n,this.preventPaste=o,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=t.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(s.prototype,"placeholder",{set:function(e){this.element.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.value=e},enumerable:!1,configurable:!0}),s.prototype.addEventListeners=function(){var e=this.element;e.addEventListener("paste",this._onPaste),e.addEventListener("input",this._onInput,{passive:!0}),e.addEventListener("focus",this._onFocus,{passive:!0}),e.addEventListener("blur",this._onBlur,{passive:!0})},s.prototype.removeEventListeners=function(){var e=this.element;e.removeEventListener("input",this._onInput),e.removeEventListener("paste",this._onPaste),e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur)},s.prototype.enable=function(){var e=this.element;e.removeAttribute("disabled"),this.isDisabled=!1},s.prototype.disable=function(){var e=this.element;e.setAttribute("disabled",""),this.isDisabled=!0},s.prototype.focus=function(){this.isFocussed||this.element.focus()},s.prototype.blur=function(){this.isFocussed&&this.element.blur()},s.prototype.clear=function(e){return e===void 0&&(e=!0),this.element.value="",e&&this.setWidth(),this},s.prototype.setWidth=function(){var e=this.element;e.style.minWidth="".concat(e.placeholder.length+1,"ch"),e.style.width="".concat(e.value.length+1,"ch")},s.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},s.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},s.prototype._onInput=function(){this.type!==V.SelectOne&&this.setWidth()},s.prototype._onPaste=function(e){this.preventPaste&&e.preventDefault()},s.prototype._onFocus=function(){this.isFocussed=!0},s.prototype._onBlur=function(){this.isFocussed=!1},s}(),vi=4,lt=function(){function s(e){var t=e.element;this.element=t,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return s.prototype.prepend=function(e){var t=this.element.firstElementChild;t?this.element.insertBefore(e,t):this.element.append(e)},s.prototype.scrollToTop=function(){this.element.scrollTop=0},s.prototype.scrollToChildElement=function(e,t){var i=this;if(e){var n=this.element.offsetHeight,o=this.element.scrollTop+n,r=e.offsetHeight,a=e.offsetTop+r,l=t>0?this.element.scrollTop+a-o:e.offsetTop;requestAnimationFrame(function(){i._animateScroll(l,t)})}},s.prototype._scrollDown=function(e,t,i){var n=(i-e)/t,o=n>1?n:1;this.element.scrollTop=e+o},s.prototype._scrollUp=function(e,t,i){var n=(e-i)/t,o=n>1?n:1;this.element.scrollTop=e-o},s.prototype._animateScroll=function(e,t){var i=this,n=vi,o=this.element.scrollTop,r=!1;t>0?(this._scrollDown(o,n,e),o<e&&(r=!0)):(this._scrollUp(o,n,e),o>e&&(r=!0)),r&&requestAnimationFrame(function(){i._animateScroll(e,t)})},s}(),xt=function(){function s(e){var t=e.element,i=e.classNames;this.element=t,this.classNames=i,this.isDisabled=!1}return Object.defineProperty(s.prototype,"isActive",{get:function(){return this.element.dataset.choice==="active"},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.setAttribute("value",e),this.element.value=e},enumerable:!1,configurable:!0}),s.prototype.conceal=function(){var e=this.element;b(e,this.classNames.input),e.hidden=!0,e.tabIndex=-1;var t=e.getAttribute("style");t&&e.setAttribute("data-choice-orig-style",t),e.setAttribute("data-choice","active")},s.prototype.reveal=function(){var e=this.element;j(e,this.classNames.input),e.hidden=!1,e.removeAttribute("tabindex");var t=e.getAttribute("data-choice-orig-style");t?(e.removeAttribute("data-choice-orig-style"),e.setAttribute("style",t)):e.removeAttribute("style"),e.removeAttribute("data-choice")},s.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},s.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},s.prototype.triggerEvent=function(e,t){di(this.element,e,t||{})},s}(),yi=function(s){kt(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e}(xt),ae=function(s,e){return e===void 0&&(e=!0),typeof s>"u"?e:!!s},Lt=function(s){if(typeof s=="string"&&(s=s.split(" ").filter(function(e){return e.length})),Array.isArray(s)&&s.length)return s},O=function(s,e,t){if(t===void 0&&(t=!0),typeof s=="string"){var i=xe(s),n=t||i===s?s:{escaped:i,raw:s},o=O({value:s,label:n,selected:!0},!1);return o}var r=s;if("choices"in r){if(!e)throw new TypeError("optGroup is not allowed");var a=r,l=a.choices.map(function(f){return O(f,!1)}),h={id:0,label:z(a.label)||a.value,active:!!l.length,disabled:!!a.disabled,choices:l};return h}var c=r,u={id:0,group:null,score:0,rank:0,value:c.value,label:c.label||c.value,active:ae(c.active),selected:ae(c.selected,!1),disabled:ae(c.disabled,!1),placeholder:ae(c.placeholder,!1),highlighted:!1,labelClass:Lt(c.labelClass),labelDescription:c.labelDescription,customProperties:c.customProperties};return u},_i=function(s){return s.tagName==="INPUT"},Tt=function(s){return s.tagName==="SELECT"},Ei=function(s){return s.tagName==="OPTION"},wi=function(s){return s.tagName==="OPTGROUP"},Ci=function(s){kt(e,s);function e(t){var i=t.element,n=t.classNames,o=t.template,r=t.extractPlaceholder,a=s.call(this,{element:i,classNames:n})||this;return a.template=o,a.extractPlaceholder=r,a}return Object.defineProperty(e.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),e.prototype.addOptions=function(t){var i=this,n=document.createDocumentFragment();t.forEach(function(o){var r=o;if(!r.element){var a=i.template(r);n.appendChild(a),r.element=a}}),this.element.appendChild(n)},e.prototype.optionsAsChoices=function(){var t=this,i=[];return this.element.querySelectorAll(":scope > option, :scope > optgroup").forEach(function(n){Ei(n)?i.push(t._optionToChoice(n)):wi(n)&&i.push(t._optgroupToChoice(n))}),i},e.prototype._optionToChoice=function(t){return!t.hasAttribute("value")&&t.hasAttribute("placeholder")&&(t.setAttribute("value",""),t.value=""),{id:0,group:null,score:0,rank:0,value:t.value,label:t.label,element:t,active:!0,selected:this.extractPlaceholder?t.selected:t.hasAttribute("selected"),disabled:t.disabled,highlighted:!1,placeholder:this.extractPlaceholder&&(!t.value||t.hasAttribute("placeholder")),labelClass:typeof t.dataset.labelClass<"u"?Lt(t.dataset.labelClass):void 0,labelDescription:typeof t.dataset.labelDescription<"u"?t.dataset.labelDescription:void 0,customProperties:pi(t.dataset.customProperties)}},e.prototype._optgroupToChoice=function(t){var i=this,n=t.querySelectorAll("option"),o=Array.from(n).map(function(r){return i._optionToChoice(r)});return{id:0,label:t.label||"",element:t,active:!!o.length,disabled:t.disabled,choices:o}},e}(xt),$i={containerOuter:["choices"],containerInner:["choices__inner"],input:["choices__input"],inputCloned:["choices__input--cloned"],list:["choices__list"],listItems:["choices__list--multiple"],listSingle:["choices__list--single"],listDropdown:["choices__list--dropdown"],item:["choices__item"],itemSelectable:["choices__item--selectable"],itemDisabled:["choices__item--disabled"],itemChoice:["choices__item--choice"],description:["choices__description"],placeholder:["choices__placeholder"],group:["choices__group"],groupHeading:["choices__heading"],button:["choices__button"],activeState:["is-active"],focusState:["is-focused"],openState:["is-open"],disabledState:["is-disabled"],highlightedState:["is-highlighted"],selectedState:["is-selected"],flippedState:["is-flipped"],loadingState:["is-loading"],notice:["choices__notice"],addChoice:["choices__item--selectable","add-choice"],noResults:["has-no-results"],noChoices:["has-no-choices"]},ct={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,closeDropdownOnSelect:"auto",singleModeForMultiSelect:!1,addChoices:!1,addItems:!0,addItemFilter:function(s){return!!s&&s!==""},removeItems:!0,removeItemButton:!1,removeItemButtonAlignLeft:!1,editItems:!1,allowHTML:!1,allowHtmlUserInput:!1,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:hi,shadowRoot:null,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(s){return'Press Enter to add <b>"'.concat(s,'"</b>')},removeItemIconText:function(){return"Remove item"},removeItemLabelText:function(s){return"Remove item: ".concat(s)},maxItemText:function(s){return"Only ".concat(s," values can be added")},valueComparer:function(s,e){return s===e},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:$i,appendGroupInSearch:!1},ht=function(s){var e=s.itemEl;e&&(e.remove(),s.itemEl=void 0)};function Si(s,e,t){var i=s,n=!0;switch(e.type){case E.ADD_ITEM:{e.item.selected=!0;var o=e.item.element;o&&(o.selected=!0,o.setAttribute("selected","")),i.push(e.item);break}case E.REMOVE_ITEM:{e.item.selected=!1;var o=e.item.element;if(o){o.selected=!1,o.removeAttribute("selected");var r=o.parentElement;r&&Tt(r)&&r.type===V.SelectOne&&(r.value="")}ht(e.item),i=i.filter(function(c){return c.id!==e.item.id});break}case E.REMOVE_CHOICE:{ht(e.choice),i=i.filter(function(h){return h.id!==e.choice.id});break}case E.HIGHLIGHT_ITEM:{var a=e.highlighted,l=i.find(function(h){return h.id===e.item.id});l&&l.highlighted!==a&&(l.highlighted=a,t&&mi(l,a?t.classNames.highlightedState:t.classNames.selectedState,a?t.classNames.selectedState:t.classNames.highlightedState));break}default:{n=!1;break}}return{state:i,update:n}}function ki(s,e){var t=s,i=!0;switch(e.type){case E.ADD_GROUP:{t.push(e.group);break}case E.CLEAR_CHOICES:{t=[];break}default:{i=!1;break}}return{state:t,update:i}}function Ai(s,e,t){var i=s,n=!0;switch(e.type){case E.ADD_CHOICE:{i.push(e.choice);break}case E.REMOVE_CHOICE:{e.choice.choiceEl=void 0,e.choice.group&&(e.choice.group.choices=e.choice.group.choices.filter(function(r){return r.id!==e.choice.id})),i=i.filter(function(r){return r.id!==e.choice.id});break}case E.ADD_ITEM:case E.REMOVE_ITEM:{e.item.choiceEl=void 0;break}case E.FILTER_CHOICES:{var o=[];e.results.forEach(function(r){o[r.item.id]=r}),i.forEach(function(r){var a=o[r.id];a!==void 0?(r.score=a.score,r.rank=a.rank,r.active=!0):(r.score=0,r.rank=0,r.active=!1),t&&t.appendGroupInSearch&&(r.choiceEl=void 0)});break}case E.ACTIVATE_CHOICES:{i.forEach(function(r){r.active=e.active,t&&t.appendGroupInSearch&&(r.choiceEl=void 0)});break}case E.CLEAR_CHOICES:{i=[];break}default:{n=!1;break}}return{state:i,update:n}}var ut={groups:ki,items:Si,choices:Ai},xi=function(){function s(e){this._state=this.defaultState,this._listeners=[],this._txn=0,this._context=e}return Object.defineProperty(s.prototype,"defaultState",{get:function(){return{groups:[],items:[],choices:[]}},enumerable:!1,configurable:!0}),s.prototype.changeSet=function(e){return{groups:e,items:e,choices:e}},s.prototype.reset=function(){this._state=this.defaultState;var e=this.changeSet(!0);this._txn?this._changeSet=e:this._listeners.forEach(function(t){return t(e)})},s.prototype.subscribe=function(e){return this._listeners.push(e),this},s.prototype.dispatch=function(e){var t=this,i=this._state,n=!1,o=this._changeSet||this.changeSet(!1);Object.keys(ut).forEach(function(r){var a=ut[r](i[r],e,t._context);a.update&&(n=!0,o[r]=!0,i[r]=a.state)}),n&&(this._txn?this._changeSet=o:this._listeners.forEach(function(r){return r(o)}))},s.prototype.withTxn=function(e){this._txn++;try{e()}finally{if(this._txn=Math.max(0,this._txn-1),!this._txn){var t=this._changeSet;t&&(this._changeSet=void 0,this._listeners.forEach(function(i){return i(t)}))}}},Object.defineProperty(s.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"highlightedActiveItems",{get:function(){return this.items.filter(function(e){return e.active&&e.highlighted})},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"activeChoices",{get:function(){return this.choices.filter(function(e){return e.active})},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"searchableChoices",{get:function(){return this.choices.filter(function(e){return!e.disabled&&!e.placeholder})},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"activeGroups",{get:function(){var e=this;return this.state.groups.filter(function(t){var i=t.active&&!t.disabled,n=e.state.choices.some(function(o){return o.active&&!o.disabled});return i&&n},[])},enumerable:!1,configurable:!0}),s.prototype.inTxn=function(){return this._txn>0},s.prototype.getChoiceById=function(e){return this.activeChoices.find(function(t){return t.id===e})},s.prototype.getGroupById=function(e){return this.groups.find(function(t){return t.id===e})},s}(),w={noChoices:"no-choices",noResults:"no-results",addChoice:"add-choice",generic:""};function Li(s,e,t){return(e=Ii(e))in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function dt(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),t.push.apply(t,i)}return t}function Q(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dt(Object(t),!0).forEach(function(i){Li(s,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):dt(Object(t)).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(t,i))})}return s}function Ti(s,e){if(typeof s!="object"||!s)return s;var t=s[Symbol.toPrimitive];if(t!==void 0){var i=t.call(s,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function Ii(s){var e=Ti(s,"string");return typeof e=="symbol"?e:e+""}function R(s){return Array.isArray?Array.isArray(s):Mt(s)==="[object Array]"}function Di(s){if(typeof s=="string")return s;let e=s+"";return e=="0"&&1/s==-1/0?"-0":e}function Mi(s){return s==null?"":Di(s)}function H(s){return typeof s=="string"}function It(s){return typeof s=="number"}function Oi(s){return s===!0||s===!1||Bi(s)&&Mt(s)=="[object Boolean]"}function Dt(s){return typeof s=="object"}function Bi(s){return Dt(s)&&s!==null}function L(s){return s!=null}function De(s){return!s.trim().length}function Mt(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const ji="Incorrect 'index' type",Hi=s=>`Invalid value for key ${s}`,Ni=s=>`Pattern length exceeds max of ${s}.`,Fi=s=>`Missing ${s} property in key`,Pi=s=>`Property 'weight' in key '${s}' must be a positive integer`,ft=Object.prototype.hasOwnProperty;class Ri{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(i=>{let n=Ot(i);this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight}),this._keys.forEach(i=>{i.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Ot(s){let e=null,t=null,i=null,n=1,o=null;if(H(s)||R(s))i=s,e=pt(s),t=He(s);else{if(!ft.call(s,"name"))throw new Error(Fi("name"));const r=s.name;if(i=r,ft.call(s,"weight")&&(n=s.weight,n<=0))throw new Error(Pi(r));e=pt(r),t=He(r),o=s.getFn}return{path:e,id:t,weight:n,src:i,getFn:o}}function pt(s){return R(s)?s:s.split(".")}function He(s){return R(s)?s.join("."):s}function qi(s,e){let t=[],i=!1;const n=(o,r,a)=>{if(L(o))if(!r[a])t.push(o);else{let l=r[a];const h=o[l];if(!L(h))return;if(a===r.length-1&&(H(h)||It(h)||Oi(h)))t.push(Mi(h));else if(R(h)){i=!0;for(let c=0,u=h.length;c<u;c+=1)n(h[c],r,a+1)}else r.length&&n(h,r,a+1)}};return n(s,H(e)?e.split("."):e,0),i?t:t[0]}const Ki={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Vi={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,e)=>s.score===e.score?s.idx<e.idx?-1:1:s.score<e.score?-1:1},Wi={location:0,threshold:.6,distance:100},Ui={useExtendedSearch:!1,getFn:qi,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var g=Q(Q(Q(Q({},Vi),Ki),Wi),Ui);const Yi=/[^ ]+/g;function Gi(s=1,e=3){const t=new Map,i=Math.pow(10,e);return{get(n){const o=n.match(Yi).length;if(t.has(o))return t.get(o);const r=1/Math.pow(o,.5*s),a=parseFloat(Math.round(r*i)/i);return t.set(o,a),a},clear(){t.clear()}}}class Ze{constructor({getFn:e=g.getFn,fieldNormWeight:t=g.fieldNormWeight}={}){this.norm=Gi(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,i)=>{this._keysMap[t.id]=i})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,H(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();H(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,i=this.size();t<i;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!L(e)||De(e))return;let i={v:e,i:t,n:this.norm.get(e)};this.records.push(i)}_addObject(e,t){let i={i:t,$:{}};this.keys.forEach((n,o)=>{let r=n.getFn?n.getFn(e):this.getFn(e,n.path);if(L(r)){if(R(r)){let a=[];const l=[{nestedArrIndex:-1,value:r}];for(;l.length;){const{nestedArrIndex:h,value:c}=l.pop();if(L(c))if(H(c)&&!De(c)){let u={v:c,i:h,n:this.norm.get(c)};a.push(u)}else R(c)&&c.forEach((u,f)=>{l.push({nestedArrIndex:f,value:u})})}i.$[o]=a}else if(H(r)&&!De(r)){let a={v:r,n:this.norm.get(r)};i.$[o]=a}}}),this.records.push(i)}toJSON(){return{keys:this.keys,records:this.records}}}function Bt(s,e,{getFn:t=g.getFn,fieldNormWeight:i=g.fieldNormWeight}={}){const n=new Ze({getFn:t,fieldNormWeight:i});return n.setKeys(s.map(Ot)),n.setSources(e),n.create(),n}function zi(s,{getFn:e=g.getFn,fieldNormWeight:t=g.fieldNormWeight}={}){const{keys:i,records:n}=s,o=new Ze({getFn:e,fieldNormWeight:t});return o.setKeys(i),o.setIndexRecords(n),o}function me(s,{errors:e=0,currentLocation:t=0,expectedLocation:i=0,distance:n=g.distance,ignoreLocation:o=g.ignoreLocation}={}){const r=e/s.length;if(o)return r;const a=Math.abs(i-t);return n?r+a/n:a?1:r}function Zi(s=[],e=g.minMatchCharLength){let t=[],i=-1,n=-1,o=0;for(let r=s.length;o<r;o+=1){let a=s[o];a&&i===-1?i=o:!a&&i!==-1&&(n=o-1,n-i+1>=e&&t.push([i,n]),i=-1)}return s[o-1]&&o-i>=e&&t.push([i,o-1]),t}const Y=32;function Ji(s,e,t,{location:i=g.location,distance:n=g.distance,threshold:o=g.threshold,findAllMatches:r=g.findAllMatches,minMatchCharLength:a=g.minMatchCharLength,includeMatches:l=g.includeMatches,ignoreLocation:h=g.ignoreLocation}={}){if(e.length>Y)throw new Error(Ni(Y));const c=e.length,u=s.length,f=Math.max(0,Math.min(i,u));let p=o,d=f;const m=a>1||l,_=m?Array(u):[];let y;for(;(y=s.indexOf(e,d))>-1;){let T=me(e,{currentLocation:y,expectedLocation:f,distance:n,ignoreLocation:h});if(p=Math.min(T,p),d=y+c,m){let q=0;for(;q<c;)_[y+q]=1,q+=1}}d=-1;let S=[],k=1,U=c+u;const Pt=1<<c-1;for(let T=0;T<c;T+=1){let q=0,K=U;for(;q<K;)me(e,{errors:T,currentLocation:f+K,expectedLocation:f,distance:n,ignoreLocation:h})<=p?q=K:U=K,K=Math.floor((U-q)/2+q);U=K;let Je=Math.max(1,f-K+1),Ie=r?u:Math.min(f+K,u)+c,J=Array(Ie+2);J[Ie+1]=(1<<T)-1;for(let I=Ie;I>=Je;I-=1){let fe=I-1,Qe=t[s.charAt(fe)];if(m&&(_[fe]=+!!Qe),J[I]=(J[I+1]<<1|1)&Qe,T&&(J[I]|=(S[I+1]|S[I])<<1|1|S[I+1]),J[I]&Pt&&(k=me(e,{errors:T,currentLocation:fe,expectedLocation:f,distance:n,ignoreLocation:h}),k<=p)){if(p=k,d=fe,d<=f)break;Je=Math.max(1,2*f-d)}}if(me(e,{errors:T+1,currentLocation:f,expectedLocation:f,distance:n,ignoreLocation:h})>p)break;S=J}const Te={isMatch:d>=0,score:Math.max(.001,k)};if(m){const T=Zi(_,a);T.length?l&&(Te.indices=T):Te.isMatch=!1}return Te}function Qi(s){let e={};for(let t=0,i=s.length;t<i;t+=1){const n=s.charAt(t);e[n]=(e[n]||0)|1<<i-t-1}return e}class jt{constructor(e,{location:t=g.location,threshold:i=g.threshold,distance:n=g.distance,includeMatches:o=g.includeMatches,findAllMatches:r=g.findAllMatches,minMatchCharLength:a=g.minMatchCharLength,isCaseSensitive:l=g.isCaseSensitive,ignoreLocation:h=g.ignoreLocation}={}){if(this.options={location:t,threshold:i,distance:n,includeMatches:o,findAllMatches:r,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:h},this.pattern=l?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(f,p)=>{this.chunks.push({pattern:f,alphabet:Qi(f),startIndex:p})},u=this.pattern.length;if(u>Y){let f=0;const p=u%Y,d=u-p;for(;f<d;)c(this.pattern.substr(f,Y),f),f+=Y;if(p){const m=u-Y;c(this.pattern.substr(m),m)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:i}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let d={isMatch:!0,score:0};return i&&(d.indices=[[0,e.length-1]]),d}const{location:n,distance:o,threshold:r,findAllMatches:a,minMatchCharLength:l,ignoreLocation:h}=this.options;let c=[],u=0,f=!1;this.chunks.forEach(({pattern:d,alphabet:m,startIndex:_})=>{const{isMatch:y,score:S,indices:k}=Ji(e,d,m,{location:n+_,distance:o,threshold:r,findAllMatches:a,minMatchCharLength:l,includeMatches:i,ignoreLocation:h});y&&(f=!0),u+=S,y&&k&&(c=[...c,...k])});let p={isMatch:f,score:f?u/this.chunks.length:1};return f&&i&&(p.indices=c),p}}class W{constructor(e){this.pattern=e}static isMultiMatch(e){return mt(e,this.multiRegex)}static isSingleMatch(e){return mt(e,this.singleRegex)}search(){}}function mt(s,e){const t=s.match(e);return t?t[1]:null}class Xi extends W{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class es extends W{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const i=e.indexOf(this.pattern)===-1;return{isMatch:i,score:i?0:1,indices:[0,e.length-1]}}}class ts extends W{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class is extends W{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class ss extends W{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class ns extends W{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Ht extends W{constructor(e,{location:t=g.location,threshold:i=g.threshold,distance:n=g.distance,includeMatches:o=g.includeMatches,findAllMatches:r=g.findAllMatches,minMatchCharLength:a=g.minMatchCharLength,isCaseSensitive:l=g.isCaseSensitive,ignoreLocation:h=g.ignoreLocation}={}){super(e),this._bitapSearch=new jt(e,{location:t,threshold:i,distance:n,includeMatches:o,findAllMatches:r,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Nt extends W{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,i;const n=[],o=this.pattern.length;for(;(i=e.indexOf(this.pattern,t))>-1;)t=i+o,n.push([i,t-1]);const r=!!n.length;return{isMatch:r,score:r?0:1,indices:n}}}const Ne=[Xi,Nt,ts,is,ns,ss,es,Ht],gt=Ne.length,os=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,rs="|";function as(s,e={}){return s.split(rs).map(t=>{let i=t.trim().split(os).filter(o=>o&&!!o.trim()),n=[];for(let o=0,r=i.length;o<r;o+=1){const a=i[o];let l=!1,h=-1;for(;!l&&++h<gt;){const c=Ne[h];let u=c.isMultiMatch(a);u&&(n.push(new c(u,e)),l=!0)}if(!l)for(h=-1;++h<gt;){const c=Ne[h];let u=c.isSingleMatch(a);if(u){n.push(new c(u,e));break}}}return n})}const ls=new Set([Ht.type,Nt.type]);class cs{constructor(e,{isCaseSensitive:t=g.isCaseSensitive,includeMatches:i=g.includeMatches,minMatchCharLength:n=g.minMatchCharLength,ignoreLocation:o=g.ignoreLocation,findAllMatches:r=g.findAllMatches,location:a=g.location,threshold:l=g.threshold,distance:h=g.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:i,minMatchCharLength:n,findAllMatches:r,ignoreLocation:o,location:a,threshold:l,distance:h},this.pattern=t?e:e.toLowerCase(),this.query=as(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:i,isCaseSensitive:n}=this.options;e=n?e:e.toLowerCase();let o=0,r=[],a=0;for(let l=0,h=t.length;l<h;l+=1){const c=t[l];r.length=0,o=0;for(let u=0,f=c.length;u<f;u+=1){const p=c[u],{isMatch:d,indices:m,score:_}=p.search(e);if(d){if(o+=1,a+=_,i){const y=p.constructor.type;ls.has(y)?r=[...r,...m]:r.push(m)}}else{a=0,o=0,r.length=0;break}}if(o){let u={isMatch:!0,score:a/o};return i&&(u.indices=r),u}}return{isMatch:!1,score:1}}}const Fe=[];function hs(...s){Fe.push(...s)}function Pe(s,e){for(let t=0,i=Fe.length;t<i;t+=1){let n=Fe[t];if(n.condition(s,e))return new n(s,e)}return new jt(s,e)}const ge={AND:"$and",OR:"$or"},Re={PATH:"$path",PATTERN:"$val"},qe=s=>!!(s[ge.AND]||s[ge.OR]),us=s=>!!s[Re.PATH],ds=s=>!R(s)&&Dt(s)&&!qe(s),bt=s=>({[ge.AND]:Object.keys(s).map(e=>({[e]:s[e]}))});function Ft(s,e,{auto:t=!0}={}){const i=n=>{let o=Object.keys(n);const r=us(n);if(!r&&o.length>1&&!qe(n))return i(bt(n));if(ds(n)){const l=r?n[Re.PATH]:o[0],h=r?n[Re.PATTERN]:n[l];if(!H(h))throw new Error(Hi(l));const c={keyId:He(l),pattern:h};return t&&(c.searcher=Pe(h,e)),c}let a={children:[],operator:o[0]};return o.forEach(l=>{const h=n[l];R(h)&&h.forEach(c=>{a.children.push(i(c))})}),a};return qe(s)||(s=bt(s)),i(s)}function fs(s,{ignoreFieldNorm:e=g.ignoreFieldNorm}){s.forEach(t=>{let i=1;t.matches.forEach(({key:n,norm:o,score:r})=>{const a=n?n.weight:null;i*=Math.pow(r===0&&a?Number.EPSILON:r,(a||1)*(e?1:o))}),t.score=i})}function ps(s,e){const t=s.matches;e.matches=[],L(t)&&t.forEach(i=>{if(!L(i.indices)||!i.indices.length)return;const{indices:n,value:o}=i;let r={indices:n,value:o};i.key&&(r.key=i.key.src),i.idx>-1&&(r.refIndex=i.idx),e.matches.push(r)})}function ms(s,e){e.score=s.score}function gs(s,e,{includeMatches:t=g.includeMatches,includeScore:i=g.includeScore}={}){const n=[];return t&&n.push(ps),i&&n.push(ms),s.map(o=>{const{idx:r}=o,a={item:e[r],refIndex:r};return n.length&&n.forEach(l=>{l(o,a)}),a})}class ne{constructor(e,t={},i){this.options=Q(Q({},g),t),this.options.useExtendedSearch,this._keyStore=new Ri(this.options.keys),this.setCollection(e,i)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof Ze))throw new Error(ji);this._myIndex=t||Bt(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){L(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let i=0,n=this._docs.length;i<n;i+=1){const o=this._docs[i];e(o,i)&&(this.removeAt(i),i-=1,n-=1,t.push(o))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:i,includeScore:n,shouldSort:o,sortFn:r,ignoreFieldNorm:a}=this.options;let l=H(e)?H(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return fs(l,{ignoreFieldNorm:a}),o&&l.sort(r),It(t)&&t>-1&&(l=l.slice(0,t)),gs(l,this._docs,{includeMatches:i,includeScore:n})}_searchStringList(e){const t=Pe(e,this.options),{records:i}=this._myIndex,n=[];return i.forEach(({v:o,i:r,n:a})=>{if(!L(o))return;const{isMatch:l,score:h,indices:c}=t.searchIn(o);l&&n.push({item:o,idx:r,matches:[{score:h,value:o,norm:a,indices:c}]})}),n}_searchLogical(e){const t=Ft(e,this.options),i=(a,l,h)=>{if(!a.children){const{keyId:u,searcher:f}=a,p=this._findMatches({key:this._keyStore.get(u),value:this._myIndex.getValueForItemAtKeyId(l,u),searcher:f});return p&&p.length?[{idx:h,item:l,matches:p}]:[]}const c=[];for(let u=0,f=a.children.length;u<f;u+=1){const p=a.children[u],d=i(p,l,h);if(d.length)c.push(...d);else if(a.operator===ge.AND)return[]}return c},n=this._myIndex.records,o={},r=[];return n.forEach(({$:a,i:l})=>{if(L(a)){let h=i(t,a,l);h.length&&(o[l]||(o[l]={idx:l,item:a,matches:[]},r.push(o[l])),h.forEach(({matches:c})=>{o[l].matches.push(...c)}))}}),r}_searchObjectList(e){const t=Pe(e,this.options),{keys:i,records:n}=this._myIndex,o=[];return n.forEach(({$:r,i:a})=>{if(!L(r))return;let l=[];i.forEach((h,c)=>{l.push(...this._findMatches({key:h,value:r[c],searcher:t}))}),l.length&&o.push({idx:a,item:r,matches:l})}),o}_findMatches({key:e,value:t,searcher:i}){if(!L(t))return[];let n=[];if(R(t))t.forEach(({v:o,i:r,n:a})=>{if(!L(o))return;const{isMatch:l,score:h,indices:c}=i.searchIn(o);l&&n.push({score:h,key:e,value:o,idx:r,norm:a,indices:c})});else{const{v:o,n:r}=t,{isMatch:a,score:l,indices:h}=i.searchIn(o);a&&n.push({score:l,key:e,value:o,norm:r,indices:h})}return n}}ne.version="7.0.0";ne.createIndex=Bt;ne.parseIndex=zi;ne.config=g;ne.parseQuery=Ft;hs(cs);var bs=function(){function s(e){this._haystack=[],this._fuseOptions=x(x({},e.fuseOptions),{keys:Xt([],e.searchFields),includeMatches:!0})}return s.prototype.index=function(e){this._haystack=e,this._fuse&&this._fuse.setCollection(e)},s.prototype.reset=function(){this._haystack=[],this._fuse=void 0},s.prototype.isEmptyIndex=function(){return!this._haystack.length},s.prototype.search=function(e){this._fuse||(this._fuse=new ne(this._haystack,this._fuseOptions));var t=this._fuse.search(e);return t.map(function(i,n){return{item:i.item,score:i.score||0,rank:n+1}})},s}();function vs(s){return new bs(s)}var ys=function(s){for(var e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0},Me=function(s,e,t){var i=s.dataset,n=e.customProperties,o=e.labelClass,r=e.labelDescription;o&&(i.labelClass=Le(o).join(" ")),r&&(i.labelDescription=r),t&&n&&(typeof n=="string"?i.customProperties=n:typeof n=="object"&&!ys(n)&&(i.customProperties=JSON.stringify(n)))},vt=function(s,e,t){var i=e&&s.querySelector("label[for='".concat(e,"']")),n=i&&i.innerText;n&&t.setAttribute("aria-label",n)},_s={containerOuter:function(s,e,t,i,n,o,r){var a=s.classNames.containerOuter,l=document.createElement("div");return b(l,a),l.dataset.type=o,e&&(l.dir=e),i&&(l.tabIndex=0),t&&(l.setAttribute("role",n?"combobox":"listbox"),n?l.setAttribute("aria-autocomplete","list"):r||vt(this._docRoot,this.passedElement.element.id,l),l.setAttribute("aria-haspopup","true"),l.setAttribute("aria-expanded","false")),r&&l.setAttribute("aria-labelledby",r),l},containerInner:function(s){var e=s.classNames.containerInner,t=document.createElement("div");return b(t,e),t},itemList:function(s,e){var t=s.searchEnabled,i=s.classNames,n=i.list,o=i.listSingle,r=i.listItems,a=document.createElement("div");return b(a,n),b(a,e?o:r),this._isSelectElement&&t&&a.setAttribute("role","listbox"),a},placeholder:function(s,e){var t=s.allowHTML,i=s.classNames.placeholder,n=document.createElement("div");return b(n,i),N(n,t,e),n},item:function(s,e,t){var i=s.allowHTML,n=s.removeItemButtonAlignLeft,o=s.removeItemIconText,r=s.removeItemLabelText,a=s.classNames,l=a.item,h=a.button,c=a.highlightedState,u=a.itemSelectable,f=a.placeholder,p=z(e.value),d=document.createElement("div");if(b(d,l),e.labelClass){var m=document.createElement("span");N(m,i,e.label),b(m,e.labelClass),d.appendChild(m)}else N(d,i,e.label);if(d.dataset.item="",d.dataset.id=e.id,d.dataset.value=p,Me(d,e,!0),(e.disabled||this.containerOuter.isDisabled)&&d.setAttribute("aria-disabled","true"),this._isSelectElement&&(d.setAttribute("aria-selected","true"),d.setAttribute("role","option")),e.placeholder&&(b(d,f),d.dataset.placeholder=""),b(d,e.highlighted?c:u),t){e.disabled&&j(d,u),d.dataset.deletable="";var _=document.createElement("button");_.type="button",b(_,h),N(_,!0,le(o,e.value));var y=le(r,e.value);y&&_.setAttribute("aria-label",y),_.dataset.button="",n?d.insertAdjacentElement("afterbegin",_):d.appendChild(_)}return d},choiceList:function(s,e){var t=s.classNames.list,i=document.createElement("div");return b(i,t),e||i.setAttribute("aria-multiselectable","true"),i.setAttribute("role","listbox"),i},choiceGroup:function(s,e){var t=s.allowHTML,i=s.classNames,n=i.group,o=i.groupHeading,r=i.itemDisabled,a=e.id,l=e.label,h=e.disabled,c=z(l),u=document.createElement("div");b(u,n),h&&b(u,r),u.setAttribute("role","group"),u.dataset.group="",u.dataset.id=a,u.dataset.value=c,h&&u.setAttribute("aria-disabled","true");var f=document.createElement("div");return b(f,o),N(f,t,l||""),u.appendChild(f),u},choice:function(s,e,t,i){var n=s.allowHTML,o=s.classNames,r=o.item,a=o.itemChoice,l=o.itemSelectable,h=o.selectedState,c=o.itemDisabled,u=o.description,f=o.placeholder,p=e.label,d=z(e.value),m=document.createElement("div");m.id=e.elementId,b(m,r),b(m,a),i&&typeof p=="string"&&(p=ze(n,p),p+=" (".concat(i,")"),p={trusted:p});var _=m;if(e.labelClass){var y=document.createElement("span");N(y,n,p),b(y,e.labelClass),_=y,m.appendChild(y)}else N(m,n,p);if(e.labelDescription){var S="".concat(e.elementId,"-description");_.setAttribute("aria-describedby",S);var k=document.createElement("span");N(k,n,e.labelDescription),k.id=S,b(k,u),m.appendChild(k)}return e.selected&&b(m,h),e.placeholder&&b(m,f),m.setAttribute("role",e.group?"treeitem":"option"),m.dataset.choice="",m.dataset.id=e.id,m.dataset.value=d,t&&(m.dataset.selectText=t),e.group&&(m.dataset.groupId="".concat(e.group.id)),Me(m,e,!1),e.disabled?(b(m,c),m.dataset.choiceDisabled="",m.setAttribute("aria-disabled","true")):(b(m,l),m.dataset.choiceSelectable=""),m},input:function(s,e){var t=s.classNames,i=t.input,n=t.inputCloned,o=s.labelId,r=document.createElement("input");return r.type="search",b(r,i),b(r,n),r.autocomplete="off",r.autocapitalize="off",r.spellcheck=!1,r.setAttribute("aria-autocomplete","list"),e?r.setAttribute("aria-label",e):o||vt(this._docRoot,this.passedElement.element.id,r),r},dropdown:function(s){var e=s.classNames,t=e.list,i=e.listDropdown,n=document.createElement("div");return b(n,t),b(n,i),n.setAttribute("aria-expanded","false"),n},notice:function(s,e,t){var i=s.classNames,n=i.item,o=i.itemChoice,r=i.addChoice,a=i.noResults,l=i.noChoices,h=i.notice;t===void 0&&(t=w.generic);var c=document.createElement("div");switch(N(c,!0,e),b(c,n),b(c,o),b(c,h),t){case w.addChoice:b(c,r);break;case w.noResults:b(c,a);break;case w.noChoices:b(c,l);break}return t===w.addChoice&&(c.dataset.choiceSelectable="",c.dataset.choice=""),c},option:function(s){var e=z(s.label),t=new Option(e,s.value,!1,s.selected);return Me(t,s,!0),t.disabled=s.disabled,s.selected&&t.setAttribute("selected",""),t}},Es="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,ws={},Oe=function(s){if(s)return s.dataset.id?parseInt(s.dataset.id,10):void 0},re="[data-choice-selectable]",Cs=function(){function s(e,t){e===void 0&&(e="[data-choice]"),t===void 0&&(t={});var i=this;this.initialisedOK=void 0,this._hasNonChoicePlaceholder=!1,this._lastAddedChoiceId=0,this._lastAddedGroupId=0;var n=s.defaults;this.config=x(x(x({},n.allOptions),n.options),t),ei.forEach(function(y){i.config[y]=x(x(x({},n.allOptions[y]),n.options[y]),t[y])});var o=this.config;o.silent||this._validateConfig();var r=o.shadowRoot||document.documentElement;this._docRoot=r;var a=typeof e=="string"?r.querySelector(e):e;if(!a||typeof a!="object"||!(_i(a)||Tt(a)))throw TypeError(!a&&typeof e=="string"?"Selector ".concat(e," failed to find an element"):"Expected one of the following types text|select-one|select-multiple");var l=a.type,h=l===V.Text;(h||o.maxItemCount!==1)&&(o.singleModeForMultiSelect=!1),o.singleModeForMultiSelect&&(l=V.SelectMultiple);var c=l===V.SelectOne,u=l===V.SelectMultiple,f=c||u;if(this._elementType=l,this._isTextElement=h,this._isSelectOneElement=c,this._isSelectMultipleElement=u,this._isSelectElement=c||u,this._canAddUserChoices=h&&o.addItems||f&&o.addChoices,typeof o.renderSelectedChoices!="boolean"&&(o.renderSelectedChoices=o.renderSelectedChoices==="always"||c),o.closeDropdownOnSelect==="auto"?o.closeDropdownOnSelect=h||c||o.singleModeForMultiSelect:o.closeDropdownOnSelect=ae(o.closeDropdownOnSelect),o.placeholder&&(o.placeholderValue?this._hasNonChoicePlaceholder=!0:a.dataset.placeholder&&(this._hasNonChoicePlaceholder=!0,o.placeholderValue=a.dataset.placeholder)),t.addItemFilter&&typeof t.addItemFilter!="function"){var p=t.addItemFilter instanceof RegExp?t.addItemFilter:new RegExp(t.addItemFilter);o.addItemFilter=p.test.bind(p)}if(this._isTextElement)this.passedElement=new yi({element:a,classNames:o.classNames});else{var d=a;this.passedElement=new Ci({element:d,classNames:o.classNames,template:function(y){return i._templates.option(y)},extractPlaceholder:o.placeholder&&!this._hasNonChoicePlaceholder})}if(this.initialised=!1,this._store=new xi(o),this._currentValue="",o.searchEnabled=!h&&o.searchEnabled||u,this._canSearch=o.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=ri(a,"choices-"),this._direction=a.dir,!this._direction){var m=window.getComputedStyle(a).direction,_=window.getComputedStyle(document.documentElement).direction;m!==_&&(this._direction=m)}if(this._idNames={itemChoice:"item-choice"},this._templates=n.templates,this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onInput=this._onInput.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive){o.silent||console.warn("Trying to initialise Choices on element already initialised",{element:e}),this.initialised=!0,this.initialisedOK=!1;return}this.init(),this._initialItems=this._store.items.map(function(y){return y.value})}return Object.defineProperty(s,"defaults",{get:function(){return Object.preventExtensions({get options(){return ws},get allOptions(){return ct},get templates(){return _s}})},enumerable:!1,configurable:!0}),s.prototype.init=function(){if(!(this.initialised||this.initialisedOK!==void 0)){this._searcher=vs(this.config),this._loadChoices(),this._createTemplates(),this._createElements(),this._createStructure(),this._isTextElement&&!this.config.addItems||this.passedElement.element.hasAttribute("disabled")||this.passedElement.element.closest("fieldset:disabled")?this.disable():(this.enable(),this._addEventListeners()),this._initStore(),this.initialised=!0,this.initialisedOK=!0;var e=this.config.callbackOnInit;typeof e=="function"&&e.call(this)}},s.prototype.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this._store._listeners=[],this.clearStore(!1),this._stopSearch(),this._templates=s.defaults.templates,this.initialised=!1,this.initialisedOK=void 0)},s.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},s.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},s.prototype.highlightItem=function(e,t){if(t===void 0&&(t=!0),!e||!e.id)return this;var i=this._store.items.find(function(n){return n.id===e.id});return!i||i.highlighted?this:(this._store.dispatch(pe(i,!0)),t&&this.passedElement.triggerEvent(A.highlightItem,this._getChoiceForOutput(i)),this)},s.prototype.unhighlightItem=function(e,t){if(t===void 0&&(t=!0),!e||!e.id)return this;var i=this._store.items.find(function(n){return n.id===e.id});return!i||!i.highlighted?this:(this._store.dispatch(pe(i,!1)),t&&this.passedElement.triggerEvent(A.unhighlightItem,this._getChoiceForOutput(i)),this)},s.prototype.highlightAll=function(){var e=this;return this._store.withTxn(function(){e._store.items.forEach(function(t){t.highlighted||(e._store.dispatch(pe(t,!0)),e.passedElement.triggerEvent(A.highlightItem,e._getChoiceForOutput(t)))})}),this},s.prototype.unhighlightAll=function(){var e=this;return this._store.withTxn(function(){e._store.items.forEach(function(t){t.highlighted&&(e._store.dispatch(pe(t,!1)),e.passedElement.triggerEvent(A.highlightItem,e._getChoiceForOutput(t)))})}),this},s.prototype.removeActiveItemsByValue=function(e){var t=this;return this._store.withTxn(function(){t._store.items.filter(function(i){return i.value===e}).forEach(function(i){return t._removeItem(i)})}),this},s.prototype.removeActiveItems=function(e){var t=this;return this._store.withTxn(function(){t._store.items.filter(function(i){var n=i.id;return n!==e}).forEach(function(i){return t._removeItem(i)})}),this},s.prototype.removeHighlightedItems=function(e){var t=this;return e===void 0&&(e=!1),this._store.withTxn(function(){t._store.highlightedActiveItems.forEach(function(i){t._removeItem(i),e&&t._triggerChange(i.value)})}),this},s.prototype.showDropdown=function(e){var t=this;return this.dropdown.isActive?this:(e===void 0&&(e=!this._canSearch),requestAnimationFrame(function(){t.dropdown.show();var i=t.dropdown.element.getBoundingClientRect();t.containerOuter.open(i.bottom,i.height),e||t.input.focus(),t.passedElement.triggerEvent(A.showDropdown)}),this)},s.prototype.hideDropdown=function(e){var t=this;return this.dropdown.isActive?(requestAnimationFrame(function(){t.dropdown.hide(),t.containerOuter.close(),!e&&t._canSearch&&(t.input.removeActiveDescendant(),t.input.blur()),t.passedElement.triggerEvent(A.hideDropdown)}),this):this},s.prototype.getValue=function(e){var t=this,i=this._store.items.map(function(n){return e?n.value:t._getChoiceForOutput(n)});return this._isSelectOneElement||this.config.singleModeForMultiSelect?i[0]:i},s.prototype.setValue=function(e){var t=this;return this.initialisedOK?(this._store.withTxn(function(){e.forEach(function(i){i&&t._addChoice(O(i,!1))})}),this._searcher.reset(),this):(this._warnChoicesInitFailed("setValue"),this)},s.prototype.setChoiceByValue=function(e){var t=this;return this.initialisedOK?this._isTextElement?this:(this._store.withTxn(function(){var i=Array.isArray(e)?e:[e];i.forEach(function(n){return t._findAndSelectChoiceByValue(n)}),t.unhighlightAll()}),this._searcher.reset(),this):(this._warnChoicesInitFailed("setChoiceByValue"),this)},s.prototype.setChoices=function(e,t,i,n,o,r){var a=this;if(e===void 0&&(e=[]),t===void 0&&(t="value"),i===void 0&&(i="label"),n===void 0&&(n=!1),o===void 0&&(o=!0),r===void 0&&(r=!1),!this.initialisedOK)return this._warnChoicesInitFailed("setChoices"),this;if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if(typeof t!="string"||!t)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(typeof e=="function"){var l=e(this);if(typeof Promise=="function"&&l instanceof Promise)return new Promise(function(h){return requestAnimationFrame(h)}).then(function(){return a._handleLoadingState(!0)}).then(function(){return l}).then(function(h){return a.setChoices(h,t,i,n,o,r)}).catch(function(h){a.config.silent||console.error(h)}).then(function(){return a._handleLoadingState(!1)}).then(function(){return a});if(!Array.isArray(l))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof l));return this.setChoices(l,t,i,!1)}if(!Array.isArray(e))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._store.withTxn(function(){o&&(a._isSearching=!1),n&&a.clearChoices(!0,r);var h=t==="value",c=i==="label";e.forEach(function(u){if("choices"in u){var f=u;c||(f=x(x({},f),{label:f[i]})),a._addGroup(O(f,!0))}else{var p=u;(!c||!h)&&(p=x(x({},p),{value:p[t],label:p[i]}));var d=O(p,!1);a._addChoice(d),d.placeholder&&!a._hasNonChoicePlaceholder&&(a._placeholderValue=At(d.label))}}),a.unhighlightAll()}),this._searcher.reset(),this},s.prototype.refresh=function(e,t,i){var n=this;return e===void 0&&(e=!1),t===void 0&&(t=!1),i===void 0&&(i=!1),this._isSelectElement?(this._store.withTxn(function(){var o=n.passedElement.optionsAsChoices(),r={};i||n._store.items.forEach(function(l){l.id&&l.active&&l.selected&&(r[l.value]=!0)}),n.clearStore(!1);var a=function(l){i?n._store.dispatch(nt(l)):r[l.value]&&(l.selected=!0)};o.forEach(function(l){if("choices"in l){l.choices.forEach(a);return}a(l)}),n._addPredefinedChoices(o,t,e),n._isSearching&&n._searchChoices(n.input.value)}),this):(this.config.silent||console.warn("refresh method can only be used on choices backed by a <select> element"),this)},s.prototype.removeChoice=function(e){var t=this._store.choices.find(function(i){return i.value===e});return t?(this._clearNotice(),this._store.dispatch(ti(t)),this._searcher.reset(),t.selected&&this.passedElement.triggerEvent(A.removeItem,this._getChoiceForOutput(t)),this):this},s.prototype.clearChoices=function(e,t){var i=this;return e===void 0&&(e=!0),t===void 0&&(t=!1),e&&(t?this.passedElement.element.replaceChildren(""):this.passedElement.element.querySelectorAll(":not([selected])").forEach(function(n){n.remove()})),this.itemList.element.replaceChildren(""),this.choiceList.element.replaceChildren(""),this._clearNotice(),this._store.withTxn(function(){var n=t?[]:i._store.items;i._store.reset(),n.forEach(function(o){i._store.dispatch(it(o)),i._store.dispatch(st(o))})}),this._searcher.reset(),this},s.prototype.clearStore=function(e){return e===void 0&&(e=!0),this.clearChoices(e,!0),this._stopSearch(),this._lastAddedChoiceId=0,this._lastAddedGroupId=0,this},s.prototype.clearInput=function(){var e=!this._isSelectOneElement;return this.input.clear(e),this._stopSearch(),this},s.prototype._validateConfig=function(){var e=this.config,t=fi(e,ct);t.length&&console.warn("Unknown config option(s) passed",t.join(", ")),e.allowHTML&&e.allowHtmlUserInput&&(e.addItems&&console.warn("Warning: allowHTML/allowHtmlUserInput/addItems all being true is strongly not recommended and may lead to XSS attacks"),e.addChoices&&console.warn("Warning: allowHTML/allowHtmlUserInput/addChoices all being true is strongly not recommended and may lead to XSS attacks"))},s.prototype._render=function(e){e===void 0&&(e={choices:!0,groups:!0,items:!0}),!this._store.inTxn()&&(this._isSelectElement&&(e.choices||e.groups)&&this._renderChoices(),e.items&&this._renderItems())},s.prototype._renderChoices=function(){var e=this;if(this._canAddItems()){var t=this,i=t.config,n=t._isSearching,o=this._store,r=o.activeGroups,a=o.activeChoices,l=0;if(n&&i.searchResultLimit>0?l=i.searchResultLimit:i.renderChoiceLimit>0&&(l=i.renderChoiceLimit),this._isSelectElement){var h=a.filter(function(d){return!d.element});h.length&&this.passedElement.addOptions(h)}var c=document.createDocumentFragment(),u=function(d){return d.filter(function(m){return!m.placeholder&&(n?!!m.rank:i.renderSelectedChoices||!m.selected)})},f=!1,p=function(d,m,_){n?d.sort(ui):i.shouldSort&&d.sort(i.sorter);var y=d.length;y=!m&&l&&y>l?l:y,y--,d.every(function(S,k){var U=S.choiceEl||e._templates.choice(i,S,i.itemSelectText,_);return S.choiceEl=U,c.appendChild(U),(n||!S.selected)&&(f=!0),k<y})};a.length&&(i.resetScrollPosition&&requestAnimationFrame(function(){return e.choiceList.scrollToTop()}),!this._hasNonChoicePlaceholder&&!n&&this._isSelectOneElement&&p(a.filter(function(d){return d.placeholder&&!d.group}),!1,void 0),r.length&&!n?(i.shouldSort&&r.sort(i.sorter),p(a.filter(function(d){return!d.placeholder&&!d.group}),!1,void 0),r.forEach(function(d){var m=u(d.choices);if(m.length){if(d.label){var _=d.groupEl||e._templates.choiceGroup(e.config,d);d.groupEl=_,_.remove(),c.appendChild(_)}p(m,!0,i.appendGroupInSearch&&n?d.label:void 0)}})):p(u(a),!1,void 0)),!f&&(n||!c.children.length||!i.renderSelectedChoices)&&(this._notice||(this._notice={text:rt(n?i.noResultsText:i.noChoicesText),type:n?w.noResults:w.noChoices}),c.replaceChildren("")),this._renderNotice(c),this.choiceList.element.replaceChildren(c),f&&this._highlightChoice()}},s.prototype._renderItems=function(){var e=this,t=this._store.items||[],i=this.itemList.element,n=this.config,o=document.createDocumentFragment(),r=function(u){return i.querySelector('[data-item][data-id="'.concat(u.id,'"]'))},a=function(u){var f=u.itemEl;f&&f.parentElement||(f=r(u)||e._templates.item(n,u,n.removeItemButton),u.itemEl=f,o.appendChild(f))};t.forEach(a);var l=!!o.childNodes.length;if(this._isSelectOneElement){var h=i.children.length;if(l||h>1){var c=i.querySelector(oe(n.classNames.placeholder));c&&c.remove()}else!l&&!h&&this._placeholderValue&&(l=!0,a(O({selected:!0,value:"",label:this._placeholderValue,placeholder:!0},!1)))}l&&(i.append(o),n.shouldSortItems&&!this._isSelectOneElement&&(t.sort(n.sorter),t.forEach(function(u){var f=r(u);f&&(f.remove(),o.append(f))}),i.append(o))),this._isTextElement&&(this.passedElement.value=t.map(function(u){var f=u.value;return f}).join(n.delimiter))},s.prototype._displayNotice=function(e,t,i){i===void 0&&(i=!0);var n=this._notice;if(n&&(n.type===t&&n.text===e||n.type===w.addChoice&&(t===w.noResults||t===w.noChoices))){i&&this.showDropdown(!0);return}this._clearNotice(),this._notice=e?{text:e,type:t}:void 0,this._renderNotice(),i&&e&&this.showDropdown(!0)},s.prototype._clearNotice=function(){if(this._notice){var e=this.choiceList.element.querySelector(oe(this.config.classNames.notice));e&&e.remove(),this._notice=void 0}},s.prototype._renderNotice=function(e){var t=this._notice;if(t){var i=this._templates.notice(this.config,t.text,t.type);e?e.append(i):this.choiceList.prepend(i)}},s.prototype._getChoiceForOutput=function(e,t){return{id:e.id,highlighted:e.highlighted,labelClass:e.labelClass,labelDescription:e.labelDescription,customProperties:e.customProperties,disabled:e.disabled,active:e.active,label:e.label,placeholder:e.placeholder,value:e.value,groupValue:e.group?e.group.label:void 0,element:e.element,keyCode:t}},s.prototype._triggerChange=function(e){e!=null&&this.passedElement.triggerEvent(A.change,{value:e})},s.prototype._handleButtonAction=function(e){var t=this,i=this._store.items;if(!(!i.length||!this.config.removeItems||!this.config.removeItemButton)){var n=e&&Oe(e.parentElement),o=n&&i.find(function(r){return r.id===n});o&&this._store.withTxn(function(){if(t._removeItem(o),t._triggerChange(o.value),t._isSelectOneElement&&!t._hasNonChoicePlaceholder){var r=(t.config.shouldSort?t._store.choices.reverse():t._store.choices).find(function(a){return a.placeholder});r&&(t._addItem(r),t.unhighlightAll(),r.value&&t._triggerChange(r.value))}})}},s.prototype._handleItemAction=function(e,t){var i=this;t===void 0&&(t=!1);var n=this._store.items;if(!(!n.length||!this.config.removeItems||this._isSelectOneElement)){var o=Oe(e);o&&(n.forEach(function(r){r.id===o&&!r.highlighted?i.highlightItem(r):!t&&r.highlighted&&i.unhighlightItem(r)}),this.input.focus())}},s.prototype._handleChoiceAction=function(e){var t=this,i=Oe(e),n=i&&this._store.getChoiceById(i);if(!n||n.disabled)return!1;var o=this.dropdown.isActive;if(!n.selected){if(!this._canAddItems())return!0;this._store.withTxn(function(){t._addItem(n,!0,!0),t.clearInput(),t.unhighlightAll()}),this._triggerChange(n.value)}return o&&this.config.closeDropdownOnSelect&&(this.hideDropdown(!0),this.containerOuter.element.focus()),!0},s.prototype._handleBackspace=function(e){var t=this.config;if(!(!t.removeItems||!e.length)){var i=e[e.length-1],n=e.some(function(o){return o.highlighted});t.editItems&&!n&&i?(this.input.value=i.value,this.input.setWidth(),this._removeItem(i),this._triggerChange(i.value)):(n||this.highlightItem(i,!1),this.removeHighlightedItems(!0))}},s.prototype._loadChoices=function(){var e,t=this,i=this.config;if(this._isTextElement){if(this._presetChoices=i.items.map(function(r){return O(r,!1)}),this.passedElement.value){var n=this.passedElement.value.split(i.delimiter).map(function(r){return O(r,!1,t.config.allowHtmlUserInput)});this._presetChoices=this._presetChoices.concat(n)}this._presetChoices.forEach(function(r){r.selected=!0})}else if(this._isSelectElement){this._presetChoices=i.choices.map(function(r){return O(r,!0)});var o=this.passedElement.optionsAsChoices();o&&(e=this._presetChoices).push.apply(e,o)}},s.prototype._handleLoadingState=function(e){e===void 0&&(e=!0);var t=this.itemList.element;e?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?t.replaceChildren(this._templates.placeholder(this.config,this.config.loadingText)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?(t.replaceChildren(""),this._render()):this.input.placeholder=this._placeholderValue||"")},s.prototype._handleSearch=function(e){if(this.input.isFocussed)if(e!==null&&typeof e<"u"&&e.length>=this.config.searchFloor){var t=this.config.searchChoices?this._searchChoices(e):0;t!==null&&this.passedElement.triggerEvent(A.search,{value:e,resultCount:t})}else this._store.choices.some(function(i){return!i.active})&&this._stopSearch()},s.prototype._canAddItems=function(){var e=this.config,t=e.maxItemCount,i=e.maxItemText;return!e.singleModeForMultiSelect&&t>0&&t<=this._store.items.length?(this.choiceList.element.replaceChildren(""),this._notice=void 0,this._displayNotice(typeof i=="function"?i(t):i,w.addChoice),!1):(this._notice&&this._notice.type===w.addChoice&&this._clearNotice(),!0)},s.prototype._canCreateItem=function(e){var t=this.config,i=!0,n="";if(i&&typeof t.addItemFilter=="function"&&!t.addItemFilter(e)&&(i=!1,n=le(t.customAddItemText,e)),i){var o=this._store.choices.find(function(r){return t.valueComparer(r.value,e)});if(o){if(this._isSelectElement)return this._displayNotice("",w.addChoice),!1;t.duplicateItemsAllowed||(i=!1,n=le(t.uniqueItemText,e))}}return i&&(n=le(t.addItemText,e)),n&&this._displayNotice(n,w.addChoice),i},s.prototype._searchChoices=function(e){var t=e.trim().replace(/\s{2,}/," ");if(!t.length||t===this._currentValue)return null;var i=this._searcher;i.isEmptyIndex()&&i.index(this._store.searchableChoices);var n=i.search(t);this._currentValue=t,this._highlightPosition=0,this._isSearching=!0;var o=this._notice,r=o&&o.type;return r!==w.addChoice&&(n.length?this._clearNotice():this._displayNotice(rt(this.config.noResultsText),w.noResults)),this._store.dispatch(ii(n)),n.length},s.prototype._stopSearch=function(){this._isSearching&&(this._currentValue="",this._isSearching=!1,this._clearNotice(),this._store.dispatch(si(!0)),this.passedElement.triggerEvent(A.search,{value:"",resultCount:0}))},s.prototype._addEventListeners=function(){var e=this._docRoot,t=this.containerOuter.element,i=this.input.element;e.addEventListener("touchend",this._onTouchEnd,!0),t.addEventListener("keydown",this._onKeyDown,!0),t.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("click",this._onClick,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(t.addEventListener("focus",this._onFocus,{passive:!0}),t.addEventListener("blur",this._onBlur,{passive:!0})),i.addEventListener("keyup",this._onKeyUp,{passive:!0}),i.addEventListener("input",this._onInput,{passive:!0}),i.addEventListener("focus",this._onFocus,{passive:!0}),i.addEventListener("blur",this._onBlur,{passive:!0}),i.form&&i.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},s.prototype._removeEventListeners=function(){var e=this._docRoot,t=this.containerOuter.element,i=this.input.element;e.removeEventListener("touchend",this._onTouchEnd,!0),t.removeEventListener("keydown",this._onKeyDown,!0),t.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("click",this._onClick),e.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur)),i.removeEventListener("keyup",this._onKeyUp),i.removeEventListener("input",this._onInput),i.removeEventListener("focus",this._onFocus),i.removeEventListener("blur",this._onBlur),i.form&&i.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},s.prototype._onKeyDown=function(e){var t=e.keyCode,i=this.dropdown.isActive,n=e.key.length===1||e.key.length===2&&e.key.charCodeAt(0)>=55296||e.key==="Unidentified";switch(!this._isTextElement&&!i&&t!==C.ESC_KEY&&t!==C.TAB_KEY&&t!==C.SHIFT_KEY&&(this.showDropdown(),!this.input.isFocussed&&n&&(this.input.value+=e.key,e.key===" "&&e.preventDefault())),t){case C.A_KEY:return this._onSelectKey(e,this.itemList.element.hasChildNodes());case C.ENTER_KEY:return this._onEnterKey(e,i);case C.ESC_KEY:return this._onEscapeKey(e,i);case C.UP_KEY:case C.PAGE_UP_KEY:case C.DOWN_KEY:case C.PAGE_DOWN_KEY:return this._onDirectionKey(e,i);case C.DELETE_KEY:case C.BACK_KEY:return this._onDeleteKey(e,this._store.items,this.input.isFocussed)}},s.prototype._onKeyUp=function(){this._canSearch=this.config.searchEnabled},s.prototype._onInput=function(){var e=this.input.value;if(!e){this._isTextElement?this.hideDropdown(!0):this._stopSearch();return}this._canAddItems()&&(this._canSearch&&this._handleSearch(e),this._canAddUserChoices&&(this._canCreateItem(e),this._isSelectElement&&(this._highlightPosition=0,this._highlightChoice())))},s.prototype._onSelectKey=function(e,t){if((e.ctrlKey||e.metaKey)&&t){this._canSearch=!1;var i=this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement;i&&this.highlightAll()}},s.prototype._onEnterKey=function(e,t){var i=this,n=this.input.value,o=e.target;if(e.preventDefault(),o&&o.hasAttribute("data-button")){this._handleButtonAction(o);return}if(!t){(this._isSelectElement||this._notice)&&this.showDropdown();return}var r=this.dropdown.element.querySelector(oe(this.config.classNames.highlightedState));if(!(r&&this._handleChoiceAction(r))){if(!o||!n){this.hideDropdown(!0);return}if(this._canAddItems()){var a=!1;this._store.withTxn(function(){if(a=i._findAndSelectChoiceByValue(n,!0),!a){if(!i._canAddUserChoices||!i._canCreateItem(n))return;i._addChoice(O(n,!1,i.config.allowHtmlUserInput),!0,!0),a=!0}i.clearInput(),i.unhighlightAll()}),a&&(this._triggerChange(n),this.config.closeDropdownOnSelect&&this.hideDropdown(!0))}}},s.prototype._onEscapeKey=function(e,t){t&&(e.stopPropagation(),this.hideDropdown(!0),this._stopSearch(),this.containerOuter.element.focus())},s.prototype._onDirectionKey=function(e,t){var i=e.keyCode;if(t||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var n=i===C.DOWN_KEY||i===C.PAGE_DOWN_KEY?1:-1,o=e.metaKey||i===C.PAGE_DOWN_KEY||i===C.PAGE_UP_KEY,r=void 0;if(o)n>0?r=this.dropdown.element.querySelector("".concat(re,":last-of-type")):r=this.dropdown.element.querySelector(re);else{var a=this.dropdown.element.querySelector(oe(this.config.classNames.highlightedState));a?r=ai(a,re,n):r=this.dropdown.element.querySelector(re)}r&&(li(r,this.choiceList.element,n)||this.choiceList.scrollToChildElement(r,n),this._highlightChoice(r)),e.preventDefault()}},s.prototype._onDeleteKey=function(e,t,i){!this._isSelectOneElement&&!e.target.value&&i&&(this._handleBackspace(t),e.preventDefault())},s.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},s.prototype._onTouchEnd=function(e){var t=(e||e.touches[0]).target,i=this._wasTap&&this.containerOuter.element.contains(t);if(i){var n=t===this.containerOuter.element||t===this.containerInner.element;n&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),e.stopPropagation()}this._wasTap=!0},s.prototype._onMouseDown=function(e){var t=e.target;if(t instanceof HTMLElement){if(Es&&this.choiceList.element.contains(t)){var i=this.choiceList.element.firstElementChild;this._isScrollingOnIe=this._direction==="ltr"?e.offsetX>=i.offsetWidth:e.offsetX<i.offsetLeft}if(t!==this.input.element){var n=t.closest("[data-button],[data-item],[data-choice]");n instanceof HTMLElement&&("button"in n.dataset?this._handleButtonAction(n):"item"in n.dataset?this._handleItemAction(n,e.shiftKey):"choice"in n.dataset&&this._handleChoiceAction(n)),e.preventDefault()}}},s.prototype._onMouseOver=function(e){var t=e.target;t instanceof HTMLElement&&"choice"in t.dataset&&this._highlightChoice(t)},s.prototype._onClick=function(e){var t=e.target,i=this.containerOuter,n=i.element.contains(t);n?!this.dropdown.isActive&&!i.isDisabled?this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),i.element.focus()):this._isSelectOneElement&&t!==this.input.element&&!this.dropdown.element.contains(t)&&this.hideDropdown():(i.removeFocusState(),this.hideDropdown(!0),this.unhighlightAll())},s.prototype._onFocus=function(e){var t=e.target,i=this.containerOuter,n=t&&i.element.contains(t);if(n){var o=t===this.input.element;this._isTextElement?o&&i.addFocusState():this._isSelectMultipleElement?o&&(this.showDropdown(!0),i.addFocusState()):(i.addFocusState(),o&&this.showDropdown(!0))}},s.prototype._onBlur=function(e){var t=e.target,i=this.containerOuter,n=t&&i.element.contains(t);n&&!this._isScrollingOnIe?t===this.input.element?(i.removeFocusState(),this.hideDropdown(!0),(this._isTextElement||this._isSelectMultipleElement)&&this.unhighlightAll()):t===this.containerOuter.element&&(i.removeFocusState(),this._canSearch||this.hideDropdown(!0)):(this._isScrollingOnIe=!1,this.input.element.focus())},s.prototype._onFormReset=function(){var e=this;this._store.withTxn(function(){e.clearInput(),e.hideDropdown(),e.refresh(!1,!1,!0),e._initialItems.length&&e.setChoiceByValue(e._initialItems)})},s.prototype._highlightChoice=function(e){e===void 0&&(e=null);var t=Array.from(this.dropdown.element.querySelectorAll(re));if(t.length){var i=e,n=this.config.classNames.highlightedState,o=Array.from(this.dropdown.element.querySelectorAll(oe(n)));o.forEach(function(r){j(r,n),r.setAttribute("aria-selected","false")}),i?this._highlightPosition=t.indexOf(i):(t.length>this._highlightPosition?i=t[this._highlightPosition]:i=t[t.length-1],i||(i=t[0])),b(i,n),i.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(A.highlightChoice,{el:i}),this.dropdown.isActive&&(this.input.setActiveDescendant(i.id),this.containerOuter.setActiveDescendant(i.id))}},s.prototype._addItem=function(e,t,i){if(t===void 0&&(t=!0),i===void 0&&(i=!1),!e.id)throw new TypeError("item.id must be set before _addItem is called for a choice/item");(this.config.singleModeForMultiSelect||this._isSelectOneElement)&&this.removeActiveItems(e.id),this._store.dispatch(st(e)),t&&(this.passedElement.triggerEvent(A.addItem,this._getChoiceForOutput(e)),i&&this.passedElement.triggerEvent(A.choice,this._getChoiceForOutput(e)))},s.prototype._removeItem=function(e){if(e.id){this._store.dispatch(nt(e));var t=this._notice;t&&t.type===w.noChoices&&this._clearNotice(),this.passedElement.triggerEvent(A.removeItem,this._getChoiceForOutput(e))}},s.prototype._addChoice=function(e,t,i){if(t===void 0&&(t=!0),i===void 0&&(i=!1),e.id)throw new TypeError("Can not re-add a choice which has already been added");var n=this.config;if(!(!n.duplicateItemsAllowed&&this._store.choices.find(function(a){return n.valueComparer(a.value,e.value)}))){this._lastAddedChoiceId++,e.id=this._lastAddedChoiceId,e.elementId="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(e.id);var o=n.prependValue,r=n.appendValue;o&&(e.value=o+e.value),r&&(e.value+=r.toString()),(o||r)&&e.element&&(e.element.value=e.value),this._clearNotice(),this._store.dispatch(it(e)),e.selected&&this._addItem(e,t,i)}},s.prototype._addGroup=function(e,t){var i=this;if(t===void 0&&(t=!0),e.id)throw new TypeError("Can not re-add a group which has already been added");this._store.dispatch(ni(e)),e.choices&&(this._lastAddedGroupId++,e.id=this._lastAddedGroupId,e.choices.forEach(function(n){n.group=e,e.disabled&&(n.disabled=!0),i._addChoice(n,t)}))},s.prototype._createTemplates=function(){var e=this,t=this.config.callbackOnCreateTemplates,i={};typeof t=="function"&&(i=t.call(this,ci,ze,Le));var n={};Object.keys(this._templates).forEach(function(o){o in i?n[o]=i[o].bind(e):n[o]=e._templates[o].bind(e)}),this._templates=n},s.prototype._createElements=function(){var e=this._templates,t=this,i=t.config,n=t._isSelectOneElement,o=i.position,r=i.classNames,a=this._elementType;this.containerOuter=new at({element:e.containerOuter(i,this._direction,this._isSelectElement,n,i.searchEnabled,a,i.labelId),classNames:r,type:a,position:o}),this.containerInner=new at({element:e.containerInner(i),classNames:r,type:a,position:o}),this.input=new bi({element:e.input(i,this._placeholderValue),classNames:r,type:a,preventPaste:!i.paste}),this.choiceList=new lt({element:e.choiceList(i,n)}),this.itemList=new lt({element:e.itemList(i,n)}),this.dropdown=new gi({element:e.dropdown(i),classNames:r,type:a})},s.prototype._createStructure=function(){var e=this,t=e.containerInner,i=e.containerOuter,n=e.passedElement,o=this.dropdown.element;n.conceal(),t.wrap(n.element),i.wrap(t.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":(this._placeholderValue&&(this.input.placeholder=this._placeholderValue),this.input.setWidth()),i.element.appendChild(t.element),i.element.appendChild(o),t.element.appendChild(this.itemList.element),o.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&o.insertBefore(this.input.element,o.firstChild):t.element.appendChild(this.input.element),this._highlightPosition=0,this._isSearching=!1},s.prototype._initStore=function(){var e=this;this._store.subscribe(this._render).withTxn(function(){e._addPredefinedChoices(e._presetChoices,e._isSelectOneElement&&!e._hasNonChoicePlaceholder,!1)}),(!this._store.choices.length||this._isSelectOneElement&&this._hasNonChoicePlaceholder)&&this._render()},s.prototype._addPredefinedChoices=function(e,t,i){var n=this;if(t===void 0&&(t=!1),i===void 0&&(i=!0),t){var o=e.findIndex(function(r){return r.selected})===-1;o&&e.some(function(r){return r.disabled||"choices"in r?!1:(r.selected=!0,!0)})}e.forEach(function(r){"choices"in r?n._isSelectElement&&n._addGroup(r,i):n._addChoice(r,i)})},s.prototype._findAndSelectChoiceByValue=function(e,t){var i=this;t===void 0&&(t=!1);var n=this._store.choices.find(function(o){return i.config.valueComparer(o.value,e)});return n&&!n.disabled&&!n.selected?(this._addItem(n,!0,t),!0):!1},s.prototype._generatePlaceholderValue=function(){var e=this.config;if(!e.placeholder)return null;if(this._hasNonChoicePlaceholder)return e.placeholderValue;if(this._isSelectElement){var t=this.passedElement.placeholderOption;return t?t.text:null}return null},s.prototype._warnChoicesInitFailed=function(e){if(!this.config.silent)if(this.initialised){if(!this.initialisedOK)throw new TypeError("".concat(e," called for an element which has multiple instances of Choices initialised on it"))}else throw new TypeError("".concat(e," called on a non-initialised instance of Choices"))},s.version="11.1.0",s}();window.GOVUK=window.GOVUK||{};window.GOVUK.Modules=window.GOVUK.Modules||{};(function(s){function e(t){this.module=t}e.prototype.init=function(){if(!this.module.matches("select")){console.error("Module is not a select element");return}const t=this.module.querySelector('option[value=""]:first-child');t&&t.textContent===""&&(t.textContent=this.module.multiple?"Select all that apply":"Select one");const i=this.module.getAttribute("aria-describedby")||"";this.choices=new Cs(this.module,{allowHTML:!1,searchPlaceholderValue:"Search in list",shouldSort:!1,itemSelectText:"",searchResultLimit:100,removeItemButton:this.module.multiple,labelId:this.module.id+"-label "+i,callbackOnInit:function(){if(this.dropdown.type==="select-multiple"){const n=this.containerInner.element,o=this.input.element;n.prepend(o)}},fuseOptions:{ignoreLocation:!0,threshold:0}}),this.module.choices=this.choices},s.SelectWithSearch=e})(window.GOVUK.Modules);window.GOVUK.Modules.SelectWithSearch;window.GOVUK=window.GOVUK||{};window.GOVUK.Modules=window.GOVUK.Modules||{};(function(s){function e(t){this.module=t}e.prototype.init=function(){if(!this.module.matches("select")){console.error("AutoSubmit module must be applied to a select element");return}const t=this.module.closest("form");if(!t){console.error("AutoSubmit module requires select to be within a form");return}this.module.addEventListener("change",function(){t.submit()})},s.AutoSubmit=e})(window.GOVUK.Modules);window.GOVUK.Modules.AutoSubmit;Gt();Qt();document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('[data-module="select-with-search"]').forEach(t=>{new window.GOVUK.Modules.SelectWithSearch(t).init()}),document.querySelectorAll('[data-module="auto-submit"]').forEach(t=>{new window.GOVUK.Modules.AutoSubmit(t).init()})});window.FilterToggleButton=$e;window.dispatchEvent(new Event("FilterToggleButtonReady"));
