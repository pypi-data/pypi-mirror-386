## ÂÆüÈöõ„ÅÆ„Éá„Éº„Çø„ÇíÁî®„ÅÑ„ÅüÊßãÈÄ†ÂåñÂá¶ÁêÜ„ÅÆÂÆüË£ÖÊñπÊ≥ï

„Åì„ÅÆ„Éâ„Ç≠„É•„É°„É≥„Éà„ÅØ„ÄÅRigaku„ÅÆXÁ∑öÂõûÊäòË£ÖÁΩÆÔºàXRDÔºâ„Åã„ÇâÂá∫Âäõ„Åï„Çå„ÇãRAS„Éï„Ç°„Ç§„É´„ÇíÂá¶ÁêÜ„Åó„ÄÅRDE„Å´ÁôªÈå≤„Åô„Çã„Åü„ÇÅ„ÅÆÊßãÈÄ†ÂåñÂá¶ÁêÜ„Çí„ÄÅRDEToolKit„É©„Ç§„Éñ„É©„É™„Çí‰ΩøÁî®„Åó„Å¶ÊßãÁØâ„Åô„ÇãÊñπÊ≥ï„ÇíË™¨Êòé„Åó„Åæ„Åô„ÄÇ

## „Éá„Éº„ÇøÂà©Áî®„Å´Èñ¢„Åô„ÇãË¨ùËæû

Êú¨„Éâ„Ç≠„É•„É°„É≥„Éà„Åß‰ΩøÁî®„Åô„Çã„Çµ„É≥„Éó„É´„Éá„Éº„Çø„Åä„Çà„Å≥Èñ¢ÈÄ£„Åô„ÇãÊäÄË°ìÊÉÖÂ†±„ÅØ„ÄÅÂõΩÁ´ãÁ†îÁ©∂ÈñãÁô∫Ê≥ï‰∫∫Áâ©Ë≥™„ÉªÊùêÊñôÁ†îÁ©∂Ê©üÊßãÔºàNIMSÔºâ„ÅÆ„ÄåNIMS Materials Data Conversion Tools (M-DaC)„Äç„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Åã„ÇâÊèê‰æõ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇM-DaC„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅØ„ÄÅË®àÊ∏¨Ê©üÂô®„É°„Éº„Ç´„Éº„Å®„ÅÆÂçîÂäõ„Å´„Çà„ÇäÈñãÁô∫„Åï„Çå„Åü„ÄÅÂÆüÈ®ì„Éá„Éº„Çø„ÅÆÂäπÁéáÁöÑ„Å™ÂèéÈõÜ„Å®È´ò‰ªòÂä†‰æ°ÂÄ§Âåñ„ÇíÁõÆÁöÑ„Å®„Åó„ÅüÊäÄË°ìÈñãÁô∫„ÅÆÊàêÊûú„Åß„Åô„ÄÇ

Ë¨ùËæûÔºö

- „Éá„Éº„ÇøÊèê‰æõ: ÂõΩÁ´ãÁ†îÁ©∂ÈñãÁô∫Ê≥ï‰∫∫Áâ©Ë≥™„ÉªÊùêÊñôÁ†îÁ©∂Ê©üÊßãÔºàNIMSÔºâ
- „Éó„É≠„Ç∏„Çß„ÇØ„Éà: NIMS Materials Data Conversion Tools (M-DaC) for XRD
- ÂÖ±ÂêåÈñãÁô∫: Ê†™Âºè‰ºöÁ§æ„É™„Ç¨„ÇØ
- „É©„Ç§„Çª„É≥„Çπ: MIT License
- ÂºïÁî®: H. Nagao, S. Matsunami, M. Suzuki, and H. Yoshikawa: "NIMS Materials Data Conversion Tools (M-DaC) ver 1.1"

„Åì„ÅÆ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅÆÊàêÊûú„ÇíÊ¥ªÁî®„Åô„Çã„Åì„Å®„Åß„ÄÅÂÆüÈöõ„ÅÆÁ†îÁ©∂ÁèæÂ†¥„Åß‰ΩøÁî®„Åï„Çå„Å¶„ÅÑ„Çã„Éá„Éº„ÇøÂΩ¢Âºè„Å´Âü∫„Å•„ÅÑ„ÅüÂÆüË∑µÁöÑ„Å™Â≠¶Áøí„ÅåÂèØËÉΩ„Å´„Å™„Çä„Åæ„Åô„ÄÇNIMS„Åä„Çà„Å≥Èñ¢ÈÄ£„Åô„Çã„Åô„Åπ„Å¶„ÅÆÁ†îÁ©∂ËÄÖ„ÉªÊäÄË°ìËÄÖ„ÅÆÁöÜÊßò„Å´Ê∑±„ÅèÊÑüË¨ù„ÅÑ„Åü„Åó„Åæ„Åô„ÄÇ

### RAS„Éï„Ç°„Ç§„É´„Å´„Å§„ÅÑ„Å¶

#### „Éá„Éº„ÇøÂΩ¢Âºè„ÅÆÁâπÂæ¥

RAS„Éï„Ç°„Ç§„É´ÔºàRigakuÔºâ„ÅØ„ÄÅRigakuÁ§æ„ÅÆXÁ∑öÂõûÊäòË£ÖÁΩÆSmartLab„Å™„Å©„Åã„ÇâÂá∫Âäõ„Åï„Çå„ÇãÊ®ôÊ∫ñÁöÑ„Å™„Éá„Éº„ÇøÂΩ¢Âºè„Åß„Åô„ÄÇ‰ª•‰∏ã„ÅÆÁâπÂæ¥„Åå„ÅÇ„Çä„Åæ„ÅôÔºö

- ASCIIÂΩ¢Âºè: „ÉÜ„Ç≠„Çπ„Éà„Éô„Éº„Çπ„ÅÆ„Éï„Ç°„Ç§„É´ÂΩ¢Âºè„Åß„ÄÅ‰∫∫Èñì„ÅåË™≠„ÇÅ„ÇãÂΩ¢Âºè
- ÊßãÈÄ†Âåñ„Åï„Çå„Åü„É°„Çø„Éá„Éº„Çø: Ê∏¨ÂÆöÊù°‰ª∂„ÄÅË£ÖÁΩÆË®≠ÂÆö„ÄÅ„Çµ„É≥„Éó„É´ÊÉÖÂ†±„Å™„Å©„Åå‰ΩìÁ≥ªÁöÑ„Å´Ë®òÈå≤
- 3Âàó„Éá„Éº„Çø: ËßíÂ∫¶„ÄÅÂº∑Â∫¶„ÄÅÊ∏õË°∞Ë£úÊ≠£‰øÇÊï∞„ÅÆ3Âàó„ÅßÊßãÊàê„Åï„Çå„ÇãÊ∏¨ÂÆö„Éá„Éº„Çø
- Âå∫Âàá„ÇäÊñáÂ≠ó: „Ç¢„Çπ„Çø„É™„Çπ„ÇØÔºà*Ôºâ„ÅßÂßã„Åæ„ÇãË°å„Åå„É°„Çø„Éá„Éº„Çø„Å®„Ç≥„É°„É≥„Éà„ÇíÁ§∫„Åô

#### „Éï„Ç°„Ç§„É´ÊßãÈÄ†

```plaintext
*RAS_DATA_START
*FILE_DATETIME 2023-01-15 10:30:00
*SAMPLE_NAME Al2O3_sample
*TARGET_NAME Cu
*TUBE_VOLTAGE 40.0
*TUBE_CURRENT 30.0
*SCAN_MODE continuous
*SCAN_SPEED 2.0
*SCAN_STEP 0.02
*START_ANGLE 10.0
*STOP_ANGLE 90.0
*RAS_HEADER_START
... (Ë©≥Á¥∞„Å™„É°„Çø„Éá„Éº„Çø)
*RAS_HEADER_END
*RAS_INT_START
10.0000 1200.0000 1.0000
10.0200 1205.0000 1.0000
10.0400 1198.0000 1.0000
... (Ê∏¨ÂÆö„Éá„Éº„Çø)
*RAS_INT_END
*RAS_DATA_END
```

## rdetoolkit„Çí‰Ωø„Å£„Å¶RDEÊßãÈÄ†ÂåñÂá¶ÁêÜ„ÇíÊßãÁØâ„Åô„Çã

### RDEÊßãÈÄ†ÂåñÂá¶ÁêÜ„ÅÆÈñãÁô∫„Éó„É≠„Çª„Çπ

Êú¨„Éâ„Ç≠„É•„É°„É≥„Éà„ÅßÁ§∫„ÅôÈñãÁô∫„Éó„É≠„Çª„Çπ„ÅØ‰∏Ä‰æã„Åß„Åô„ÄÇÂà©Áî®ËÄÖ„ÅÆ„Éã„Éº„Ç∫„Å´Âøú„Åò„Å¶Ë™øÊï¥„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ

```mermaid
flowchart TD
    %% ÂÖ®‰Ωì„ÅÆÂêë„Åç„ÇíÁ∏¶ÔºàTop‚ÜíBottomÔºâ„Å´ÊåáÂÆö
    subgraph RDEÊßãÈÄ†ÂåñÂá¶ÁêÜÈñãÁô∫„Éó„É≠„Çª„Çπ
        direction TB
        style RDEÊßãÈÄ†ÂåñÂá¶ÁêÜÈñãÁô∫„Éó„É≠„Çª„Çπ fill:#f0f4f8,stroke:#333,stroke-width:2px,rx:10,ry:10
    end

    %% „Éé„Éº„Éâ„ÅÆÂÖ±ÈÄö„Çπ„Çø„Ç§„É´ÂÆöÁæ©
    classDef step fill:#cfe2f3,stroke:#333,stroke-width:1.5px,rx:5,ry:5,font-size:14px;

    %% ÂêÑ„Çπ„ÉÜ„ÉÉ„Éó
    A[üîç ÊäΩÂá∫„Åô„Çã„É°„Çø„Éá„Éº„Çø„ÇíÈÅ∏Êäû„Åô„Çã]:::step --> B[üõ†Ô∏è Áí∞Â¢ÉÊßãÁØâ]:::step
    B --> C[üìÑ ÂøÖË¶Å„Å™„ÉÜ„É≥„Éó„É¨„Éº„Éà„Éï„Ç°„Ç§„É´„Çí‰ΩúÊàê„Åô„Çã]:::step
    C --> D[üíª ÊßãÈÄ†ÂåñÂá¶ÁêÜ„ÇíÈñãÁô∫„Åô„Çã]:::step
    D --> E[‚úÖ Âãï‰ΩúÁ¢∫Ë™ç„Åô„Çã]:::step
```

### RDE„Éá„Éº„ÇøÁôªÈå≤„ÅßÂøÖË¶Å„Å®„Å™„Çã‰∫ãÂâçÂÆöÁæ©„Éï„Ç°„Ç§„É´Áæ§„Å´„Å§„ÅÑ„Å¶

RDE„ÅØÂÜçÂà©Áî®„Å™„Éá„Éº„ÇøÁôªÈå≤„Å´„Åä„ÅÑ„Å¶„ÄÅ‰∏ãË®ò„Éï„Ç°„Ç§„É´„ÅØÂøÖÈ†à„Å®„Å™„Çä„Åæ„Åô„ÄÇ

- `templates/tasksupport/invoice.shcema.json`
- `templates/tasksupport/metadata-def.json`

RDE„ÅØ„ÄÅË®àÊ∏¨Ë£ÖÁΩÆ„Åã„ÇâÂá∫Âäõ„Åï„Çå„Åü„Éï„Ç°„Ç§„É´„ÇÑÊó•„ÄÖ„ÅÆÂÆüÈ®ì„Éá„Éº„Çø„Éï„Ç°„Ç§„É´„Åã„ÇâÊäΩÂá∫„Åô„Çã„Åπ„Åç‰∫ãÂâç„É°„Çø„Éá„Éº„ÇøÂÆöÁæ©„Éï„Ç°„Ç§„É´`metadata-def.json`„Å®„ÄÅ„Çµ„É≥„Éó„É´ÊÉÖÂ†±(ÂêàÊàêÊù°‰ª∂„Å™„Å©)„ÇÑË®àÊ∏¨Êù°‰ª∂„Å™„Å©Êó•„ÄÖ„ÅÆÂÆüÈ®ì„ÅßÂÆöÂûãÁöÑ„Å´Ë®òÈå≤„ÅåÂøÖË¶Å„Å™ÊÉÖÂ†±„Çí„ÄÅ„Éá„Éº„ÇøÂÖ•Âäõ„Éï„Ç©„Éº„É†„ÇíÊüîËªü„Å´„Ç´„Çπ„Çø„Éû„Ç§„Ç∫„Åß„Åç„Çã`invoice.schema.json`„ÄÇ

- „Éá„Éº„ÇøÁôªÈå≤ÊôÇ„Å´„ÄÅ`invoice.schema.json`„Çí‰ΩúÊàê„Åô„Çã„Åì„Å®„Åß„ÄÅÊó•„ÄÖ„ÅÆÂÆüÈ®ì„ÅßÂøÖË¶Å„Å™ÊÉÖÂ†±„Çí„Éá„Éº„ÇøÂÖ•Âäõ„Éï„Ç©„Éº„É†„Å®„Åó„Å¶ÂÆöÁæ©„Åß„Åç„Åæ„Åô„ÄÇ
- „Éá„Éº„ÇøÁôªÈå≤ÊôÇ„Å´„ÄÅ„Éï„Ç°„Ç§„É´„Åã„Çâ„É°„Çø„Éá„Éº„Çø„ÇíËá™ÂãïÁöÑ„Å´ÊäΩÂá∫„Åô„Çã„Åü„ÇÅ„ÅÆ‰∫ãÂâç„Éï„Ç°„Ç§„É´„Çí`metadata-def.json`

„Åï„Çâ„Å´„ÄÅ„Åì„Çå„Çâ„ÅÆ„Éï„Ç°„Ç§„É´Áæ§„ÅØ„ÄÅÂΩìÊ©üÊßã„ÅåÊèê‰æõ„Åô„Çã„Éë„ÉÉ„Ç±„Éº„Ç∏„ÇíÂà©Áî®„Åô„Çã„Åì„Å®„ÅßÁ∞°ÊòìÁöÑ„Å´„Éï„Ç°„Ç§„É´„Çí‰ΩúÊàê„Åô„Çã„Åì„Å®„ÅåÂèØËÉΩ„Åß„Åô„ÄÇ„Åæ„Åü„ÄÅ‰∏äË®ò„ÅÆ„Éï„Ç°„Ç§„É´„Å´Âä†„Åà„Å¶„ÄÅÂÄã‰∫∫„ÅÆÁí∞Â¢É„ÅßÊßãÈÄ†ÂåñÂá¶ÁêÜ„ÇíÊßãÁØâ„Åô„Çã„Åü„ÇÅ„ÅÆ`invoice.json`„ÇÇ‰ΩúÊàêÂèØËÉΩ„Åß„Åô„ÄÇ

- [nims-mdpf/RDE_datasettemplate-schemafile-make-tool - Github](https://github.com/nims-mdpf/RDE_datasettemplate-schemafile-make-tool)

#### ÊäΩÂá∫„Åô„Çã„É°„Çø„Éá„Éº„Çø„ÇíÈÅ∏Êäû„Åô„Çã(metadata-def.json)

ÂÖ•Âäõ„Éá„Éº„Çø„Åã„ÇâÊäΩÂá∫„Åô„Çã„É°„Çø„Éá„Éº„Çø„Çí‰∫ãÂâç„Å´Ê±∫„ÇÅ„Å¶„Åä„Åç„Åæ„Åô„ÄÇÂà©Áî®ËÄÖ„ÇÑ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Å´„Çà„Å£„Å¶„ÄÅ‰∫ãÂâç„Å´ÂÆöÁæ©„Åô„Çã„É°„Çø„Éá„Éº„Çø„ÅÆÊï∞„ÅØÁï∞„Å™„Çä„Åæ„Åô„ÄÇ

‰ªäÂõû„ÅØ„ÄÅÊ∏¨ÂÆöÊù°‰ª∂„ÉªË©¶ÊñôÊÉÖÂ†±„ÉªÊôÇÈñì„Éª„Éà„É¨„Éº„Çµ„Éì„É™„ÉÜ„Ç£„Å®„ÅÑ„ÅÜË¶≥ÁÇπ„Åã„Çâ‰ª•‰∏ã„ÅÆ„É°„Çø„Éá„Éº„Çø„ÇíÊäΩÂá∫„Åô„Çã„Å®„ÅÑ„ÅÜÊñπÈáù„Åß„ÄÅ

**A. Ê∏¨ÂÆöÊù°‰ª∂**ÔºàMeasurement ConditionsÔºâ

```plaintext
*MEAS_COND_XG_VOLTAGE "40"           # ÁÆ°ÈõªÂúßÔºàkVÔºâ
*MEAS_COND_XG_CURRENT "30"           # ÁÆ°ÈõªÊµÅÔºàmAÔºâ
*HW_XG_TARGET_NAME "Cu"              # XÁ∑öÊ∫êÔºàCuÔºâ
*HW_XG_WAVE_LENGTH_ALPHA1 "1.540593" # Ê≥¢Èï∑Œ±1Ôºà√ÖÔºâ
*HW_XG_WAVE_LENGTH_ALPHA2 "1.544414" # Ê≥¢Èï∑Œ±2Ôºà√ÖÔºâ
*MEAS_SCAN_START "25.0000"           # Ê∏¨ÂÆöÈñãÂßãËßíÂ∫¶
*MEAS_SCAN_STOP "60.0000"            # Ê∏¨ÂÆöÁµÇ‰∫ÜËßíÂ∫¶
*MEAS_SCAN_STEP "0.0100"             # Ê∏¨ÂÆö„Çπ„ÉÜ„ÉÉ„Éó
*MEAS_SCAN_SPEED "8.0000"            # Ê∏¨ÂÆöÈÄüÂ∫¶Ôºàdeg/minÔºâ
*MEAS_SCAN_MODE "CONTINUOUS"         # Ê∏¨ÂÆö„É¢„Éº„Éâ
```

**B. Ë©¶ÊñôÊÉÖÂ†±**ÔºàSample InformationÔºâ

```plaintext
*FILE_SAMPLE "Test Sample"           # Ë©¶ÊñôÂêç
*FILE_COMMENT "XRD example"          # „Ç≥„É°„É≥„Éà
*FILE_MEMO "Rigaku XRD memo"         # „É°„É¢
*FILE_OPERATOR "English"             # Êìç‰ΩúËÄÖ
*FILE_USERGROUP "Academic"           # „É¶„Éº„Ç∂„Éº„Ç∞„É´„Éº„Éó
```

**C. ÊôÇÈñì„Éª„Éà„É¨„Éº„Çµ„Éì„É™„ÉÜ„Ç£**ÔºàTemporal & TraceabilityÔºâ

```plaintext
*MEAS_SCAN_START_TIME "11/21/2017 08:32:31" # Ê∏¨ÂÆöÈñãÂßãÊôÇÂàª
*MEAS_SCAN_END_TIME "11/21/2017 08:37:42"   # Ê∏¨ÂÆöÁµÇ‰∫ÜÊôÇÂàª
*MEAS_DATA_COUNT "3501"                     # „Éá„Éº„ÇøÁÇπÊï∞
*FILE_VERSION "1"                           # „Éï„Ç°„Ç§„É´„Éê„Éº„Ç∏„Éß„É≥
```

„Åì„Çå„Çâ„ÅÆÊÉÖÂ†±„Çí„ÇÇ„Å®„Å´„ÄÅ`metadata-def.json`„Å´‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´ÂÆöÁæ©„Åó„Åæ„Åô„ÄÇ

> Èï∑Êñá„ÅÆ„Åü„ÇÅ‰∏ÄÊñáÊäúÁ≤ã„Åó„Å¶Ë°®Á§∫„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ

```json
{
    "file_sample": {
        "name": {
            "ja": "Ë©¶ÊñôÂêç",
            "en": "Sample Name"
        },
        "schema": {
            "type": "string"
        }
    },
    "file_comment": {
        "name": {
            "ja": "„Éï„Ç°„Ç§„É´„Ç≥„É°„É≥„Éà",
            "en": "File Comment"
        },
        "schema": {
            "type": "string"
        }
    },
    ...
}
```

<details>
<summary>Click to view the full `metadata-def.json`</summary>

```json
{
    "file_sample": {
        "name": {
            "ja": "Ë©¶ÊñôÂêç",
            "en": "Sample Name"
        },
        "schema": {
            "type": "string"
        }
    },
    "file_comment": {
        "name": {
            "ja": "„Éï„Ç°„Ç§„É´„Ç≥„É°„É≥„Éà",
            "en": "File Comment"
        },
        "schema": {
            "type": "string"
        }
    },
    "file_memo": {
        "name": {
            "ja": "„Éï„Ç°„Ç§„É´„É°„É¢",
            "en": "File Memo"
        },
        "schema": {
            "type": "string"
        }
    },
    "file_operator": {
        "name": {
            "ja": "Êìç‰ΩúËÄÖ",
            "en": "Operator"
        },
        "schema": {
            "type": "string"
        }
    },
    "file_usergroup": {
        "name": {
            "ja": "„É¶„Éº„Ç∂„Éº„Ç∞„É´„Éº„Éó",
            "en": "User Group"
        },
        "schema": {
            "type": "string"
        }
    },
    "file_version": {
        "name": {
            "ja": "„Éï„Ç°„Ç§„É´„Éê„Éº„Ç∏„Éß„É≥",
            "en": "File Version"
        },
        "schema": {
            "type": "string"
        }
    },
    "hw_xg_target_name": {
        "name": {
            "ja": "XÁ∑ö„Çø„Éº„Ç≤„ÉÉ„ÉàÂêç",
            "en": "X-ray Target Name"
        },
        "schema": {
            "type": "string"
        }
    },
    "hw_xg_target_atomic_number": {
        "name": {
            "ja": "„Çø„Éº„Ç≤„ÉÉ„ÉàÂéüÂ≠êÁï™Âè∑",
            "en": "Target Atomic Number"
        },
        "schema": {
            "type": "integer"
        }
    },
    "hw_xg_wave_length_alpha1": {
        "name": {
            "ja": "Ê≥¢Èï∑Œ±1",
            "en": "Wavelength Alpha1"
        },
        "schema": {
            "type": "number"
        }
    },
    "hw_xg_wave_length_alpha2": {
        "name": {
            "ja": "Ê≥¢Èï∑Œ±2",
            "en": "Wavelength Alpha2"
        },
        "schema": {
            "type": "number"
        }
    },
    "hw_xg_wave_length_beta": {
        "name": {
            "ja": "Ê≥¢Èï∑Œ≤",
            "en": "Wavelength Beta"
        },
        "schema": {
            "type": "number"
        }
    },
    "hw_xg_wave_length_unit": {
        "name": {
            "ja": "Ê≥¢Èï∑Âçò‰Ωç",
            "en": "Wavelength Unit"
        },
        "schema": {
            "type": "string"
        }
    },
    "hw_xg_focus": {
        "name": {
            "ja": "XÁ∑ö„Éï„Ç©„Éº„Ç´„Çπ",
            "en": "X-ray Focus"
        },
        "schema": {
            "type": "string"
        }
    },
    "hw_xg_focus_type": {
        "name": {
            "ja": "„Éï„Ç©„Éº„Ç´„Çπ„Çø„Ç§„Éó",
            "en": "Focus Type"
        },
        "schema": {
            "type": "string"
        }
    },
    "meas_cond_xg_voltage": {
        "name": {
            "ja": "ÁÆ°ÈõªÂúß",
            "en": "Tube Voltage"
        },
        "schema": {
            "type": "number"
        }
    },
    "meas_cond_xg_current": {
        "name": {
            "ja": "ÁÆ°ÈõªÊµÅ",
            "en": "Tube Current"
        },
        "schema": {
            "type": "number"
        }
    },
    "hw_xg_voltage_unit": {
        "name": {
            "ja": "ÈõªÂúßÂçò‰Ωç",
            "en": "Voltage Unit"
        },
        "schema": {
            "type": "string"
        }
    },
    "hw_xg_current_unit": {
        "name": {
            "ja": "ÈõªÊµÅÂçò‰Ωç",
            "en": "Current Unit"
        },
        "schema": {
            "type": "string"
        }
    },
    "meas_scan_start": {
        "name": {
            "ja": "Ê∏¨ÂÆöÈñãÂßãËßíÂ∫¶",
            "en": "Scan Start Angle"
        },
        "schema": {
            "type": "number"
        }
    },
    "meas_scan_stop": {
        "name": {
            "ja": "Ê∏¨ÂÆöÁµÇ‰∫ÜËßíÂ∫¶",
            "en": "Scan Stop Angle"
        },
        "schema": {
            "type": "number"
        }
    },
    "meas_scan_step": {
        "name": {
            "ja": "Ê∏¨ÂÆö„Çπ„ÉÜ„ÉÉ„Éó",
            "en": "Scan Step"
        },
        "schema": {
            "type": "number"
        }
    },
    "meas_scan_speed": {
        "name": {
            "ja": "Ê∏¨ÂÆöÈÄüÂ∫¶",
            "en": "Scan Speed"
        },
        "schema": {
            "type": "number"
        }
    },
    "meas_scan_speed_unit": {
        "name": {
            "ja": "Ê∏¨ÂÆöÈÄüÂ∫¶Âçò‰Ωç",
            "en": "Scan Speed Unit"
        },
        "schema": {
            "type": "string"
        }
    },
    "meas_scan_mode": {
        "name": {
            "ja": "Ê∏¨ÂÆö„É¢„Éº„Éâ",
            "en": "Scan Mode"
        },
        "schema": {
            "type": "string"
        }
    },
    "meas_scan_unit_x": {
        "name": {
            "ja": "XËª∏Âçò‰Ωç",
            "en": "X-axis Unit"
        },
        "schema": {
            "type": "string"
        }
    },
    "meas_scan_unit_y": {
        "name": {
            "ja": "YËª∏Âçò‰Ωç",
            "en": "Y-axis Unit"
        },
        "schema": {
            "type": "string"
        }
    },
    "meas_scan_axis_x": {
        "name": {
            "ja": "Ê∏¨ÂÆöËª∏X",
            "en": "Scan Axis X"
        },
        "schema": {
            "type": "string"
        }
    },
    "meas_scan_resolution_x": {
        "name": {
            "ja": "XËª∏ÂàÜËß£ËÉΩ",
            "en": "X-axis Resolution"
        },
        "schema": {
            "type": "number"
        }
    },
    "meas_data_count": {
        "name": {
            "ja": "„Éá„Éº„ÇøÁÇπÊï∞",
            "en": "Data Count"
        },
        "schema": {
            "type": "integer"
        }
    },
    "meas_scan_start_time": {
        "name": {
            "ja": "Ê∏¨ÂÆöÈñãÂßãÊôÇÂàª",
            "en": "Scan Start Time"
        },
        "schema": {
            "type": "string",
            "format": "date-time"
        }
    },
    "meas_scan_end_time": {
        "name": {
            "ja": "Ê∏¨ÂÆöÁµÇ‰∫ÜÊôÇÂàª",
            "en": "Scan End Time"
        },
        "schema": {
            "type": "string",
            "format": "date-time"
        }
    },
    "hw_goniometer_name": {
        "name": {
            "ja": "„Ç¥„Éã„Ç™„É°„Éº„ÇøÂêç",
            "en": "Goniometer Name"
        },
        "schema": {
            "type": "string"
        }
    },
    "hw_goniometer_id": {
        "name": {
            "ja": "„Ç¥„Éã„Ç™„É°„Éº„ÇøID",
            "en": "Goniometer ID"
        },
        "schema": {
            "type": "string"
        }
    },
    "hw_counter_select_name": {
        "name": {
            "ja": "Ê§úÂá∫Âô®Âêç",
            "en": "Detector Name"
        },
        "schema": {
            "type": "string"
        }
    },
    "hw_counter_pixel_size": {
        "name": {
            "ja": "Ê§úÂá∫Âô®„Éî„ÇØ„Çª„É´„Çµ„Ç§„Ç∫",
            "en": "Detector Pixel Size"
        },
        "schema": {
            "type": "string"
        }
    },
    "hw_attachment_name": {
        "name": {
            "ja": "„Ç¢„Çø„ÉÉ„ÉÅ„É°„É≥„ÉàÂêç",
            "en": "Attachment Name"
        },
        "schema": {
            "type": "string"
        }
    },
    "hw_attachment_id": {
        "name": {
            "ja": "„Ç¢„Çø„ÉÉ„ÉÅ„É°„É≥„ÉàID",
            "en": "Attachment ID"
        },
        "schema": {
            "type": "string"
        }
    },
    "hw_sample_holder_name": {
        "name": {
            "ja": "Ë©¶Êñô„Éõ„É´„ÉÄ„ÉºÂêç",
            "en": "Sample Holder Name"
        },
        "schema": {
            "type": "string"
        }
    },
    "hw_sample_holder_id": {
        "name": {
            "ja": "Ë©¶Êñô„Éõ„É´„ÉÄ„ÉºID",
            "en": "Sample Holder ID"
        },
        "schema": {
            "type": "string"
        }
    },
    "meas_cond_axis_position_incident_slit": {
        "name": {
            "ja": "ÂÖ•Â∞Ñ„Çπ„É™„ÉÉ„Éà",
            "en": "Incident Slit"
        },
        "schema": {
            "type": "string"
        }
    },
    "meas_cond_axis_position_divergence_slit": {
        "name": {
            "ja": "Áô∫Êï£„Çπ„É™„ÉÉ„Éà",
            "en": "Divergence Slit"
        },
        "schema": {
            "type": "string"
        }
    },
    "meas_cond_axis_position_receiving_slit": {
        "name": {
            "ja": "ÂèóÂÖâ„Çπ„É™„ÉÉ„Éà",
            "en": "Receiving Slit"
        },
        "schema": {
            "type": "string"
        }
    },
    "meas_cond_axis_position_soller_slit_incident": {
        "name": {
            "ja": "ÂÖ•Â∞ÑÂÅ¥„ÇΩ„Éº„É©„Éº„Çπ„É™„ÉÉ„Éà",
            "en": "Incident Soller Slit"
        },
        "schema": {
            "type": "string"
        }
    },
    "meas_cond_axis_position_soller_slit_receiving": {
        "name": {
            "ja": "ÂèóÂÖâÂÅ¥„ÇΩ„Éº„É©„Éº„Çπ„É™„ÉÉ„Éà",
            "en": "Receiving Soller Slit"
        },
        "schema": {
            "type": "string"
        }
    },
    "meas_cond_axis_position_monochromator": {
        "name": {
            "ja": "„É¢„Éé„ÇØ„É≠„É°„Éº„Çø",
            "en": "Monochromator"
        },
        "schema": {
            "type": "string"
        }
    },
    "meas_cond_axis_position_attenuator": {
        "name": {
            "ja": "„Ç¢„ÉÉ„ÉÜ„Éç„Éº„Çø",
            "en": "Attenuator"
        },
        "schema": {
            "type": "string"
        }
    },
    "meas_cond_axis_position_pha": {
        "name": {
            "ja": "Ê≥¢È´òÂàÜÊûêÂô®",
            "en": "Pulse Height Analyzer"
        },
        "schema": {
            "type": "string"
        }
    },
    "meas_cond_axis_offset_theta_s": {
        "name": {
            "ja": "Œ∏Ë©¶Êñô„Ç™„Éï„Çª„ÉÉ„Éà",
            "en": "Theta Sample Offset"
        },
        "schema": {
            "type": "number"
        }
    },
    "meas_cond_axis_offset_theta_d": {
        "name": {
            "ja": "Œ∏Ê§úÂá∫Âô®„Ç™„Éï„Çª„ÉÉ„Éà",
            "en": "Theta Detector Offset"
        },
        "schema": {
            "type": "number"
        }
    },
    "meas_cond_axis_offset_two_theta": {
        "name": {
            "ja": "2Œ∏„Ç™„Éï„Çª„ÉÉ„Éà",
            "en": "Two Theta Offset"
        },
        "schema": {
            "type": "number"
        }
    },
    "meas_cond_axis_offset_omega": {
        "name": {
            "ja": "œâ„Ç™„Éï„Çª„ÉÉ„Éà",
            "en": "Omega Offset"
        },
        "schema": {
            "type": "number"
        }
    },
    "meas_cond_axis_position_z": {
        "name": {
            "ja": "Z‰ΩçÁΩÆ",
            "en": "Z Position"
        },
        "schema": {
            "type": "number"
        }
    },
    "meas_cond_axis_position_zs": {
        "name": {
            "ja": "Ë©¶ÊñôZ‰ΩçÁΩÆ",
            "en": "Sample Z Position"
        },
        "schema": {
            "type": "number"
        }
    },
    "meas_cond_axis_position_zr": {
        "name": {
            "ja": "ÂèóÂÖâZ‰ΩçÁΩÆ",
            "en": "Receiving Z Position"
        },
        "schema": {
            "type": "number"
        }
    },
    "meas_cond_axis_position_primary_geometry": {
        "name": {
            "ja": "‰∏ÄÊ¨°ÂÖâÂ≠¶Á≥ªÂπæ‰Ωï",
            "en": "Primary Geometry"
        },
        "schema": {
            "type": "string"
        }
    },
    "meas_cond_axis_position_incident_primary": {
        "name": {
            "ja": "ÂÖ•Â∞ÑÂÖâÂ≠¶Á≥ª",
            "en": "Incident Primary"
        },
        "schema": {
            "type": "string"
        }
    },
    "meas_cond_axis_position_receiving_optics": {
        "name": {
            "ja": "ÂèóÂÖâÂÖâÂ≠¶Á≥ª",
            "en": "Receiving Optics"
        },
        "schema": {
            "type": "string"
        }
    },
    "hw_goniometer_radius_0": {
        "name": {
            "ja": "„Ç¥„Éã„Ç™ÂçäÂæÑ0",
            "en": "Goniometer Radius 0"
        },
        "schema": {
            "type": "number"
        }
    },
    "hw_goniometer_radius_1": {
        "name": {
            "ja": "„Ç¥„Éã„Ç™ÂçäÂæÑ1",
            "en": "Goniometer Radius 1"
        },
        "schema": {
            "type": "number"
        }
    },
    "hw_goniometer_radius_2": {
        "name": {
            "ja": "„Ç¥„Éã„Ç™ÂçäÂæÑ2",
            "en": "Goniometer Radius 2"
        },
        "schema": {
            "type": "number"
        }
    },
    "disp_line_color": {
        "name": {
            "ja": "Ë°®Á§∫Á∑öËâ≤",
            "en": "Display Line Color"
        },
        "schema": {
            "type": "string"
        }
    },
    "file_type": {
        "name": {
            "ja": "„Éï„Ç°„Ç§„É´„Çø„Ç§„Éó",
            "en": "File Type"
        },
        "schema": {
            "type": "string"
        }
    },
    "file_part_id": {
        "name": {
            "ja": "„Éï„Ç°„Ç§„É´ÈÉ®ÂìÅID",
            "en": "File Part ID"
        },
        "schema": {
            "type": "string"
        }
    },
    "meas_cond_wave_type": {
        "name": {
            "ja": "XÁ∑öÊ≥¢Èï∑„Çø„Ç§„Éó",
            "en": "X-ray Wave Type"
        },
        "schema": {
            "type": "string"
        }
    },
    "meas_scan_unequaly_spaced": {
        "name": {
            "ja": "‰∏çÁ≠âÈñìÈöî„Çπ„Ç≠„É£„É≥",
            "en": "Unequally Spaced Scan"
        },
        "schema": {
            "type": "boolean"
        }
    }
}
```

</details>

#### ÁôªÈå≤„Éï„Ç©„Éº„É†„Çí„Ç´„Çπ„Çø„Éû„Ç§„Ç∫„Åô„Çã(invoice.schema.json)

invoice.schema.json„ÇíÂ§âÊõ¥„Åô„Çã„Åì„Å®„Åß„ÄÅÁôªÈå≤„Éï„Ç©„Éº„É†„Çí„Ç´„Çπ„Çø„Éû„Ç§„Ç∫„Åß„Åç„Åæ„Åô„ÄÇ‰ªäÂõû„ÅØ„ÄÅÊ∏¨ÂÆöÊ∏©Â∫¶„Çí„Éá„Éº„ÇøÁôªÈå≤ÊôÇ„Å´ÊâãÂÖ•Âäõ„ÅßÁôªÈå≤„Åß„Åç„Çã„Çà„ÅÜ„Å´„Ç´„Çπ„Çø„Éû„Ç§„Ç∫„Åó„Åæ„Åô„ÄÇ‰ª•‰∏ã„ÅØ„ÄÅ`invoice.schema.json`„ÅÆ‰∏ÄÈÉ®‰æã„Åß„Åô„ÄÇ

„ÇÇ„Åó„É≠„Éº„Ç´„É´Áí∞Â¢É„Åß„ÄÅ„Ç´„Çπ„Çø„Éû„Ç§„Ç∫„Åó„ÅüÂÖ•Âäõ„Éï„Ç©„Éº„É†„ÇíÁ¢∫Ë™ç„Åó„Åü„ÅÑÂ†¥Âêà„ÄÅ‰ª•‰∏ã„ÅÆ„Éâ„Ç≠„É•„É°„É≥„Éà„ÇíÂèÇÁÖß„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ

- [template_viewer - nims-mdpf/RDE_datasettemplate-schemafile-make-tool](https://github.com/nims-mdpf/RDE_datasettemplate-schemafile-make-tool/tree/main/template_viewer)

```json
{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "myproject/XRD/project",
  "description": "Âõ∫ÊúâÊÉÖÂ†±„Å®Ë©¶ÊñôÊÉÖÂ†±„ÅÆ„Çπ„Ç≠„Éº„Éû",
  "type": "object",
  "required": [
      "custom",
      "sample"
  ],
  "properties": {
      "custom": {
        "type": "object",
        "label": {
          "ja": "Âõ∫ÊúâÊÉÖÂ†±",
          "en": "Specific Information"
        },
        "required": [],
        "properties": {
          "measurement_temperature": {
              "type": "number",
              "label": {
                "ja": "Ê∏¨ÂÆöÊ∏©Â∫¶",
                "en": "Measurement Temperature"
              },
              "options": {
                "unit": "C"
              }
          }
        }
      },
      "sample": {
        "type": "object",
        "label": {
          "ja": "Ë©¶ÊñôÊÉÖÂ†±",
          "en": "Sample Information"
        },
        "required": [
          "names"
        ],
        "properties": {
          "generalAttributes": {
              "type": "array",
              "items": [
                {
                  "type": "object",
                  "required": [
                      "termId"
                  ],
                  "properties": {
                      "termId": {
                        "const": "3adf9874-7bcb-e5f8-99cb-3d6fd9d7b55e"
                      }
                  }
                },
                {
                  "type": "object",
                  "required": [
                      "termId"
                  ],
                  "properties": {
                      "termId": {
                        "const": "e2d20d02-2e38-2cd3-b1b3-66fdb8a11057"
                      }
                  }
                },
                {
                  "type": "object",
                  "required": [
                      "termId"
                  ],
                  "properties": {
                      "termId": {
                        "const": "efcf34e7-4308-c195-6691-6f4d28ffc9bb"
                      }
                  }
                },
                {
                  "type": "object",
                  "required": [
                      "termId"
                  ],
                  "properties": {
                      "termId": {
                        "const": "7cc57dfb-8b70-4b3a-5315-fbce4cbf73d0"
                      }
                  }
                },
                {
                  "type": "object",
                  "required": [
                      "termId"
                  ],
                  "properties": {
                      "termId": {
                        "const": "1e70d11d-cbdd-bfd1-9301-9612c29b4060"
                      }
                  }
                },
                {
                  "type": "object",
                  "required": [
                      "termId"
                  ],
                  "properties": {
                      "termId": {
                        "const": "5e166ac4-bfcd-457a-84bc-8626abe9188f"
                      }
                  }
                },
                {
                  "type": "object",
                  "required": [
                      "termId"
                  ],
                  "properties": {
                      "termId": {
                        "const": "0d0417a3-3c3b-496a-b0fb-5a26f8a74166"
                      }
                  }
                }
              ]
          }
        }
      }
  }
}
```

### Áí∞Â¢ÉÊ∫ñÂÇô

#### „Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅÆÂàùÊúüÂåñ

uv„Çí‰ΩøÁî®„Åó„Å¶„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÇíÂàùÊúüÂåñ„Åó„Åæ„Åô„ÄÇ

```bash
# Êñ∞„Åó„ÅÑ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Çí‰ΩúÊàê„Åô„ÇãÂ†¥Âêà
uv init rde-struct-project
cd rde-struct-project
```

pip„ÇíÂà©Áî®„Åô„ÇãÂ†¥Âêà

```bash
mkdir rde-struct-project
cd rde-struct-project
pyhton3 -m venv .venv
source .venv/bin/activate
```

ÂàùÊúüÂåñÂæå„ÄÅ‰ª•‰∏ã„ÅÆ„Éï„Ç°„Ç§„É´„Åå‰ΩúÊàê„Åï„Çå„Åæ„Åô„ÄÇrequirements.txt„ÅÆ‰ª£„Çè„Çä„Å´pyproject.toml„Çí„ÅîÂà©Áî®„Åè„Å†„Åï„ÅÑ„ÄÇ

- `pyproject.toml`: „Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅÆË®≠ÂÆö„Å®„É°„Çø„Éá„Éº„Çø
- `src/`: „Éë„ÉÉ„Ç±„Éº„Ç∏„ÅÆ„ÇΩ„Éº„Çπ„Ç≥„Éº„ÉâÔºà„Ç™„Éó„Ç∑„Éß„É≥Ôºâ
- `README.md`: „Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅÆË™¨ÊòéÊñáÊõ∏

#### ÂøÖË¶Å„Å™„É©„Ç§„Éñ„É©„É™„Çí„Ç§„É≥„Çπ„Éà„Éº„É´

pip„Çí‰ΩøÁî®„Åó„Å¶„ÄÅRDEToolKit„É©„Ç§„Éñ„É©„É™„Çí„Ç§„É≥„Çπ„Éà„Éº„É´„Åó„Åæ„Åô„ÄÇ

```bash
pip install rdetoolkit
```

uv„Çí‰Ωø„ÅÜÂ†¥Âêà

```bash
uv add rdetoolkit
uv sync
```

#### ÊßãÈÄ†ÂåñÂá¶ÁêÜ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅÆÂàùÊúüÂåñ

rdetoolkit„Çí‰ΩøÁî®„Åó„Å¶„ÄÅÊßãÈÄ†ÂåñÂá¶ÁêÜ„ÅÆ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÇíÂàùÊúüÂåñ„Åó„Åæ„Åô„ÄÇ

```bash
# pip
python3 -m rdetoolkit init
# uv
uv run python -m rdetoolkit init
```

„Åì„ÅÆ„Ç≥„Éû„É≥„Éâ„Å´„Çà„Çä„ÄÅ‰ª•‰∏ã„ÅÆ„Éá„Ç£„É¨„ÇØ„Éà„É™„Å®„Éï„Ç°„Ç§„É´„Åå‰ΩúÊàê„Åï„Çå„Åæ„ÅôÔºö

- continer/: ÊßãÈÄ†ÂåñÂá¶ÁêÜ„ÅÆÂÆüË°åÁí∞Â¢É„ÇíÂÆöÁæ©„Åô„Çã„Éá„Ç£„É¨„ÇØ„Éà„É™
- container/data/: ÊßãÈÄ†ÂåñÂá¶ÁêÜ„Åß‰ΩøÁî®„Åô„Çã„Éá„Éº„Çø„ÇíÈÖçÁΩÆ„Åô„Çã„Éá„Ç£„É¨„ÇØ„Éà„É™
- input/: ÂÖ•Âäõ„Éá„Éº„Çø„ÇíÈÖçÁΩÆ„Åô„Çã„Éá„Ç£„É¨„ÇØ„Éà„É™(„É≠„Éº„Ç´„É´ÈñãÁô∫„Éª„Éá„Éê„ÉÉ„Ç∞„Åß„ÅØÂà©Áî®ÂøÖÈ†à„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ)
- templates/: ÊßãÈÄ†ÂåñÂá¶ÁêÜ„Åß‰ΩøÁî®„Åô„Çã„ÉÜ„É≥„Éó„É¨„Éº„Éà„Éï„Ç°„Ç§„É´„ÇíÈÖçÁΩÆ„Åô„Çã„Éá„Ç£„É¨„ÇØ„Éà„É™(„É≠„Éº„Ç´„É´ÈñãÁô∫„Éª„Éá„Éê„ÉÉ„Ç∞„Åß„ÅØÂà©Áî®ÂøÖÈ†à„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ)

```bash
rde-struct-project/
‚îú‚îÄ‚îÄ container
‚îÇ   ‚îú‚îÄ‚îÄ data
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ inputdata
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ invoice
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ invoice.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tasksupport
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ invoice.schema.json
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ metadata-def.json
‚îÇ   ‚îú‚îÄ‚îÄ modules/ # „Ç´„Çπ„Çø„É†„É¢„Ç∏„É•„Éº„É´Áæ§„ÇíÈÖçÁΩÆ„Åô„Çã„Éá„Ç£„É¨„ÇØ„Éà„É™
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îú‚îÄ‚îÄ main.py # ÊßãÈÄ†ÂåñÂá¶ÁêÜ„Ç®„É≥„Éà„É™„Éº„Éù„Ç§„É≥„Éà
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ input
‚îÇ   ‚îú‚îÄ‚îÄ inputdata
‚îÇ   ‚îî‚îÄ‚îÄ invoice
‚îÇ       ‚îî‚îÄ‚îÄ invoice.json
‚îî‚îÄ‚îÄ templates
    ‚îî‚îÄ‚îÄ tasksupport
        ‚îú‚îÄ‚îÄ invoice.schema.json
        ‚îî‚îÄ‚îÄ metadata-def.json
```

„Åï„Åç„Åª„Å©‰ΩúÊàê„Åó„Åü„ÄÅ`metadata-def.json`„Å®`invoice.schema.json`„ÄÅ„ÉÜ„É≥„Éó„É¨„Éº„ÉàÁîüÊàê„ÉÑ„Éº„É´„Åß‰ΩúÊàê„Åó„Åü`invoice.json`„Çí`container/data/tasksupport/`„Å®„ÄÅ`templates/`„Å´ÈÖçÁΩÆ„Åó„Åæ„Åô„ÄÇ

```bash
cp metadata-def.json container/data/tasksupport/
cp invoice.schema.json container/data/tasksupport/
cp invoice.json container/data/invoice/
cp metadata-def.json templates/tasksupport
cp invoice.schema.json templates/tasksupport
cp metadata-def.json templates/tasksupport/tasksupport/
cp invoice.schema.json templates/tasksupport/tasksupport/
```

„Åæ„Åü„ÄÅ„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åó„Å¶„Åç„ÅüÂÖ•Âäõ„Éá„Éº„Çø[XRD_RIGAKU.ras](https://github.com/nims-mdpf/M-DaC_XRD/blob/master/source/XRD_RIGAKU.ras)„ÇÇ`container/data/inputdata/`„Å´ÈÖçÁΩÆ„Åó„Åæ„Åô„ÄÇ

```bash
cp XRD_RIGAKU.ras container/data/inputdata/
```

#### Ë®≠ÂÆö„Éï„Ç°„Ç§„É´„ÅÆËøΩÂä†

`data/tasksupport/rdeconfig.yml`„Éá„Ç£„É¨„ÇØ„Éà„É™„Å´„ÄÅRDEÊßãÈÄ†ÂåñÂá¶ÁêÜ„ÅßÂøÖË¶Å„Å™Ë®≠ÂÆö„Éï„Ç°„Ç§„É´„ÇíËøΩÂä†„Åó„Åæ„Åô„ÄÇ

```yaml
system:
    save_raw: true
    save_nonshared_raw: false
    magic_variable: false
    save_thumbnail_image: true
```

### rdetoolkit„ÅåÊé®Â•®„Åô„ÇãÊßãÈÄ†ÂåñÂá¶ÁêÜ„ÅÆÂü∫Êú¨ÊßãÊàê

rdetoolkit„Åß„ÅØ„ÄÅÊßãÈÄ†ÂåñÂá¶ÁêÜ„ÅÆÂü∫Êú¨ÁöÑ„Å™„Éá„Ç£„É¨„ÇØ„Éà„É™ÊßãÊàê„Çí‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´Êé®Â•®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ

```bash
container
‚îú‚îÄ‚îÄ data
‚îÇ   ‚îú‚îÄ‚îÄ inputdata
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ XRD_RIGAKU.ras
‚îÇ   ‚îú‚îÄ‚îÄ invoice
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ invoice.json
‚îÇ   ‚îî‚îÄ‚îÄ tasksupport
‚îÇ       ‚îú‚îÄ‚îÄ invoice.schema.json
‚îÇ       ‚îî‚îÄ‚îÄ metadata-def.json
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ modules
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ mymodule.py
‚îî‚îÄ‚îÄ requirements.txt
```

| „Éá„Ç£„É¨„ÇØ„Éà„É™/„Éï„Ç°„Ç§„É´ | Ë™¨Êòé                                                               |
| --------------------- | ------------------------------------------------------------------ |
| main.py               | ÊßãÈÄ†ÂåñÂá¶ÁêÜ„ÅÆ„Ç®„É≥„Éà„É™„Éº„Éù„Ç§„É≥„Éà„ÄÇÈñãÁô∫„Åó„Åü„É¢„Ç∏„É•„Éº„É´„ÇíÂëº„Å≥Âá∫„Åó„Åæ„Åô„ÄÇ |
| modules               | „Ç´„Çπ„Çø„É†„É¢„Ç∏„É•„Éº„É´„ÇíÈÖçÁΩÆ„Åô„Çã„Éá„Ç£„É¨„ÇØ„Éà„É™„ÄÇ                         |
| requirements.txt      | ÂøÖË¶Å„Å™Python„Éë„ÉÉ„Ç±„Éº„Ç∏„ÇíÂÆöÁæ©„Åô„Çã„Éï„Ç°„Ç§„É´„ÄÇ                         |
| data                  | ÊßãÈÄ†ÂåñÂá¶ÁêÜ„Åß‰ΩøÁî®„Åô„Çã„Éá„Éº„Çø„ÇíÈÖçÁΩÆ„Åô„Çã„Éá„Ç£„É¨„ÇØ„Éà„É™„ÄÇ                 |

> rdetoolkit„Çí„Ç§„É≥„Çπ„Éà„Éº„É´„Åô„Çã„Å®„ÄÅ`pandas`, `numpy`, `matplotlib`„Å™„Å©„ÅÆ„Éá„Éº„ÇøÂá¶ÁêÜ„Å´ÂøÖË¶Å„Å™„É©„Ç§„Éñ„É©„É™„ÅåËá™ÂãïÁöÑ„Å´„Ç§„É≥„Çπ„Éà„Éº„É´„Åï„Çå„Åæ„Åô„ÄÇ„Åì„Çå„Çâ„ÅÆ„É©„Ç§„Éñ„É©„É™„ÅØ„ÄÅÊßãÈÄ†ÂåñÂá¶ÁêÜ„Åß„ÅÆ„Éá„Éº„ÇøÊìç‰Ωú„ÇÑÂèØË¶ñÂåñ„Å´ÂΩπÁ´ã„Å°„Åæ„Åô„ÄÇ

### main.py„ÅÆÂÆüË£Ö

„Éá„Éï„Ç©„É´„Éà„Åß‰ΩúÊàê„Åï„Çå„Åü`main.py`„ÅØ„ÄÅ‰ªäÂõû„ÅÆ„Ç®„É≥„Éà„É™„Éº„Éù„Ç§„É≥„Éà„Å®„Å™„Çã„Éï„Ç°„Ç§„É´„Å´„Å™„Çä„Åæ„Åô„ÄÇÂêÑ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Éª„É¶„Éº„Ç∂„Éº„ÅåÈñãÁô∫„Åó„Åü„É¢„Ç∏„É•„Éº„É´Áæ§„ÇíÂëº„Å≥Âá∫„Åô„Åü„ÇÅ„ÅÆ„Çπ„ÇØ„É™„Éó„Éà„Åß„Åô„ÄÇ

‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´„ÄÅ`rdetoolkit.workflows.run()`„Å´ÈñãÁô∫„Åó„Åü„É¢„Ç∏„É•„Éº„É´„ÇíÂºïÊï∞„Å®„Åó„Å¶Ê∏°„Åô„Åì„Å®„Åß„ÄÅRDEÊßãÈÄ†ÂåñÂá¶ÁêÜ„ÅßÂøÖË¶Å„Å™pre/postÂá¶ÁêÜ„ÇíÂê´„ÇÄÊßãÈÄ†ÂåñÂá¶ÁêÜ„ÇíÂÆüË£Ö„Åß„Åç„Åæ„Åô„ÄÇ

‰ªäÂõûÈñãÁô∫„Åô„Çã„É¢„Ç∏„É•„Éº„É´„Çí`modules.mymodule.my_xrd_func()`„Å®„Åó„Åæ„Åô„ÄÇ`run()`„ÅÆÂºïÊï∞`custom_dataset_function`„Å´„Åì„ÅÆÈñ¢Êï∞„ÇíÊåáÂÆö„Åó„Åæ„Åô„ÄÇ

```python
import rdetoolkit

from modules.mymodule import my_xrd_func

rdetoolkit.workflows.run(custom_dataset_function=my_xrd_func)
```

### „Ç´„Çπ„Çø„É†„É¢„Ç∏„É•„Éº„É´„ÅÆÂÆüË£Ö

`container/modules/`„Éá„Ç£„É¨„ÇØ„Éà„É™„Å´„Ç´„Çπ„Çø„É†„É¢„Ç∏„É•„Éº„É´„ÇíÈÖçÁΩÆ„Åó„Åæ„Åô„ÄÇ„Åì„Åì„Åß„ÅØ„ÄÅ`mymodule.py`„Å®„ÅÑ„ÅÜ„Éï„Ç°„Ç§„É´Âêç„Åß„ÄÅXRD„Éá„Éº„Çø„ÇíÂá¶ÁêÜ„Åô„ÇãÈñ¢Êï∞„ÇíÂÆüË£Ö„Åó„Åæ„Åô„ÄÇ

„Åì„Åì„ÅßÈáçË¶Å„Å™„Éù„Ç§„É≥„Éà„ÅØ„ÄÅÂÆöÁæ©„Åô„ÇãÈñ¢Êï∞`my_xrd_func`„Å´‰ª•‰∏ã„ÅÆÂºïÊï∞„ÇíÂê´„ÇÅ„Çã„Åì„Å®„Åß„ÅôÔºö

- `RdeInputDirPaths`: ÂÖ•Âäõ„Éá„Éº„ÇøÂêÑÁ®Æ„ÅåÊ†ºÁ¥ç„Åï„Çå„Å¶„ÅÑ„Çã„Éá„Éº„Çø„Éá„Ç£„É¨„ÇØ„Éà„É™„ÅÆ„Éë„ÇπÁæ§„ÇíÊ†ºÁ¥ç„Åó„Åü„Éá„Éº„Çø„ÇØ„É©„Çπ„ÄÇ
- `RdeOutputResourcePath`: Âá∫Âäõ„É™„ÇΩ„Éº„Çπ„ÅÆ„Éá„Ç£„É¨„ÇØ„Éà„É™„Éë„Çπ„ÇíÊ†ºÁ¥ç„Åó„Åü„Éá„Éº„Çø„ÇØ„É©„Çπ„ÄÇ

„Åì„Çå„Çâ„ÅÆ„ÇØ„É©„Çπ„Å´Ê†ºÁ¥ç„Åï„Çå„Å¶„ÅÑ„Çã„Éá„Ç£„É¨„ÇØ„Éà„É™„Éë„Çπ„Çí‰Ωø„ÅÜ„Å®„ÄÅRDE„Ç∑„Çπ„ÉÜ„É†„Å´ÂÆâÂÖ®„ÉªÁ¢∫ÂÆü„Å´„Éá„Éº„Çø„ÇíÁôªÈå≤„Åß„Åç„Åæ„Åô„ÄÇ

„Åï„Çâ„Å´„ÄÅÂÖ•Âäõ„Éï„Ç°„Ç§„É´„ÅØ„ÄÅ`RdeInputDirPaths`„ÇØ„É©„Çπ„ÅÆ`rawfiles`Â±ûÊÄß„Å´Ê†ºÁ¥ç„Åï„Çå„Åæ„Åô„ÄÇ`srcpaths`„Åß„ÅØ„Å™„Åè„ÄÅ`resource_paths.rawfiles`„Å®„ÅÑ„ÅÜÈÖçÂàó„Å´Ê†ºÁ¥ç„Åï„Çå„Å¶„ÅÑ„Çã„Åü„ÇÅ„ÄÅ„Åì„ÅÆÂ±ûÊÄß„ÅÆÂà©Áî®„ÇíÊé®Â•®„Åó„Åæ„Åô„ÄÇ

> RDE„Å´„ÅØ„Éá„Éº„Çø„Çª„ÉÉ„Éà„ÅÆ‰∏≠„Å´„ÄÅ„Éá„Éº„Çø„Çø„Ç§„É´„Å®„ÅÑ„ÅÜÂçò‰Ωç„Åß„Éá„Éº„Çø„ÅåÁôªÈå≤„Åï„Çå„Åæ„Åô„ÄÇrdetoolkit„Åß„ÅØ„ÄÅ„Åì„ÅÆ„Éá„Éº„Çø„Çø„Ç§„É´„ÅÆÂçò‰Ωç„ÅßÂÖ•Âäõ„Éá„Éº„Çø„ÇíËá™ÂãïÁöÑ„Å´„Ç∞„É´„Éº„Éî„É≥„Ç∞„Åó„ÄÅ„Ç´„Çπ„Çø„É†ÊßãÈÄ†ÂåñÂá¶ÁêÜ„Å´„Éá„Éº„Çø„ÇíÊ∏°„Åô„Åü„ÇÅ„ÄÅ`RdeInputDirPaths`„ÅÆ`rawfiles`Â±ûÊÄß„Å´Ê†ºÁ¥ç„Åï„Çå„Å¶„ÅÑ„Çã„Éï„Ç°„Ç§„É´„ÇíÂà©Áî®„Åó„Åæ„Åô„ÄÇ

```python
from rdetoolkit.models.rde2types import RdeInputDirPaths, RdeOutputResourcePath

def my_xrd_func(srcpaths: RdeInputDirPaths, resource_paths: RdeOutputResourcePath):
    pass
```

„Å§„Å•„ÅÑ„Å¶„ÄÅ`my_xrd_func`Èñ¢Êï∞ÂÜÖ„ÅßÂÆüË£Ö„Åô„ÇãÂá¶ÁêÜ„ÇíÂÆöÁæ©„Åó„Åæ„Åô„ÄÇRDEÊßãÈÄ†ÂåñÂá¶ÁêÜ„ÅØ„ÄÅ„É¶„Éº„Ç∂„Éº„ÅåËá™Ë∫´„ÅåÊüîËªü„Å´Âá¶ÁêÜ„ÇíÂÆöÁæ©„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇÊúÄ„ÇÇÂ§ö„ÅÑ„Ç±„Éº„Çπ„ÅØ„ÄÅ‰ª•‰∏ã„ÅÆÂá¶ÁêÜÁ≥ª„ÇíÂÆüË£Ö„Åô„Çã„Åì„Å®„ÅåÂ§ö„ÅÑ„Åß„Åô„ÄÇ

- ÂÖ•Âäõ„Éá„Éº„Çø„ÇíË™≠„ÅøËæº„Åø
- „É°„Çø„Éá„Éº„Çø„ÇíÊäΩÂá∫
- ÊßãÈÄ†Âåñ„Éï„Ç°„Ç§„É´„ÅÆ‰ΩúÊàê
- „Éó„É≠„ÉÉ„ÉàÁîªÂÉè„ÅÆ‰ΩúÊàê(RDE‰∏ä„ÅßÂèØË¶ñÂåñ„Åó„Åü„Ç∞„É©„Éï„ÇíÈñ≤Ë¶ß„Åô„Çã„Åü„ÇÅ)

‰ª•‰∏ã„ÅÆÊñπÈáù„ÅßÂÆüË£Ö„Åó„Åæ„Åô„ÄÇ

| Âá¶ÁêÜÂÜÖÂÆπ             | Âá¶ÁêÜÂÜÖÂÆπ                                               | Èñ¢Êï∞Âêç                     |
| -------------------- | ------------------------------------------------------ | -------------------------- |
| ÂÖ•Âäõ„Éá„Éº„Çø„ÇíË™≠„ÅøËæº„Åø | `.ras`„Éï„Ç°„Ç§„É´„ÇíË™≠„ÅøËæº„Åø„ÄÅË®àÊ∏¨„Éá„Éº„Çø„Å®„É°„Çø„Éá„Éº„Çø„ÇíÂàÜÈõ¢ | `read_ras_file`            |
| „É°„Çø„Éá„Éº„Çø„ÇíÊäΩÂá∫     | ÂàÜÈõ¢„Åó„Åü„É°„Çø„Éá„Éº„Çø„Çí‰øùÂ≠ò                               | `save_metadata`            |
| ÊßãÈÄ†Âåñ„Éï„Ç°„Ç§„É´„ÅÆ‰ΩúÊàê | Ë®àÊ∏¨„Éá„Éº„Çø„ÅÆ„Åø„Çícsv„Å´‰øùÂ≠ò                              | pandas„ÅÆto_csv()„ÇíÂà©Áî®„Åô„Çã |
| „Éó„É≠„ÉÉ„ÉàÁîªÂÉè„ÅÆ‰ΩúÊàê   | XRD„ÅÆ„Éó„É≠„ÉÉ„ÉàÁîªÂÉè„Çí‰ΩúÊàê                                | `xrd_plot`                 |

#### Step1: ÂÖ•Âäõ„Éá„Éº„Çø„ÇíË™≠„ÅøËæº„ÇÄ

`read_ras_file`Èñ¢Êï∞„Åß„ÅØ„ÄÅÂÖ•Âäõ„Éá„Éº„Çø„ÇíË™≠„ÅøËæº„Åø„ÄÅË®àÊ∏¨„Éá„Éº„Çø„Å®„É°„Çø„Éá„Éº„Çø„ÇíÂàÜÈõ¢„Åó„Åæ„Åô„ÄÇ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´ÂÆüË£Ö„Åó„Åæ„Åô„ÄÇ

```python
from pathlib import Path
import re
import pandas as pd

from rdetoolkit.models.rde2types import RdeInputDirPaths, RdeOutputResourcePath


def parse_ras_file(filepath: str | Path) -> tuple[dict[str, str], pd.DataFrame]:
    """RAS„Éï„Ç°„Ç§„É´Ëß£Êûê: „É°„Çø„Éá„Éº„Çø„Å®Ê∏¨ÂÆö„Éá„Éº„Çø„ÇíÊäΩÂá∫"""
    metadata, data_lines = {}, []

    with open(filepath, 'r', encoding='utf-8') as f:
        lines = f.readlines()

    in_data = False
    for line in lines:
        line = line.strip()
        if not line:
            continue

        if line.startswith('*'):
            if line == '*RAS_INT_START':
                in_data = True
            elif line == '*RAS_INT_END':
                break
            elif not in_data:
                parts = line[1:].split(' ', 1)
                if len(parts) == 2 and parts[1].strip():
                    key = re.sub(r'[^a-zA-Z0-9]+', '_', parts[0].lower()).strip('_')
                    metadata[key] = parts[1].strip().strip('"')
        elif in_data:
            parts = line.split()
            if len(parts) == 3:
                try:
                    x, i, a = float(parts[0]), float(parts[1]), float(parts[2])
                    data_lines.append([x, i * a])
                except ValueError:
                    continue

    return metadata, pd.DataFrame(data_lines, columns=['two_theta', 'intensity'])


def my_xrd_func(srcpaths: RdeInputDirPaths, resource_paths: RdeOutputResourcePath):
    # ÂÖ•Âäõ„Éï„Ç°„Ç§„É´„ÅÆË™≠„ÅøËæº„Åø
    # ras„Éï„Ç°„Ç§„É´„Åå‰∏Ä„Å§„Åó„Åã„Å™„ÅÑ„Åü„ÇÅ„ÄÅÊúÄÂàù„ÅÆ„Éï„Ç°„Ç§„É´„ÇíÂØæË±°„Å®„Åô„Çã
    metadata, dataframe = parse_ras_file(resource_paths.rawfiles[0])

```

#### Step2: „É°„Çø„Éá„Éº„Çø„Çí‰øùÂ≠ò„Åô„Çã

`save_metadata`Èñ¢Êï∞„Åß„ÅØ„ÄÅÊäΩÂá∫„Åó„Åü„É°„Çø„Éá„Éº„Çø„Çí`metadata-def.json`„Å´Âü∫„Å•„ÅÑ„Å¶‰øùÂ≠ò„Åó„Åæ„Åô„ÄÇ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´ÂÆüË£Ö„Åó„Åæ„Åô„ÄÇ

```python

from pathlib import Path
import re
import pandas as pd

from rdetoolkit.models.rde2types import RdeInputDirPaths, RdeOutputResourcePath
from rdetoolkit.rde2util import Meta


def parse_ras_file(filepath: str | Path) -> tuple[dict[str, str], pd.DataFrame]:
    """
    RAS„Éï„Ç°„Ç§„É´„ÇíËß£Êûê„Åó„ÄÅ„É°„Çø„Éá„Éº„Çø„Å®Ê∏¨ÂÆö„Éá„Éº„Çø„ÇíÊäΩÂá∫„Åô„Çã
    """
    # ... ÁúÅÁï•: ‰∏äË®ò„ÅÆparse_ras_fileÈñ¢Êï∞„ÅÆÂÜÖÂÆπ„Çí„Åì„Åì„Å´Âê´„ÇÅ„Çã ...
    return metadata, df

# **ËøΩÂä†**
def save_metadata(metadata: dict[str, str], metadata_def_json_path: str | Path, save_path: str | Path):
    """„É°„Çø„Éá„Éº„Çø„Çímetadata-def.json„Å´Âü∫„Å•„ÅÑ„Å¶‰øùÂ≠ò"""
    meta = Meta(metadata_def_json_path)
    meta.assign_vals(metadata)
    meta.writefile(str(save_path))


def my_xrd_func(srcpaths: RdeInputDirPaths, resource_paths: RdeOutputResourcePath):
    # ÂÖ•Âäõ„Éï„Ç°„Ç§„É´„ÅÆË™≠„ÅøËæº„Åø
    metadata, dataframe = parse_ras_file(resource_paths.rawfiles[0])

    # **ËøΩÂä†**: „É°„Çø„Éá„Éº„Çø‰øùÂ≠òÂá¶ÁêÜ
    metadata_def_json_path = srcpaths.tasksupport.joinpath("metadata-def.json")
    save_path = resource_paths.meta.joinpath("metadata.json")
    save_metadata(metadata, metadata_def_json_path, save_path)

```

#### Step3: ÊßãÈÄ†Âåñ„Éï„Ç°„Ç§„É´„ÅÆ‰ΩúÊàê

`my_xrd_func`Èñ¢Êï∞ÂÜÖ„Åß„ÄÅË®àÊ∏¨„Éá„Éº„Çø„ÇíCSV„Éï„Ç°„Ç§„É´„Å®„Åó„Å¶‰øùÂ≠ò„Åó„Åæ„Åô„ÄÇ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´ÂÆüË£Ö„Åó„Åæ„Åô„ÄÇ

```python
def parse_ras_file(filepath: str | Path) -> tuple[dict[str, str], pd.DataFrame]:
    # ... ÁúÅÁï•: ‰∏äË®ò„ÅÆparse_ras_fileÈñ¢Êï∞„ÅÆÂÜÖÂÆπ„Çí„Åì„Åì„Å´Âê´„ÇÅ„Çã ...
    return metadata, df


def save_metadata(metadata: dict[str, str], metadata_def_json_path: str | Path, save_path: str | Path):
    # ... ÁúÅÁï•: ‰∏äË®ò„ÅÆsave_metadataÈñ¢Êï∞„ÅÆÂÜÖÂÆπ„Çí„Åì„Åì„Å´Âê´„ÇÅ„Çã ...

def my_xrd_func(srcpaths: RdeInputDirPaths, resource_paths: RdeOutputResourcePath):
    metadata, dataframe = parse_ras_file(resource_paths.rawfiles[0])

    metadata_def_json_path = srcpaths.tasksupport.joinpath("metadata-def.json")
    save_path = resource_paths.meta.joinpath("metadata.json")
    save_metadata(metadata, metadata_def_json_path, save_path)

    # **ËøΩÂä†**: Ë®àÊ∏¨„Éá„Éº„Çø„ÅÆ‰øùÂ≠ò
    dataframe.to_csv(resource_paths.struct.joinpath("mesurement.csv"), index=False)
```

#### Step4: „Éó„É≠„ÉÉ„ÉàÁîªÂÉè„ÅÆ‰ΩúÊàê

`xrd_plot`Èñ¢Êï∞„Åß„ÅØ„ÄÅXRD„Éá„Éº„Çø„ÅÆ„Éó„É≠„ÉÉ„ÉàÁîªÂÉè„Çí‰ΩúÊàê„Åó„Åæ„Åô„ÄÇ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´ÂÆüË£Ö„Åó„Åæ„Åô„ÄÇ

```python

```python
def parse_ras_file(filepath: str | Path) -> tuple[dict[str, str], pd.DataFrame]:
    # ... ÁúÅÁï•: ‰∏äË®ò„ÅÆparse_ras_fileÈñ¢Êï∞„ÅÆÂÜÖÂÆπ„Çí„Åì„Åì„Å´Âê´„ÇÅ„Çã ...
    return metadata, df


def save_metadata(metadata: dict[str, str], metadata_def_json_path: str | Path, save_path: str | Path):
    # ... ÁúÅÁï•: ‰∏äË®ò„ÅÆsave_metadataÈñ¢Êï∞„ÅÆÂÜÖÂÆπ„Çí„Åì„Åì„Å´Âê´„ÇÅ„Çã ...

def xrd_plot(data: pd.DataFrame, output_path: str | Path):
    """XRD„Éó„É≠„ÉÉ„ÉàÁîªÂÉè‰ΩúÊàê"""
    plt.figure(figsize=(10, 6))
    plt.plot(data['two_theta'], data['intensity'], label='Intensity')
    plt.xlabel('2Theta (degrees)')
    plt.ylabel('Intensity')
    plt.title('XRD Pattern')
    plt.legend()
    plt.grid()
    plt.savefig(output_path)
    plt.close()

def my_xrd_func(srcpaths: RdeInputDirPaths, resource_paths: RdeOutputResourcePath):
    metadata, dataframe = parse_ras_file(resource_paths.rawfiles[0])

    metadata_def_json_path = srcpaths.tasksupport.joinpath("metadata-def.json")
    save_path = resource_paths.meta.joinpath("metadata.json")
    save_metadata(metadata, metadata_def_json_path, save_path)

    # Ë®àÊ∏¨„Éá„Éº„Çø„ÅÆ‰øùÂ≠ò
    dataframe.to_csv(resource_paths.struct.joinpath("mesurement.csv"), index=False)

    # **ËøΩÂä†**: „Éó„É≠„ÉÉ„ÉàÁîªÂÉè‰ΩúÊàê
    xrd_plot(dataframe, resource_paths.main_image.joinpath("xrd_graph.png"))
```

#### Step5: ‰æãÂ§ñÂá¶ÁêÜ„ÇíËøΩÂä†„Åô„Çã

`rdetoolkit`„Åß„ÅØ„ÄÅÊßãÈÄ†ÂåñÂá¶ÁêÜ‰∏≠„Å´Áô∫Áîü„Åô„ÇãÂèØËÉΩÊÄß„ÅÆ„ÅÇ„Çã‰æãÂ§ñ„Çí`StructuredError`„Å®„Åó„Å¶ÂÆöÁæ©„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åì„Çå„ÇíÂà©Áî®„Åô„Çã„Åì„Å®„Åß„ÄÅ„Ç®„É©„ÉºÁô∫ÁîüÊôÇ„Å´ÈÅ©Âàá„Å™„É°„ÉÉ„Çª„Éº„Ç∏„ÇíË°®Á§∫„Åô„Çã„Çà„ÅÜ„Å´„Åó„Åæ„Åô„ÄÇ

```python
from pathlib import Path
import re
import pandas as pd
import matplotlib.pyplot as plt

from rdetoolkit.models.rde2types import RdeInputDirPaths, RdeOutputResourcePath
from rdetoolkit.rde2util import Meta
from rdetoolkit.exceptions import StructuredError # **ËøΩÂä†**

# ... ÁúÅÁï•: ‰∏äË®ò„ÅÆÈñ¢Êï∞Áæ§„ÇíÂÜÖÂÆπ„Çí„Åì„Åì„Å´Âê´„ÇÅ„Çã ...

def my_xrd_func(srcpaths: RdeInputDirPaths, resource_paths: RdeOutputResourcePath):
    """XRD„Éá„Éº„ÇøÂá¶ÁêÜ„É°„Ç§„É≥Èñ¢Êï∞"""
    try:
        # RAS„Éï„Ç°„Ç§„É´Ëß£Êûê
        metadata, dataframe = parse_ras_file(resource_paths.rawfiles[0])

        # „É°„Çø„Éá„Éº„Çø‰øùÂ≠ò
        try:
            save_metadata(metadata,
                        srcpaths.tasksupport.joinpath("metadata-def.json"),
                        resource_paths.meta.joinpath("metadata.json"))
        except StructuredError as e:
            print(f"Error saving metadata: {e}")
            return None

        # Ê∏¨ÂÆö„Éá„Éº„Çø‰øùÂ≠ò
        dataframe.to_csv(resource_paths.struct.joinpath("mesurement.csv"), index=False)

        # „Éó„É≠„ÉÉ„ÉàÁîªÂÉè‰ΩúÊàê
        xrd_plot(dataframe, resource_paths.main_image.joinpath("xrd_graph.png"))
    except Exception as e:
        raise StructuredError(f"An error occurred during XRD processing: {e}") from e
```

#### Step6: ÊßãÈÄ†ÂåñÂá¶ÁêÜ„ÅÆÂãï‰ΩúÁ¢∫Ë™ç

```bash
cd container
python3 main.py
```

‰ª•‰∏ã„ÅÆ„Éï„Ç°„Ç§„É´„ÅåÁîüÊàê„Åï„Çå„Å¶„ÅÑ„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç„Åó„Åæ„Åô„ÄÇ(Á©∫„ÅÆ„Éá„Ç£„É¨„ÇØ„Éà„É™„ÅØË°®Á§∫„Åã„ÇâÈô§Â§ñ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ)

```bash
container/data
‚îú‚îÄ‚îÄ inputdata
‚îÇ   ‚îî‚îÄ‚îÄ XRD_RIGAKU.ras
‚îú‚îÄ‚îÄ invoice
‚îÇ   ‚îî‚îÄ‚îÄ invoice.json
‚îú‚îÄ‚îÄ job.failed
‚îú‚îÄ‚îÄ main_image
‚îÇ   ‚îî‚îÄ‚îÄ xrd_graph.png
‚îú‚îÄ‚îÄ meta
‚îÇ   ‚îî‚îÄ‚îÄ metadata.json
‚îú‚îÄ‚îÄ nonshared_raw
‚îÇ   ‚îî‚îÄ‚îÄ XRD_RIGAKU.ras
‚îú‚îÄ‚îÄ raw
‚îÇ   ‚îî‚îÄ‚îÄ XRD_RIGAKU.ras
‚îú‚îÄ‚îÄ structured
‚îÇ   ‚îî‚îÄ‚îÄ mesurement.csv
‚îú‚îÄ‚îÄ tasksupport
‚îÇ   ‚îú‚îÄ‚îÄ invoice.schema.json
‚îÇ   ‚îú‚îÄ‚îÄ metadata-def.json
‚îÇ   ‚îî‚îÄ‚îÄ rdeconfig.yml
‚îî‚îÄ‚îÄ thumbnail
    ‚îî‚îÄ‚îÄ xrd_graph.png
```

### „Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åü„Å®„Åç„ÅØ

`container/data/logs`‰ª•‰∏ã„Å´„ÄÅ`rdesys.log`„Å´„É≠„Ç∞„ÅåÂá∫Âäõ„Åï„Çå„Åæ„Åô„ÄÇ„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„ÅüÂ†¥Âêà„ÅØ„ÄÅ„Åì„Åì„Å´„Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏„ÅåË®òÈå≤„Åï„Çå„Åæ„Åô„ÄÇ

## RDE„Å´ÊßãÈÄ†ÂåñÂá¶ÁêÜ„ÇíÊèêÂá∫„Åô„Çã

„ÇÇ„ÅóÂãï‰ΩúÁ≠âÂïèÈ°å„Åå„Å™„Åë„Çå„Å∞„ÄÅRDE„Å´ÊßãÈÄ†ÂåñÂá¶ÁêÜ„ÇíÊèêÂá∫„Åó„Åæ„Åô„ÄÇ‰ª•‰∏ã„ÅÆ„Ç≥„Éû„É≥„Éâ„ÇíÂÆüË°å„Åózip„ÅåÁîüÊàê„Åï„Çå„Çã„ÅÆ„Åß„ÄÅ„Åì„ÅÆzip„Éï„Ç°„Ç§„É´„ÇíRDE„Å´ÊèêÂá∫„Åó„Åæ„Åô„ÄÇ

```bash
uv run python -m rdetoolkit artifact -s . -o rde_submit_files.zip
```

```bash
# Âá∫Âäõ
üì¶ Archiving project files...
üìå - Source Directory: .
üìå - Output Archive: rde_submit_files.zip
‚úÖ üê≥ Dockerfile found!: container/Dockerfile
‚úÖ üêç requirements.txt found!: container/requirements.txt
üîç Scanning for external connections...OK
üîç Scanning for code security vulnerabilities...OK
‚úÖ Archive created successfully: rde_submit_files.zip
‚úÖ Archive and report generation completed successfully.: rde_submit_files.md
```
