
target_for_foo_sv:
  deps: foo.sv
  tags:
    some-made-up-tag-name:
      # We'll test this with Verilator, and it should stop before simulation (only compile)
      # We'll also test with Vivado, which shouldn't hit this 'with-tools' list, and the
      # entire simulation should run. We'll confirm in the eda stdout/stderr outputs
      with-tools: verilator
      args: --lint-only

target_test:
  deps: target_for_foo_sv
  top: foo


target_with_replace_config_tools_test:
  deps: foo.sv
  top: foo
  tags:
    verilator_replace_waviers: # default uses replacement strategy on lists
      with-tools: verilator
      replace-config-tools:
        verilator:
          compile-waivers: [ ] # pytest to confirm all waivers removed.

target_with_additive_config_tools_test:
  deps: foo.sv
  top: foo
  tags:
    verilator_append_waviers:
      with-tools: verilator
      additive-config-tools: # Uses additive strategy for lists
        verilator:
          compile-waivers: # pytest to confirm these waivers were added, others not removed.
            - style
            - fatal

target_foo_sv_add_incdirs:
  deps: foo.sv
  top: foo
  tags:
    made-up-tagname-incdirs:
      with-tools: verilator
      incdirs: .

target_foo_sv_add_defines:
  deps: foo.sv
  top: foo
  tags:
    made-up-tagname-defines:
      with-tools: verilator
      defines:
        FOO_SV: 3000
