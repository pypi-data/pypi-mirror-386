services:
  webapp:
    hostname: webapp
    image: jedha/lab-unprivileged-webapp
    container_name: webapp
    networks:
      lab-network:
        ipv4_address: 11.10.10.32
    cap_drop:
      - ALL
    user: 1000:1000
    security_opt:
      - no-new-privileges:true

  privileged-service:
    hostname: privileged-service
    image: jedha/lab-privileged-service
    container_name: privileged-service
    expose:
      - 22
    privileged: true
    networks:
      lab-network:
        ipv4_address: 11.10.10.38

networks:
  lab-network:
    driver: bridge
    ipam:
      driver: default
      config:
        - subnet: 11.10.10.0/24