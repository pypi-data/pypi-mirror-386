services:
  bank:
    image: jedha/lab-bank:latest
    container_name: bank
    restart: always
    volumes:
      - ./bank:/app
    networks:
      csrf_lab_network:
        ipv4_address: 10.10.3.26

  malicious:
    image: jedha/lab-malicious:latest
    container_name: malicious
    restart: always
    volumes:
      - ./malicious:/app
    networks:
      csrf_lab_network:
        ipv4_address: 10.10.3.27

  secured_bank:
    image: jedha/lab-secured_bank:latest
    container_name: secured_bank
    restart: always
    volumes:
      - ./secured_bank:/app
    expose:
      - 5000
    networks:
      csrf_lab_network:
        ipv4_address: 10.10.3.28

networks:
  csrf_lab_network:
    driver: bridge
    ipam:
      config:
        - subnet: 10.10.3.0/24
