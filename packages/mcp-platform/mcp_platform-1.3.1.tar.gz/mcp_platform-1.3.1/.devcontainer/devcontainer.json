{
  "name": "Python 3.13 Dev",
  "dockerComposeFile": "docker-compose.yml",
  "service": "app",
  "workspaceFolder": "/workspace",
  "mounts": [
    "source=${env:HOME}/.pip,target=/root/.pip,type=bind,consistency=cached",
    "source=${env:HOME}/.ssh,target=/root/.ssh,type=bind,consistency=cached",
    "source=${env:HOME}/.mcp,target=/root/.mcp,type=bind,consistency=cached",
    "source=/var/run/docker.sock,target=/var/run/docker.sock,type=bind,consistency=cached"
  ],
  "remoteEnv": {
    "DOCKER_HOST": "unix:///var/run/docker.sock",
    "HOST_HOME": "${env:HOME}", // So docker mounts inside the container can use the host's home directory
    "DEPLOY_POSTGRES_TEMPLATE": "mcpp deploy postgres -c pg_user=$PG_USER -c pg_password=$PG_PASSWORD -c pg_host=$PG_HOST"
  },
  "customizations": {
    "vscode": {
      "extensions": [
        "ms-python.python",
        "ms-python.vscode-pylance",
        "ms-ossdata.vscode-postgresql",
        "github.copilot"
      ]
    },
    "settings": {
      "remote.autoForwardPorts": false
    }
  },
  "postCreateCommand": "pip install -e . && pre-commit install && pre-commit autoupdate",
  "forwardPorts": [8000, 3000, 8080, 8888, 80, 5432]
}
