{
  "name": "CreateWebhookSubscription",
  "fully_qualified_name": "PagerdutyApi.CreateWebhookSubscription@2.0.0",
  "description": "Create a new webhook subscription in PagerDuty.\n\nThis tool is used to create a new webhook subscription on PagerDuty. It should be invoked when you need to configure or integrate with v3 webhooks. Requires proper OAuth permissions.",
  "toolkit": {
    "name": "ArcadePagerdutyApi",
    "description": null,
    "version": "2.0.0"
  },
  "input": {
    "parameters": [
      {
        "name": "api_version_header",
        "required": true,
        "description": "Specifies the API version for the request using the `Accept` header.",
        "value_schema": {
          "val_type": "string",
          "inner_val_type": null,
          "enum": null,
          "properties": null,
          "inner_properties": null,
          "description": "The `Accept` header is used as a versioning header."
        },
        "inferrable": true,
        "http_endpoint_parameter_name": "Accept"
      },
      {
        "name": "content_type",
        "required": true,
        "description": "Specify the media type of the request body. Must be 'application/json'.",
        "value_schema": {
          "val_type": "string",
          "inner_val_type": null,
          "enum": [
            "application/json"
          ],
          "properties": null,
          "inner_properties": null,
          "description": ""
        },
        "inferrable": true,
        "http_endpoint_parameter_name": "Content-Type"
      },
      {
        "name": "webhook_subscription_details",
        "required": false,
        "description": "Details for creating a webhook subscription. Includes subscription type, description, events, delivery method, and filters.",
        "value_schema": {
          "val_type": "json",
          "inner_val_type": null,
          "enum": null,
          "properties": {
            "webhook_subscription": {
              "val_type": "json",
              "inner_val_type": null,
              "enum": null,
              "properties": {
                "id": {
                  "val_type": "string",
                  "inner_val_type": null,
                  "enum": null,
                  "properties": null,
                  "inner_properties": null,
                  "description": null
                },
                "type": {
                  "val_type": "string",
                  "inner_val_type": null,
                  "enum": [
                    "webhook_subscription"
                  ],
                  "properties": null,
                  "inner_properties": null,
                  "description": "The type indicating the schema of the object."
                },
                "active": {
                  "val_type": "boolean",
                  "inner_val_type": null,
                  "enum": null,
                  "properties": null,
                  "inner_properties": null,
                  "description": "Determines whether this subscription will produce webhook events."
                },
                "delivery_method": {
                  "val_type": "json",
                  "inner_val_type": null,
                  "enum": null,
                  "properties": {
                    "id": {
                      "val_type": "string",
                      "inner_val_type": null,
                      "enum": null,
                      "properties": null,
                      "inner_properties": null,
                      "description": null
                    },
                    "secret": {
                      "val_type": "string",
                      "inner_val_type": null,
                      "enum": null,
                      "properties": null,
                      "inner_properties": null,
                      "description": "The secret used to sign webhook payloads. Only provided on the initial create response."
                    },
                    "temporarily_disabled": {
                      "val_type": "boolean",
                      "inner_val_type": null,
                      "enum": null,
                      "properties": null,
                      "inner_properties": null,
                      "description": "Whether or not this webhook subscription is temporarily disabled. Becomes `true` if the delivery method URL is repeatedly rejected by the server."
                    },
                    "type": {
                      "val_type": "string",
                      "inner_val_type": null,
                      "enum": [
                        "http_delivery_method"
                      ],
                      "properties": null,
                      "inner_properties": null,
                      "description": "Indicates the type of the delivery method."
                    },
                    "url": {
                      "val_type": "string",
                      "inner_val_type": null,
                      "enum": null,
                      "properties": null,
                      "inner_properties": null,
                      "description": "The destination URL for webhook delivery."
                    },
                    "custom_headers": {
                      "val_type": "array",
                      "inner_val_type": "json",
                      "enum": null,
                      "properties": null,
                      "inner_properties": {
                        "name": {
                          "val_type": "string",
                          "inner_val_type": null,
                          "enum": null,
                          "properties": null,
                          "inner_properties": null,
                          "description": "The header name"
                        },
                        "value": {
                          "val_type": "string",
                          "inner_val_type": null,
                          "enum": null,
                          "properties": null,
                          "inner_properties": null,
                          "description": "The header value"
                        }
                      },
                      "description": "Optional headers to be set on this webhook subscription when sent. The header values are redacted in GET requests, but are not redacted on the webhook when delivered to the webhook's endpoint."
                    }
                  },
                  "inner_properties": null,
                  "description": null
                },
                "description": {
                  "val_type": "string",
                  "inner_val_type": null,
                  "enum": null,
                  "properties": null,
                  "inner_properties": null,
                  "description": "A short description of the webhook subscription."
                },
                "events": {
                  "val_type": "array",
                  "inner_val_type": "string",
                  "enum": null,
                  "properties": null,
                  "inner_properties": null,
                  "description": "The set of outbound event types the webhook will receive."
                },
                "filter": {
                  "val_type": "json",
                  "inner_val_type": null,
                  "enum": null,
                  "properties": {
                    "id": {
                      "val_type": "string",
                      "inner_val_type": null,
                      "enum": null,
                      "properties": null,
                      "inner_properties": null,
                      "description": "The id of the object being used as the filter.  This field is required for all filter types except account_reference."
                    },
                    "type": {
                      "val_type": "string",
                      "inner_val_type": null,
                      "enum": [
                        "account_reference",
                        "service_reference",
                        "team_reference"
                      ],
                      "properties": null,
                      "inner_properties": null,
                      "description": "The type of object being used as the filter."
                    }
                  },
                  "inner_properties": null,
                  "description": null
                },
                "oauth_client": {
                  "val_type": "json",
                  "inner_val_type": null,
                  "enum": null,
                  "properties": {
                    "id": {
                      "val_type": "string",
                      "inner_val_type": null,
                      "enum": null,
                      "properties": null,
                      "inner_properties": null,
                      "description": "The ID of the OAuth client"
                    },
                    "type": {
                      "val_type": "string",
                      "inner_val_type": null,
                      "enum": [
                        "oauth_client_reference"
                      ],
                      "properties": null,
                      "inner_properties": null,
                      "description": "The type of object being referenced"
                    },
                    "summary": {
                      "val_type": "string",
                      "inner_val_type": null,
                      "enum": null,
                      "properties": null,
                      "inner_properties": null,
                      "description": "A short-form, server-generated string that provides succinct, important information about an object suitable for primary labeling of an entity in a client"
                    }
                  },
                  "inner_properties": null,
                  "description": "OAuth client details. This field is populated in responses when oauth_client_id is set."
                }
              },
              "inner_properties": null,
              "description": null
            }
          },
          "inner_properties": null,
          "description": ""
        },
        "inferrable": true,
        "http_endpoint_parameter_name": "requestBody"
      }
    ]
  },
  "output": {
    "description": "Response from the API endpoint 'createWebhookSubscription'.",
    "available_modes": [
      "value",
      "error",
      "null"
    ],
    "value_schema": {
      "val_type": "json",
      "inner_val_type": null,
      "enum": null,
      "properties": null,
      "inner_properties": null,
      "description": null
    }
  },
  "requirements": {
    "authorization": {
      "provider_id": "arcade-pagerduty",
      "provider_type": "oauth2",
      "id": null,
      "oauth2": null
    },
    "secrets": null,
    "metadata": null
  },
  "deprecation_message": null,
  "metadata": {
    "object_type": "api_wrapper_tool",
    "version": "1.1.0",
    "description": "Tools that enable LLMs to interact directly with the Pagerduty API."
  },
  "http_endpoint": {
    "metadata": {
      "object_type": "http_endpoint",
      "version": "1.2.0",
      "description": ""
    },
    "url": "https://api.pagerduty.com/webhook_subscriptions",
    "http_method": "POST",
    "headers": {},
    "parameters": [
      {
        "name": "Accept",
        "tool_parameter_name": "api_version_header",
        "description": "The `Accept` header is used as a versioning header.",
        "value_schema": {
          "val_type": "string",
          "inner_val_type": null,
          "enum": null,
          "properties": null,
          "inner_properties": null,
          "description": "The `Accept` header is used as a versioning header."
        },
        "accepted_as": "header",
        "required": true,
        "deprecated": false,
        "default": "application/vnd.pagerduty+json;version=2",
        "documentation_urls": []
      },
      {
        "name": "Content-Type",
        "tool_parameter_name": "content_type",
        "description": "",
        "value_schema": {
          "val_type": "string",
          "inner_val_type": null,
          "enum": [
            "application/json"
          ],
          "properties": null,
          "inner_properties": null,
          "description": ""
        },
        "accepted_as": "header",
        "required": true,
        "deprecated": false,
        "default": "application/json",
        "documentation_urls": []
      },
      {
        "name": "requestBody",
        "tool_parameter_name": "webhook_subscription_details",
        "description": "",
        "value_schema": {
          "val_type": "json",
          "inner_val_type": null,
          "enum": null,
          "properties": {
            "webhook_subscription": {
              "val_type": "json",
              "inner_val_type": null,
              "enum": null,
              "properties": {
                "id": {
                  "val_type": "string",
                  "inner_val_type": null,
                  "enum": null,
                  "properties": null,
                  "inner_properties": null,
                  "description": null
                },
                "type": {
                  "val_type": "string",
                  "inner_val_type": null,
                  "enum": [
                    "webhook_subscription"
                  ],
                  "properties": null,
                  "inner_properties": null,
                  "description": "The type indicating the schema of the object."
                },
                "active": {
                  "val_type": "boolean",
                  "inner_val_type": null,
                  "enum": null,
                  "properties": null,
                  "inner_properties": null,
                  "description": "Determines whether this subscription will produce webhook events."
                },
                "delivery_method": {
                  "val_type": "json",
                  "inner_val_type": null,
                  "enum": null,
                  "properties": {
                    "id": {
                      "val_type": "string",
                      "inner_val_type": null,
                      "enum": null,
                      "properties": null,
                      "inner_properties": null,
                      "description": null
                    },
                    "secret": {
                      "val_type": "string",
                      "inner_val_type": null,
                      "enum": null,
                      "properties": null,
                      "inner_properties": null,
                      "description": "The secret used to sign webhook payloads. Only provided on the initial create response."
                    },
                    "temporarily_disabled": {
                      "val_type": "boolean",
                      "inner_val_type": null,
                      "enum": null,
                      "properties": null,
                      "inner_properties": null,
                      "description": "Whether or not this webhook subscription is temporarily disabled. Becomes `true` if the delivery method URL is repeatedly rejected by the server."
                    },
                    "type": {
                      "val_type": "string",
                      "inner_val_type": null,
                      "enum": [
                        "http_delivery_method"
                      ],
                      "properties": null,
                      "inner_properties": null,
                      "description": "Indicates the type of the delivery method."
                    },
                    "url": {
                      "val_type": "string",
                      "inner_val_type": null,
                      "enum": null,
                      "properties": null,
                      "inner_properties": null,
                      "description": "The destination URL for webhook delivery."
                    },
                    "custom_headers": {
                      "val_type": "array",
                      "inner_val_type": "json",
                      "enum": null,
                      "properties": null,
                      "inner_properties": {
                        "name": {
                          "val_type": "string",
                          "inner_val_type": null,
                          "enum": null,
                          "properties": null,
                          "inner_properties": null,
                          "description": "The header name"
                        },
                        "value": {
                          "val_type": "string",
                          "inner_val_type": null,
                          "enum": null,
                          "properties": null,
                          "inner_properties": null,
                          "description": "The header value"
                        }
                      },
                      "description": "Optional headers to be set on this webhook subscription when sent. The header values are redacted in GET requests, but are not redacted on the webhook when delivered to the webhook's endpoint."
                    }
                  },
                  "inner_properties": null,
                  "description": null
                },
                "description": {
                  "val_type": "string",
                  "inner_val_type": null,
                  "enum": null,
                  "properties": null,
                  "inner_properties": null,
                  "description": "A short description of the webhook subscription."
                },
                "events": {
                  "val_type": "array",
                  "inner_val_type": "string",
                  "enum": null,
                  "properties": null,
                  "inner_properties": null,
                  "description": "The set of outbound event types the webhook will receive."
                },
                "filter": {
                  "val_type": "json",
                  "inner_val_type": null,
                  "enum": null,
                  "properties": {
                    "id": {
                      "val_type": "string",
                      "inner_val_type": null,
                      "enum": null,
                      "properties": null,
                      "inner_properties": null,
                      "description": "The id of the object being used as the filter.  This field is required for all filter types except account_reference."
                    },
                    "type": {
                      "val_type": "string",
                      "inner_val_type": null,
                      "enum": [
                        "account_reference",
                        "service_reference",
                        "team_reference"
                      ],
                      "properties": null,
                      "inner_properties": null,
                      "description": "The type of object being used as the filter."
                    }
                  },
                  "inner_properties": null,
                  "description": null
                },
                "oauth_client": {
                  "val_type": "json",
                  "inner_val_type": null,
                  "enum": null,
                  "properties": {
                    "id": {
                      "val_type": "string",
                      "inner_val_type": null,
                      "enum": null,
                      "properties": null,
                      "inner_properties": null,
                      "description": "The ID of the OAuth client"
                    },
                    "type": {
                      "val_type": "string",
                      "inner_val_type": null,
                      "enum": [
                        "oauth_client_reference"
                      ],
                      "properties": null,
                      "inner_properties": null,
                      "description": "The type of object being referenced"
                    },
                    "summary": {
                      "val_type": "string",
                      "inner_val_type": null,
                      "enum": null,
                      "properties": null,
                      "inner_properties": null,
                      "description": "A short-form, server-generated string that provides succinct, important information about an object suitable for primary labeling of an entity in a client"
                    }
                  },
                  "inner_properties": null,
                  "description": "OAuth client details. This field is populated in responses when oauth_client_id is set."
                }
              },
              "inner_properties": null,
              "description": null
            }
          },
          "inner_properties": null,
          "description": ""
        },
        "accepted_as": "body",
        "required": false,
        "deprecated": false,
        "default": null,
        "documentation_urls": []
      }
    ],
    "documentation_urls": [],
    "secrets": [
      {
        "arcade_key": "auth_token",
        "parameter_name": "Authorization",
        "accepted_as": "header",
        "formatted_value": "Bearer {authorization}",
        "description": "The OAuth token to use for authentication.",
        "is_auth_token": true
      }
    ],
    "request_body_spec": "{\n  \"content\": {\n    \"application/json\": {\n      \"schema\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"webhook_subscription\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"id\": {\n                \"type\": \"string\",\n                \"readOnly\": true\n              },\n              \"type\": {\n                \"type\": \"string\",\n                \"description\": \"The type indicating the schema of the object.\",\n                \"default\": \"webhook_subscription\",\n                \"enum\": [\n                  \"webhook_subscription\"\n                ]\n              },\n              \"active\": {\n                \"type\": \"boolean\",\n                \"default\": true,\n                \"description\": \"Determines whether this subscription will produce webhook events.\"\n              },\n              \"delivery_method\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"id\": {\n                    \"type\": \"string\",\n                    \"readOnly\": true\n                  },\n                  \"secret\": {\n                    \"type\": \"string\",\n                    \"description\": \"The secret used to sign webhook payloads. Only provided on the initial create response.\",\n                    \"nullable\": true,\n                    \"readOnly\": true\n                  },\n                  \"temporarily_disabled\": {\n                    \"type\": \"boolean\",\n                    \"description\": \"Whether or not this webhook subscription is temporarily disabled. Becomes `true` if the delivery method URL is repeatedly rejected by the server.\"\n                  },\n                  \"type\": {\n                    \"type\": \"string\",\n                    \"description\": \"Indicates the type of the delivery method.\",\n                    \"default\": \"http_delivery_method\",\n                    \"enum\": [\n                      \"http_delivery_method\"\n                    ]\n                  },\n                  \"url\": {\n                    \"type\": \"string\",\n                    \"description\": \"The destination URL for webhook delivery.\",\n                    \"format\": \"url\"\n                  },\n                  \"custom_headers\": {\n                    \"type\": \"array\",\n                    \"description\": \"Optional headers to be set on this webhook subscription when sent. The header values are redacted in GET requests, but are not redacted on the webhook when delivered to the webhook's endpoint.\",\n                    \"items\": {\n                      \"type\": \"object\",\n                      \"properties\": {\n                        \"name\": {\n                          \"type\": \"string\",\n                          \"description\": \"The header name\"\n                        },\n                        \"value\": {\n                          \"type\": \"string\",\n                          \"description\": \"The header value\"\n                        }\n                      }\n                    }\n                  }\n                },\n                \"required\": [\n                  \"type\",\n                  \"url\"\n                ]\n              },\n              \"description\": {\n                \"type\": \"string\",\n                \"description\": \"A short description of the webhook subscription.\"\n              },\n              \"events\": {\n                \"type\": \"array\",\n                \"description\": \"The set of outbound event types the webhook will receive.\",\n                \"minItems\": 1,\n                \"uniqueItems\": true,\n                \"items\": {\n                  \"type\": \"string\"\n                }\n              },\n              \"filter\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"id\": {\n                    \"type\": \"string\",\n                    \"description\": \"The id of the object being used as the filter.  This field is required for all filter types except account_reference.\"\n                  },\n                  \"type\": {\n                    \"type\": \"string\",\n                    \"description\": \"The type of object being used as the filter.\",\n                    \"enum\": [\n                      \"account_reference\",\n                      \"service_reference\",\n                      \"team_reference\"\n                    ]\n                  }\n                },\n                \"required\": [\n                  \"type\"\n                ]\n              },\n              \"oauth_client\": {\n                \"description\": \"OAuth client details. This field is populated in responses when oauth_client_id is set.\",\n                \"readOnly\": true,\n                \"type\": \"object\",\n                \"properties\": {\n                  \"id\": {\n                    \"type\": \"string\",\n                    \"description\": \"The ID of the OAuth client\",\n                    \"example\": \"AGMEB7F7YJYELCPG4Y5YWMYGXE\"\n                  },\n                  \"type\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                      \"oauth_client_reference\"\n                    ],\n                    \"description\": \"The type of object being referenced\",\n                    \"example\": \"oauth_client_reference\",\n                    \"default\": \"oauth_client_reference\"\n                  },\n                  \"summary\": {\n                    \"type\": \"string\",\n                    \"description\": \"A short-form, server-generated string that provides succinct, important information about an object suitable for primary labeling of an entity in a client\",\n                    \"example\": \"PagerDuty Webhook Integration\",\n                    \"readOnly\": true\n                  }\n                },\n                \"required\": [\n                  \"id\",\n                  \"type\"\n                ]\n              }\n            },\n            \"required\": [\n              \"type\",\n              \"delivery_method\",\n              \"events\",\n              \"filter\"\n            ]\n          }\n        },\n        \"required\": [\n          \"webhook_subscription\"\n        ]\n      },\n      \"examples\": {\n        \"request\": {\n          \"$ref\": \"#/components/examples/CreateSubscriptionExample\"\n        }\n      }\n    }\n  }\n}",
    "use_request_body_schema_mode": true,
    "validate_request_body_schema": true
  }
}
