# =============================================================================
# Automagik Hive Genie Database - Simplified Architecture
# =============================================================================
#
# Simple PostgreSQL database with pgvector extension for genie development.
# This provides the database backend that the genie API connects to.
#
# Usage:
#   docker-compose -f docker/genie/docker-compose.yml up -d
#   
# The genie API runs separately via: uvx automagik-hive --genie-serve
#
# =============================================================================

services:
  # Genie PostgreSQL Database with pgvector extension
  hive-postgres-genie:
    image: agnohq/pgvector:16
    container_name: hive-postgres-genie
    restart: unless-stopped
    ports:
      - "45532:5432"
    environment:
      - POSTGRES_DB=hive_genie
      - POSTGRES_USER=genie
      - POSTGRES_PASSWORD=genie_secure_password
    volumes:
      - ./data/postgres-genie:/var/lib/postgresql/data