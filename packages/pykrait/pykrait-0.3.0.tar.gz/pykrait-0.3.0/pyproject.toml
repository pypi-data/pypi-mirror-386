[project]
name = "pykrait"
version = "0.3.0"
description = "Python Calcium Recording Analysis and Inference Toolbox"
readme = { file = "README.md", content-type = "text/markdown" }
license = { text = "MIT" }
authors = [
    { name = "phaleanopsis", email = "22663502+phaleanopsis@users.noreply.github.com" }
]
requires-python = ">=3.11"
dependencies = [
    "aicspylibczi>=3.3.1",
    "bioio>=3.0.0",
    "bioio-czi>=2.4.0",
    "bioio-ome-tiff>=1.1.0",
    "bioio-tifffile>=1.3.0",
    "bioio-imageio",
    "cellpose>=4.0.5",
    "dask>=2025.5.1",
    "fsspec>=2022.8.0",
    "imagecodecs>=2025.3.30",
    "lxml>=5.4.0",
    "matplotlib>=3.10.3",
    "numcodecs<0.16",
    "numpy<2",
    "ome-types>=0.5.3",
    "ome-zarr>=0.10.2",
    "pip>=25.1.1",
    "pydantic<2",
    "pyyaml>=6.0.2",
    "resource-backed-dask-array>=0.1.0",
    "scikit-image>=0.25.2",
    "scipy>=1.15.3",
    "xarray>2025",
    "pandas>=2.3.1",
    "zstandard>=0.23.0",
    "scikit-learn>=1.7.2",
]

[project.optional-dependencies]
gui = [
    "pyside6>=6.9.1",
]
dev = [
    "build>=1.2.2.post1",
    "hatch>=1.14.1",
    "ipywidgets>=8.1.7",
    "pydata-sphinx-theme>=0.16.1",
    "ruff>=0.11.13",
    "sphinx>=8.1.3",
    "sphinx-autoapi>=3.6.0",
    "sphinx-favicon>=1.0.1",
    "tomli>=2.2.1",
    "twine>=6.1.0",
    "pytest>=8.4.1",
    "pytest-cov"
]

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.hatch.metadata]
allow-direct-references = true

[tool.hatch.build.targets.wheel]
only-include = ["src"]
packages = ["src/pykrait"]

[tool.hatch.build.targets.sdist]
include = ["src/**", "README.md", "pyproject.toml"]

[tool.hatch.envs.tests]
dependencies = [
  "pytest",
  "pytest-cov",
]

[tool.hatch.envs.coverage]
dependencies = [
  "coverage[toml]",
]

[tool.pytest.ini_options]
pythonpath = ["src"]
testpaths = ["tests"]

[tool.coverage.run]
source = ["pykrait"]

[tool.coverage.report]
show_missing = true
skip_covered = true

[tool.setuptools.package-data]
"pykrait.gui.resources" = ["logo.png"]

[tool.ruff]
src = ["src"]
line-length = 88
target-version = "py311"
