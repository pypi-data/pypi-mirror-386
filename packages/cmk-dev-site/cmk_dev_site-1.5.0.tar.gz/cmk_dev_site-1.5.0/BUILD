load("@rules_uv//uv:pip.bzl", "pip_compile")
load("@rules_uv//uv:venv.bzl", "create_venv", "sync_venv")

pip_compile(
    name = "generate_requirements_txt",
    # input file for the to be generated requirements.txt file
    requirements_in = "//:pyproject.toml",
    requirements_txt = "//:requirements.txt",
)

create_venv(
    name = "create_venv",
    # file to be used for packages to be installed in the venv,
    # this file is auto generated by the "generate_requirements_txt" target
    requirements_txt = "//:requirements.txt",
    destination_folder = ".venv",
)
