# Context Bridge - Memory Templates
# Templates for tracking project development activities and decisions

templates:
  # ============================================================================
  # FEATURE IMPLEMENTATION
  # ============================================================================
  - id: "feature_implementation"
    name: "Feature Implementation"
    sections:
      - id: "feature_name"
        title: "Feature Name"
        description: "Name of the feature implemented"
      - id: "phase"
        title: "Implementation Phase"
        description: "Which phase from the plan (e.g., Phase 2.1, Phase 3.2)"
      - id: "files_created"
        title: "Files Created"
        description: "List of new files created for this feature"
      - id: "files_modified"
        title: "Files Modified"
        description: "List of existing files modified"
      - id: "key_components"
        title: "Key Components"
        description: "Main classes, functions, or methods implemented"
      - id: "dependencies"
        title: "Dependencies"
        description: "External libraries or internal modules this feature depends on"
      - id: "configuration"
        title: "Configuration Added"
        description: "New configuration parameters or environment variables"
      - id: "status"
        title: "Status"
        description: "Current status (In Progress, Completed, Blocked)"
      - id: "notes"
        title: "Implementation Notes"
        description: "Important details, decisions made, or gotchas"

  # ============================================================================
  # DATABASE CHANGES
  # ============================================================================
  - id: "database_change"
    name: "Database Schema Change"
    sections:
      - id: "change_type"
        title: "Change Type"
        description: "Type of change (New Table, Add Column, Add Index, Modify Constraint, Add Trigger)"
      - id: "affected_objects"
        title: "Affected Database Objects"
        description: "Tables, columns, indexes, triggers, or functions affected"
      - id: "migration_script"
        title: "Migration Script"
        description: "SQL script or Python migration file used"
      - id: "rollback_plan"
        title: "Rollback Plan"
        description: "How to undo this change if needed"
      - id: "data_impact"
        title: "Data Impact"
        description: "Does this affect existing data? Migration needed?"
      - id: "performance_impact"
        title: "Performance Impact"
        description: "Expected impact on query performance or storage"
      - id: "testing_done"
        title: "Testing Performed"
        description: "Tests run to verify the change works correctly"
      - id: "reason"
        title: "Reason for Change"
        description: "Why this change was necessary"

  # ============================================================================
  # BUG/ISSUE TRACKING
  # ============================================================================
  - id: "bug_found"
    name: "Bug or Issue Found"
    sections:
      - id: "issue_title"
        title: "Issue Title"
        description: "Brief description of the bug or issue"
      - id: "severity"
        title: "Severity"
        description: "Critical, High, Medium, Low"
      - id: "component"
        title: "Affected Component"
        description: "Which module, service, or repository is affected"
      - id: "reproduction_steps"
        title: "How to Reproduce"
        description: "Steps to reproduce the issue"
      - id: "expected_behavior"
        title: "Expected Behavior"
        description: "What should happen"
      - id: "actual_behavior"
        title: "Actual Behavior"
        description: "What actually happens"
      - id: "error_messages"
        title: "Error Messages"
        description: "Relevant error messages or stack traces"
      - id: "environment"
        title: "Environment"
        description: "Python version, PostgreSQL version, OS, etc."
      - id: "root_cause"
        title: "Root Cause"
        description: "Analysis of what caused the issue (if known)"
      - id: "fix_applied"
        title: "Fix Applied"
        description: "How the issue was resolved"
      - id: "status"
        title: "Status"
        description: "Open, In Progress, Fixed, Closed, Wontfix"

  # ============================================================================
  # GIT COMMIT/RELEASE
  # ============================================================================
  - id: "git_commit"
    name: "Git Commit Record"
    sections:
      - id: "commit_hash"
        title: "Commit Hash"
        description: "Git commit SHA"
      - id: "commit_message"
        title: "Commit Message"
        description: "Full commit message"
      - id: "branch"
        title: "Branch"
        description: "Branch name (main, feature/*, bugfix/*)"
      - id: "commit_type"
        title: "Commit Type"
        description: "feat, fix, docs, refactor, test, chore, perf"
      - id: "files_changed"
        title: "Files Changed"
        description: "List of files modified in this commit"
      - id: "scope"
        title: "Scope"
        description: "Area affected (repository, service, workflow, database, etc.)"
      - id: "breaking_changes"
        title: "Breaking Changes"
        description: "Any breaking changes introduced"
      - id: "migration_needed"
        title: "Migration Needed"
        description: "Does this require database migration or config updates?"
      - id: "related_issues"
        title: "Related Issues"
        description: "Issue numbers or feature requests addressed"

  # ============================================================================
  # LIBRARY/DEPENDENCY USAGE
  # ============================================================================
  - id: "library_usage"
    name: "Library Usage Pattern"
    sections:
      - id: "library_name"
        title: "Library Name"
        description: "Name and version of the library"
      - id: "purpose"
        title: "Purpose"
        description: "Why this library is used in the project"
      - id: "where_used"
        title: "Where Used"
        description: "Which modules or components use this library"
      - id: "key_features"
        title: "Key Features Used"
        description: "Main APIs, classes, or functions we use"
      - id: "usage_pattern"
        title: "Common Usage Pattern"
        description: "Code example of typical usage in our project"
      - id: "gotchas"
        title: "Gotchas and Pitfalls"
        description: "Things to watch out for, common mistakes"
      - id: "alternatives_considered"
        title: "Alternatives Considered"
        description: "Other libraries evaluated and why we chose this one"
      - id: "performance_notes"
        title: "Performance Notes"
        description: "Performance characteristics or optimization tips"
      - id: "migration_notes"
        title: "Migration Notes"
        description: "Notes on upgrading to newer versions"

  # ============================================================================
  # TEST COVERAGE
  # ============================================================================
  - id: "test_created"
    name: "Test Suite Created"
    sections:
      - id: "test_file"
        title: "Test File"
        description: "Path to the test file"
      - id: "test_type"
        title: "Test Type"
        description: "Unit, Integration, End-to-End, Performance"
      - id: "component_tested"
        title: "Component Under Test"
        description: "Which module, class, or function is being tested"
      - id: "test_cases"
        title: "Test Cases"
        description: "List of test case names and what they verify"
      - id: "coverage_before"
        title: "Coverage Before"
        description: "Code coverage percentage before these tests"
      - id: "coverage_after"
        title: "Coverage After"
        description: "Code coverage percentage after these tests"
      - id: "mocks_used"
        title: "Mocks and Fixtures"
        description: "What external dependencies are mocked"
      - id: "test_data"
        title: "Test Data"
        description: "Fixtures or test data files used"
      - id: "edge_cases"
        title: "Edge Cases Covered"
        description: "Unusual scenarios or boundary conditions tested"
      - id: "issues_found"
        title: "Issues Found During Testing"
        description: "Bugs or problems discovered while writing tests"

  # ============================================================================
  # ARCHITECTURE DECISION
  # ============================================================================
  - id: "architecture_decision"
    name: "Architecture Decision Record (ADR)"
    sections:
      - id: "decision_title"
        title: "Decision Title"
        description: "Short title describing the decision"
      - id: "status"
        title: "Status"
        description: "Proposed, Accepted, Superseded, Deprecated"
      - id: "context"
        title: "Context"
        description: "What situation led to this decision"
      - id: "decision"
        title: "Decision"
        description: "What we decided to do"
      - id: "consequences"
        title: "Consequences"
        description: "Positive and negative impacts of this decision"
      - id: "alternatives"
        title: "Alternatives Considered"
        description: "Other options we evaluated"
      - id: "affected_components"
        title: "Affected Components"
        description: "Which parts of the system are impacted"
      - id: "implementation_notes"
        title: "Implementation Notes"
        description: "Key details about how this is implemented"
      - id: "review_date"
        title: "Review Date"
        description: "When to review this decision again"

  # ============================================================================
  # PERFORMANCE OPTIMIZATION
  # ============================================================================
  - id: "performance_optimization"
    name: "Performance Optimization"
    sections:
      - id: "optimization_area"
        title: "Optimization Area"
        description: "What was optimized (database, API, algorithm, etc.)"
      - id: "problem_identified"
        title: "Problem Identified"
        description: "What performance issue was observed"
      - id: "metrics_before"
        title: "Metrics Before"
        description: "Performance metrics before optimization (response time, throughput, memory)"
      - id: "changes_made"
        title: "Changes Made"
        description: "What code or configuration was changed"
      - id: "metrics_after"
        title: "Metrics After"
        description: "Performance metrics after optimization"
      - id: "improvement"
        title: "Improvement Percentage"
        description: "Quantified improvement (e.g., 50% faster, 30% less memory)"
      - id: "tradeoffs"
        title: "Tradeoffs"
        description: "Any downsides or tradeoffs made"
      - id: "profiling_tools"
        title: "Profiling Tools Used"
        description: "Tools or methods used to identify and measure the issue"
      - id: "lessons_learned"
        title: "Lessons Learned"
        description: "Key insights for future optimization work"

  # ============================================================================
  # API DESIGN
  # ============================================================================
  - id: "api_design"
    name: "API Design"
    sections:
      - id: "api_name"
        title: "API Name"
        description: "Name of the class, method, or function"
      - id: "purpose"
        title: "Purpose"
        description: "What problem this API solves"
      - id: "signature"
        title: "Function Signature"
        description: "Complete signature with type hints"
      - id: "parameters"
        title: "Parameters"
        description: "Description of each parameter and validation rules"
      - id: "return_value"
        title: "Return Value"
        description: "What the API returns and its type"
      - id: "exceptions"
        title: "Exceptions Raised"
        description: "What exceptions can be raised and when"
      - id: "usage_example"
        title: "Usage Example"
        description: "Code example showing typical usage"
      - id: "async_behavior"
        title: "Async Behavior"
        description: "Is it async? What does it await?"
      - id: "side_effects"
        title: "Side Effects"
        description: "Database changes, external API calls, file I/O, etc."
      - id: "design_rationale"
        title: "Design Rationale"
        description: "Why this API was designed this way"

  # ============================================================================
  # CONFIGURATION CHANGE
  # ============================================================================
  - id: "configuration_change"
    name: "Configuration Change"
    sections:
      - id: "config_name"
        title: "Configuration Name"
        description: "Name of the config parameter or environment variable"
      - id: "config_type"
        title: "Configuration Type"
        description: "Environment variable, config file, command-line argument"
      - id: "default_value"
        title: "Default Value"
        description: "Default value if not specified"
      - id: "allowed_values"
        title: "Allowed Values"
        description: "Valid values or range"
      - id: "purpose"
        title: "Purpose"
        description: "What this configuration controls"
      - id: "impact"
        title: "Impact"
        description: "What happens when this is changed"
      - id: "validation"
        title: "Validation Rules"
        description: "How the value is validated"
      - id: "migration_path"
        title: "Migration Path"
        description: "How to migrate from old config to new config (if applicable)"
      - id: "related_configs"
        title: "Related Configurations"
        description: "Other configs that interact with this one"
      - id: "example"
        title: "Example Usage"
        description: "Example .env entry or config file snippet"

  # ============================================================================
  # INTEGRATION PATTERN
  # ============================================================================
  - id: "integration_pattern"
    name: "Integration Pattern"
    sections:
      - id: "integration_name"
        title: "Integration Name"
        description: "Name of the external service or system"
      - id: "integration_type"
        title: "Integration Type"
        description: "REST API, Database, Message Queue, File System, etc."
      - id: "purpose"
        title: "Purpose"
        description: "Why we integrate with this system"
      - id: "connection_method"
        title: "Connection Method"
        description: "How we connect (HTTP client, database driver, SDK, etc.)"
      - id: "authentication"
        title: "Authentication"
        description: "How authentication is handled (API key, OAuth, etc.)"
      - id: "retry_logic"
        title: "Retry Logic"
        description: "How failures are handled and retried"
      - id: "error_handling"
        title: "Error Handling"
        description: "What errors can occur and how they're handled"
      - id: "rate_limiting"
        title: "Rate Limiting"
        description: "Rate limits and how we handle them"
      - id: "timeout_settings"
        title: "Timeout Settings"
        description: "Timeout values for requests"
      - id: "monitoring"
        title: "Monitoring"
        description: "How we monitor this integration's health"
      - id: "example_usage"
        title: "Example Usage"
        description: "Code example of typical integration usage"

  # ============================================================================
  # WORKFLOW IMPLEMENTATION
  # ============================================================================
  - id: "workflow_implementation"
    name: "Workflow Implementation"
    sections:
      - id: "workflow_name"
        title: "Workflow Name"
        description: "Name of the workflow"
      - id: "workflow_type"
        title: "Workflow Type"
        description: "Crawling, Chunking, Search, Data Pipeline, etc."
      - id: "trigger"
        title: "Trigger"
        description: "How the workflow is initiated (manual, scheduled, event-driven)"
      - id: "steps"
        title: "Workflow Steps"
        description: "Ordered list of steps in the workflow"
      - id: "services_used"
        title: "Services Used"
        description: "Which services and repositories are orchestrated"
      - id: "transaction_boundaries"
        title: "Transaction Boundaries"
        description: "Where database transactions start and end"
      - id: "error_recovery"
        title: "Error Recovery"
        description: "How the workflow handles and recovers from errors"
      - id: "rollback_strategy"
        title: "Rollback Strategy"
        description: "How to undo a partially completed workflow"
      - id: "progress_tracking"
        title: "Progress Tracking"
        description: "How progress is reported and tracked"
      - id: "performance_metrics"
        title: "Performance Metrics"
        description: "Expected duration, throughput, resource usage"
      - id: "edge_cases"
        title: "Edge Cases"
        description: "Unusual scenarios and how they're handled"

  # ============================================================================
  # SECURITY CONSIDERATION
  # ============================================================================
  - id: "security_consideration"
    name: "Security Consideration"
    sections:
      - id: "security_concern"
        title: "Security Concern"
        description: "What security risk or consideration was addressed"
      - id: "threat_model"
        title: "Threat Model"
        description: "What attacks or threats this protects against"
      - id: "affected_components"
        title: "Affected Components"
        description: "Which parts of the system are involved"
      - id: "mitigation_strategy"
        title: "Mitigation Strategy"
        description: "How the risk is mitigated"
      - id: "implementation"
        title: "Implementation Details"
        description: "Technical details of the security measure"
      - id: "validation"
        title: "Validation"
        description: "How we verify the security measure works"
      - id: "limitations"
        title: "Limitations"
        description: "What this security measure doesn't protect against"
      - id: "compliance"
        title: "Compliance"
        description: "Relevant standards or regulations (GDPR, OWASP, etc.)"
      - id: "monitoring"
        title: "Monitoring and Alerts"
        description: "How security events are monitored"

  # ============================================================================
  # REFACTORING
  # ============================================================================
  - id: "refactoring"
    name: "Code Refactoring"
    sections:
      - id: "refactoring_title"
        title: "Refactoring Title"
        description: "Brief description of what was refactored"
      - id: "motivation"
        title: "Motivation"
        description: "Why this refactoring was needed"
      - id: "scope"
        title: "Scope"
        description: "What code was affected"
      - id: "before_structure"
        title: "Before Structure"
        description: "High-level description of the old structure"
      - id: "after_structure"
        title: "After Structure"
        description: "High-level description of the new structure"
      - id: "improvements"
        title: "Improvements"
        description: "What got better (readability, maintainability, performance)"
      - id: "breaking_changes"
        title: "Breaking Changes"
        description: "Any API changes that affect existing code"
      - id: "tests_updated"
        title: "Tests Updated"
        description: "How tests were modified to reflect changes"
      - id: "migration_guide"
        title: "Migration Guide"
        description: "How to update code that depends on the refactored parts"
      - id: "risks"
        title: "Risks"
        description: "Potential issues introduced by this refactoring"

  # ============================================================================
  # DOCUMENTATION UPDATE
  # ============================================================================
  - id: "documentation_update"
    name: "Documentation Update"
    sections:
      - id: "doc_title"
        title: "Documentation Title"
        description: "Title of the document updated"
      - id: "doc_type"
        title: "Documentation Type"
        description: "README, API Docs, Tutorial, Guide, Technical Spec"
      - id: "doc_path"
        title: "Document Path"
        description: "Path to the documentation file"
      - id: "changes_made"
        title: "Changes Made"
        description: "What sections were added, updated, or removed"
      - id: "reason"
        title: "Reason for Update"
        description: "Why the documentation needed updating"
      - id: "related_code_changes"
        title: "Related Code Changes"
        description: "Code changes that prompted this documentation update"
      - id: "examples_added"
        title: "Examples Added"
        description: "New code examples or usage patterns added"
      - id: "diagrams_updated"
        title: "Diagrams Updated"
        description: "Architecture diagrams or flowcharts added/updated"
      - id: "review_status"
        title: "Review Status"
        description: "Has this been reviewed for accuracy?"

  # ============================================================================
  # DEBUGGING SESSION
  # ============================================================================
  - id: "debugging_session"
    name: "Debugging Session"
    sections:
      - id: "problem_description"
        title: "Problem Description"
        description: "What wasn't working"
      - id: "symptoms"
        title: "Symptoms"
        description: "Observable behavior or error messages"
      - id: "investigation_steps"
        title: "Investigation Steps"
        description: "What debugging techniques were used"
      - id: "tools_used"
        title: "Tools Used"
        description: "Debuggers, profilers, logging, print statements, etc."
      - id: "hypothesis"
        title: "Initial Hypothesis"
        description: "What we initially thought was wrong"
      - id: "root_cause"
        title: "Actual Root Cause"
        description: "What the real problem turned out to be"
      - id: "fix_applied"
        title: "Fix Applied"
        description: "How the problem was resolved"
      - id: "lessons_learned"
        title: "Lessons Learned"
        description: "What this taught us about the system"
      - id: "prevention"
        title: "Prevention Strategy"
        description: "How to prevent this problem in the future"
      - id: "time_spent"
        title: "Time Spent"
        description: "How long it took to debug and fix"

  # ============================================================================
  # DEPENDENCY UPDATE
  # ============================================================================
  - id: "dependency_update"
    name: "Dependency Update"
    sections:
      - id: "package_name"
        title: "Package Name"
        description: "Name of the updated dependency"
      - id: "version_from"
        title: "Previous Version"
        description: "Version before the update"
      - id: "version_to"
        title: "New Version"
        description: "Version after the update"
      - id: "update_type"
        title: "Update Type"
        description: "Major, Minor, Patch"
      - id: "reason"
        title: "Reason for Update"
        description: "Why this update was necessary"
      - id: "breaking_changes"
        title: "Breaking Changes"
        description: "API changes or deprecated features"
      - id: "code_changes_needed"
        title: "Code Changes Needed"
        description: "What code had to be modified"
      - id: "testing_performed"
        title: "Testing Performed"
        description: "How the update was validated"
      - id: "rollback_plan"
        title: "Rollback Plan"
        description: "How to revert if issues arise"
      - id: "security_fixes"
        title: "Security Fixes"
        description: "Security vulnerabilities addressed"
