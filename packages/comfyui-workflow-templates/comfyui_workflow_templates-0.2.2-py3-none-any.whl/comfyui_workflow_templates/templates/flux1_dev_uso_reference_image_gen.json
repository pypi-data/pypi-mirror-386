{
  "id": "4be48bc0-f21c-45cb-b657-bb75df5d398c",
  "revision": 0,
  "last_node_id": 110,
  "last_link_id": 173,
  "nodes": [
    {
      "id": 72,
      "type": "CheckpointLoaderSimple",
      "pos": [
        -690,
        1580
      ],
      "size": [
        315,
        98
      ],
      "flags": {},
      "order": 0,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            124
          ]
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "slot_index": 1,
          "links": [
            146
          ]
        },
        {
          "name": "VAE",
          "type": "VAE",
          "slot_index": 2,
          "links": [
            126
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "CheckpointLoaderSimple",
        "models": [
          {
            "name": "flux1-dev-fp8.safetensors",
            "url": "https://huggingface.co/Comfy-Org/flux1-dev/resolve/main/flux1-dev-fp8.safetensors",
            "directory": "checkpoints"
          }
        ]
      },
      "widgets_values": [
        "flux1-dev-fp8.safetensors"
      ]
    },
    {
      "id": 79,
      "type": "ConditioningZeroOut",
      "pos": [
        -330,
        1790
      ],
      "size": [
        197.712890625,
        26
      ],
      "flags": {},
      "order": 25,
      "mode": 4,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 131
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            129
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "ConditioningZeroOut"
      },
      "widgets_values": []
    },
    {
      "id": 89,
      "type": "d31e1095-65ee-4ba3-b4d0-a21e493dd0bd",
      "pos": [
        -630,
        2160
      ],
      "size": [
        274.080078125,
        120
      ],
      "flags": {},
      "order": 24,
      "mode": 4,
      "inputs": [
        {
          "name": "clip_vision",
          "type": "CLIP_VISION",
          "link": 142
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 143
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 144
        },
        {
          "name": "model_patch",
          "type": "MODEL_PATCH",
          "link": 145
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            137
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "proxyWidgets": [
          [
            "-1",
            "crop"
          ]
        ]
      },
      "widgets_values": [
        "center"
      ]
    },
    {
      "id": 91,
      "type": "LoadImage",
      "pos": [
        -290,
        2330
      ],
      "size": [
        274.080078125,
        314.00006103515625
      ],
      "flags": {
        "collapsed": false
      },
      "order": 1,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            136
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "flux1_dev_uso_reference_image_gen_input_image.png",
        "image"
      ]
    },
    {
      "id": 46,
      "type": "LoadImage",
      "pos": [
        20,
        720
      ],
      "size": [
        274.080078125,
        314.00006103515625
      ],
      "flags": {
        "collapsed": false
      },
      "order": 2,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            98
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "flux1_dev_uso_reference_image_gen_input_image.png",
        "image"
      ]
    },
    {
      "id": 77,
      "type": "VAEDecode",
      "pos": [
        500,
        1560
      ],
      "size": [
        210,
        46
      ],
      "flags": {},
      "order": 36,
      "mode": 4,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 125
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 126
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            123
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "VAEDecode"
      },
      "widgets_values": []
    },
    {
      "id": 78,
      "type": "KSampler",
      "pos": [
        140,
        1550
      ],
      "size": [
        315,
        474
      ],
      "flags": {},
      "order": 34,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 151
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 149
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 129
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 130
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            125
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        594838223597516,
        "randomize",
        20,
        1,
        "euler",
        "simple",
        1
      ]
    },
    {
      "id": 87,
      "type": "EmptyLatentImage",
      "pos": [
        -320,
        1930
      ],
      "size": [
        270,
        106
      ],
      "flags": {},
      "order": 3,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            130
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "EmptyLatentImage"
      },
      "widgets_values": [
        1024,
        1024,
        1
      ]
    },
    {
      "id": 73,
      "type": "SaveImage",
      "pos": [
        500,
        1670
      ],
      "size": [
        985.2999877929688,
        1060.3800048828125
      ],
      "flags": {},
      "order": 38,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 123
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56"
      },
      "widgets_values": [
        "ComfyUI"
      ]
    },
    {
      "id": 90,
      "type": "CLIPTextEncode",
      "pos": [
        -330,
        1580
      ],
      "size": [
        422.8500061035156,
        164.30999755859375
      ],
      "flags": {},
      "order": 20,
      "mode": 4,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 146
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            131,
            149
          ]
        }
      ],
      "title": "CLIP Text Encode (Positive Prompt)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "A man dressed fashionably stands on the forest."
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 83,
      "type": "08624421-a41c-413b-9de7-d68b0b60b667",
      "pos": [
        -290,
        2160
      ],
      "size": [
        274.080078125,
        120
      ],
      "flags": {},
      "order": 29,
      "mode": 4,
      "inputs": [
        {
          "name": "clip_vision",
          "type": "CLIP_VISION",
          "link": 135
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 136
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 137
        },
        {
          "name": "model_patch",
          "type": "MODEL_PATCH",
          "link": 138
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            158
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "proxyWidgets": [
          [
            "-1",
            "crop"
          ]
        ]
      },
      "widgets_values": [
        "center"
      ]
    },
    {
      "id": 92,
      "type": "EasyCache",
      "pos": [
        160,
        2120
      ],
      "size": [
        270,
        130
      ],
      "flags": {},
      "order": 32,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 158
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            151
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "EasyCache"
      },
      "widgets_values": [
        0.2,
        0.15,
        0.95,
        false
      ]
    },
    {
      "id": 88,
      "type": "LoadImage",
      "pos": [
        -630,
        2330
      ],
      "size": [
        274.080078125,
        314.00006103515625
      ],
      "flags": {},
      "order": 4,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            143
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "flux1_dev_uso_reference_image_gen_input_image.png",
        "image"
      ]
    },
    {
      "id": 76,
      "type": "LoraLoaderModelOnly",
      "pos": [
        -690,
        1730
      ],
      "size": [
        315,
        82
      ],
      "flags": {},
      "order": 19,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 124
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            144
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "LoraLoaderModelOnly",
        "models": [
          {
            "name": "uso-flux1-dit-lora-v1.safetensors",
            "url": "https://huggingface.co/Comfy-Org/USO_1.0_Repackaged/resolve/main/split_files/loras/uso-flux1-dit-lora-v1.safetensors",
            "directory": "loras"
          }
        ]
      },
      "widgets_values": [
        "uso-flux1-dit-lora-v1.safetensors",
        1
      ]
    },
    {
      "id": 75,
      "type": "ModelPatchLoader",
      "pos": [
        -690,
        1870
      ],
      "size": [
        315,
        58
      ],
      "flags": {},
      "order": 5,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL_PATCH",
          "type": "MODEL_PATCH",
          "links": [
            138,
            145
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "ModelPatchLoader",
        "models": [
          {
            "name": "uso-flux1-projector-v1.safetensors",
            "url": "https://huggingface.co/Comfy-Org/USO_1.0_Repackaged/resolve/main/split_files/model_patches/uso-flux1-projector-v1.safetensors",
            "directory": "model_patches"
          }
        ]
      },
      "widgets_values": [
        "uso-flux1-projector-v1.safetensors"
      ]
    },
    {
      "id": 74,
      "type": "CLIPVisionLoader",
      "pos": [
        -690,
        1980
      ],
      "size": [
        315,
        58
      ],
      "flags": {},
      "order": 6,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP_VISION",
          "type": "CLIP_VISION",
          "links": [
            135,
            142
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "CLIPVisionLoader",
        "models": [
          {
            "name": "sigclip_vision_patch14_384.safetensors",
            "url": "https://huggingface.co/Comfy-Org/sigclip_vision_384/resolve/main/sigclip_vision_patch14_384.safetensors",
            "directory": "clip_vision"
          }
        ]
      },
      "widgets_values": [
        "sigclip_vision_patch14_384.safetensors"
      ]
    },
    {
      "id": 100,
      "type": "MarkdownNote",
      "pos": [
        310,
        860
      ],
      "size": [
        230,
        170
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "About Style reference",
      "properties": {},
      "widgets_values": [
        "The output image will reference the style from the images you uploaded. \n\nYou can disable all reference image inputs and use this workflow as a subject-driven image generation workflow.\n"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 101,
      "type": "MarkdownNote",
      "pos": [
        -1000,
        1540
      ],
      "size": [
        280,
        88
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Note",
      "properties": {},
      "widgets_values": [
        "This workflow only uses style reference."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 107,
      "type": "MarkdownNote",
      "pos": [
        160,
        2320
      ],
      "size": [
        280,
        88
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Note",
      "properties": {},
      "widgets_values": [
        "You can also bypass the whole Style Reference group and use this workflow as a text-to-image workflow.\n"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 47,
      "type": "LoadImage",
      "pos": [
        -670,
        570
      ],
      "size": [
        274.080078125,
        314.00006103515625
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            171
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "flux1_dev_uso_reference_image_gen_input_image.png",
        "image"
      ]
    },
    {
      "id": 97,
      "type": "MarkdownNote",
      "pos": [
        -690,
        1120
      ],
      "size": [
        340,
        240
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "About ImageScaleToMaxDimension",
      "properties": {},
      "widgets_values": [
        "Different largest_size values affect how much the character features from the reference image are retained in the final output image.\n\n512px is the recommendation from the UXO team, as it preserves more character features.\n\nHowever, tests also show that if you only use images of the character's head as input, the final output image often has issues like the character taking up too much space. Setting it to 1024px gives much better results.\n\nSo please use different size settings based on the characteristics of your input image to get the best output."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 6,
      "type": "CLIPTextEncode",
      "pos": [
        -330,
        -130
      ],
      "size": [
        422.8500061035156,
        164.30999755859375
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 45
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            72,
            102
          ]
        }
      ],
      "title": "CLIP Text Encode (Positive Prompt)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "A European girl with a heartfelt smile. She is immersed in a vast, endless field of blooming flowers under a perfect summer sky."
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 57,
      "type": "805a5f96-6fdd-45a4-a1f3-623234fa734f",
      "pos": [
        -190,
        130
      ],
      "size": [
        280,
        78
      ],
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 102
        },
        {
          "name": "latent",
          "type": "LATENT",
          "link": 103
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            104
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "proxyWidgets": [
          [
            "-1",
            "guidance"
          ]
        ]
      },
      "widgets_values": [
        3.5
      ]
    },
    {
      "id": 30,
      "type": "CheckpointLoaderSimple",
      "pos": [
        -690,
        -90
      ],
      "size": [
        315,
        98
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            62
          ]
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "slot_index": 1,
          "links": [
            45
          ]
        },
        {
          "name": "VAE",
          "type": "VAE",
          "slot_index": 2,
          "links": [
            46,
            78
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "CheckpointLoaderSimple",
        "models": [
          {
            "name": "flux1-dev-fp8.safetensors",
            "url": "https://huggingface.co/Comfy-Org/flux1-dev/resolve/main/flux1-dev-fp8.safetensors",
            "directory": "checkpoints"
          }
        ]
      },
      "widgets_values": [
        "flux1-dev-fp8.safetensors"
      ]
    },
    {
      "id": 40,
      "type": "CLIPVisionLoader",
      "pos": [
        -690,
        310
      ],
      "size": [
        315,
        58
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP_VISION",
          "type": "CLIP_VISION",
          "links": [
            91,
            97
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "CLIPVisionLoader",
        "models": [
          {
            "name": "sigclip_vision_patch14_384.safetensors",
            "url": "https://huggingface.co/Comfy-Org/sigclip_vision_384/resolve/main/sigclip_vision_patch14_384.safetensors",
            "directory": "clip_vision"
          }
        ]
      },
      "widgets_values": [
        "sigclip_vision_patch14_384.safetensors"
      ]
    },
    {
      "id": 39,
      "type": "ModelPatchLoader",
      "pos": [
        -690,
        200
      ],
      "size": [
        315,
        58
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL_PATCH",
          "type": "MODEL_PATCH",
          "links": [
            94,
            100
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "ModelPatchLoader",
        "models": [
          {
            "name": "uso-flux1-projector-v1.safetensors",
            "url": "https://huggingface.co/Comfy-Org/USO_1.0_Repackaged/resolve/main/split_files/model_patches/uso-flux1-projector-v1.safetensors",
            "directory": "model_patches"
          }
        ]
      },
      "widgets_values": [
        "uso-flux1-projector-v1.safetensors"
      ]
    },
    {
      "id": 43,
      "type": "LoraLoaderModelOnly",
      "pos": [
        -690,
        60
      ],
      "size": [
        315,
        82
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 62
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            99
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "LoraLoaderModelOnly",
        "models": [
          {
            "name": "uso-flux1-dit-lora-v1.safetensors",
            "url": "https://huggingface.co/Comfy-Org/USO_1.0_Repackaged/resolve/main/split_files/loras/uso-flux1-dit-lora-v1.safetensors",
            "directory": "loras"
          }
        ]
      },
      "widgets_values": [
        "uso-flux1-dit-lora-v1.safetensors",
        1
      ]
    },
    {
      "id": 51,
      "type": "VAEEncode",
      "pos": [
        -330,
        180
      ],
      "size": [
        280,
        46
      ],
      "flags": {
        "collapsed": true
      },
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 172
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 78
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            103
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "VAEEncode"
      },
      "widgets_values": []
    },
    {
      "id": 48,
      "type": "ConditioningZeroOut",
      "pos": [
        -320,
        90
      ],
      "size": [
        280,
        26
      ],
      "flags": {
        "collapsed": true
      },
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 72
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            73
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "ConditioningZeroOut"
      },
      "widgets_values": []
    },
    {
      "id": 8,
      "type": "VAEDecode",
      "pos": [
        540,
        -30
      ],
      "size": [
        210,
        46
      ],
      "flags": {},
      "order": 37,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 52
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 46
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            9
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "VAEDecode"
      },
      "widgets_values": []
    },
    {
      "id": 109,
      "type": "ImageScaleToMaxDimension",
      "pos": [
        -670,
        950
      ],
      "size": [
        281.2027282714844,
        82
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 171
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            172
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "ImageScaleToMaxDimension"
      },
      "widgets_values": [
        "area",
        512
      ]
    },
    {
      "id": 31,
      "type": "KSampler",
      "pos": [
        180,
        -30
      ],
      "size": [
        315,
        474
      ],
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 160
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 104
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 73
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 173
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            52
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        1058487910949722,
        "fixed",
        20,
        1,
        "euler",
        "simple",
        1
      ]
    },
    {
      "id": 9,
      "type": "SaveImage",
      "pos": [
        590,
        80
      ],
      "size": [
        940,
        1000
      ],
      "flags": {},
      "order": 39,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 9
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56"
      },
      "widgets_values": [
        "ComfyUI"
      ]
    },
    {
      "id": 96,
      "type": "MarkdownNote",
      "pos": [
        540,
        -210
      ],
      "size": [
        390,
        140
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "About EasyCache",
      "properties": {},
      "widgets_values": [
        "The EasyCache node will maintain a `cumulative_change_rate`. When this value is lower than the `reuse_threshold`, it skips the current step and uses the cached result.\n\nThis node can reduce inference time, but it also sacrifices some quality and details. You can bypass it (Ctrl+B) if you don't need it.\n"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 95,
      "type": "EasyCache",
      "pos": [
        180,
        -210
      ],
      "size": [
        320,
        130
      ],
      "flags": {},
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 159
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            160
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "EasyCache"
      },
      "widgets_values": [
        0.2,
        0.15,
        0.95,
        false
      ]
    },
    {
      "id": 110,
      "type": "EmptySD3LatentImage",
      "pos": [
        -250,
        330
      ],
      "size": [
        270,
        106
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            173
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "EmptySD3LatentImage"
      },
      "widgets_values": [
        1024,
        1024,
        1
      ]
    },
    {
      "id": 102,
      "type": "MarkdownNote",
      "pos": [
        -1250,
        -170
      ],
      "size": [
        530,
        510
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Model links",
      "properties": {},
      "widgets_values": [
        "[tutorial](http://docs.comfy.org/tutorials/flux/flux-1-uso) \n\n**checkpoints**\n\n- [flux1-dev-fp8.safetensors](https://huggingface.co/Comfy-Org/flux1-dev/resolve/main/flux1-dev-fp8.safetensors)\n\n\n\n**loras**\n\n- [uso-flux1-dit-lora-v1.safetensors](https://huggingface.co/Comfy-Org/USO_1.0_Repackaged/resolve/main/split_files/loras/uso-flux1-dit-lora-v1.safetensors)\n\n**model_patches**\n\n- [uso-flux1-projector-v1.safetensors](https://huggingface.co/Comfy-Org/USO_1.0_Repackaged/resolve/main/split_files/model_patches/uso-flux1-projector-v1.safetensors)\n\n**clip_visions**\n- [sigclip_vision_patch14_384.safetensors](https://huggingface.co/Comfy-Org/sigclip_vision_384/resolve/main/sigclip_vision_patch14_384.safetensors)\n\nModel Location\n\n```\n📂 ComfyUI/\n├── 📂 models/\n│   ├── 📂 checkpoints/\n│   │   └── flux1-dev-fp8.safetensors\n│   ├── 📂 loras/\n│   │   └── uso-flux1-dit-lora-v1.safetensors\n│   ├── 📂 model_patches/\n│   │   └── uso-flux1-projector-v1.safetensors\n│   ├── 📂 clip_visions/\n│   │   └── sigclip_vision_patch14_384.safetensors\n```\n"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 55,
      "type": "581ab310-5783-4e50-b220-4d94035eb469",
      "pos": [
        -320,
        560
      ],
      "size": [
        310,
        120
      ],
      "flags": {},
      "order": 27,
      "mode": 4,
      "inputs": [
        {
          "name": "clip_vision",
          "type": "CLIP_VISION",
          "link": 91
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 92
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 99
        },
        {
          "name": "model_patch",
          "type": "MODEL_PATCH",
          "link": 94
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            96
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "proxyWidgets": [
          [
            "-1",
            "crop"
          ]
        ]
      },
      "widgets_values": [
        "center"
      ]
    },
    {
      "id": 56,
      "type": "74d27e51-9780-451f-9dde-8bf303d00011",
      "pos": [
        20,
        550
      ],
      "size": [
        320,
        120
      ],
      "flags": {},
      "order": 31,
      "mode": 4,
      "inputs": [
        {
          "name": "clip_vision",
          "type": "CLIP_VISION",
          "link": 97
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 98
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 96
        },
        {
          "name": "model_patch",
          "type": "MODEL_PATCH",
          "link": 100
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            159
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "proxyWidgets": [
          [
            "-1",
            "crop"
          ]
        ]
      },
      "widgets_values": [
        "center"
      ]
    },
    {
      "id": 53,
      "type": "LoadImage",
      "pos": [
        -320,
        720
      ],
      "size": [
        274.080078125,
        314.00006103515625
      ],
      "flags": {},
      "order": 18,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            92
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "flux1_dev_uso_reference_image_gen_input_image.png",
        "image"
      ]
    }
  ],
  "links": [
    [
      9,
      8,
      0,
      9,
      0,
      "IMAGE"
    ],
    [
      45,
      30,
      1,
      6,
      0,
      "CLIP"
    ],
    [
      46,
      30,
      2,
      8,
      1,
      "VAE"
    ],
    [
      52,
      31,
      0,
      8,
      0,
      "LATENT"
    ],
    [
      62,
      30,
      0,
      43,
      0,
      "MODEL"
    ],
    [
      72,
      6,
      0,
      48,
      0,
      "CONDITIONING"
    ],
    [
      73,
      48,
      0,
      31,
      2,
      "CONDITIONING"
    ],
    [
      78,
      30,
      2,
      51,
      1,
      "VAE"
    ],
    [
      91,
      40,
      0,
      55,
      0,
      "CLIP_VISION"
    ],
    [
      92,
      53,
      0,
      55,
      1,
      "IMAGE"
    ],
    [
      94,
      39,
      0,
      55,
      3,
      "MODEL_PATCH"
    ],
    [
      96,
      55,
      0,
      56,
      2,
      "MODEL"
    ],
    [
      97,
      40,
      0,
      56,
      0,
      "CLIP_VISION"
    ],
    [
      98,
      46,
      0,
      56,
      1,
      "IMAGE"
    ],
    [
      99,
      43,
      0,
      55,
      2,
      "MODEL"
    ],
    [
      100,
      39,
      0,
      56,
      3,
      "MODEL_PATCH"
    ],
    [
      102,
      6,
      0,
      57,
      0,
      "CONDITIONING"
    ],
    [
      103,
      51,
      0,
      57,
      1,
      "LATENT"
    ],
    [
      104,
      57,
      0,
      31,
      1,
      "CONDITIONING"
    ],
    [
      123,
      77,
      0,
      73,
      0,
      "IMAGE"
    ],
    [
      124,
      72,
      0,
      76,
      0,
      "MODEL"
    ],
    [
      125,
      78,
      0,
      77,
      0,
      "LATENT"
    ],
    [
      126,
      72,
      2,
      77,
      1,
      "VAE"
    ],
    [
      129,
      79,
      0,
      78,
      2,
      "CONDITIONING"
    ],
    [
      130,
      87,
      0,
      78,
      3,
      "LATENT"
    ],
    [
      131,
      90,
      0,
      79,
      0,
      "CONDITIONING"
    ],
    [
      135,
      74,
      0,
      83,
      0,
      "CLIP_VISION"
    ],
    [
      136,
      91,
      0,
      83,
      1,
      "IMAGE"
    ],
    [
      137,
      89,
      0,
      83,
      2,
      "MODEL"
    ],
    [
      138,
      75,
      0,
      83,
      3,
      "MODEL_PATCH"
    ],
    [
      142,
      74,
      0,
      89,
      0,
      "CLIP_VISION"
    ],
    [
      143,
      88,
      0,
      89,
      1,
      "IMAGE"
    ],
    [
      144,
      76,
      0,
      89,
      2,
      "MODEL"
    ],
    [
      145,
      75,
      0,
      89,
      3,
      "MODEL_PATCH"
    ],
    [
      146,
      72,
      1,
      90,
      0,
      "CLIP"
    ],
    [
      149,
      90,
      0,
      78,
      1,
      "CONDITIONING"
    ],
    [
      151,
      92,
      0,
      78,
      0,
      "MODEL"
    ],
    [
      158,
      83,
      0,
      92,
      0,
      "MODEL"
    ],
    [
      159,
      56,
      0,
      95,
      0,
      "MODEL"
    ],
    [
      160,
      95,
      0,
      31,
      0,
      "MODEL"
    ],
    [
      171,
      47,
      0,
      109,
      0,
      "IMAGE"
    ],
    [
      172,
      109,
      0,
      51,
      0,
      "IMAGE"
    ],
    [
      173,
      110,
      0,
      31,
      3,
      "LATENT"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "Step 3 - Style Reference",
      "bounding": [
        -340,
        470,
        890,
        600
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 2,
      "title": "Step 2 - Subject/Identity Image",
      "bounding": [
        -700,
        470,
        340,
        600
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 3,
      "title": "Step 1 - Load Models",
      "bounding": [
        -700,
        -200,
        340,
        650
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 4,
      "title": "Step3 - Style Reference",
      "bounding": [
        -700,
        2060,
        790,
        650
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 6,
      "title": "Step 1 - Load Models",
      "bounding": [
        -700,
        1510,
        335,
        541.5999755859375
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 7,
      "title": "Step 4 - Image Size",
      "bounding": [
        -340,
        1850,
        300,
        200
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 8,
      "title": "Step 3 - Prompt",
      "bounding": [
        -340,
        1510,
        442.8500061035156,
        309.6000061035156
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 9,
      "title": "Step 4 - Prompt",
      "bounding": [
        -340,
        -200,
        460,
        430
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 10,
      "title": "Image Size",
      "bounding": [
        -340,
        250,
        460,
        200
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    }
  ],
  "definitions": {
    "subgraphs": [
      {
        "id": "581ab310-5783-4e50-b220-4d94035eb469",
        "version": 1,
        "state": {
          "lastGroupId": 0,
          "lastNodeId": 54,
          "lastLinkId": 91,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "USOStyleReference(Subgraph)",
        "inputNode": {
          "id": -10,
          "bounding": [
            -790,
            608,
            120,
            140
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            190,
            638,
            120,
            60
          ]
        },
        "inputs": [
          {
            "id": "7640a5a3-e2cf-4f74-acaf-45dedea514e3",
            "name": "clip_vision",
            "type": "CLIP_VISION",
            "linkIds": [
              85
            ],
            "localized_name": "clip_vision",
            "pos": {
              "0": -690,
              "1": 628
            }
          },
          {
            "id": "4e819086-d02a-4b6c-8383-e7939729ba47",
            "name": "image",
            "type": "IMAGE",
            "linkIds": [
              86
            ],
            "localized_name": "image",
            "pos": {
              "0": -690,
              "1": 648
            }
          },
          {
            "id": "2bea204b-da22-43d3-9591-9ef6e66a8169",
            "name": "model",
            "type": "MODEL",
            "linkIds": [
              88
            ],
            "localized_name": "model",
            "pos": {
              "0": -690,
              "1": 668
            }
          },
          {
            "id": "4effe73e-9aa2-4cc5-acde-5df0cf566455",
            "name": "model_patch",
            "type": "MODEL_PATCH",
            "linkIds": [
              89
            ],
            "localized_name": "model_patch",
            "pos": {
              "0": -690,
              "1": 688
            }
          },
          {
            "id": "d9a5affb-b212-4f50-8591-c3dc535a2e53",
            "name": "crop",
            "type": "COMBO",
            "linkIds": [
              91
            ],
            "pos": {
              "0": -690,
              "1": 708
            }
          }
        ],
        "outputs": [
          {
            "id": "4f7b8185-680f-420c-8138-4138be1fda23",
            "name": "MODEL",
            "type": "MODEL",
            "linkIds": [
              90
            ],
            "localized_name": "MODEL",
            "pos": {
              "0": 210,
              "1": 658
            }
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 52,
            "type": "CLIPVisionEncode",
            "pos": [
              -610,
              580
            ],
            "size": [
              290.390625,
              78
            ],
            "flags": {},
            "order": 0,
            "mode": 4,
            "inputs": [
              {
                "localized_name": "clip_vision",
                "name": "clip_vision",
                "type": "CLIP_VISION",
                "link": 85
              },
              {
                "localized_name": "image",
                "name": "image",
                "type": "IMAGE",
                "link": 86
              },
              {
                "localized_name": "crop",
                "name": "crop",
                "type": "COMBO",
                "widget": {
                  "name": "crop"
                },
                "link": 91
              }
            ],
            "outputs": [
              {
                "localized_name": "CLIP_VISION_OUTPUT",
                "name": "CLIP_VISION_OUTPUT",
                "type": "CLIP_VISION_OUTPUT",
                "links": [
                  87
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.56",
              "Node name for S&R": "CLIPVisionEncode"
            },
            "widgets_values": [
              "center"
            ]
          },
          {
            "id": 54,
            "type": "USOStyleReference",
            "pos": [
              -610,
              710
            ],
            "size": [
              360,
              70
            ],
            "flags": {},
            "order": 1,
            "mode": 4,
            "inputs": [
              {
                "localized_name": "model",
                "name": "model",
                "type": "MODEL",
                "link": 88
              },
              {
                "localized_name": "model_patch",
                "name": "model_patch",
                "type": "MODEL_PATCH",
                "link": 89
              },
              {
                "localized_name": "clip_vision_output",
                "name": "clip_vision_output",
                "type": "CLIP_VISION_OUTPUT",
                "link": 87
              }
            ],
            "outputs": [
              {
                "localized_name": "MODEL",
                "name": "MODEL",
                "type": "MODEL",
                "links": [
                  90
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.56",
              "Node name for S&R": "USOStyleReference"
            },
            "widgets_values": []
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 87,
            "origin_id": 52,
            "origin_slot": 0,
            "target_id": 54,
            "target_slot": 2,
            "type": "CLIP_VISION_OUTPUT"
          },
          {
            "id": 85,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 52,
            "target_slot": 0,
            "type": "CLIP_VISION"
          },
          {
            "id": 86,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 52,
            "target_slot": 1,
            "type": "IMAGE"
          },
          {
            "id": 88,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 54,
            "target_slot": 0,
            "type": "MODEL"
          },
          {
            "id": 89,
            "origin_id": -10,
            "origin_slot": 3,
            "target_id": 54,
            "target_slot": 1,
            "type": "MODEL_PATCH"
          },
          {
            "id": 90,
            "origin_id": 54,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "MODEL"
          },
          {
            "id": 91,
            "origin_id": -10,
            "origin_slot": 4,
            "target_id": 52,
            "target_slot": 2,
            "type": "COMBO"
          }
        ],
        "extra": {}
      },
      {
        "id": "74d27e51-9780-451f-9dde-8bf303d00011",
        "version": 1,
        "state": {
          "lastGroupId": 0,
          "lastNodeId": 54,
          "lastLinkId": 91,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "USOStyleReference(Subgraph)",
        "inputNode": {
          "id": -10,
          "bounding": [
            -790,
            608,
            120,
            140
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            190,
            638,
            120,
            60
          ]
        },
        "inputs": [
          {
            "id": "7640a5a3-e2cf-4f74-acaf-45dedea514e3",
            "name": "clip_vision",
            "type": "CLIP_VISION",
            "linkIds": [
              85
            ],
            "localized_name": "clip_vision",
            "pos": {
              "0": -690,
              "1": 628
            }
          },
          {
            "id": "4e819086-d02a-4b6c-8383-e7939729ba47",
            "name": "image",
            "type": "IMAGE",
            "linkIds": [
              86
            ],
            "localized_name": "image",
            "pos": {
              "0": -690,
              "1": 648
            }
          },
          {
            "id": "2bea204b-da22-43d3-9591-9ef6e66a8169",
            "name": "model",
            "type": "MODEL",
            "linkIds": [
              88
            ],
            "localized_name": "model",
            "pos": {
              "0": -690,
              "1": 668
            }
          },
          {
            "id": "4effe73e-9aa2-4cc5-acde-5df0cf566455",
            "name": "model_patch",
            "type": "MODEL_PATCH",
            "linkIds": [
              89
            ],
            "localized_name": "model_patch",
            "pos": {
              "0": -690,
              "1": 688
            }
          },
          {
            "id": "d9a5affb-b212-4f50-8591-c3dc535a2e53",
            "name": "crop",
            "type": "COMBO",
            "linkIds": [
              91
            ],
            "pos": {
              "0": -690,
              "1": 708
            }
          }
        ],
        "outputs": [
          {
            "id": "4f7b8185-680f-420c-8138-4138be1fda23",
            "name": "MODEL",
            "type": "MODEL",
            "linkIds": [
              90
            ],
            "localized_name": "MODEL",
            "pos": {
              "0": 210,
              "1": 658
            }
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 52,
            "type": "CLIPVisionEncode",
            "pos": [
              -610,
              580
            ],
            "size": [
              290.390625,
              78
            ],
            "flags": {},
            "order": 0,
            "mode": 4,
            "inputs": [
              {
                "localized_name": "clip_vision",
                "name": "clip_vision",
                "type": "CLIP_VISION",
                "link": 85
              },
              {
                "localized_name": "image",
                "name": "image",
                "type": "IMAGE",
                "link": 86
              },
              {
                "localized_name": "crop",
                "name": "crop",
                "type": "COMBO",
                "widget": {
                  "name": "crop"
                },
                "link": 91
              }
            ],
            "outputs": [
              {
                "localized_name": "CLIP_VISION_OUTPUT",
                "name": "CLIP_VISION_OUTPUT",
                "type": "CLIP_VISION_OUTPUT",
                "links": [
                  87
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.56",
              "Node name for S&R": "CLIPVisionEncode"
            },
            "widgets_values": [
              "center"
            ]
          },
          {
            "id": 54,
            "type": "USOStyleReference",
            "pos": [
              -610,
              710
            ],
            "size": [
              360,
              70
            ],
            "flags": {},
            "order": 1,
            "mode": 4,
            "inputs": [
              {
                "localized_name": "model",
                "name": "model",
                "type": "MODEL",
                "link": 88
              },
              {
                "localized_name": "model_patch",
                "name": "model_patch",
                "type": "MODEL_PATCH",
                "link": 89
              },
              {
                "localized_name": "clip_vision_output",
                "name": "clip_vision_output",
                "type": "CLIP_VISION_OUTPUT",
                "link": 87
              }
            ],
            "outputs": [
              {
                "localized_name": "MODEL",
                "name": "MODEL",
                "type": "MODEL",
                "links": [
                  90
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.56",
              "Node name for S&R": "USOStyleReference"
            },
            "widgets_values": []
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 87,
            "origin_id": 52,
            "origin_slot": 0,
            "target_id": 54,
            "target_slot": 2,
            "type": "CLIP_VISION_OUTPUT"
          },
          {
            "id": 85,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 52,
            "target_slot": 0,
            "type": "CLIP_VISION"
          },
          {
            "id": 86,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 52,
            "target_slot": 1,
            "type": "IMAGE"
          },
          {
            "id": 88,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 54,
            "target_slot": 0,
            "type": "MODEL"
          },
          {
            "id": 89,
            "origin_id": -10,
            "origin_slot": 3,
            "target_id": 54,
            "target_slot": 1,
            "type": "MODEL_PATCH"
          },
          {
            "id": 90,
            "origin_id": 54,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "MODEL"
          },
          {
            "id": 91,
            "origin_id": -10,
            "origin_slot": 4,
            "target_id": 52,
            "target_slot": 2,
            "type": "COMBO"
          }
        ],
        "extra": {}
      },
      {
        "id": "805a5f96-6fdd-45a4-a1f3-623234fa734f",
        "version": 1,
        "state": {
          "lastGroupId": 0,
          "lastNodeId": 56,
          "lastLinkId": 102,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "USO Reference Conditioning",
        "inputNode": {
          "id": -10,
          "bounding": [
            -20,
            283,
            120,
            100
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            560,
            293,
            128.6640625,
            60
          ]
        },
        "inputs": [
          {
            "id": "d78373ce-7cdc-4e0f-a743-4d024e766376",
            "name": "conditioning",
            "type": "CONDITIONING",
            "linkIds": [
              66
            ],
            "localized_name": "conditioning",
            "pos": {
              "0": 80,
              "1": 303
            }
          },
          {
            "id": "1eebe27a-c790-4a85-8aa2-3b9f4eeddd00",
            "name": "latent",
            "type": "LATENT",
            "linkIds": [
              79
            ],
            "localized_name": "latent",
            "shape": 7,
            "pos": {
              "0": 80,
              "1": 323
            }
          },
          {
            "id": "09894330-3dcb-4fba-87a5-33c3fb9db843",
            "name": "guidance",
            "type": "FLOAT",
            "linkIds": [
              102
            ],
            "pos": {
              "0": 80,
              "1": 343
            }
          }
        ],
        "outputs": [
          {
            "id": "194badf0-ae11-47cd-a825-d7edd7ca6cc4",
            "name": "CONDITIONING",
            "type": "CONDITIONING",
            "linkIds": [
              57
            ],
            "localized_name": "CONDITIONING",
            "pos": {
              "0": 580,
              "1": 313
            }
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 44,
            "type": "ReferenceLatent",
            "pos": [
              190,
              430
            ],
            "size": [
              197.712890625,
              46
            ],
            "flags": {},
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "conditioning",
                "name": "conditioning",
                "type": "CONDITIONING",
                "link": 66
              },
              {
                "localized_name": "latent",
                "name": "latent",
                "shape": 7,
                "type": "LATENT",
                "link": 79
              }
            ],
            "outputs": [
              {
                "localized_name": "CONDITIONING",
                "name": "CONDITIONING",
                "type": "CONDITIONING",
                "links": [
                  64
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.56",
              "Node name for S&R": "ReferenceLatent"
            },
            "widgets_values": []
          },
          {
            "id": 35,
            "type": "FluxGuidance",
            "pos": [
              160,
              200
            ],
            "size": [
              211.60000610351562,
              58
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "conditioning",
                "name": "conditioning",
                "type": "CONDITIONING",
                "link": 67
              },
              {
                "localized_name": "guidance",
                "name": "guidance",
                "type": "FLOAT",
                "widget": {
                  "name": "guidance"
                },
                "link": 102
              }
            ],
            "outputs": [
              {
                "localized_name": "CONDITIONING",
                "name": "CONDITIONING",
                "type": "CONDITIONING",
                "slot_index": 0,
                "links": [
                  57
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.56",
              "Node name for S&R": "FluxGuidance"
            },
            "widgets_values": [
              3.5
            ]
          },
          {
            "id": 41,
            "type": "FluxKontextMultiReferenceLatentMethod",
            "pos": [
              170,
              320
            ],
            "size": [
              330,
              60
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "conditioning",
                "name": "conditioning",
                "type": "CONDITIONING",
                "link": 64
              }
            ],
            "outputs": [
              {
                "localized_name": "CONDITIONING",
                "name": "CONDITIONING",
                "type": "CONDITIONING",
                "links": [
                  67
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.56",
              "Node name for S&R": "FluxKontextMultiReferenceLatentMethod"
            },
            "widgets_values": [
              "uxo/uno"
            ]
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 67,
            "origin_id": 41,
            "origin_slot": 0,
            "target_id": 35,
            "target_slot": 0,
            "type": "CONDITIONING"
          },
          {
            "id": 64,
            "origin_id": 44,
            "origin_slot": 0,
            "target_id": 41,
            "target_slot": 0,
            "type": "CONDITIONING"
          },
          {
            "id": 66,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 44,
            "target_slot": 0,
            "type": "CONDITIONING"
          },
          {
            "id": 79,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 44,
            "target_slot": 1,
            "type": "LATENT"
          },
          {
            "id": 57,
            "origin_id": 35,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "CONDITIONING"
          },
          {
            "id": 102,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 35,
            "target_slot": 1,
            "type": "FLOAT"
          }
        ],
        "extra": {}
      },
      {
        "id": "08624421-a41c-413b-9de7-d68b0b60b667",
        "version": 1,
        "state": {
          "lastGroupId": 0,
          "lastNodeId": 54,
          "lastLinkId": 91,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "USOStyleReference",
        "inputNode": {
          "id": -10,
          "bounding": [
            -790,
            608,
            120,
            140
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            190,
            638,
            120,
            60
          ]
        },
        "inputs": [
          {
            "id": "7640a5a3-e2cf-4f74-acaf-45dedea514e3",
            "name": "clip_vision",
            "type": "CLIP_VISION",
            "linkIds": [
              85
            ],
            "localized_name": "clip_vision",
            "pos": {
              "0": -690,
              "1": 628
            }
          },
          {
            "id": "4e819086-d02a-4b6c-8383-e7939729ba47",
            "name": "image",
            "type": "IMAGE",
            "linkIds": [
              86
            ],
            "localized_name": "image",
            "pos": {
              "0": -690,
              "1": 648
            }
          },
          {
            "id": "2bea204b-da22-43d3-9591-9ef6e66a8169",
            "name": "model",
            "type": "MODEL",
            "linkIds": [
              88
            ],
            "localized_name": "model",
            "pos": {
              "0": -690,
              "1": 668
            }
          },
          {
            "id": "4effe73e-9aa2-4cc5-acde-5df0cf566455",
            "name": "model_patch",
            "type": "MODEL_PATCH",
            "linkIds": [
              89
            ],
            "localized_name": "model_patch",
            "pos": {
              "0": -690,
              "1": 688
            }
          },
          {
            "id": "d9a5affb-b212-4f50-8591-c3dc535a2e53",
            "name": "crop",
            "type": "COMBO",
            "linkIds": [
              91
            ],
            "pos": {
              "0": -690,
              "1": 708
            }
          }
        ],
        "outputs": [
          {
            "id": "4f7b8185-680f-420c-8138-4138be1fda23",
            "name": "MODEL",
            "type": "MODEL",
            "linkIds": [
              90
            ],
            "localized_name": "MODEL",
            "pos": {
              "0": 210,
              "1": 658
            }
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 52,
            "type": "CLIPVisionEncode",
            "pos": [
              -610,
              580
            ],
            "size": [
              290.390625,
              78
            ],
            "flags": {},
            "order": 0,
            "mode": 4,
            "inputs": [
              {
                "localized_name": "clip_vision",
                "name": "clip_vision",
                "type": "CLIP_VISION",
                "link": 85
              },
              {
                "localized_name": "image",
                "name": "image",
                "type": "IMAGE",
                "link": 86
              },
              {
                "localized_name": "crop",
                "name": "crop",
                "type": "COMBO",
                "widget": {
                  "name": "crop"
                },
                "link": 91
              }
            ],
            "outputs": [
              {
                "localized_name": "CLIP_VISION_OUTPUT",
                "name": "CLIP_VISION_OUTPUT",
                "type": "CLIP_VISION_OUTPUT",
                "links": [
                  87
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.56",
              "Node name for S&R": "CLIPVisionEncode"
            },
            "widgets_values": [
              "center"
            ]
          },
          {
            "id": 54,
            "type": "USOStyleReference",
            "pos": [
              -610,
              710
            ],
            "size": [
              360,
              70
            ],
            "flags": {},
            "order": 1,
            "mode": 4,
            "inputs": [
              {
                "localized_name": "model",
                "name": "model",
                "type": "MODEL",
                "link": 88
              },
              {
                "localized_name": "model_patch",
                "name": "model_patch",
                "type": "MODEL_PATCH",
                "link": 89
              },
              {
                "localized_name": "clip_vision_output",
                "name": "clip_vision_output",
                "type": "CLIP_VISION_OUTPUT",
                "link": 87
              }
            ],
            "outputs": [
              {
                "localized_name": "MODEL",
                "name": "MODEL",
                "type": "MODEL",
                "links": [
                  90
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.56",
              "Node name for S&R": "USOStyleReference"
            },
            "widgets_values": []
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 87,
            "origin_id": 52,
            "origin_slot": 0,
            "target_id": 54,
            "target_slot": 2,
            "type": "CLIP_VISION_OUTPUT"
          },
          {
            "id": 85,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 52,
            "target_slot": 0,
            "type": "CLIP_VISION"
          },
          {
            "id": 86,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 52,
            "target_slot": 1,
            "type": "IMAGE"
          },
          {
            "id": 88,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 54,
            "target_slot": 0,
            "type": "MODEL"
          },
          {
            "id": 89,
            "origin_id": -10,
            "origin_slot": 3,
            "target_id": 54,
            "target_slot": 1,
            "type": "MODEL_PATCH"
          },
          {
            "id": 90,
            "origin_id": 54,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "MODEL"
          },
          {
            "id": 91,
            "origin_id": -10,
            "origin_slot": 4,
            "target_id": 52,
            "target_slot": 2,
            "type": "COMBO"
          }
        ],
        "extra": {}
      },
      {
        "id": "d31e1095-65ee-4ba3-b4d0-a21e493dd0bd",
        "version": 1,
        "state": {
          "lastGroupId": 0,
          "lastNodeId": 54,
          "lastLinkId": 91,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "USOStyleReference",
        "inputNode": {
          "id": -10,
          "bounding": [
            -790,
            608,
            120,
            140
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            190,
            638,
            120,
            60
          ]
        },
        "inputs": [
          {
            "id": "7640a5a3-e2cf-4f74-acaf-45dedea514e3",
            "name": "clip_vision",
            "type": "CLIP_VISION",
            "linkIds": [
              85
            ],
            "localized_name": "clip_vision",
            "pos": {
              "0": -690,
              "1": 628
            }
          },
          {
            "id": "4e819086-d02a-4b6c-8383-e7939729ba47",
            "name": "image",
            "type": "IMAGE",
            "linkIds": [
              86
            ],
            "localized_name": "image",
            "pos": {
              "0": -690,
              "1": 648
            }
          },
          {
            "id": "2bea204b-da22-43d3-9591-9ef6e66a8169",
            "name": "model",
            "type": "MODEL",
            "linkIds": [
              88
            ],
            "localized_name": "model",
            "pos": {
              "0": -690,
              "1": 668
            }
          },
          {
            "id": "4effe73e-9aa2-4cc5-acde-5df0cf566455",
            "name": "model_patch",
            "type": "MODEL_PATCH",
            "linkIds": [
              89
            ],
            "localized_name": "model_patch",
            "pos": {
              "0": -690,
              "1": 688
            }
          },
          {
            "id": "d9a5affb-b212-4f50-8591-c3dc535a2e53",
            "name": "crop",
            "type": "COMBO",
            "linkIds": [
              91
            ],
            "pos": {
              "0": -690,
              "1": 708
            }
          }
        ],
        "outputs": [
          {
            "id": "4f7b8185-680f-420c-8138-4138be1fda23",
            "name": "MODEL",
            "type": "MODEL",
            "linkIds": [
              90
            ],
            "localized_name": "MODEL",
            "pos": {
              "0": 210,
              "1": 658
            }
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 52,
            "type": "CLIPVisionEncode",
            "pos": [
              -610,
              580
            ],
            "size": [
              290.390625,
              78
            ],
            "flags": {},
            "order": 0,
            "mode": 4,
            "inputs": [
              {
                "localized_name": "clip_vision",
                "name": "clip_vision",
                "type": "CLIP_VISION",
                "link": 85
              },
              {
                "localized_name": "image",
                "name": "image",
                "type": "IMAGE",
                "link": 86
              },
              {
                "localized_name": "crop",
                "name": "crop",
                "type": "COMBO",
                "widget": {
                  "name": "crop"
                },
                "link": 91
              }
            ],
            "outputs": [
              {
                "localized_name": "CLIP_VISION_OUTPUT",
                "name": "CLIP_VISION_OUTPUT",
                "type": "CLIP_VISION_OUTPUT",
                "links": [
                  87
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.56",
              "Node name for S&R": "CLIPVisionEncode"
            },
            "widgets_values": [
              "center"
            ]
          },
          {
            "id": 54,
            "type": "USOStyleReference",
            "pos": [
              -610,
              710
            ],
            "size": [
              360,
              70
            ],
            "flags": {},
            "order": 1,
            "mode": 4,
            "inputs": [
              {
                "localized_name": "model",
                "name": "model",
                "type": "MODEL",
                "link": 88
              },
              {
                "localized_name": "model_patch",
                "name": "model_patch",
                "type": "MODEL_PATCH",
                "link": 89
              },
              {
                "localized_name": "clip_vision_output",
                "name": "clip_vision_output",
                "type": "CLIP_VISION_OUTPUT",
                "link": 87
              }
            ],
            "outputs": [
              {
                "localized_name": "MODEL",
                "name": "MODEL",
                "type": "MODEL",
                "links": [
                  90
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.56",
              "Node name for S&R": "USOStyleReference"
            },
            "widgets_values": []
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 87,
            "origin_id": 52,
            "origin_slot": 0,
            "target_id": 54,
            "target_slot": 2,
            "type": "CLIP_VISION_OUTPUT"
          },
          {
            "id": 85,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 52,
            "target_slot": 0,
            "type": "CLIP_VISION"
          },
          {
            "id": 86,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 52,
            "target_slot": 1,
            "type": "IMAGE"
          },
          {
            "id": 88,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 54,
            "target_slot": 0,
            "type": "MODEL"
          },
          {
            "id": 89,
            "origin_id": -10,
            "origin_slot": 3,
            "target_id": 54,
            "target_slot": 1,
            "type": "MODEL_PATCH"
          },
          {
            "id": 90,
            "origin_id": 54,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "MODEL"
          },
          {
            "id": 91,
            "origin_id": -10,
            "origin_slot": 4,
            "target_id": 52,
            "target_slot": 2,
            "type": "COMBO"
          }
        ],
        "extra": {}
      }
    ]
  },
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.37324775917266145,
      "offset": [
        1764.0575321285264,
        254.77382777722653
      ]
    },
    "frontendVersion": "1.27.10",
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true
  },
  "version": 0.4
}