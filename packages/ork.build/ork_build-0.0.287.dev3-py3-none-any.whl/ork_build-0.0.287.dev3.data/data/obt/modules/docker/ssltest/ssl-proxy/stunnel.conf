# stunnel configuration for ZMQ SSL proxy

# Global settings - run in foreground for Docker
foreground = yes
pid = /var/run/stunnel.pid

# Enable debug output to stderr (no privilege dropping needed)
debug = 5
output = /dev/stderr

# SSL service configuration
[zmq-ssl]
# Accept SSL connections on port 8443
accept = 8443

# Forward to ZMQ server (internal hostname from docker compose)
connect = zmq-server:5556

# SSL certificate and key
cert = /etc/stunnel/server.pem
key = /etc/stunnel/server.pem

# SSL/TLS options
options = NO_SSLv2
options = NO_SSLv3
options = CIPHER_SERVER_PREFERENCE
ciphers = ECDHE+AESGCM:ECDHE+CHACHA20:DHE+AESGCM:DHE+CHACHA20:!aNULL:!MD5:!DSS

# Client certificate verification (disabled for this example)
verify = 0 