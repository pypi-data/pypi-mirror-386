Metadata-Version: 2.4
Name: sii-agent-sdk
Version: 0.1.3
Summary: Python SDK for SII-CLI - AI Agent Framework
Author-email: GAIR-NLP <snowy2002@sjtu.edu.cn>
License: Apache-2.0
Project-URL: Homepage, https://github.com/GAIR-NLP/sii-cli
Project-URL: Documentation, https://github.com/GAIR-NLP/sii-cli/tree/main/packages/python-sdk
Project-URL: Repository, https://github.com/GAIR-NLP/sii-cli
Project-URL: Issues, https://github.com/GAIR-NLP/sii-cli/issues
Keywords: ai,agent,sii,gemini,assistant
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: Apache Software License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
Requires-Python: >=3.10
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: anyio>=4.0.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "dev"
Requires-Dist: pytest-cov>=4.0.0; extra == "dev"
Requires-Dist: black>=23.0.0; extra == "dev"
Requires-Dist: mypy>=1.0.0; extra == "dev"
Requires-Dist: ruff>=0.1.0; extra == "dev"
Dynamic: license-file

# SII Agent SDK for Python

Python SDK for SII-CLI - AI Agent Framework

[![Python Version](https://img.shields.io/badge/python-3.10+-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)
[![Node.js](https://img.shields.io/badge/node-%3E%3D20.0.0-brightgreen.svg)](https://nodejs.org/)
[![PyPI](https://img.shields.io/pypi/v/sii-agent-sdk.svg)](https://pypi.org/project/sii-agent-sdk/)

## æ¦‚è¿°

SII Agent SDK æ˜¯ SII-CLI çš„ Python æ¥å£ï¼Œä½¿ Python å¼€å‘è€…èƒ½å¤Ÿé€šè¿‡ç¼–ç¨‹æ–¹å¼è°ƒç”¨ SII-CLI çš„å¼ºå¤§ AI æ™ºèƒ½ä½“åŠŸèƒ½ã€‚

æœ¬é¡¹ç›®è®¾è®¡å‚è€ƒäº† [claude-agent-sdk-python](https://github.com/anthropics/claude-agent-sdk-python)ï¼Œæä¾›ç›¸ä¼¼çš„ API ä½“éªŒï¼ŒåŒæ—¶é›†æˆäº† SII çš„ç‰¹è‰²åŠŸèƒ½ã€‚

### ä¸»è¦ç‰¹æ€§

- âœ… **Claude SDK é£æ ¼ API**: API è®¾è®¡å‚è€ƒ claude-agent-sdk-pythonï¼Œé™ä½å­¦ä¹ æˆæœ¬
- âœ… **YOLO è‡ªä¸»æ‰§è¡Œ**: ä¸€å¥è¯è§¦å‘ï¼ŒAI è‡ªåŠ¨å®Œæˆä»»åŠ¡ï¼ˆåŸºäº SimpleYoloAgentï¼‰
- âœ… **å¤šè®¤è¯æ”¯æŒ**: æ”¯æŒ USE_SII, USE_GEMINI, USE_OPENAI ç­‰å¤šç§è®¤è¯æ–¹å¼
- âœ… **SII ä¸“å±å·¥å…·**: æ·±åº¦é›†æˆ sii_cognitions, sii_deep_research, sii_hybrid_search ç­‰å·¥å…·
- âœ… **æµå¼å“åº”**: åŸºäº JSONL åè®®ï¼Œå®æ—¶è¿”å›æ‰§è¡Œè¿›åº¦å’Œç»“æœ
- âœ… **ç±»å‹å®‰å…¨**: å®Œæ•´çš„ç±»å‹æç¤ºå’Œ IDE æ”¯æŒ
- âœ… **è¿›ç¨‹éš”ç¦»**: é€šè¿‡ Node.js Bridge å®ç° Python ä¸ SII-CLI Core çš„è¿›ç¨‹é—´é€šä¿¡

## æœ€æ–°å‘å¸ƒ

- **PyPI**: [`sii-agent-sdk` 0.1.2](https://pypi.org/project/sii-agent-sdk/0.1.2/)
- **å‘å¸ƒæ—¥æœŸ**: 2025-10-07
- **çŠ¶æ€**: Alphaï¼ˆAPI ä»å¯èƒ½è°ƒæ•´ï¼‰

> è‡ª 0.1.2 èµ·ï¼ŒPython SDK å·²é€šè¿‡ PyPI æ­£å¼å‘å¸ƒï¼Œç»§ç»­ä¾èµ–å…¨å±€å®‰è£…çš„ `@gair/sii-cli` æ¥æä¾› Node.js Bridge èƒ½åŠ›ã€‚

## æ¶æ„è®¾è®¡


![alt text](../../assets/figures/fig1.png)

### ç»„ä»¶è¯´æ˜

1. **Python SDK** (`sii_agent_sdk/`)
   - æä¾› Pythonic çš„ API æ¥å£
   - ç®¡ç† Bridge è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸ
   - è§£æ JSONL äº‹ä»¶æµ
   - ç±»å‹å®‰å…¨çš„æ¶ˆæ¯å°è£…

2. **Node.js Bridge** (`bridge/`)
   - æ¡¥æ¥ Python å’Œ Node.js ç”Ÿæ€
   - å¤„ç† JSONL åè®®é€šä¿¡
   - ç®¡ç† SII-CLI Core å®ä¾‹
   - æä¾›è¿›ç¨‹éš”ç¦»å’Œé”™è¯¯æ¢å¤

3. **SII-CLI Core** (`../core/`)
   - å¤ç”¨ç°æœ‰çš„æ ¸å¿ƒåŠŸèƒ½
   - AgentService: å¯¹è¯å¼äº¤äº’
   - SimpleYoloAgent: è‡ªä¸»æ‰§è¡Œ
   - ToolRegistry: å·¥å…·ç®¡ç†

## å®‰è£…

```bash
pip install sii-agent-sdk
```

### å‰ç½®è¦æ±‚

- **Python**: >= 3.10
- **Node.js**: >= 20.0.0
- **SII-CLI**: å·²æ„å»ºçš„ `@gair/sii-cli` åŒ…ï¼Œ`npm install -g @gair/sii-cli` ï¼Œå…·ä½“å¯ä»¥å‚è€ƒ[sii-cli å®‰è£…æŒ‡å—](https://github.com/GAIR-NLP/sii-cli-dev/blob/main/README.md)

## è®¤è¯æ–¹å¼

SDK æ”¯æŒ SII-CLI çš„æ‰€æœ‰è®¤è¯æ–¹å¼ã€‚ä¸åŒè®¤è¯æ–¹å¼å†³å®šäº†å¯ç”¨çš„å·¥å…·é›†ï¼š

| è®¤è¯ç±»å‹         | è¯´æ˜           | ç¯å¢ƒå˜é‡                       | å¯ç”¨å·¥å…·                |
| ---------------- | -------------- | ------------------------------ | ----------------------- |
| `USE_SII` (é»˜è®¤) | SII å¹³å°è®¤è¯   | `SII_USERNAME`å’Œ`SII_PASSWORD` | æ‰€æœ‰å·¥å…· + SII ä¸“å±å·¥å…· |
| `USE_OPENAI`     | OpenAI API Key | `OPENAI_API_KEY`               | åŸºç¡€å·¥å…·                |

### é…ç½®è®¤è¯

æ–¹å¼ 1: é€šè¿‡ç¯å¢ƒå˜é‡

```bash
# SII CLI automatically configures these when using interactive authentication
export SII_OPENAI_API_KEY="your_api_key_here"
export SII_OPENAI_BASE_URL="your_api_endpoint"
export SII_OPENAI_MODEL="your_model_choice"

# For SII Account authentication
export SII_USERNAME="your_username"
export SII_PASSWORD="your_password"
export SII_BASE_URL="https://www.opensii.ai/backend"
export SII_OPENAI_MODEL="your_model_choice"  # Shared model setting
```

æ–¹å¼ 2ï¼š é€šè¿‡æµè§ˆå™¨ç•Œé¢ç™»å½• ï¼ˆtodoï¼‰

## å¿«é€Ÿå¼€å§‹

### 1. åŸºç¡€æŸ¥è¯¢

æœ€ç®€å•çš„ç”¨æ³•ï¼Œä½¿ç”¨é»˜è®¤é…ç½®ï¼š

```python
import anyio
from sii_agent_sdk import query

async def main():
    async for message in query(prompt="è¯·é—®ä½ æ˜¯è°"):
        print(message)

anyio.run(main)
```

### 2. YOLO è‡ªä¸»æ‰§è¡Œæ¨¡å¼

è®© AI è‡ªåŠ¨æ‰§è¡Œæ‰€æœ‰æ­¥éª¤ï¼Œæ— éœ€äººå·¥ç¡®è®¤ï¼š

```python
import anyio
import os
from pathlib import Path
from sii_agent_sdk import query, SiiAgentOptions


async def main():
    print("ğŸ® å¼€å§‹æµ‹è¯•ï¼šç”ŸæˆåŒäººå¯¹æˆ˜äº”å­æ£‹æ¸¸æˆå‰ç«¯ç•Œé¢")
    print("=" * 60)

    # è®¾ç½®å·¥ä½œç›®å½•
    output_dir = Path(__file__).parent / "gomoku_game_output"
    output_dir.mkdir(exist_ok=True)

    print(f"ğŸ“ è¾“å‡ºç›®å½•: {output_dir}")
    print(f"ğŸ” Trajectory å°†ä¿å­˜åˆ°: .sii/conversation_logs/")
    print("=" * 60)

    # æ„å»ºè¯¦ç»†çš„æç¤ºè¯
    prompt = """
è¯·å¸®æˆ‘åˆ›å»ºä¸€ä¸ªåŒäººå¯¹æˆ˜çš„äº”å­æ£‹æ¸¸æˆå‰ç«¯ç•Œé¢ï¼Œè¦æ±‚å¦‚ä¸‹ï¼š

1. **æŠ€æœ¯æ ˆ**ï¼šä½¿ç”¨çº¯ HTML + CSS + JavaScriptï¼ˆä¸ä¾èµ–æ¡†æ¶ï¼‰
2. **æ¸¸æˆåŠŸèƒ½**ï¼š
   - 15x15 çš„æ£‹ç›˜
   - åŒäººæœ¬åœ°å¯¹æˆ˜ï¼ˆé»‘ç™½æ£‹å­è½®æµä¸‹æ£‹ï¼‰
   - æ˜¾ç¤ºå½“å‰è½®åˆ°å“ªæ–¹
   - è‡ªåŠ¨åˆ¤æ–­èƒœè´Ÿï¼ˆäº”å­è¿ç ï¼‰
   - é‡æ–°å¼€å§‹æ¸¸æˆçš„æŒ‰é’®
   - æ‚”æ£‹åŠŸèƒ½

3. **ç•Œé¢è®¾è®¡**ï¼š
   - ç¾è§‚çš„æ£‹ç›˜UIï¼Œæœ‰ç½‘æ ¼çº¿
   - æ¸…æ™°çš„é»‘ç™½æ£‹å­æ˜¾ç¤º
   - æ˜¾ç¤ºæ¸¸æˆçŠ¶æ€ï¼ˆè½®åˆ°è°ã€è°èµ¢äº†ç­‰ï¼‰
   - å“åº”å¼è®¾è®¡ï¼Œé€‚é…ä¸åŒå±å¹•

4. **æ–‡ä»¶ç»“æ„**ï¼š
   - gomoku.html - ä¸»HTMLæ–‡ä»¶ï¼ˆåŒ…å«å®Œæ•´çš„æ¸¸æˆï¼‰
   - å¯ä»¥å°† CSS å’Œ JS éƒ½å†…åµŒåœ¨ HTML ä¸­ï¼Œæ–¹ä¾¿ä½¿ç”¨

5. **é¢å¤–åŠŸèƒ½**ï¼ˆå¯é€‰ï¼‰ï¼š
   - èƒœåˆ©æ—¶çš„åŠ¨ç”»æ•ˆæœ
   - éŸ³æ•ˆï¼ˆå¯é€‰ï¼‰
   - æ£‹ç›˜åæ ‡æ˜¾ç¤º

è¯·åˆ›å»ºå®Œæ•´å¯è¿è¡Œçš„ä»£ç ï¼Œå¹¶ä¿å­˜ä¸º gomoku.html æ–‡ä»¶ã€‚
"""

    print("\nğŸ“¤ å‘é€è¯·æ±‚ç»™ AI...")
    print("-" * 60)

    try:
        message_count = 0

        # ä½¿ç”¨ YOLO æ¨¡å¼è®© AI è‡ªåŠ¨æ‰§è¡Œå·¥å…·è°ƒç”¨
        async for msg in query(
            prompt=prompt,
            options=SiiAgentOptions(
                yolo=True,  # å¯ç”¨ YOLO æ¨¡å¼ï¼Œè‡ªåŠ¨æ‰§è¡Œå·¥å…·
                max_turns=15,  # æœ€å¤š15è½®å¯¹è¯
                cwd=str(output_dir),  # åœ¨è¾“å‡ºç›®å½•ä¸­å·¥ä½œ
                auth_type="USE_SII",  # ä½¿ç”¨ SII è®¤è¯
                system_prompt="You are a helpful frontend developer assistant. Create beautiful and functional web applications."
            )
        ):
            message_count += 1
            print(f"\nğŸ’¬ æ¶ˆæ¯ #{message_count}:")
            print(msg)
            print("-" * 60)

        print(f"\nâœ… ä»»åŠ¡å®Œæˆï¼å…±æ”¶åˆ° {message_count} æ¡æ¶ˆæ¯")

    except Exception as e:
        print(f"\nâŒ é”™è¯¯: {e}")
        import traceback
        traceback.print_exc()

if __name__ == "__main__":
    anyio.run(main)
```

### 3. ä½¿ç”¨ SII ä¸“å±å·¥å…·

å……åˆ†åˆ©ç”¨ SII å¹³å°çš„è®¤çŸ¥èƒ½åŠ›ï¼š

```python
import anyio
from sii_agent_sdk import query, SiiAgentOptions

async def main():
    # ä½¿ç”¨ SII è®¤çŸ¥æ•°æ®åº“å’Œæ··åˆæœç´¢
    async for message in query(
        prompt="æœç´¢æœ€æ–°çš„å¤§è¯­è¨€æ¨¡å‹è®­ç»ƒæŠ€æœ¯ç ”ç©¶è¿›å±•",
        options=SiiAgentOptions(
            auth_type="USE_SII",
            allowed_tools=[
                "sii_cognitions",
                "sii_deep_research",
                "sii_hybrid_search"
            ],
            max_turns=5
        )
    ):
        if message.type == "assistant_message":
            print(message.content[0].text)

anyio.run(main)
```

### 4. æŒ‡å®šå·¥ä½œç›®å½•å’Œæ¨¡å‹

è‡ªå®šä¹‰æ‰§è¡Œç¯å¢ƒï¼š

```python
import anyio
from sii_agent_sdk import query, SiiAgentOptions

async def main():
    async for message in query(
        prompt="åˆ†æ src/ ç›®å½•ä¸‹çš„ä»£ç ç»“æ„",
        options=SiiAgentOptions(
            cwd="/path/to/your/project",
            model="gemini-2.0-flash-exp",
            temperature=0.7,
            max_turns=8,
            allowed_tools=["read_file", "list_dir", "grep_search"]
        )
    ):
        print(message)

anyio.run(main)
```

## API å‚è€ƒ

### `query()` å‡½æ•°

ç®€å•çš„ä¸€æ¬¡æ€§æŸ¥è¯¢æ¥å£ï¼Œé€‚åˆå¤§å¤šæ•°åœºæ™¯ã€‚

```python
async def query(
    prompt: str,
    *,
    options: SiiAgentOptions | None = None
) -> AsyncIterator[Message]
```

**å‚æ•°**:

- `prompt`: ç”¨æˆ·è¾“å…¥çš„ä»»åŠ¡æè¿°
- `options`: å¯é€‰çš„é…ç½®é€‰é¡¹ï¼ˆè§ä¸‹æ–‡ï¼‰

**è¿”å›**: å¼‚æ­¥è¿­ä»£å™¨ï¼Œäº§ç”Ÿ `Message` å¯¹è±¡

### `SiiAgentOptions` é…ç½®

```python
from dataclasses import dataclass
from typing import List, Optional

@dataclass
class SiiAgentOptions:
    # è®¤è¯é…ç½®
    auth_type: Optional[str] = None  # "USE_SII", "USE_GEMINI", "USE_OPENAI"

    # æ‰§è¡Œæ¨¡å¼
    yolo: bool = False               # YOLO è‡ªä¸»æ‰§è¡Œæ¨¡å¼
    max_turns: int = 10              # æœ€å¤§å¯¹è¯è½®æ•°
    timeout_ms: int = 120000         # è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰

    # å·¥å…·æ§åˆ¶
    allowed_tools: Optional[List[str]] = None  # å…è®¸ä½¿ç”¨çš„å·¥å…·ç™½åå•

    # æ¨¡å‹é…ç½®
    model: Optional[str] = None      # æ¨¡å‹åç§°ï¼Œå¦‚ "gemini-2.0-flash-exp"
    temperature: Optional[float] = None  # æ¸©åº¦å‚æ•° (0.0-2.0)
    system_prompt: Optional[str] = None  # è‡ªå®šä¹‰ç³»ç»Ÿæç¤º

    # ç¯å¢ƒé…ç½®
    cwd: Optional[str] = None        # å·¥ä½œç›®å½•
    session_id: Optional[str] = None # ä¼šè¯ ID
```

### Message ç±»å‹

æ‰€æœ‰æ¶ˆæ¯éƒ½ç»§æ‰¿è‡ª `Message` åŸºç±»ï¼š

```python
# çŠ¶æ€æ¶ˆæ¯
class StatusMessage(Message):
    type: Literal["status"]
    status: str                      # "initializing", "authenticating", "ready", "running"
    message: str
    auth_type: Optional[str]
    available_tools: Optional[List[str]]

# åŠ©æ‰‹æ¶ˆæ¯
class AssistantMessage(Message):
    type: Literal["assistant_message"]
    role: Literal["assistant"]
    content: List[ContentBlock]      # å†…å®¹å—åˆ—è¡¨

# å·¥å…·è°ƒç”¨
class ToolCallMessage(Message):
    type: Literal["tool_call"]
    tool_name: str
    tool_call_id: str
    args: Dict[str, Any]

# å·¥å…·ç»“æœ
class ToolResultMessage(Message):
    type: Literal["tool_result"]
    tool_call_id: str
    result: Dict[str, Any]

# å®Œæˆæ¶ˆæ¯
class CompletedMessage(Message):
    type: Literal["completed"]
    metadata: Dict[str, Any]         # turns_used, time_elapsed, tokens_used

# é”™è¯¯æ¶ˆæ¯
class ErrorMessage(Message):
    type: Literal["error"]
    error: Dict[str, Any]            # code, message, details
```

## ç¤ºä¾‹

### å®Œæ•´ç¤ºä¾‹ä»£ç 

æŸ¥çœ‹ `examples/` ç›®å½•è·å–æ›´å¤šç¤ºä¾‹ï¼š

```
examples/
â”œâ”€â”€ quick_start.py          # å¿«é€Ÿå…¥é—¨
â”œâ”€â”€ yolo_example.py         # YOLO æ¨¡å¼æ¼”ç¤º
â”œâ”€â”€ auth_modes.py           # å¤šè®¤è¯æ–¹å¼
â”œâ”€â”€ tool_filtering.py       # å·¥å…·è¿‡æ»¤
â”œâ”€â”€ error_handling.py       # é”™è¯¯å¤„ç†
â””â”€â”€ advanced_usage.py       # é«˜çº§ç”¨æ³•
```

è¿è¡Œç¤ºä¾‹ï¼š

```bash
cd examples
python quick_start.py
```

## å¼€å‘

### é¡¹ç›®ç»“æ„

```
packages/python-sdk/
â”œâ”€â”€ sii_agent_sdk/              # Python SDK æºç 
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ query.py                # query() å‡½æ•°å®ç°
â”‚   â”œâ”€â”€ types.py                # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ errors.py               # å¼‚å¸¸ç±»
â”‚   â”œâ”€â”€ bridge.py               # Bridge è¿›ç¨‹ç®¡ç†
â”‚   â””â”€â”€ _internal/              # å†…éƒ¨å®ç°
â”‚       â”œâ”€â”€ protocol.py         # JSONL åè®®è§£æ
â”‚       â””â”€â”€ process.py          # è¿›ç¨‹ç®¡ç†
â”œâ”€â”€ bridge/                     # Node.js Bridge
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.ts            # Bridge å…¥å£
â”‚   â”‚   â”œâ”€â”€ protocol.ts         # åè®®å¤„ç†
â”‚   â”‚   â”œâ”€â”€ executor.ts         # æ‰§è¡Œå™¨
â”‚   â”‚   â”œâ”€â”€ stream.ts           # äº‹ä»¶æµ
â”‚   â”‚   â””â”€â”€ types.ts            # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ tsconfig.json
â”œâ”€â”€ tests/                      # æµ‹è¯•
â”‚   â”œâ”€â”€ test_query.py
â”‚   â”œâ”€â”€ test_bridge.py
â”‚   â””â”€â”€ test_types.py
â”œâ”€â”€ examples/                   # ç¤ºä¾‹
â”œâ”€â”€ docs/                       # æ–‡æ¡£
â”œâ”€â”€ pyproject.toml              # Python é¡¹ç›®é…ç½®
â””â”€â”€ README.md                   # æœ¬æ–‡ä»¶
```

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest tests/

# è¿è¡Œç‰¹å®šæµ‹è¯•
pytest tests/test_query.py -v

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pytest tests/ --cov=sii_agent_sdk --cov-report=html
```

### ä»£ç è´¨é‡æ£€æŸ¥

```bash
# ä»£ç æ ¼å¼åŒ–
black sii_agent_sdk/ tests/ examples/

# Lint æ£€æŸ¥
ruff check sii_agent_sdk/ tests/

# ç±»å‹æ£€æŸ¥
mypy sii_agent_sdk/
```

### è°ƒè¯• Bridge

è®¾ç½®ç¯å¢ƒå˜é‡å¯ç”¨è¯¦ç»†æ—¥å¿—ï¼š

```bash
export SII_BRIDGE_DEBUG=1
python your_script.py
```

## å¸¸è§é—®é¢˜

### 1. Bridge è¿›ç¨‹å¯åŠ¨å¤±è´¥

**é—®é¢˜**: `BridgeNotFoundError: Bridge executable not found`

**è§£å†³æ–¹æ¡ˆ**:

- ç¡®ä¿å·²æ„å»º SII-CLI Core: `npm run build`
- æ£€æŸ¥ Node.js ç‰ˆæœ¬: `node --version` (éœ€è¦ >= 20.0.0)
- æ‰‹åŠ¨æŒ‡å®š Bridge è·¯å¾„: `export SII_BRIDGE_PATH=/path/to/bridge`

### 2. è®¤è¯å¤±è´¥

**é—®é¢˜**: `AuthenticationError: Authentication failed`

**è§£å†³æ–¹æ¡ˆ**:

- æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®è®¾ç½®
- éªŒè¯ API Key æ˜¯å¦æœ‰æ•ˆ
- ä½¿ç”¨ `list_tools` æ–¹æ³•æ£€æŸ¥å¯ç”¨å·¥å…·

### 3. å·¥å…·è°ƒç”¨è¶…æ—¶

**é—®é¢˜**: `TimeoutError: Tool execution timeout`

**è§£å†³æ–¹æ¡ˆ**:

- å¢åŠ è¶…æ—¶æ—¶é—´: `SiiAgentOptions(timeout_ms=300000)` # 5åˆ†é’Ÿ
- å‡å°‘ `max_turns` é™åˆ¶å¤æ‚åº¦
- ä½¿ç”¨æ›´ç²¾ç¡®çš„ `allowed_tools` è¿‡æ»¤

### 4. JSONL è§£æé”™è¯¯

**é—®é¢˜**: `JSONDecodeError: Failed to parse event`

**è§£å†³æ–¹æ¡ˆ**:

- å¯ç”¨è°ƒè¯•æ¨¡å¼æŸ¥çœ‹åŸå§‹è¾“å‡º
- æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬
- æäº¤ issue é™„å¸¦é”™è¯¯æ—¥å¿—

## é¡¹ç›®çŠ¶æ€

**å½“å‰ç‰ˆæœ¬**: 0.1.2 (Alpha)

**å¼€å‘è¿›åº¦**:

- âœ… Phase 1: Node.js Bridge åŸºç¡€ç»“æ„
- âœ… Phase 2: Python SDK æ ¸å¿ƒ API (`query()`)
- âœ… Phase 3: YOLO æ¨¡å¼é›†æˆ
- âœ… Phase 4: å¤šè®¤è¯æ–¹å¼æ”¯æŒ
- âœ… Phase 5: å®Œæ•´æµ‹è¯•è¦†ç›–
- âœ… Phase 6: æ€§èƒ½ä¼˜åŒ–
- âœ… Phase 7: å‘å¸ƒåˆ° PyPI

### å·²çŸ¥é™åˆ¶

- `SiiSDKClient` ç±»å°šæœªå®Œå…¨å®ç°æŒä¹…ä¼šè¯åŠŸèƒ½
- å·¥å…·ç™½åå• (`allowed_tools`) å½“å‰ä»…ä½œä¸ºå»ºè®®ï¼Œæœªå¼ºåˆ¶æ‰§è¡Œ
- éƒ¨åˆ†é«˜çº§é…ç½®é€‰é¡¹å°šæœªå®ç°ï¼ˆå¦‚è‡ªå®šä¹‰é”™è¯¯å¤„ç†å™¨ï¼‰
- æ–‡æ¡£å’Œç¤ºä¾‹ä»åœ¨å®Œå–„ä¸­

### è·¯çº¿å›¾

- [ ] å®Œå–„ `SiiSDKClient` æŒä¹…ä¼šè¯æ”¯æŒ
- [ ] å®ç°å·¥å…·ç™½åå•å¼ºåˆ¶è¿‡æ»¤
- [ ] æ·»åŠ æ€§èƒ½ç›‘æ§å’ŒæŒ‡æ ‡æ”¶é›†
- [ ] æ”¯æŒè‡ªå®šä¹‰å·¥å…·æ³¨å†Œ
- [ ] æä¾›æ›´ä¸°å¯Œçš„äº‹ä»¶é’©å­
- [ ] å®Œå–„æ–‡æ¡£å’Œæ•™ç¨‹
- [ ] å‘å¸ƒåˆ° PyPI

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/your-feature`
3. æäº¤æ›´æ”¹: `git commit -am 'Add new feature'`
4. æ¨é€åˆ°åˆ†æ”¯: `git push origin feature/your-feature`
5. æäº¤ Pull Request

æ›´å¤šè¯¦æƒ…è¯·æŸ¥çœ‹ [CONTRIBUTING.md](../../CONTRIBUTING.md)

### å¼€å‘è§„èŒƒ

- ä»£ç æ ¼å¼: Black (line-length=100)
- ç±»å‹æ£€æŸ¥: ä½¿ç”¨ mypy strict æ¨¡å¼
- æµ‹è¯•è¦†ç›–ç‡: ç›®æ ‡ >= 80%
- æäº¤ä¿¡æ¯: éµå¾ª Conventional Commits

## è®¸å¯

Apache License 2.0 - è¯¦è§ [LICENSE](../../LICENSE)

## è‡´è°¢

- æœ¬é¡¹ç›®è®¾è®¡å‚è€ƒäº† [claude-agent-sdk-python](https://github.com/anthropics/claude-agent-sdk-python)
- æ„Ÿè°¢ Anthropic å›¢é˜Ÿçš„ä¼˜ç§€è®¾è®¡ç†å¿µ
- æ„Ÿè°¢ SII-CLI æ ¸å¿ƒå›¢é˜Ÿæä¾›å¼ºå¤§çš„åŸºç¡€è®¾æ–½

## ç›¸å…³é“¾æ¥

- [SII-CLI ä¸»é¡¹ç›®](https://github.com/GAIR-NLP/sii-cli)
- [SII å¹³å°å®˜ç½‘](https://sii.gair-nlp.com)
- [Claude Agent SDK](https://github.com/anthropics/claude-agent-sdk-python)
- [é—®é¢˜åé¦ˆ](https://github.com/GAIR-NLP/sii-cli/issues)
- [è®¨è®ºåŒº](https://github.com/GAIR-NLP/sii-cli/discussions)

---

**æç¤º**: æœ¬é¡¹ç›®å¤„äºæ—©æœŸå¼€å‘é˜¶æ®µï¼ŒAPI å¯èƒ½ä¼šæœ‰è¾ƒå¤§å˜åŠ¨ã€‚å»ºè®®å…³æ³¨ [CHANGELOG.md](./CHANGELOG.md) äº†è§£æœ€æ–°æ›´æ–°ã€‚
