inputs:
  _include:
  - (.)gridding.yml
  - (.)out.yml
  backtrack:
    default: false
    dtype: bool
    info: Ensure residual decreases at every iteration
  cg-maxit:
    abbreviation: cgmaxit
    default: 100
    dtype: int
    info: Maximum iterations for conjugate gradient algorithm
  cg-minit:
    abbreviation: cgminit
    default: 1
    dtype: int
    info: Minimum iterations for conjugate gradient algorithm
  cg-report_freq:
    abbreviation: cgrf
    default: 100
    dtype: int
    info: Report frequency of conjugate gradient algorithm
  cg-tol:
    abbreviation: cgtol
    default: 1e-2
    dtype: float
    info: Tolreance of conjugate gradient algorithm
  cg-verbose:
    abbreviation: cgverb
    default: 1
    dtype: int
    info: Verbosity of conjugate gradient algorithm. Set to > 1 for debugging, 0 for
      silence
  dirosion:
    default: 1
    dtype: int
    info: Perform dilation followed by erosion with structure element of this width
  eta:
    default: 1e-3
    dtype: float
    info: Will use eta*wsum to regularise the inversion of the Hessian approximation.
  gamma:
    abbreviation: gamma
    default: 0.1
    dtype: float
    info: Minor loop gain
  mask:
    abbreviation: mask
    dtype: str
    info: Path to mask.fits
  minor-maxit:
    abbreviation: mmaxit
    default: 50
    dtype: int
    info: Maximum number of PSF convolutions between major cycles
  mop-flux:
    default: true
    dtype: bool
    info: Trigger PCG based flux mop if minor cycle stalls, the final threshold is
      reached or on the final iteration.
  mop-gamma:
    default: 0.65
    dtype: float
    info: Step size for flux mop. Should be between (0,1). A value of 1 is most aggressive.
  niter:
    abbreviation: niter
    default: 5
    dtype: int
    info: Number of major iterations
  nthreads:
    abbreviation: nt
    dtype: int
    info: Total number of threads to use. Defaults to half the total number available.
  peak-factor:
    abbreviation: pf
    default: 0.15
    dtype: float
    info: Peak factor
  report-freq:
    abbreviation: rf
    default: 10
    dtype: int
    info: Report frequency for minor cycles
  rmsfactor:
    default: 3.0
    dtype: float
    info: Multiple of the rms at which to stop cleaning
  sub-peak-factor:
    abbreviation: spf
    default: 0.75
    dtype: float
    info: Peak factor of sub-minor loop
  subminor-maxit:
    abbreviation: smmaxit
    default: 1000
    dtype: int
    info: Maximum number of iterations for the sub-minor cycle
  suffix:
    default: main
    dtype: str
    info: Can be used to specify a custom name for the image space data products.
  threshold:
    abbreviation: th
    dtype: float
    info: Absolute threshold at which to stop cleaning. By default it is set automatically
      using rmsfactor parameter
  verbose:
    abbreviation: verb
    default: 1
    dtype: int
    info: Verbosity level. Set to 2 for maximum verbosity, 0 for silence
outputs:
  dds-out:
    dtype: Directory
    implicit: '{current.output-filename}_{current.product}_{current.suffix}.dds'
    must_exist: false
  mds-out:
    dtype: Directory
    implicit: '{current.output-filename}_{current.product}_{current.suffix}_model.mds'
    must_exist: false
policies:
  pass_missing_as_none: true
