# https://pre-commit.com/
ci:
  autoupdate_schedule: monthly
  autoupdate_commit_msg: "Update pre-commit hooks"

repos:

  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v6.0.0
    hooks:
      - id: trailing-whitespace       # Supprime les espaces blancs en fin de ligne
      - id: end-of-file-fixer         # S’assure que chaque fichier se termine par une nouvelle ligne.
      - id: check-yaml                # Vérifie que les fichiers YAML (ex: .gitlab-ci.yml, environment.yml) sont valides.
      - id: check-docstring-first     # Vérifie que chaque module commence par une docstring
      - id: check-added-large-files   # Prévient l’ajout de fichiers très volumineux accidentellement.
      # - id: double-quote-string-fixer # Standardise les chaînes de caractères pour utiliser des doubles quotes dans les fichiers YAML/JSON.

  # black pour le formatage du code
  - repo: https://github.com/psf/black
    rev: 23.7.0
    hooks:
      - id: black
        # lira automatiquement [tool.black] dans pyproject.toml

  # isort pour trier les imports
  - repo: https://github.com/pycqa/isort
    rev: 5.12.0
    hooks:
      - id: isort
        # lira automatiquement [tool.isort] dans pyproject.toml

  # ruff pour le linting
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.7.1
    hooks:
      - id: ruff
        args: [--fix]
        # lira automatiquement [tool.ruff] dans pyproject.toml ou sa config par défaut : https://github.com/astral-sh/ruff?tab=readme-ov-file#configuration
