mutation InsertPipelinePublish(
    $pipeline_version_id: bigint!,
    $engine_config: jsonb!,
    $status: String = "pending_publish",
    $created_by: String = "",
    $userImages: [String!] = [],
) {
  insert_pipeline_publish_one(object: {
    pipeline_version_id: $pipeline_version_id,
    status: $status,
    created_by: $created_by,
    engine_config: $engine_config,
    user_images: $userImages,
  }) {
    id
    pipeline_version_id
    status
    created_at
    updated_at
    created_by
    pipeline_url
    engine_url
    chart_url
    engine_config
    user_images
    created_on_version
    pipeline_version {
      version
      pipeline {
        pipeline_id
        workspace {
          id
          name
        }
      }
    }
    replaces {
      old_publish {
        id
        pipeline_version {
          version
          pipeline {
            pipeline_id
          }
        }
      }
    }
  }
}
