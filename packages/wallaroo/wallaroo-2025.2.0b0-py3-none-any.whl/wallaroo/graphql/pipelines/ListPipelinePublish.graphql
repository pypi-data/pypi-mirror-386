query ListPipelinePublish($pipeline_pk_id: bigint!) {
  pipeline_publish(where: {pipeline_version: {pipeline_pk_id: {_eq: $pipeline_pk_id}}}) {
    created_at
    created_by
    id
    pipeline_version_id
    status
    updated_at
    pipeline_url
    engine_url
    chart_url
    engine_config
    error
    user_images
    created_on_version
    pipeline_version {
      version
      pipeline {
        pipeline_id
        workspace {
          id
          name
        }
      }
    }
    replaces {
      old_publish {
        id
        pipeline_version {
          version
          pipeline {
            pipeline_id
          }
        }
      }
    }
  }
  edge(where: {edge_should_run_publish: {pipeline_version: {pipeline_pk_id: {_eq: $pipeline_pk_id}}}}) {
    tags
    spiffe_id
    name
    memory
    last_seen
    id
    enabled
    deployed
    created
    capabilities
    cpus
    arch
    should_run_publish
    created_on_version
  }
}
