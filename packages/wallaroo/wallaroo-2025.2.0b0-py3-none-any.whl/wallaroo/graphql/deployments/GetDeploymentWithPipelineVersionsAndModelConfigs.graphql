query GetDeploymentWithPipelineVersionsAndModelConfigs($id: bigint!) {
  deployment_by_pk(id: $id) {
    deploy_id
    deployed
    created_at
    engine_config
    id
    node_selector
    updated_at
    updated_by
    deployment_pipeline_versions {
      pipeline_version {
        pipeline {
          pipeline_id
          workspace_id
        }
        version
        definition
        created_on_version
        created_by
        deployment_model_configs {
          model_config {
            id
            model_id
            filter_threshold
            tensor_fields
            runtime
            input_schema
            output_schema
            batch_config
            dynamic_batching_config
            continuous_batching_config
            openai
            model {
              created_by
              model_id
              visibility
              conversion
              id
              status
              image_path
              task_id
              model_version
              sha
              file_name
              created_on_version
              file_size
            }
          }
        }
      }
    }
  }
}
