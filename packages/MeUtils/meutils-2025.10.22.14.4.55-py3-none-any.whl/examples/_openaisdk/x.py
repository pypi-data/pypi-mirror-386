#!/usr/bin/env python
# -*- coding: utf-8 -*-
# @Project      : AI.  @by PyCharm
# @File         : x
# @Time         : 2023/12/27 18:53
# @Author       : betterme
# @WeChat       : meutils
# @Software     : PyCharm
# @Description  :

from meutils.pipe import *
import base64
from PIL import Image
from io import BytesIO

import base64
from PIL import Image
from io import BytesIO

# 假设你已经解析了protobuf消息，并从中提取出了图片数据
image_data = "..."  # 这应该是一个base64编码的字符串
image_data = "CAESzRcKDDUzOTU5MjkzOTI2NhIMNTM5NTkyOTM5NTIyGg0xNDgzNTY4ODc4ODUwKA8yTE1TNHdMakFCQUFBQWU5dzBmSjhHdHM0bzI5TG9rVVB2YWVnZlJkNGg1YUF5alJXNURiTkxuZmU4NFltSVowbVJmOW80akJ0WXdTUHc6DTE0NjI0MTM0NjU2MDJAAUjs6a+sBlABWAZi+hN7ImltYWdlX2xpc3QiOlt7ImtleSI6IjAwMzAxNmY0OTY2MDQzZjE5NWRlMmRiNDY2Mzc3ODYwIiwiaW1hZ2VfdGh1bWIiOnsidXJsIjoiaHR0cHM6Ly9wNi1mbG93LWltYWdleC1zaWduLmJ5dGVpbWcuY29tL29jZWFuLWNsb3VkLXRvcy8wMDMwMTZmNDk2NjA0M2YxOTVkZTJkYjQ2NjM3Nzg2MC5wbmd+dHBsdi1hOXJuczJybDk4LWRvd25zaXplLnBuZz9yazNzPTE4ZWE2ZjIzJngtZXhwaXJlcz0xNzM1MjA3MDIzJngtc2lnbmF0dXJlPXNOZkpvbzZqeDhNajNNbGclMkJzUzV4Y3NnOWNzJTNEIiwid2lkdGgiOjM4NCwiaGVpZ2h0IjozODR9LCJpbWFnZV9vcmkiOnsidXJsIjoiaHR0cHM6Ly9wNi1mbG93LWltYWdleC1zaWduLmJ5dGVpbWcuY29tL29jZWFuLWNsb3VkLXRvcy8wMDMwMTZmNDk2NjA0M2YxOTVkZTJkYjQ2NjM3Nzg2MC5wbmd+dHBsdi1hOXJuczJybDk4LWltYWdlLnBuZz9yazNzPTE4ZWE2ZjIzJngtZXhwaXJlcz0xNzM1MjA3MDIzJngtc2lnbmF0dXJlPXIlMkZSNjE0NmExUUlLaElUejlSeWxmVEJ1Q3JvJTNEIiwid2lkdGgiOjUxMiwiaGVpZ2h0Ijo1MTJ9LCJmZWVkYmFjayI6bnVsbCwicmVxdWVzdF9pZCI6IjQ1NTI0OTNlMTExMGNjODYxZDZmOTdlMDY0NTk3NWNmZDY3OTA2NWU5NmY5MDZiMTk1MzRjOTFkMDhhOTY1NTkifSx7ImtleSI6IjMyZDQyZjY4OWViYzRhYWNiYjc3NDU4ZGM3MmE0MjM3IiwiaW1hZ2VfdGh1bWIiOnsidXJsIjoiaHR0cHM6Ly9wOS1mbG93LWltYWdleC1zaWduLmJ5dGVpbWcuY29tL29jZWFuLWNsb3VkLXRvcy8zMmQ0MmY2ODllYmM0YWFjYmI3NzQ1OGRjNzJhNDIzNy5wbmd+dHBsdi1hOXJuczJybDk4LWRvd25zaXplLnBuZz9yazNzPTE4ZWE2ZjIzJngtZXhwaXJlcz0xNzM1MjA3MDIzJngtc2lnbmF0dXJlPWFXZk5qR1FDUFkwZEtzckxmd1VLTElHYnlrOCUzRCIsIndpZHRoIjozODQsImhlaWdodCI6Mzg0fSwiaW1hZ2Vfb3JpIjp7InVybCI6Imh0dHBzOi8vcDktZmxvdy1pbWFnZXgtc2lnbi5ieXRlaW1nLmNvbS9vY2Vhbi1jbG91ZC10b3MvMzJkNDJmNjg5ZWJjNGFhY2JiNzc0NThkYzcyYTQyMzcucG5nfnRwbHYtYTlybnMycmw5OC1pbWFnZS5wbmc/cmszcz0xOGVhNmYyMyZ4LWV4cGlyZXM9MTczNTIwNzAyMyZ4LXNpZ25hdHVyZT13OEw1RFE0cG1VWk5abmNWWSUyQm5SZU5pWWxQayUzRCIsIndpZHRoIjo1MTIsImhlaWdodCI6NTEyfSwiZmVlZGJhY2siOm51bGwsInJlcXVlc3RfaWQiOiI3MzcwMTg1NDA0MGNlMDNkYWY5OTQxZGJkZTcxNDQwYzRiNGQzZWY3NDI0YTFlMTBiYmEyYzBmYmM4NDNkMzcwIn0seyJrZXkiOiI4MjA3NGFhNWRhZjA0YWYzYTdiMzczZTZiYTYzZmE1MSIsImltYWdlX3RodW1iIjp7InVybCI6Imh0dHBzOi8vcDYtZmxvdy1pbWFnZXgtc2lnbi5ieXRlaW1nLmNvbS9vY2Vhbi1jbG91ZC10b3MvODIwNzRhYTVkYWYwNGFmM2E3YjM3M2U2YmE2M2ZhNTEucG5nfnRwbHYtYTlybnMycmw5OC1kb3duc2l6ZS5wbmc/cmszcz0xOGVhNmYyMyZ4LWV4cGlyZXM9MTczNTIwNzAyMyZ4LXNpZ25hdHVyZT0waEFOZEtTZzl4VHJ6OW40SDBpd1lrbnc2UGMlM0QiLCJ3aWR0aCI6Mzg0LCJoZWlnaHQiOjM4NH0sImltYWdlX29yaSI6eyJ1cmwiOiJodHRwczovL3AzLWZsb3ctaW1hZ2V4LXNpZ24uYnl0ZWltZy5jb20vb2NlYW4tY2xvdWQtdG9zLzgyMDc0YWE1ZGFmMDRhZjNhN2IzNzNlNmJhNjNmYTUxLnBuZ350cGx2LWE5cm5zMnJsOTgtaW1hZ2UucG5nP3JrM3M9MThlYTZmMjMmeC1leHBpcmVzPTE3MzUyMDcwMjMmeC1zaWduYXR1cmU9cDlzd25UZ0FOdWRSY0VsJTJCb3hHWWNHOERJaEUlM0QiLCJ3aWR0aCI6NTEyLCJoZWlnaHQiOjUxMn0sImZlZWRiYWNrIjpudWxsLCJyZXF1ZXN0X2lkIjoiYjhjODFmMjJlN2I3ZGQwNzgyYTRlNDJjZjliY2ZhNTcwZWVhMGUwYzMyZWYwZWYwMThkZjU2ZjVkZTg2YjM3ZSJ9LHsia2V5IjoiZWU5NWM0YWQzM2YwNDRkZDhmOGEwMzA1MjNmMzMwMzAiLCJpbWFnZV90aHVtYiI6eyJ1cmwiOiJodHRwczovL3A2LWZsb3ctaW1hZ2V4LXNpZ24uYnl0ZWltZy5jb20vb2NlYW4tY2xvdWQtdG9zL2VlOTVjNGFkMzNmMDQ0ZGQ4ZjhhMDMwNTIzZjMzMDMwLnBuZ350cGx2LWE5cm5zMnJsOTgtZG93bnNpemUucG5nP3JrM3M9MThlYTZmMjMmeC1leHBpcmVzPTE3MzUyMDcwMjQmeC1zaWduYXR1cmU9RVpGYUY5dnI0YlNlMFZVY3JSdEZOVUJZNkw4JTNEIiwid2lkdGgiOjM4NCwiaGVpZ2h0IjozODR9LCJpbWFnZV9vcmkiOnsidXJsIjoiaHR0cHM6Ly9wMy1mbG93LWltYWdleC1zaWduLmJ5dGVpbWcuY29tL29jZWFuLWNsb3VkLXRvcy9lZTk1YzRhZDMzZjA0NGRkOGY4YTAzMDUyM2YzMzAzMC5wbmd+dHBsdi1hOXJuczJybDk4LWltYWdlLnBuZz9yazNzPTE4ZWE2ZjIzJngtZXhwaXJlcz0xNzM1MjA3MDI0Jngtc2lnbmF0dXJlPVhtSzk1NjAlMkJnU1J3a0d3MEJMVDV5SEZRUkkwJTNEIiwid2lkdGgiOjUxMiwiaGVpZ2h0Ijo1MTJ9LCJmZWVkYmFjayI6bnVsbCwicmVxdWVzdF9pZCI6ImQ3MGZkMTk1NmE3Mjk1NDY2Y2UxZjI1NzgyMDlkMmE2ODViYTUzZjA0MzJkZTI2ZTgzOTJlNGFiZjM5MTYzODYifV19agByDgoJaXNfZmluaXNoEgExchMKDWxsbV9tZW1fY291bnQSAjQwcpcBCgpzZWFyY2hfdXJsEogBaHR0cHM6Ly9zby50b3V0aWFvLmNvbS9zZWFyY2g/a2V5d29yZD0lRTclOTQlQkIlRTQlQjglQUElRTUlQUQlOTklRTYlODIlOUYlRTclQTklQkEmcGQ9c3ludGhlc2lzJnRyYWZmaWNfc291cmNlPU9HMTEyNiZvcmlnaW5hbF9zb3VyY2U9MXILCgZzdHJlYW0SATFyCgoFcmVnZW4SATFyDwoFYnJpZWYSBuWbvueJh3IXChJzZWFyY2hfZW5naW5lX3R5cGUSATRyFgoRbWVkaWFfc2VhcmNoX3R5cGUSATF4AYABAYgBAaIBEzcyNjAzNzQ3MDI4MTA1Mjk4NTMwAQ=="

# 解码图片数据
binary_data = base64.b64decode(image_data)

# 将二进制数据转换为图片
image = Image.open(BytesIO(binary_data))

# 显示图片
image.show()

