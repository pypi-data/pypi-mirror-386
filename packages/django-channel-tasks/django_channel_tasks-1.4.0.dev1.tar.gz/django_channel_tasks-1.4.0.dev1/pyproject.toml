[build-system]
requires = ["setuptools"]
build-backend = "setuptools.build_meta"

[project]
name = "django-channel-tasks"
version = "1.4.0.dev1"
description = "Running background tasks through websocket, using channels-redis, from Django Admin or REST API."
readme = "README.md"
requires-python = ">=3.11"
license-files = ["LICENSE"]
authors = [
  {name = "Daniel Farré Manzorro", email = "d.farre.m@gmail.com" }
]
maintainers = [
  {name = "Daniel Farré Manzorro", email = "d.farre.m@gmail.com" }
]
classifiers = [
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.13",
    "Operating System :: OS Independent",
    "Intended Audience :: Developers",
    "Development Status :: 4 - Beta",
    "Framework :: Django :: 5.1",
]
dependencies = [
    "Django",
    "django-filter",
    "django-extensions",
    "django-request-logging",
    "django-jazzmin",
    "djangorestframework",
    "channels",
    "channels-redis",
    "tzdata",
    "psycopg[pool]",
    "websocket-client",
]

[project.optional-dependencies]
dev = [
    "ipdb",
    "ipython",
]
mypy = [
    "mypy",
    "django-stubs",
    "djangorestframework-stubs[compatible-mypy]",
    "types-beautifulsoup4",
    "types-setuptools",
    "flake8",
]
docs = [
    "sphinx",
    "sphinxcontrib-httpdomain",
    "pydeps",
    "pydot",
    "pygraphviz",
]
test = [
    "pytest",
    "pytest-cov",
    "pytest-django",
    "pytest-asyncio",
    "pytest-timeout",
    "bdd-coder==2.2.3.dev3",
    "beautifulsoup4",
    "requests",
]

[project.scripts]
channel-tasks-admin = "django_tasks.entrypoint:manage_channel_tasks"

[project.urls]
"Homepage" = "https://github.com/dfarre/django-channel-tasks"
"Source" = "https://github.com/dfarre/django-channel-tasks"
"Issue Tracker" = "https://github.com/dfarre/django-channel-tasks/issues"

[tool.setuptools]
packages = [
    "django_tasks",
    "django_tasks.management.commands",
    "django_tasks.migrations",
    "django_tasks.settings",
    "django_tasks.testing",
    "django_tasks.websocket",
    "django_tasks.templates",
    "django_tasks.static.js",
]

[tool.setuptools.package-data]
"django_tasks" = [
    "templates/task_alerts.html",
    "templates/admin_index.html",
    "static/js/task_alerts.js",
]

[tool.setuptools.data-files]
"./channel-tasks-docker" = [
    "shell-scripts/django-runservers.sh",
    "channel-tasks-unit.template.json",
]
"./bin" = [
    "shell-scripts/init-django-channel-tasks.sh",
    "shell-scripts/manage-unit.sh",
]
