import{r as e,d as T,j as s,B as b,D as P,a as D}from"./main-CH82g4dw.js";import{R as u}from"./index-BA3Y6Ju-.js";import{A as M}from"./panel-DJNmOhc6.js";import{A as J}from"./index-CXizBL-u.js";import N from"./index-D9mBVinW.js";import{C as q}from"./index-ZaXfouA1.js";import{S as C}from"./index-C0dVCwMu.js";import"./index-6IaXHF5K.js";import"./index-BcI8WOZ3.js";import"./Dropdown-B4TP4OlU.js";import"./Table-Rz-gL0vt.js";import"./addEventListener-DrXUXNAy.js";import"./index-BL_XwOQI.js";import"./index-B_L60N4-.js";import"./index-DOFo5PXu.js";import"./index-CweiUdAw.js";import"./UpOutlined-MKfWXv9S.js";import"./DeleteOutlined-CIV_DNOf.js";import"./index-Pwpmen_B.js";import"./createForOfIteratorHelper-BSFJLzX3.js";import"./DeploymentUnitOutlined-WBguncE1.js";import"./UserSwitchOutlined-D2V22kEV.js";import"./AudioOutlined-Cdmej0V0.js";import"./ClearOutlined-CzC8yyS0.js";import"./TableOutlined-CZ_BS3k3.js";import"./NodeIndexOutlined-Cav4TyHH.js";import"./index-DTJd4Z3p.js";import"./RedoOutlined-DNpCn5kL.js";import"./UndoOutlined-BfseYVP6.js";import"./react-window-Bmvezp4W.js";import"./index-L_EWe7Ii.js";import"./index-B1-7HnQ_.js";import"./index-_r2zE_l-.js";import"./index-Cem7jUqj.js";import"./callSuper-wDHXj85E.js";import"./index-BtlAu1CQ.js";import"./utils-D2B0dIuM.js";const As=()=>{const n=e.useRef(null),[y,O]=e.useState("downstream"),[c,m]=e.useState(),[f,l]=e.useState(!1),[t,x]=e.useState(),[a,h]=e.useState(),[g,p]=e.useState(!1),[i]=T.useForm(),[j,A]=e.useState(),[S,R]=e.useState({}),[L,d]=e.useState(!1),[_,F]=e.useState(!1),w=async o=>{d(!0);const r=await D.get(`/find_downstream_analysis/${o}`);R(r.data),d(!1)};return s.jsxs("div",{style:{maxWidth:"1500px",margin:"1rem auto"},children:[s.jsx(u,{title:"分析结果",ref:n,analysisType:"analysisResult",params:{},setTableLoading:l,setRecord:o=>{const r=JSON.parse(o.request_param);console.log(r),x(o),h(r)},setTabletData:o=>{m(o)}}),s.jsx("div",{style:{marginBottom:"2rem"}}),t&&s.jsxs(s.Fragment,{children:[s.jsx(q,{title:`${t.analysis_name}(${t.analysis_method})`,extra:s.jsx(s.Fragment,{children:s.jsx(b,{onClick:()=>{p(!0),w(a.analysis_method),i.resetFields(),i.setFieldsValue(a),t!=null&&t.id&&i.setFieldValue("id",t==null?void 0:t.id)},children:"重新分析"})}),children:s.jsx(M,{plotLoading:f,filePlot:c})}),s.jsx("hr",{}),s.jsx(N,{params:{obj_key:t.analysis_method,obj_type:"analysis_img"}}),s.jsxs(P,{loading:L,title:`重新分析 - ${t.analysis_name}`,open:g,onClose:()=>p(!1),width:"50%",children:[s.jsx(u,{title:"输出文件",analysisType:y,analysisMethod:[a.inputAnalysisMenthod],shouldTrigger:!0,setResultTableList:A}),s.jsx(C,{spinning:_,children:s.jsx(J,{form:i,resultTableList:j,formJson:S.formJson,sampleGroupApI:!1,moduleName:a.moduleName,params:a.params,setPlotLoading:o=>{l(o),F(o)},activeTabKey:a.inputAnalysisMenthod.name,inputAnalysisMethod:a.inputAnalysisMenthod,saveAnalysisMethod:a.analysis_method,project:a.project,setFilePlot:m,plotReloadTable:()=>{n.current&&n.current.reload()}})})]})]})]})};export{As as default};
