import{r as x,an as pe,ao as W,aL as F,bh as le,aD as Tt,_ as J,b1 as Ye,a6 as Rt,aI as Be,a2 as yt,a3 as Ae,a4 as Te,aM as mt,a1 as bt,L as q,aK as K,f as T,aJ as de,a0 as xt,aZ as _e,bi as Mt,b9 as It,bj as Lt,bk as At,bl as _t,bm as O,bb as Ee,bn as Bt,bo as Ht,bp as jt,bq as zt,a7 as nt,$ as Kt,br as Ft,K as qt}from"./main-CH82g4dw.js";var Vt={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},Wt=function(t,r){return x.createElement(pe,W({},t,{ref:r,icon:Vt}))},Gt=x.forwardRef(Wt),Ut={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},Xt=function(t,r){return x.createElement(pe,W({},t,{ref:r,icon:Ut}))},Ct=x.forwardRef(Xt),Yt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},Jt=function(t,r){return x.createElement(pe,W({},t,{ref:r,icon:Yt}))},Qt=x.forwardRef(Jt),Zt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},en=function(t,r){return x.createElement(pe,W({},t,{ref:r,icon:Zt}))},tn=x.forwardRef(en),nn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},an=function(t,r){return x.createElement(pe,W({},t,{ref:r,icon:nn}))},rn=x.forwardRef(an),on={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},dn=function(t,r){return x.createElement(pe,W({},t,{ref:r,icon:on}))},ln=x.forwardRef(dn),sn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},cn=function(t,r){return x.createElement(pe,W({},t,{ref:r,icon:sn}))},un=x.forwardRef(cn);function V(n,t){return n[t]}var fn=["children"];function Et(n,t){return"".concat(n,"-").concat(t)}function vn(n){return n&&n.type&&n.type.isTreeNode}function Me(n,t){return n??t}function Ne(n){var t=n||{},r=t.title,e=t._title,i=t.key,l=t.children,v=r||"title";return{title:v,_title:e||[v],key:i||"key",children:l||"children"}}function Nt(n){function t(r){var e=Rt(r);return e.map(function(i){if(!vn(i))return le(!i,"Tree/TreeNode can only accept TreeNode as children."),null;var l=i.key,v=i.props,a=v.children,d=Be(v,fn),o=F({key:l},d),c=t(a);return c.length&&(o.children=c),o}).filter(function(i){return i})}return t(n)}function Fe(n,t,r){var e=Ne(r),i=e._title,l=e.key,v=e.children,a=new Set(t===!0?[]:t),d=[];function o(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return c.map(function(g,h){for(var p=Et(u?u.pos:"0",h),b=Me(g[l],p),f,y=0;y<i.length;y+=1){var C=i[y];if(g[C]!==void 0){f=g[C];break}}var m=Object.assign(Tt(g,[].concat(J(i),[l,v])),{title:f,key:b,parent:u,pos:p,children:null,data:g,isStart:[].concat(J(u?u.isStart:[]),[h===0]),isEnd:[].concat(J(u?u.isEnd:[]),[h===c.length-1])});return d.push(m),t===!0||a.has(b)?m.children=o(g[v]||[],m):m.children=[],m})}return o(n),d}function gn(n,t,r){var e={};Ye(r)==="object"?e=r:e={externalGetKey:r},e=e||{};var i=e,l=i.childrenPropName,v=i.externalGetKey,a=i.fieldNames,d=Ne(a),o=d.key,c=d.children,u=l||c,g;v?typeof v=="string"?g=function(b){return b[v]}:typeof v=="function"&&(g=function(b){return v(b)}):g=function(b,f){return Me(b[o],f)};function h(p,b,f,y){var C=p?p[u]:n,m=p?Et(f.pos,b):"0",E=p?[].concat(J(y),[p]):[];if(p){var N=g(p,m),k={node:p,index:b,pos:m,key:N,parentPos:f.node?f.pos:null,level:f.level+1,nodes:E};t(k)}C&&C.forEach(function($,w){h($,w,{node:p,pos:m,level:f?f.level+1:-1},E)})}h(null)}function St(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.initWrapper,e=t.processEntity,i=t.onProcessFinished,l=t.externalGetKey,v=t.childrenPropName,a=t.fieldNames,d=arguments.length>2?arguments[2]:void 0,o=l||d,c={},u={},g={posEntities:c,keyEntities:u};return r&&(g=r(g)||g),gn(n,function(h){var p=h.node,b=h.index,f=h.pos,y=h.key,C=h.parentPos,m=h.level,E=h.nodes,N={node:p,nodes:E,index:b,key:y,pos:f,level:m},k=Me(y,f);c[f]=N,u[k]=N,N.parent=c[C],N.parent&&(N.parent.children=N.parent.children||[],N.parent.children.push(N)),e&&e(N,g)},{externalGetKey:o,childrenPropName:v,fieldNames:a}),i&&i(g),g}function Pe(n,t){var r=t.expandedKeys,e=t.selectedKeys,i=t.loadedKeys,l=t.loadingKeys,v=t.checkedKeys,a=t.halfCheckedKeys,d=t.dragOverNodeKey,o=t.dropPosition,c=t.keyEntities,u=V(c,n),g={eventKey:n,expanded:r.indexOf(n)!==-1,selected:e.indexOf(n)!==-1,loaded:i.indexOf(n)!==-1,loading:l.indexOf(n)!==-1,checked:v.indexOf(n)!==-1,halfChecked:a.indexOf(n)!==-1,pos:String(u?u.pos:""),dragOver:d===n&&o===0,dragOverGapTop:d===n&&o===-1,dragOverGapBottom:d===n&&o===1};return g}function j(n){var t=n.data,r=n.expanded,e=n.selected,i=n.checked,l=n.loaded,v=n.loading,a=n.halfChecked,d=n.dragOver,o=n.dragOverGapTop,c=n.dragOverGapBottom,u=n.pos,g=n.active,h=n.eventKey,p=F(F({},t),{},{expanded:r,selected:e,checked:i,loaded:l,loading:v,halfChecked:a,dragOver:d,dragOverGapTop:o,dragOverGapBottom:c,pos:u,active:g,key:h});return"props"in p||Object.defineProperty(p,"props",{get:function(){return le(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),n}}),p}function kt(n,t){var r=new Set;return n.forEach(function(e){t.has(e)||r.add(e)}),r}function hn(n){var t=n||{},r=t.disabled,e=t.disableCheckbox,i=t.checkable;return!!(r||e)||i===!1}function pn(n,t,r,e){for(var i=new Set(n),l=new Set,v=0;v<=r;v+=1){var a=t.get(v)||new Set;a.forEach(function(u){var g=u.key,h=u.node,p=u.children,b=p===void 0?[]:p;i.has(g)&&!e(h)&&b.filter(function(f){return!e(f.node)}).forEach(function(f){i.add(f.key)})})}for(var d=new Set,o=r;o>=0;o-=1){var c=t.get(o)||new Set;c.forEach(function(u){var g=u.parent,h=u.node;if(!(e(h)||!u.parent||d.has(u.parent.key))){if(e(u.parent.node)){d.add(g.key);return}var p=!0,b=!1;(g.children||[]).filter(function(f){return!e(f.node)}).forEach(function(f){var y=f.key,C=i.has(y);p&&!C&&(p=!1),!b&&(C||l.has(y))&&(b=!0)}),p&&i.add(g.key),b&&l.add(g.key),d.add(g.key)}})}return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(kt(l,i))}}function yn(n,t,r,e,i){for(var l=new Set(n),v=new Set(t),a=0;a<=e;a+=1){var d=r.get(a)||new Set;d.forEach(function(g){var h=g.key,p=g.node,b=g.children,f=b===void 0?[]:b;!l.has(h)&&!v.has(h)&&!i(p)&&f.filter(function(y){return!i(y.node)}).forEach(function(y){l.delete(y.key)})})}v=new Set;for(var o=new Set,c=e;c>=0;c-=1){var u=r.get(c)||new Set;u.forEach(function(g){var h=g.parent,p=g.node;if(!(i(p)||!g.parent||o.has(g.parent.key))){if(i(g.parent.node)){o.add(h.key);return}var b=!0,f=!1;(h.children||[]).filter(function(y){return!i(y.node)}).forEach(function(y){var C=y.key,m=l.has(C);b&&!m&&(b=!1),!f&&(m||v.has(C))&&(f=!0)}),b||l.delete(h.key),f&&v.add(h.key),o.add(h.key)}})}return{checkedKeys:Array.from(l),halfCheckedKeys:Array.from(kt(v,l))}}function qe(n,t,r,e){var i=[],l;e?l=e:l=hn;var v=new Set(n.filter(function(c){var u=!!V(r,c);return u||i.push(c),u})),a=new Map,d=0;Object.keys(r).forEach(function(c){var u=r[c],g=u.level,h=a.get(g);h||(h=new Set,a.set(g,h)),h.add(u),d=Math.max(d,g)}),le(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map(function(c){return"'".concat(c,"'")}).join(", ")));var o;return t===!0?o=pn(v,a,d,l):o=yn(v,t.halfCheckedKeys,a,d,l),o}const mn=n=>{const{checkboxCls:t}=n,r=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},Ae(n)),{display:"inline-flex",flexWrap:"wrap",columnGap:n.marginXS,[`> ${n.antCls}-row`]:{flex:1}}),[r]:Object.assign(Object.assign({},Ae(n)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${r}`]:{marginInlineStart:0},[`&${r}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},Ae(n)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:n.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},mt(n))},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:n.checkboxSize,height:n.checkboxSize,direction:"ltr",backgroundColor:n.colorBgContainer,border:`${Te(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,borderCollapse:"separate",transition:`all ${n.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:n.calc(n.checkboxSize).div(14).mul(5).equal(),height:n.calc(n.checkboxSize).div(14).mul(8).equal(),border:`${Te(n.lineWidthBold)} solid ${n.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${n.motionDurationFast} ${n.motionEaseInBack}, opacity ${n.motionDurationFast}`}},"& + span":{paddingInlineStart:n.paddingXS,paddingInlineEnd:n.paddingXS}})},{[`
        ${r}:not(${r}-disabled),
        ${t}:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{borderColor:n.colorPrimary}},[`${r}:not(${r}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:n.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:n.colorPrimary,borderColor:n.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${n.motionDurationMid} ${n.motionEaseOutBack} ${n.motionDurationFast}`}}},[`
        ${r}-checked:not(${r}-disabled),
        ${t}-checked:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{[`${t}-inner`]:{backgroundColor:`${n.colorBgContainer} !important`,borderColor:`${n.colorBorder} !important`,"&:after":{top:"50%",insetInlineStart:"50%",width:n.calc(n.fontSizeLG).div(2).equal(),height:n.calc(n.fontSizeLG).div(2).equal(),backgroundColor:n.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${t}-inner`]:{backgroundColor:`${n.colorBgContainer} !important`,borderColor:`${n.colorPrimary} !important`}}}},{[`${r}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:n.colorBgContainerDisabled,borderColor:n.colorBorder,"&:after":{borderColor:n.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:n.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:n.colorTextDisabled}}}]};function wt(n,t){const r=yt(t,{checkboxCls:`.${n}`,checkboxSize:t.controlInteractiveSize});return[mn(r)]}const Zn=bt("Checkbox",(n,t)=>{let{prefixCls:r}=t;return[wt(r,n)]});var Je=x.createContext(null),bn=x.createContext({}),xn=function(t){for(var r=t.prefixCls,e=t.level,i=t.isStart,l=t.isEnd,v="".concat(r,"-indent-unit"),a=[],d=0;d<e;d+=1)a.push(x.createElement("span",{key:d,className:q(v,K(K({},"".concat(v,"-start"),i[d]),"".concat(v,"-end"),l[d]))}));return x.createElement("span",{"aria-hidden":"true",className:"".concat(r,"-indent")},a)};const Kn=x.memo(xn);var Cn=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],at="open",rt="close",En="---",Re=function(t){var r,e,i,l=t.eventKey,v=t.className,a=t.style,d=t.dragOver,o=t.dragOverGapTop,c=t.dragOverGapBottom,u=t.isLeaf,g=t.isStart,h=t.isEnd,p=t.expanded,b=t.selected,f=t.checked,y=t.halfChecked,C=t.loading,m=t.domRef,E=t.active,N=t.data,k=t.onMouseMove,$=t.selectable,w=Be(t,Cn),s=T.useContext(Je),D=T.useContext(bn),M=T.useRef(null),I=T.useState(!1),_=de(I,2),P=_[0],R=_[1],A=!!(s.disabled||t.disabled||(r=D.nodeDisabled)!==null&&r!==void 0&&r.call(D,N)),H=T.useMemo(function(){return!s.checkable||t.checkable===!1?!1:s.checkable},[s.checkable,t.checkable]),ee=function(S){A||s.onNodeSelect(S,j(t))},te=function(S){A||!H||t.disableCheckbox||s.onNodeCheck(S,j(t),!f)},z=T.useMemo(function(){return typeof $=="boolean"?$:s.selectable},[$,s.selectable]),ye=function(S){s.onNodeClick(S,j(t)),z?ee(S):te(S)},se=function(S){s.onNodeDoubleClick(S,j(t))},U=function(S){s.onNodeMouseEnter(S,j(t))},ce=function(S){s.onNodeMouseLeave(S,j(t))},me=function(S){s.onNodeContextMenu(S,j(t))},G=T.useMemo(function(){return!!(s.draggable&&(!s.draggable.nodeDraggable||s.draggable.nodeDraggable(N)))},[s.draggable,N]),Se=function(S){S.stopPropagation(),R(!0),s.onNodeDragStart(S,t);try{S.dataTransfer.setData("text/plain","")}catch{}},ne=function(S){S.preventDefault(),S.stopPropagation(),s.onNodeDragEnter(S,t)},ke=function(S){S.preventDefault(),S.stopPropagation(),s.onNodeDragOver(S,t)},be=function(S){S.stopPropagation(),s.onNodeDragLeave(S,t)},ae=function(S){S.stopPropagation(),R(!1),s.onNodeDragEnd(S,t)},ue=function(S){S.preventDefault(),S.stopPropagation(),R(!1),s.onNodeDrop(S,t)},He=function(S){C||s.onNodeExpand(S,j(t))},xe=T.useMemo(function(){var L=V(s.keyEntities,l)||{},S=L.children;return!!(S||[]).length},[s.keyEntities,l]),re=T.useMemo(function(){return u===!1?!1:u||!s.loadData&&!xe||s.loadData&&t.loaded&&!xe},[u,s.loadData,xe,t.loaded]);T.useEffect(function(){C||typeof s.loadData=="function"&&p&&!re&&!t.loaded&&s.onNodeLoad(j(t))},[C,s.loadData,s.onNodeLoad,p,re,t]);var we=T.useMemo(function(){var L;return(L=s.draggable)!==null&&L!==void 0&&L.icon?T.createElement("span",{className:"".concat(s.prefixCls,"-draggable-icon")},s.draggable.icon):null},[s.draggable]),$e=function(S){var Y=t.switcherIcon||s.switcherIcon;return typeof Y=="function"?Y(F(F({},t),{},{isLeaf:S})):Y},De=function(){if(re){var S=$e(!0);return S!==!1?T.createElement("span",{className:q("".concat(s.prefixCls,"-switcher"),"".concat(s.prefixCls,"-switcher-noop"))},S):null}var Y=$e(!1);return Y!==!1?T.createElement("span",{onClick:He,className:q("".concat(s.prefixCls,"-switcher"),"".concat(s.prefixCls,"-switcher_").concat(p?at:rt))},Y):null},je=T.useMemo(function(){if(!H)return null;var L=typeof H!="boolean"?H:null;return T.createElement("span",{className:q("".concat(s.prefixCls,"-checkbox"),K(K(K({},"".concat(s.prefixCls,"-checkbox-checked"),f),"".concat(s.prefixCls,"-checkbox-indeterminate"),!f&&y),"".concat(s.prefixCls,"-checkbox-disabled"),A||t.disableCheckbox)),onClick:te,role:"checkbox","aria-checked":y?"mixed":f,"aria-disabled":A||t.disableCheckbox,"aria-label":"Select ".concat(typeof t.title=="string"?t.title:"tree node")},L)},[H,f,y,A,t.disableCheckbox,t.title]),fe=T.useMemo(function(){return re?null:p?at:rt},[re,p]),B=T.useMemo(function(){return T.createElement("span",{className:q("".concat(s.prefixCls,"-iconEle"),"".concat(s.prefixCls,"-icon__").concat(fe||"docu"),K({},"".concat(s.prefixCls,"-icon_loading"),C))})},[s.prefixCls,fe,C]),X=T.useMemo(function(){var L=!!s.draggable,S=!t.disabled&&L&&s.dragOverNodeKey===l;return S?s.dropIndicatorRender({dropPosition:s.dropPosition,dropLevelOffset:s.dropLevelOffset,indent:s.indent,prefixCls:s.prefixCls,direction:s.direction}):null},[s.dropPosition,s.dropLevelOffset,s.indent,s.prefixCls,s.direction,s.draggable,s.dragOverNodeKey,s.dropIndicatorRender]),Q=T.useMemo(function(){var L=t.title,S=L===void 0?En:L,Y="".concat(s.prefixCls,"-node-content-wrapper"),ze;if(s.showIcon){var Ie=t.icon||s.icon;ze=Ie?T.createElement("span",{className:q("".concat(s.prefixCls,"-iconEle"),"".concat(s.prefixCls,"-icon__customize"))},typeof Ie=="function"?Ie(t):Ie):B}else s.loadData&&C&&(ze=B);var Le;return typeof S=="function"?Le=S(N):s.titleRender?Le=s.titleRender(N):Le=S,T.createElement("span",{ref:M,title:typeof S=="string"?S:"",className:q(Y,"".concat(Y,"-").concat(fe||"normal"),K({},"".concat(s.prefixCls,"-node-selected"),!A&&(b||P))),onMouseEnter:U,onMouseLeave:ce,onContextMenu:me,onClick:ye,onDoubleClick:se},ze,T.createElement("span",{className:"".concat(s.prefixCls,"-title")},Le),X)},[s.prefixCls,s.showIcon,t,s.icon,B,s.titleRender,N,fe,U,ce,me,ye,se]),Ke=xt(w,{aria:!0,data:!0}),ve=V(s.keyEntities,l)||{},Oe=ve.level,Ce=h[h.length-1],oe=!A&&G,ge=s.draggingNodeKey===l,tt=$!==void 0?{"aria-selected":!!$}:void 0;return T.createElement("div",W({ref:m,role:"treeitem","aria-expanded":u?void 0:p,className:q(v,"".concat(s.prefixCls,"-treenode"),(i={},K(K(K(K(K(K(K(K(K(K(i,"".concat(s.prefixCls,"-treenode-disabled"),A),"".concat(s.prefixCls,"-treenode-switcher-").concat(p?"open":"close"),!u),"".concat(s.prefixCls,"-treenode-checkbox-checked"),f),"".concat(s.prefixCls,"-treenode-checkbox-indeterminate"),y),"".concat(s.prefixCls,"-treenode-selected"),b),"".concat(s.prefixCls,"-treenode-loading"),C),"".concat(s.prefixCls,"-treenode-active"),E),"".concat(s.prefixCls,"-treenode-leaf-last"),Ce),"".concat(s.prefixCls,"-treenode-draggable"),G),"dragging",ge),K(K(K(K(K(K(K(i,"drop-target",s.dropTargetKey===l),"drop-container",s.dropContainerKey===l),"drag-over",!A&&d),"drag-over-gap-top",!A&&o),"drag-over-gap-bottom",!A&&c),"filter-node",(e=s.filterTreeNode)===null||e===void 0?void 0:e.call(s,j(t))),"".concat(s.prefixCls,"-treenode-leaf"),re))),style:a,draggable:oe,onDragStart:oe?Se:void 0,onDragEnter:G?ne:void 0,onDragOver:G?ke:void 0,onDragLeave:G?be:void 0,onDrop:G?ue:void 0,onDragEnd:G?ae:void 0,onMouseMove:k},tt,Ke),T.createElement(Kn,{prefixCls:s.prefixCls,level:Oe,isStart:g,isEnd:h}),we,De(),je,Q)};Re.isTreeNode=1;function Z(n,t){if(!n)return[];var r=n.slice(),e=r.indexOf(t);return e>=0&&r.splice(e,1),r}function ie(n,t){var r=(n||[]).slice();return r.indexOf(t)===-1&&r.push(t),r}function Qe(n){return n.split("-")}function Nn(n,t){var r=[],e=V(t,n);function i(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];l.forEach(function(v){var a=v.key,d=v.children;r.push(a),i(d)})}return i(e.children),r}function Sn(n){if(n.parent){var t=Qe(n.pos);return Number(t[t.length-1])===n.parent.children.length-1}return!1}function kn(n){var t=Qe(n.pos);return Number(t[t.length-1])===0}function ot(n,t,r,e,i,l,v,a,d,o){var c,u=n.clientX,g=n.clientY,h=n.target.getBoundingClientRect(),p=h.top,b=h.height,f=(o==="rtl"?-1:1)*(((i==null?void 0:i.x)||0)-u),y=(f-12)/e,C=d.filter(function(A){var H;return(H=a[A])===null||H===void 0||(H=H.children)===null||H===void 0?void 0:H.length}),m=V(a,r.eventKey);if(g<p+b/2){var E=v.findIndex(function(A){return A.key===m.key}),N=E<=0?0:E-1,k=v[N].key;m=V(a,k)}var $=m.key,w=m,s=m.key,D=0,M=0;if(!C.includes($))for(var I=0;I<y&&Sn(m);I+=1)m=m.parent,M+=1;var _=t.data,P=m.node,R=!0;return kn(m)&&m.level===0&&g<p+b/2&&l({dragNode:_,dropNode:P,dropPosition:-1})&&m.key===r.eventKey?D=-1:(w.children||[]).length&&C.includes(s)?l({dragNode:_,dropNode:P,dropPosition:0})?D=0:R=!1:M===0?y>-1.5?l({dragNode:_,dropNode:P,dropPosition:1})?D=1:R=!1:l({dragNode:_,dropNode:P,dropPosition:0})?D=0:l({dragNode:_,dropNode:P,dropPosition:1})?D=1:R=!1:l({dragNode:_,dropNode:P,dropPosition:1})?D=1:R=!1,{dropPosition:D,dropLevelOffset:M,dropTargetKey:m.key,dropTargetPos:m.pos,dragOverNodeKey:s,dropContainerKey:D===0?null:((c=m.parent)===null||c===void 0?void 0:c.key)||null,dropAllowed:R}}function it(n,t){if(n){var r=t.multiple;return r?n.slice():n.length?[n[0]]:n}}function Ve(n){if(!n)return null;var t;if(Array.isArray(n))t={checkedKeys:n,halfCheckedKeys:void 0};else if(Ye(n)==="object")t={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0};else return le(!1,"`checkedKeys` is not an array or an object"),null;return t}function Ue(n,t){var r=new Set;function e(i){if(!r.has(i)){var l=V(t,i);if(l){r.add(i);var v=l.parent,a=l.node;a.disabled||v&&e(v.key)}}}return(n||[]).forEach(function(i){e(i)}),J(r)}var wn=function(t){var r=t.dropPosition,e=t.dropLevelOffset,i=t.indent,l={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(r){case-1:l.top=0,l.left=-e*i;break;case 1:l.bottom=0,l.left=-e*i;break;case 0:l.bottom=0,l.left=i;break}return T.createElement("div",{style:l})};function $t(n){if(n==null)throw new TypeError("Cannot destructure "+n)}function $n(n,t){var r=x.useState(!1),e=de(r,2),i=e[0],l=e[1];_e(function(){if(i)return n(),function(){t()}},[i]),_e(function(){return l(!0),function(){l(!1)}},[])}var Dn=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],On=x.forwardRef(function(n,t){var r=n.className,e=n.style,i=n.motion,l=n.motionNodes,v=n.motionType,a=n.onMotionStart,d=n.onMotionEnd,o=n.active,c=n.treeNodeRequiredProps,u=Be(n,Dn),g=x.useState(!0),h=de(g,2),p=h[0],b=h[1],f=x.useContext(Je),y=f.prefixCls,C=l&&v!=="hide";_e(function(){l&&C!==p&&b(C)},[l]);var m=function(){l&&a()},E=x.useRef(!1),N=function(){l&&!E.current&&(E.current=!0,d())};$n(m,N);var k=function(w){C===w&&N()};return l?x.createElement(Mt,W({ref:t,visible:p},i,{motionAppear:v==="show",onVisibleChanged:k}),function($,w){var s=$.className,D=$.style;return x.createElement("div",{ref:w,className:q("".concat(y,"-treenode-motion"),s),style:D},l.map(function(M){var I=Object.assign({},($t(M.data),M.data)),_=M.title,P=M.key,R=M.isStart,A=M.isEnd;delete I.children;var H=Pe(P,c);return x.createElement(Re,W({},I,H,{title:_,active:o,data:M.data,key:P,isStart:R,isEnd:A}))}))}):x.createElement(Re,W({domRef:t,className:r,style:e},u,{active:o}))});function Pn(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=n.length,e=t.length;if(Math.abs(r-e)!==1)return{add:!1,key:null};function i(l,v){var a=new Map;l.forEach(function(o){a.set(o,!0)});var d=v.filter(function(o){return!a.has(o)});return d.length===1?d[0]:null}return r<e?{add:!0,key:i(n,t)}:{add:!1,key:i(t,n)}}function dt(n,t,r){var e=n.findIndex(function(a){return a.key===r}),i=n[e+1],l=t.findIndex(function(a){return a.key===r});if(i){var v=t.findIndex(function(a){return a.key===i.key});return t.slice(l+1,v)}return t.slice(l+1)}var Tn=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],lt={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Rn=function(){},he="RC_TREE_MOTION_".concat(Math.random()),Xe={key:he},Dt={key:he,level:0,index:0,pos:"0",node:Xe,nodes:[Xe]},st={parent:null,children:[],pos:Dt.pos,data:Xe,title:null,key:he,isStart:[],isEnd:[]};function ct(n,t,r,e){return t===!1||!r?n:n.slice(0,Math.ceil(r/e)+1)}function ut(n){var t=n.key,r=n.pos;return Me(t,r)}function Mn(n){for(var t=String(n.data.key),r=n;r.parent;)r=r.parent,t="".concat(r.data.key," > ").concat(t);return t}var In=x.forwardRef(function(n,t){var r=n.prefixCls,e=n.data;n.selectable,n.checkable;var i=n.expandedKeys,l=n.selectedKeys,v=n.checkedKeys,a=n.loadedKeys,d=n.loadingKeys,o=n.halfCheckedKeys,c=n.keyEntities,u=n.disabled,g=n.dragging,h=n.dragOverNodeKey,p=n.dropPosition,b=n.motion,f=n.height,y=n.itemHeight,C=n.virtual,m=n.scrollWidth,E=n.focusable,N=n.activeItem,k=n.focused,$=n.tabIndex,w=n.onKeyDown,s=n.onFocus,D=n.onBlur,M=n.onActiveChange,I=n.onListChangeStart,_=n.onListChangeEnd,P=Be(n,Tn),R=x.useRef(null),A=x.useRef(null);x.useImperativeHandle(t,function(){return{scrollTo:function(X){R.current.scrollTo(X)},getIndentWidth:function(){return A.current.offsetWidth}}});var H=x.useState(i),ee=de(H,2),te=ee[0],z=ee[1],ye=x.useState(e),se=de(ye,2),U=se[0],ce=se[1],me=x.useState(e),G=de(me,2),Se=G[0],ne=G[1],ke=x.useState([]),be=de(ke,2),ae=be[0],ue=be[1],He=x.useState(null),xe=de(He,2),re=xe[0],we=xe[1],$e=x.useRef(e);$e.current=e;function De(){var B=$e.current;ce(B),ne(B),ue([]),we(null),_()}_e(function(){z(i);var B=Pn(te,i);if(B.key!==null)if(B.add){var X=U.findIndex(function(oe){var ge=oe.key;return ge===B.key}),Q=ct(dt(U,e,B.key),C,f,y),Ke=U.slice();Ke.splice(X+1,0,st),ne(Ke),ue(Q),we("show")}else{var ve=e.findIndex(function(oe){var ge=oe.key;return ge===B.key}),Oe=ct(dt(e,U,B.key),C,f,y),Ce=e.slice();Ce.splice(ve+1,0,st),ne(Ce),ue(Oe),we("hide")}else U!==e&&(ce(e),ne(e))},[i,e]),x.useEffect(function(){g||De()},[g]);var je=b?Se:e,fe={expandedKeys:i,selectedKeys:l,loadedKeys:a,loadingKeys:d,checkedKeys:v,halfCheckedKeys:o,dragOverNodeKey:h,dropPosition:p,keyEntities:c};return x.createElement(x.Fragment,null,k&&N&&x.createElement("span",{style:lt,"aria-live":"assertive"},Mn(N)),x.createElement("div",null,x.createElement("input",{style:lt,disabled:E===!1||u,tabIndex:E!==!1?$:null,onKeyDown:w,onFocus:s,onBlur:D,value:"",onChange:Rn,"aria-label":"for screen reader"})),x.createElement("div",{className:"".concat(r,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},x.createElement("div",{className:"".concat(r,"-indent")},x.createElement("div",{ref:A,className:"".concat(r,"-indent-unit")}))),x.createElement(It,W({},P,{data:je,itemKey:ut,height:f,fullHeight:!1,virtual:C,itemHeight:y,scrollWidth:m,prefixCls:"".concat(r,"-list"),ref:R,role:"tree",onVisibleChange:function(X){X.every(function(Q){return ut(Q)!==he})&&De()}}),function(B){var X=B.pos,Q=Object.assign({},($t(B.data),B.data)),Ke=B.title,ve=B.key,Oe=B.isStart,Ce=B.isEnd,oe=Me(ve,X);delete Q.key,delete Q.children;var ge=Pe(oe,fe);return x.createElement(On,W({},Q,ge,{title:Ke,active:!!N&&ve===N.key,pos:X,data:B.data,isStart:Oe,isEnd:Ce,motion:b,motionNodes:ve===he?ae:null,motionType:re,onMotionStart:I,onMotionEnd:De,treeNodeRequiredProps:fe,onMouseMove:function(){M(null)}}))}))}),Ln=10,Ze=function(n){Lt(r,n);var t=At(r);function r(){var e;_t(this,r);for(var i=arguments.length,l=new Array(i),v=0;v<i;v++)l[v]=arguments[v];return e=t.call.apply(t,[this].concat(l)),K(O(e),"destroyed",!1),K(O(e),"delayedDragEnterLogic",void 0),K(O(e),"loadingRetryTimes",{}),K(O(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Ne()}),K(O(e),"dragStartMousePosition",null),K(O(e),"dragNodeProps",null),K(O(e),"currentMouseOverDroppableNodeKey",null),K(O(e),"listRef",x.createRef()),K(O(e),"onNodeDragStart",function(a,d){var o=e.state,c=o.expandedKeys,u=o.keyEntities,g=e.props.onDragStart,h=d.eventKey;e.dragNodeProps=d,e.dragStartMousePosition={x:a.clientX,y:a.clientY};var p=Z(c,h);e.setState({draggingNodeKey:h,dragChildrenKeys:Nn(h,u),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(p),window.addEventListener("dragend",e.onWindowDragEnd),g==null||g({event:a,node:j(d)})}),K(O(e),"onNodeDragEnter",function(a,d){var o=e.state,c=o.expandedKeys,u=o.keyEntities,g=o.dragChildrenKeys,h=o.flattenNodes,p=o.indent,b=e.props,f=b.onDragEnter,y=b.onExpand,C=b.allowDrop,m=b.direction,E=d.pos,N=d.eventKey;if(e.currentMouseOverDroppableNodeKey!==N&&(e.currentMouseOverDroppableNodeKey=N),!e.dragNodeProps){e.resetDragState();return}var k=ot(a,e.dragNodeProps,d,p,e.dragStartMousePosition,C,h,u,c,m),$=k.dropPosition,w=k.dropLevelOffset,s=k.dropTargetKey,D=k.dropContainerKey,M=k.dropTargetPos,I=k.dropAllowed,_=k.dragOverNodeKey;if(g.includes(s)||!I){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(P){clearTimeout(e.delayedDragEnterLogic[P])}),e.dragNodeProps.eventKey!==d.eventKey&&(a.persist(),e.delayedDragEnterLogic[E]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var P=J(c),R=V(u,d.eventKey);R&&(R.children||[]).length&&(P=ie(c,d.eventKey)),e.props.hasOwnProperty("expandedKeys")||e.setExpandedKeys(P),y==null||y(P,{node:j(d),expanded:!0,nativeEvent:a.nativeEvent})}},800)),e.dragNodeProps.eventKey===s&&w===0){e.resetDragState();return}e.setState({dragOverNodeKey:_,dropPosition:$,dropLevelOffset:w,dropTargetKey:s,dropContainerKey:D,dropTargetPos:M,dropAllowed:I}),f==null||f({event:a,node:j(d),expandedKeys:c})}),K(O(e),"onNodeDragOver",function(a,d){var o=e.state,c=o.dragChildrenKeys,u=o.flattenNodes,g=o.keyEntities,h=o.expandedKeys,p=o.indent,b=e.props,f=b.onDragOver,y=b.allowDrop,C=b.direction;if(e.dragNodeProps){var m=ot(a,e.dragNodeProps,d,p,e.dragStartMousePosition,y,u,g,h,C),E=m.dropPosition,N=m.dropLevelOffset,k=m.dropTargetKey,$=m.dropContainerKey,w=m.dropTargetPos,s=m.dropAllowed,D=m.dragOverNodeKey;c.includes(k)||!s||(e.dragNodeProps.eventKey===k&&N===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():E===e.state.dropPosition&&N===e.state.dropLevelOffset&&k===e.state.dropTargetKey&&$===e.state.dropContainerKey&&w===e.state.dropTargetPos&&s===e.state.dropAllowed&&D===e.state.dragOverNodeKey||e.setState({dropPosition:E,dropLevelOffset:N,dropTargetKey:k,dropContainerKey:$,dropTargetPos:w,dropAllowed:s,dragOverNodeKey:D}),f==null||f({event:a,node:j(d)}))}}),K(O(e),"onNodeDragLeave",function(a,d){e.currentMouseOverDroppableNodeKey===d.eventKey&&!a.currentTarget.contains(a.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var o=e.props.onDragLeave;o==null||o({event:a,node:j(d)})}),K(O(e),"onWindowDragEnd",function(a){e.onNodeDragEnd(a,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),K(O(e),"onNodeDragEnd",function(a,d){var o=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),o==null||o({event:a,node:j(d)}),e.dragNodeProps=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),K(O(e),"onNodeDrop",function(a,d){var o,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=e.state,g=u.dragChildrenKeys,h=u.dropPosition,p=u.dropTargetKey,b=u.dropTargetPos,f=u.dropAllowed;if(f){var y=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),p!==null){var C=F(F({},Pe(p,e.getTreeNodeRequiredProps())),{},{active:((o=e.getActiveItem())===null||o===void 0?void 0:o.key)===p,data:V(e.state.keyEntities,p).node}),m=g.includes(p);le(!m,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var E=Qe(b),N={event:a,node:j(C),dragNode:e.dragNodeProps?j(e.dragNodeProps):null,dragNodesKeys:[e.dragNodeProps.eventKey].concat(g),dropToGap:h!==0,dropPosition:h+Number(E[E.length-1])};c||y==null||y(N),e.dragNodeProps=null}}}),K(O(e),"cleanDragState",function(){var a=e.state.draggingNodeKey;a!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),K(O(e),"triggerExpandActionExpand",function(a,d){var o=e.state,c=o.expandedKeys,u=o.flattenNodes,g=d.expanded,h=d.key,p=d.isLeaf;if(!(p||a.shiftKey||a.metaKey||a.ctrlKey)){var b=u.filter(function(y){return y.key===h})[0],f=j(F(F({},Pe(h,e.getTreeNodeRequiredProps())),{},{data:b.data}));e.setExpandedKeys(g?Z(c,h):ie(c,h)),e.onNodeExpand(a,f)}}),K(O(e),"onNodeClick",function(a,d){var o=e.props,c=o.onClick,u=o.expandAction;u==="click"&&e.triggerExpandActionExpand(a,d),c==null||c(a,d)}),K(O(e),"onNodeDoubleClick",function(a,d){var o=e.props,c=o.onDoubleClick,u=o.expandAction;u==="doubleClick"&&e.triggerExpandActionExpand(a,d),c==null||c(a,d)}),K(O(e),"onNodeSelect",function(a,d){var o=e.state.selectedKeys,c=e.state,u=c.keyEntities,g=c.fieldNames,h=e.props,p=h.onSelect,b=h.multiple,f=d.selected,y=d[g.key],C=!f;C?b?o=ie(o,y):o=[y]:o=Z(o,y);var m=o.map(function(E){var N=V(u,E);return N?N.node:null}).filter(Boolean);e.setUncontrolledState({selectedKeys:o}),p==null||p(o,{event:"select",selected:C,node:d,selectedNodes:m,nativeEvent:a.nativeEvent})}),K(O(e),"onNodeCheck",function(a,d,o){var c=e.state,u=c.keyEntities,g=c.checkedKeys,h=c.halfCheckedKeys,p=e.props,b=p.checkStrictly,f=p.onCheck,y=d.key,C,m={event:"check",node:d,checked:o,nativeEvent:a.nativeEvent};if(b){var E=o?ie(g,y):Z(g,y),N=Z(h,y);C={checked:E,halfChecked:N},m.checkedNodes=E.map(function(M){return V(u,M)}).filter(Boolean).map(function(M){return M.node}),e.setUncontrolledState({checkedKeys:E})}else{var k=qe([].concat(J(g),[y]),!0,u),$=k.checkedKeys,w=k.halfCheckedKeys;if(!o){var s=new Set($);s.delete(y);var D=qe(Array.from(s),{halfCheckedKeys:w},u);$=D.checkedKeys,w=D.halfCheckedKeys}C=$,m.checkedNodes=[],m.checkedNodesPositions=[],m.halfCheckedKeys=w,$.forEach(function(M){var I=V(u,M);if(I){var _=I.node,P=I.pos;m.checkedNodes.push(_),m.checkedNodesPositions.push({node:_,pos:P})}}),e.setUncontrolledState({checkedKeys:$},!1,{halfCheckedKeys:w})}f==null||f(C,m)}),K(O(e),"onNodeLoad",function(a){var d,o=a.key,c=e.state.keyEntities,u=V(c,o);if(!(u!=null&&(d=u.children)!==null&&d!==void 0&&d.length)){var g=new Promise(function(h,p){e.setState(function(b){var f=b.loadedKeys,y=f===void 0?[]:f,C=b.loadingKeys,m=C===void 0?[]:C,E=e.props,N=E.loadData,k=E.onLoad;if(!N||y.includes(o)||m.includes(o))return null;var $=N(a);return $.then(function(){var w=e.state.loadedKeys,s=ie(w,o);k==null||k(s,{event:"load",node:a}),e.setUncontrolledState({loadedKeys:s}),e.setState(function(D){return{loadingKeys:Z(D.loadingKeys,o)}}),h()}).catch(function(w){if(e.setState(function(D){return{loadingKeys:Z(D.loadingKeys,o)}}),e.loadingRetryTimes[o]=(e.loadingRetryTimes[o]||0)+1,e.loadingRetryTimes[o]>=Ln){var s=e.state.loadedKeys;le(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:ie(s,o)}),h()}p(w)}),{loadingKeys:ie(m,o)}})});return g.catch(function(){}),g}}),K(O(e),"onNodeMouseEnter",function(a,d){var o=e.props.onMouseEnter;o==null||o({event:a,node:d})}),K(O(e),"onNodeMouseLeave",function(a,d){var o=e.props.onMouseLeave;o==null||o({event:a,node:d})}),K(O(e),"onNodeContextMenu",function(a,d){var o=e.props.onRightClick;o&&(a.preventDefault(),o({event:a,node:d}))}),K(O(e),"onFocus",function(){var a=e.props.onFocus;e.setState({focused:!0});for(var d=arguments.length,o=new Array(d),c=0;c<d;c++)o[c]=arguments[c];a==null||a.apply(void 0,o)}),K(O(e),"onBlur",function(){var a=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var d=arguments.length,o=new Array(d),c=0;c<d;c++)o[c]=arguments[c];a==null||a.apply(void 0,o)}),K(O(e),"getTreeNodeRequiredProps",function(){var a=e.state,d=a.expandedKeys,o=a.selectedKeys,c=a.loadedKeys,u=a.loadingKeys,g=a.checkedKeys,h=a.halfCheckedKeys,p=a.dragOverNodeKey,b=a.dropPosition,f=a.keyEntities;return{expandedKeys:d||[],selectedKeys:o||[],loadedKeys:c||[],loadingKeys:u||[],checkedKeys:g||[],halfCheckedKeys:h||[],dragOverNodeKey:p,dropPosition:b,keyEntities:f}}),K(O(e),"setExpandedKeys",function(a){var d=e.state,o=d.treeData,c=d.fieldNames,u=Fe(o,a,c);e.setUncontrolledState({expandedKeys:a,flattenNodes:u},!0)}),K(O(e),"onNodeExpand",function(a,d){var o=e.state.expandedKeys,c=e.state,u=c.listChanging,g=c.fieldNames,h=e.props,p=h.onExpand,b=h.loadData,f=d.expanded,y=d[g.key];if(!u){var C=o.includes(y),m=!f;if(le(f&&C||!f&&!C,"Expand state not sync with index check"),o=m?ie(o,y):Z(o,y),e.setExpandedKeys(o),p==null||p(o,{node:d,expanded:m,nativeEvent:a.nativeEvent}),m&&b){var E=e.onNodeLoad(d);E&&E.then(function(){var N=Fe(e.state.treeData,o,g);e.setUncontrolledState({flattenNodes:N})}).catch(function(){var N=e.state.expandedKeys,k=Z(N,y);e.setExpandedKeys(k)})}}}),K(O(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),K(O(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),K(O(e),"onActiveChange",function(a){var d=e.state.activeKey,o=e.props,c=o.onActiveChange,u=o.itemScrollOffset,g=u===void 0?0:u;d!==a&&(e.setState({activeKey:a}),a!==null&&e.scrollTo({key:a,offset:g}),c==null||c(a))}),K(O(e),"getActiveItem",function(){var a=e.state,d=a.activeKey,o=a.flattenNodes;return d===null?null:o.find(function(c){var u=c.key;return u===d})||null}),K(O(e),"offsetActiveKey",function(a){var d=e.state,o=d.flattenNodes,c=d.activeKey,u=o.findIndex(function(p){var b=p.key;return b===c});u===-1&&a<0&&(u=o.length),u=(u+a+o.length)%o.length;var g=o[u];if(g){var h=g.key;e.onActiveChange(h)}else e.onActiveChange(null)}),K(O(e),"onKeyDown",function(a){var d=e.state,o=d.activeKey,c=d.expandedKeys,u=d.checkedKeys,g=d.fieldNames,h=e.props,p=h.onKeyDown,b=h.checkable,f=h.selectable;switch(a.which){case Ee.UP:{e.offsetActiveKey(-1),a.preventDefault();break}case Ee.DOWN:{e.offsetActiveKey(1),a.preventDefault();break}}var y=e.getActiveItem();if(y&&y.data){var C=e.getTreeNodeRequiredProps(),m=y.data.isLeaf===!1||!!(y.data[g.children]||[]).length,E=j(F(F({},Pe(o,C)),{},{data:y.data,active:!0}));switch(a.which){case Ee.LEFT:{m&&c.includes(o)?e.onNodeExpand({},E):y.parent&&e.onActiveChange(y.parent.key),a.preventDefault();break}case Ee.RIGHT:{m&&!c.includes(o)?e.onNodeExpand({},E):y.children&&y.children.length&&e.onActiveChange(y.children[0].key),a.preventDefault();break}case Ee.ENTER:case Ee.SPACE:{b&&!E.disabled&&E.checkable!==!1&&!E.disableCheckbox?e.onNodeCheck({},E,!u.includes(o)):!b&&f&&!E.disabled&&E.selectable!==!1&&e.onNodeSelect({},E);break}}}p==null||p(a)}),K(O(e),"setUncontrolledState",function(a){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var c=!1,u=!0,g={};Object.keys(a).forEach(function(h){if(e.props.hasOwnProperty(h)){u=!1;return}c=!0,g[h]=a[h]}),c&&(!d||u)&&e.setState(F(F({},g),o))}}),K(O(e),"scrollTo",function(a){e.listRef.current.scrollTo(a)}),e}return Bt(r,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var i=this.props,l=i.activeKey,v=i.itemScrollOffset,a=v===void 0?0:v;l!==void 0&&l!==this.state.activeKey&&(this.setState({activeKey:l}),l!==null&&this.scrollTo({key:l,offset:a}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var i=this.state,l=i.focused,v=i.flattenNodes,a=i.keyEntities,d=i.draggingNodeKey,o=i.activeKey,c=i.dropLevelOffset,u=i.dropContainerKey,g=i.dropTargetKey,h=i.dropPosition,p=i.dragOverNodeKey,b=i.indent,f=this.props,y=f.prefixCls,C=f.className,m=f.style,E=f.showLine,N=f.focusable,k=f.tabIndex,$=k===void 0?0:k,w=f.selectable,s=f.showIcon,D=f.icon,M=f.switcherIcon,I=f.draggable,_=f.checkable,P=f.checkStrictly,R=f.disabled,A=f.motion,H=f.loadData,ee=f.filterTreeNode,te=f.height,z=f.itemHeight,ye=f.scrollWidth,se=f.virtual,U=f.titleRender,ce=f.dropIndicatorRender,me=f.onContextMenu,G=f.onScroll,Se=f.direction,ne=f.rootClassName,ke=f.rootStyle,be=xt(this.props,{aria:!0,data:!0}),ae;I&&(Ye(I)==="object"?ae=I:typeof I=="function"?ae={nodeDraggable:I}:ae={});var ue={prefixCls:y,selectable:w,showIcon:s,icon:D,switcherIcon:M,draggable:ae,draggingNodeKey:d,checkable:_,checkStrictly:P,disabled:R,keyEntities:a,dropLevelOffset:c,dropContainerKey:u,dropTargetKey:g,dropPosition:h,dragOverNodeKey:p,indent:b,direction:Se,dropIndicatorRender:ce,loadData:H,filterTreeNode:ee,titleRender:U,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return x.createElement(Je.Provider,{value:ue},x.createElement("div",{className:q(y,C,ne,K(K(K({},"".concat(y,"-show-line"),E),"".concat(y,"-focused"),l),"".concat(y,"-active-focused"),o!==null)),style:ke},x.createElement(In,W({ref:this.listRef,prefixCls:y,style:m,data:v,disabled:R,selectable:w,checkable:!!_,motion:A,dragging:d!==null,height:te,itemHeight:z,virtual:se,focusable:N,focused:l,tabIndex:$,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:me,onScroll:G,scrollWidth:ye},this.getTreeNodeRequiredProps(),be))))}}],[{key:"getDerivedStateFromProps",value:function(i,l){var v=l.prevProps,a={prevProps:i};function d($){return!v&&i.hasOwnProperty($)||v&&v[$]!==i[$]}var o,c=l.fieldNames;if(d("fieldNames")&&(c=Ne(i.fieldNames),a.fieldNames=c),d("treeData")?o=i.treeData:d("children")&&(le(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),o=Nt(i.children)),o){a.treeData=o;var u=St(o,{fieldNames:c});a.keyEntities=F(K({},he,Dt),u.keyEntities)}var g=a.keyEntities||l.keyEntities;if(d("expandedKeys")||v&&d("autoExpandParent"))a.expandedKeys=i.autoExpandParent||!v&&i.defaultExpandParent?Ue(i.expandedKeys,g):i.expandedKeys;else if(!v&&i.defaultExpandAll){var h=F({},g);delete h[he];var p=[];Object.keys(h).forEach(function($){var w=h[$];w.children&&w.children.length&&p.push(w.key)}),a.expandedKeys=p}else!v&&i.defaultExpandedKeys&&(a.expandedKeys=i.autoExpandParent||i.defaultExpandParent?Ue(i.defaultExpandedKeys,g):i.defaultExpandedKeys);if(a.expandedKeys||delete a.expandedKeys,o||a.expandedKeys){var b=Fe(o||l.treeData,a.expandedKeys||l.expandedKeys,c);a.flattenNodes=b}if(i.selectable&&(d("selectedKeys")?a.selectedKeys=it(i.selectedKeys,i):!v&&i.defaultSelectedKeys&&(a.selectedKeys=it(i.defaultSelectedKeys,i))),i.checkable){var f;if(d("checkedKeys")?f=Ve(i.checkedKeys)||{}:!v&&i.defaultCheckedKeys?f=Ve(i.defaultCheckedKeys)||{}:o&&(f=Ve(i.checkedKeys)||{checkedKeys:l.checkedKeys,halfCheckedKeys:l.halfCheckedKeys}),f){var y=f,C=y.checkedKeys,m=C===void 0?[]:C,E=y.halfCheckedKeys,N=E===void 0?[]:E;if(!i.checkStrictly){var k=qe(m,!0,g);m=k.checkedKeys,N=k.halfCheckedKeys}a.checkedKeys=m,a.halfCheckedKeys=N}}return d("loadedKeys")&&(a.loadedKeys=i.loadedKeys),a}}]),r}(x.Component);K(Ze,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:wn,allowDrop:function(){return!0},expandAction:!1});K(Ze,"TreeNode",Re);const An=n=>{let{treeCls:t,treeNodeCls:r,directoryNodeSelectedBg:e,directoryNodeSelectedColor:i,motionDurationMid:l,borderRadius:v,controlItemBgHover:a}=n;return{[`${t}${t}-directory ${r}`]:{[`${t}-node-content-wrapper`]:{position:"static",[`> *:not(${t}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${l}`,content:'""',borderRadius:v},"&:hover:before":{background:a}},[`${t}-switcher, ${t}-checkbox, ${t}-draggable-icon`]:{zIndex:1},"&-selected":{[`${t}-switcher, ${t}-draggable-icon`]:{color:i},[`${t}-node-content-wrapper`]:{color:i,background:"transparent","&:before, &:hover:before":{background:e}}}}}},_n=new jt("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),Bn=(n,t)=>({[`.${n}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),Hn=(n,t)=>({[`.${n}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${Te(t.lineWidthBold)} solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),jn=(n,t)=>{const{treeCls:r,treeNodeCls:e,treeNodePadding:i,titleHeight:l,indentSize:v,nodeSelectedBg:a,nodeHoverBg:d,colorTextQuaternary:o,controlItemBgActiveDisabled:c}=t;return{[r]:Object.assign(Object.assign({},Ae(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${r}-rtl ${r}-switcher_close ${r}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${r}-active-focused)`]:Object.assign({},mt(t)),[`${r}-list-holder-inner`]:{alignItems:"flex-start"},[`&${r}-block-node`]:{[`${r}-list-holder-inner`]:{alignItems:"stretch",[`${r}-node-content-wrapper`]:{flex:"auto"},[`${e}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:_n,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:t.borderRadius}}},[e]:{display:"flex",alignItems:"flex-start",marginBottom:i,lineHeight:Te(l),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:i},[`&-disabled ${r}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${r}-checkbox-disabled + ${r}-node-selected,&${e}-disabled${e}-selected ${r}-node-content-wrapper`]:{backgroundColor:c},[`${r}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${e}-disabled)`]:{[`${r}-node-content-wrapper`]:{"&:hover":{color:t.nodeHoverColor}}},[`&-active ${r}-node-content-wrapper`]:{background:t.controlItemBgHover},[`&:not(${e}-disabled).filter-node ${r}-title`]:{color:t.colorPrimary,fontWeight:500},"&-draggable":{cursor:"grab",[`${r}-draggable-icon`]:{flexShrink:0,width:l,textAlign:"center",visibility:"visible",color:o},[`&${e}-disabled ${r}-draggable-icon`]:{visibility:"hidden"}}},[`${r}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:v}},[`${r}-draggable-icon`]:{visibility:"hidden"},[`${r}-switcher, ${r}-checkbox`]:{marginInlineEnd:t.calc(t.calc(l).sub(t.controlInteractiveSize)).div(2).equal()},[`${r}-switcher`]:Object.assign(Object.assign({},Bn(n,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:l,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${t.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:l,height:l,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`},[`&:not(${r}-switcher-noop):hover:before`]:{backgroundColor:t.colorBgTextHover},[`&_close ${r}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(l).div(2).equal(),bottom:t.calc(i).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(l).div(2).equal()).mul(.8).equal(),height:t.calc(l).div(2).equal(),borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${r}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:l,paddingBlock:0,paddingInline:t.paddingXS,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},Hn(n,t)),{"&:hover":{backgroundColor:d},[`&${r}-node-selected`]:{color:t.nodeSelectedColor,backgroundColor:a},[`${r}-iconEle`]:{display:"inline-block",width:l,height:l,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${r}-unselectable ${r}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${e}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${t.colorPrimary}`},"&-show-line":{[`${r}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(l).div(2).equal(),bottom:t.calc(i).mul(-1).equal(),borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${r}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${e}-leaf-last ${r}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${Te(t.calc(l).div(2).equal())} !important`}})}},zn=function(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const e=`.${n}`,i=`${e}-treenode`,l=t.calc(t.paddingXS).div(2).equal(),v=yt(t,{treeCls:e,treeNodeCls:i,treeNodePadding:l});return[jn(n,v),r&&An(v)].filter(Boolean)},Fn=n=>{const{controlHeightSM:t,controlItemBgHover:r,controlItemBgActive:e}=n,i=t;return{titleHeight:i,indentSize:i,nodeHoverBg:r,nodeHoverColor:n.colorText,nodeSelectedBg:e,nodeSelectedColor:n.colorText}},qn=n=>{const{colorTextLightSolid:t,colorPrimary:r}=n;return Object.assign(Object.assign({},Fn(n)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:r})},Vn=bt("Tree",(n,t)=>{let{prefixCls:r}=t;return[{[n.componentCls]:wt(`${r}-checkbox`,n)},zn(r,n),Ht(n)]},qn),ft=4;function Wn(n){const{dropPosition:t,dropLevelOffset:r,prefixCls:e,indent:i,direction:l="ltr"}=n,v=l==="ltr"?"left":"right",a=l==="ltr"?"right":"left",d={[v]:-r*i+ft,[a]:0};switch(t){case-1:d.top=-3;break;case 1:d.bottom=-3;break;default:d.bottom=-3,d[v]=i+ft;break}return T.createElement("div",{style:d,className:`${e}-drop-indicator`})}const Gn=n=>{const{prefixCls:t,switcherIcon:r,treeNodeProps:e,showLine:i,switcherLoadingIcon:l}=n,{isLeaf:v,expanded:a,loading:d}=e;if(d)return x.isValidElement(l)?l:x.createElement(zt,{className:`${t}-switcher-loading-icon`});let o;if(i&&typeof i=="object"&&(o=i.showLeafIcon),v){if(!i)return null;if(typeof o!="boolean"&&o){const g=typeof o=="function"?o(e):o,h=`${t}-switcher-line-custom-icon`;return x.isValidElement(g)?nt(g,{className:q(g.props.className||"",h)}):g}return o?x.createElement(Ct,{className:`${t}-switcher-line-icon`}):x.createElement("span",{className:`${t}-switcher-leaf-line`})}const c=`${t}-switcher-icon`,u=typeof r=="function"?r(e):r;return x.isValidElement(u)?nt(u,{className:q(u.props.className||"",c)}):u!==void 0?u:i?a?x.createElement(ln,{className:`${t}-switcher-line-icon`}):x.createElement(un,{className:`${t}-switcher-line-icon`}):x.createElement(Gt,{className:c})},Ot=T.forwardRef((n,t)=>{var r;const{getPrefixCls:e,direction:i,virtual:l,tree:v}=T.useContext(Kt),{prefixCls:a,className:d,showIcon:o=!1,showLine:c,switcherIcon:u,switcherLoadingIcon:g,blockNode:h=!1,children:p,checkable:b=!1,selectable:f=!0,draggable:y,motion:C,style:m}=n,E=e("tree",a),N=e(),k=C??Object.assign(Object.assign({},Ft(N)),{motionAppear:!1}),$=Object.assign(Object.assign({},n),{checkable:b,selectable:f,showIcon:o,motion:k,blockNode:h,showLine:!!c,dropIndicatorRender:Wn}),[w,s,D]=Vn(E),[,M]=qt(),I=M.paddingXS/2+(((r=M.Tree)===null||r===void 0?void 0:r.titleHeight)||M.controlHeightSM),_=T.useMemo(()=>{if(!y)return!1;let R={};switch(typeof y){case"function":R.nodeDraggable=y;break;case"object":R=Object.assign({},y);break}return R.icon!==!1&&(R.icon=R.icon||T.createElement(rn,null)),R},[y]),P=R=>T.createElement(Gn,{prefixCls:E,switcherIcon:u,switcherLoadingIcon:g,treeNodeProps:R,showLine:c});return w(T.createElement(Ze,Object.assign({itemHeight:I,ref:t,virtual:l},$,{style:Object.assign(Object.assign({},v==null?void 0:v.style),m),prefixCls:E,className:q({[`${E}-icon-hide`]:!o,[`${E}-block-node`]:h,[`${E}-unselectable`]:!f,[`${E}-rtl`]:i==="rtl"},v==null?void 0:v.className,d,s,D),direction:i,checkable:b&&T.createElement("span",{className:`${E}-checkbox-inner`}),selectable:f,switcherIcon:P,draggable:_}),p))}),vt=0,We=1,gt=2;function et(n,t,r){const{key:e,children:i}=r;function l(v){const a=v[e],d=v[i];t(a,v)!==!1&&et(d||[],t,r)}n.forEach(l)}function Un(n){let{treeData:t,expandedKeys:r,startKey:e,endKey:i,fieldNames:l}=n;const v=[];let a=vt;if(e&&e===i)return[e];if(!e||!i)return[];function d(o){return o===e||o===i}return et(t,o=>{if(a===gt)return!1;if(d(o)){if(v.push(o),a===vt)a=We;else if(a===We)return a=gt,!1}else a===We&&v.push(o);return r.includes(o)},Ne(l)),v}function Ge(n,t,r){const e=J(t),i=[];return et(n,(l,v)=>{const a=e.indexOf(l);return a!==-1&&(i.push(v),e.splice(a,1)),!!e.length},Ne(r)),i}var ht=function(n,t){var r={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&t.indexOf(e)<0&&(r[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,e=Object.getOwnPropertySymbols(n);i<e.length;i++)t.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(n,e[i])&&(r[e[i]]=n[e[i]]);return r};function Xn(n){const{isLeaf:t,expanded:r}=n;return t?x.createElement(Ct,null):r?x.createElement(Qt,null):x.createElement(tn,null)}function pt(n){let{treeData:t,children:r}=n;return t||Nt(r)}const Yn=(n,t)=>{var{defaultExpandAll:r,defaultExpandParent:e,defaultExpandedKeys:i}=n,l=ht(n,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const v=x.useRef(null),a=x.useRef(null),d=()=>{const{keyEntities:w}=St(pt(l));let s;return r?s=Object.keys(w):e?s=Ue(l.expandedKeys||i||[],w):s=l.expandedKeys||i||[],s},[o,c]=x.useState(l.selectedKeys||l.defaultSelectedKeys||[]),[u,g]=x.useState(()=>d());x.useEffect(()=>{"selectedKeys"in l&&c(l.selectedKeys)},[l.selectedKeys]),x.useEffect(()=>{"expandedKeys"in l&&g(l.expandedKeys)},[l.expandedKeys]);const h=(w,s)=>{var D;return"expandedKeys"in l||g(w),(D=l.onExpand)===null||D===void 0?void 0:D.call(l,w,s)},p=(w,s)=>{var D;const{multiple:M,fieldNames:I}=l,{node:_,nativeEvent:P}=s,{key:R=""}=_,A=pt(l),H=Object.assign(Object.assign({},s),{selected:!0}),ee=(P==null?void 0:P.ctrlKey)||(P==null?void 0:P.metaKey),te=P==null?void 0:P.shiftKey;let z;M&&ee?(z=w,v.current=R,a.current=z,H.selectedNodes=Ge(A,z,I)):M&&te?(z=Array.from(new Set([].concat(J(a.current||[]),J(Un({treeData:A,expandedKeys:u,startKey:R,endKey:v.current,fieldNames:I}))))),H.selectedNodes=Ge(A,z,I)):(z=[R],v.current=R,a.current=z,H.selectedNodes=Ge(A,z,I)),(D=l.onSelect)===null||D===void 0||D.call(l,z,H),"selectedKeys"in l||c(z)},{getPrefixCls:b,direction:f}=x.useContext(Kt),{prefixCls:y,className:C,showIcon:m=!0,expandAction:E="click"}=l,N=ht(l,["prefixCls","className","showIcon","expandAction"]),k=b("tree",y),$=q(`${k}-directory`,{[`${k}-directory-rtl`]:f==="rtl"},C);return x.createElement(Ot,Object.assign({icon:Xn,ref:t,blockNode:!0},N,{showIcon:m,expandAction:E,prefixCls:k,className:$,expandedKeys:u,selectedKeys:o,onSelect:p,onExpand:h}))},Jn=x.forwardRef(Yn),Pt=Ot;Pt.DirectoryTree=Jn;Pt.TreeNode=Re;export{Ct as R,Pt as T,bn as U,tn as a,qe as b,St as c,Z as d,ie as e,Gt as f,Qt as g,rn as h,ln as i,un as j,Ze as k,Re as l,Zn as u};
