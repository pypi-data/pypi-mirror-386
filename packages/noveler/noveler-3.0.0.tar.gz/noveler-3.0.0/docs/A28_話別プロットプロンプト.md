# A28 話別プロット作成プロンプト

**Version**: 3.0.0
**Last Updated**: 2025-09-06
**Changes**:
- 伏線トラッキングシステム実装（Stage 4/5）
- シーン粒度管理システム導入（Stage 3）
- 感情×技術の二重トラック設計追加（Stage 2）
- Stage間連携強化（チェックリスト・引き継ぎ事項）
- 文字数配分ガイドライン追加（Stage 5）
- 読者反応予測システム実装（Stage 5）
- 視点一貫性チェックリスト追加（Stage 3）

## Stage 1: 骨格構築

```
あなたは `Plot Planner`（プロット設計者）です。
Web小説「なろう」向けの話別プロットを、章別プロットを参照しながら構築してください。

**インプット**

* 章別プロットファイル（例: `20_プロット/章別プロット/ch{chapter_number:02d}.yaml`）
* テンプレートファイル（`{GUIDE_ROOT}/templates/話別プロットテンプレート.yaml`）

**作業内容**

1. 以下の基本項目を章別プロットから転記すること：

   * episode\_number
   * title
   * chapter\_number

2. 以下を設計して記入すること：

   * theme: 話の主題（抽象的テーマ）
   * purpose: 構成上の役割（物語全体に対する機能）
   * emotional\_core: 感情的な核となるモチーフ

3. 視点情報を指定すること：

   * viewpoint: 「三人称単一視点」
   * character: 視点キャラクター名

4. synopsis を **380〜420字程度** で作成すること：

   * 起承転結を意識すること
   * 前後話との連続性を意識すること
   * 読者が次話を読みたくなる引きを含めること

5. key_events （主要イベント）を設計すること：

   * 第一のイベント：event名とdescription（具体的な描写）
   * 第二のイベント：前のイベントからの流れや関連性を含む
   * 各イベントにキャラクターの行動・心情変化・技術的要素を具体的記述

6. YAML 構文チェックを行うこと：

   * 重複キーなし
   * 空値なし
   * インデント正確

**出力指示**

* 完成したYAMLをYAML形式で出力すること
* 出力は必ず **完全なYAML構造** で、Markdownコードブロック内に記述すること
* ファイル保存先： `{project_root}/20_プロット/話別プロット/ep{episode_number:03d}.yaml`

**自己検証チェックリスト**

* [ ] 6項目（episode\_number, title, chapter\_number, theme, purpose, emotional\_core）がすべて埋まっているか
* [ ] key\_events が2つ以上設定され、それぞれにevent名とdescriptionが記載されているか
* [ ] synopsis が380〜420字で、起承転結を含んでいるか
* [ ] viewpoint.character が指定されているか
* [ ] YAML構文が正しいか
```

---

## Stage 2: 三幕構成の設計

```
**依頼ロール**

* あなたは `Story Architect`（構造設計者）です。
* Stage 1 で構築した骨格をもとに、エピソード全体を三幕構成で整理し、転換点を中心としたドラマ性を強化してください。

**前Stage成果物チェック**

* [ ] Stage 1のYAMLファイルが存在し、構文エラーがないか
* [ ] episode_number, title, theme, purpose, emotional_coreが記入されているか
* [ ] synopsisが380〜420字で作成されているか
* [ ] key_eventsが2つ以上定義されているか

**インプット**

* Stage 1 の話別プロットファイル:  `{project_root}/20_プロット/話別プロット/ep{episode_number:03d}.yaml`
* 章別プロットでの前後関係（前話・次話との接続情報）

**作業内容**

1. 三幕構成を設計し、以下をYAMLに追加すること：

   * setup: 状況提示と前提（例：任務開始、舞台の説明）
   * confrontation: 対立・葛藤・障害（例：敵との衝突、失敗）
   * resolution: 解決または転換（例：成長や新たな課題）

2. 感情曲線（emotion\_curve）を設計すること：

   * 高→低→高 のような起伏をつけること
   * カタルシスの位置を意識すること

3. **感情×技術の二重トラック設計**（技術要素を含む作品の場合）：

   ```yaml
   emotion_tech_fusion:
     peak_moments:
       - timing: "第二幕クライマックス"
         emotion_type: "絶望から希望へ"
         tech_concept: "再帰アルゴリズムの理解"
         synergy_effect: "技術的突破が感情的カタルシスと重なる"

       - timing: "第三幕解決部"
         emotion_type: "達成感と新たな決意"
         tech_concept: "最適化の実現"
         synergy_effect: "問題解決の喜びと成長実感の融合"

     integration_strategy:
       learning_curve: "感情の高まりに合わせて段階的に技術理解を深める"
       accessibility: "技術説明を感情描写に織り込む工夫"
   ```

4. タグ情報を付与すること：

   * turning\_point（転換点の位置）
   * climax\_scene（クライマックスの場面）
   * ending\_scene（次話への引き）

5. **turning\_point詳細構造** を必ず埋めること：

   * **基本情報**:
     * title: 転換点のタイトル
     * timing: 第二幕終盤〜第三幕開始
     * trigger_event: 変化を引き起こす具体的出来事
     * catalyst: 変化のきっかけとなる要因

   * **キャラクター変化**:
     * protagonist.before\_state: 転換前の状態・心境・能力
     * protagonist.transformation\_moment: 変化の瞬間の詳細描写
     * protagonist.after\_state: 転換後の新しい状態・心境・能力
     * supporting\_characters.reactions: 他キャラクターの反応・理解

   * **感情アーク**:
     * emotional\_journey: 3段階の感情変化（恐怖/不安 → 決意/理解 → 希望/成長）
     * reader\_impact: 読者に与えるべき感情的効果

   * **技術的突破** (該当する場合):
     * programming\_concept: 関連するプログラミング概念
     * educational\_value: 読者が学べる技術的洞察

   * **構造的機能**:
     * setup\_payoff: 第一幕で仕込んだ要素の回収
     * conflict\_resolution: 第二幕の対立・困難の解決方法
     * foreshadowing\_planted: 次話以降への伏線設置

**出力指示**

* 既存の話別プロットファイルに追記更新すること
* turning\_point は必ず詳細構造で出力すること
* 完成したYAMLはMarkdownコードブロック内で提示すること

**自己検証チェックリスト**

* [ ] setup / confrontation / resolution がすべて記述されているか
* [ ] 感情曲線が「高→低→高」で設計されているか
* [ ] emotion_tech_fusion（該当する場合）が設計されているか
* [ ] turning\_point / climax\_scene / ending\_scene が定義されているか
* [ ] turning\_point の詳細構造（基本情報・キャラクター変化・感情アーク・構造的機能）が漏れなく記載されているか
* [ ] YAML構文に誤りがないか

**次Stage引き継ぎ事項**

* 三幕構成の各幕の重要シーン位置
* emotion_tech_fusionで設定した統合ポイント
* turning_pointで設定した感情変化の詳細
```

---

## Stage 3: シーン肉付け

```
あなたは `Scene Designer`（シーン設計者）です。
Stage 2 で設計した三幕構成をもとに、具体的なシーンとキャラクター描写を肉付けしてください。読者が視覚的・感情的に没入できるように設計することを目的とします。

**前Stage成果物チェック**

* [ ] Stage 2の三幕構成（setup/confrontation/resolution）が完成しているか
* [ ] emotion_curveが設計されているか
* [ ] emotion_tech_fusion（該当する場合）の統合ポイントが明確か
* [ ] turning_pointの詳細構造が記載されているか

**インプット**

* Stage 2 まで完成した話別プロットファイル: `{project_root}/20_プロット/話別プロット/ep{episode_number:03d}.yaml`
* 伏線情報（`plot_elements.foreshadowing`）
* 感情設計（`emotional_elements`）

**作業内容**

1. キャラクター詳細を強化する：

   * `characters.main_character` に **starting\_state → arc → ending\_state** を明記
   * `supporting_characters` を追加し、関係性・役割を整理

2. **シーン粒度管理システムを適用して肉付けする：**

   ```yaml
   scene_structure:
     scenes:
       - scene_id: "scene_001"
         act_position: "act_1_opening"
         importance_rank: "S"  # S/A/B/Cランク
         estimated_words: 800  # 推定文字数
         percentage: 16  # 全体の16%
         scene_purpose: "状況設定と主人公紹介"
         key_moments:
           - "主人公の日常と問題提示"
           - "最初の小さな失敗・違和感"
         dialogue_highlights:
           - "このままでいいのか？（問題意識の種）"

       - scene_id: "scene_002"
         act_position: "act_2_confrontation"
         importance_rank: "A"
         estimated_words: 1200
         percentage: 24
         scene_purpose: "障害・対立の顕在化"
         # 以下同様に続く

   scene_balance_analysis:
     total_scenes: 5
     rank_distribution:
       S: 1  # クライマックスシーン
       A: 2  # 重要シーン
       B: 2  # 補助シーン
       C: 0  # 遷移シーン
     tempo_variation: "緊張→緩和→急展開→クライマックス→余韻"
     balance_score: 85  # 100点満点でバランス評価
   ```

3. 補助要素を整理する：

   * `technical_elements`: 技術的要素（該当する場合）
   * `emotional_elements`: 感情的インパクト
   * `reader_considerations`: 読者配慮の詳細設計
     * accessibility: プログラミング初心者への配慮・専門用語の適切な解説
     * engagement: キャラクターへの共感しやすさ・ストーリーの分かりやすさ
     * next_episode_anticipation: 次話への期待感醸成の具体的方法

4. 感情アークを統合する：

   * `turning_point.emotional_core` に感情の変化段階（before → transition → after）を構造化

5. **視点一貫性チェックを実施する：**

   ```yaml
   viewpoint_consistency:
     primary_viewpoint: "田中太郎（主人公）"
     viewpoint_type: "三人称単一視点"

     restrictions_checklist:
       - "視点キャラクター以外の内面描写がないか確認"
       - "視点キャラクターが知り得ない情報の排除"
       - "他キャラの心情は行動・表情・セリフから推測可能か"
       - "神の視点的な情報説明を避けているか"

     perspective_depth:
       sensory_focus: "視点キャラの五感を通した描写"
       emotional_filter: "視点キャラの感情フィルターを通した世界描写"
       knowledge_boundary: "視点キャラの知識・経験範囲内での解釈"
   ```

**出力指示**

* 既存の話別プロットファイルに追記更新すること
* すべてのセクションは **YAML形式かつ英語キー** で記述すること
* 出力は必ずMarkdownコードブロック内に提示すること

**自己検証チェックリスト**

* [ ] `characters.main_character` の成長アークが starting\_state / arc / ending\_state で明確に定義されているか
* [ ] `supporting_characters` が定義され、関係性が描写されているか
* [ ] scene_structureが定義され、各シーンの重要度・文字数配分が明確か
* [ ] scene_balance_scoreが70点以上か（バランス評価）
* [ ] technical\_elements / emotional\_elements が整理されているか
* [ ] reader\_considerations の3要素（accessibility・engagement・next\_episode\_anticipation）が具体的に記述されているか
* [ ] viewpoint_consistencyの各チェック項目がすべて「はい」か
* [ ] turning\_point.emotional\_core が感情アークとして構造化されているか
* [ ] YAML構文が正しいか

**次Stage引き継ぎ事項**

* 重要度Sランクシーンの位置と内容
* シーン間のテンポ変化パターン
* 視点一貫性チェックの結果
* 読者配慮で設定したアクセシビリティ方針
```

---

## Stage 4: 技術・伏線統合

```
* あなたは `Integration Specialist`（統合担当）です。
* Stage 3 までで設計されたシーン・キャラクター情報をもとに、技術要素と伏線要素を統合し、物語の連続性を担保してください。

**前Stage成果物チェック**

* [ ] Stage 3のscene_structureが定義され、重要シーンが明確か
* [ ] 視点一貫性が保たれているか
* [ ] 読者配慮の方針が設定されているか

**インプット**

* Stage 3 まで完成した話別プロットファイル: `{project_root}/20_プロット/話別プロット/ep{episode_number:03d}.yaml`
* 技術要素リスト
* 伏線リスト

**作業内容**

1. **伏線トラッキングシステムによる統合**

   ```yaml
   plot_elements:
     foreshadowing_tracker:
       - foreshadow_id: "FS001"
         element: "主人公の過去の傷跡についての言及"
         placement: "scene_002（第二幕前半）"
         significance: "過去のトラウマが現在の行動原理に"
         status: "planted"  # planted/referenced/resolved
         resolution_episode: "episode_005"  # 回収予定話数
         dependency: ["FS002"]  # 関連する他の伏線

       - foreshadow_id: "FS002"
         element: "謎の人物の影"
         placement: "scene_004（第三幕後半）"
         significance: "次話以降の重要キャラクター登場の予兆"
         status: "planted"
         resolution_episode: "episode_003"
         dependency: null

     foreshadowing_analysis:
       total_planted: 2
       carry_forward: 2  # 次話以降に持ち越し
       resolved_this_episode: 0
       consistency_check: "passed"  # 矛盾チェック結果
   ```

2. **テーマ整理**

   * `plot_elements.themes` を追加
   * theme / expression / character\_connection を整理

3. **技術要素統合**

   * `technical_elements.programming_concepts` を追加
   * concept / explanation / educational\_value を記載し、物語に自然に組み込む

4. **次話連携設計**

   * `next_episode_connection` を追記
   * unresolved\_elements / character\_growth\_trajectory / plot\_advancement / reader\_expectations を設定

5. **品質チェックポイントの明示**

   * `quality_checkpoints` に以下を記載：

     * story\_structure: 三幕構成・シーン目的の明確さ
     * technical\_integration: 技術要素の自然な組み込み、教育的価値の有無

**出力指示**

* 既存の話別プロットファイルに追記更新すること
* すべて **YAML形式かつ英語キー** で記述すること
* 出力は必ずMarkdownコードブロック内に提示すること

**自己検証チェックリスト**

* [ ] `plot_elements.foreshadowing_tracker` に全ての伏線がstatus/resolution_episode付きで定義されているか
* [ ] 伏線の矛盾チェックが「passed」となっているか
* [ ] `plot_elements.themes` が設定されているか
* [ ] `technical_elements.programming_concepts` に concept / explanation / educational\_value が記載されているか
* [ ] `next_episode_connection` が4項目すべて埋まっているか
* [ ] `quality_checkpoints.story_structure` と `quality_checkpoints.technical_integration` が存在しているか
* [ ] YAML構文が正しいか

**次Stage引き継ぎ事項**

* 持ち越し伏線のリストと回収予定
* 次話への引き要素
* 技術要素の教育的価値確認結果
```

---

## Stage 5: 最終確認 & 出力整形

```
* あなたは `Quality Reviewer`（品質審査者）です。
* Stage 1〜4 で作成した話別プロットを総合的に検証し、YAMLの正確性と作品としての完成度を保証してください。

**前Stage成果物チェック**

* [ ] Stage 4の伏線トラッキングが完成し、矛盾がないか
* [ ] 持ち越し伏線と回収予定が明確か
* [ ] 次話への引き要素が設定されているか

**インプット**

* Stage 4 まで完成した話別プロットファイル: `{project_root}/20_プロット/話別プロット/ep{episode_number:03d}.yaml`

**作業内容**

1. **チェックリストによる検証**

   * Stage 1〜4 で指定された必須項目がすべて埋まっているか確認
   * synopsis の文字数が規定（380〜420字）に収まっているか確認
   * 三幕構成・turning\_point・感情設計が欠落していないか確認

2. **YAML構文検証**

   * linter を想定した検証（インデント、重複キー、空値の有無）

3. **読者反応予測システムによる検証**

   ```yaml
   reader_response_prediction:
     expected_reactions:
       scene_001:
         emotion: "共感・親近感"
         engagement_level: "medium"
         risk_points: "導入が長すぎると離脱リスク"

       scene_003_climax:
         emotion: "驚き・興奮"
         engagement_level: "high"
         risk_points: "技術説明が難しすぎると混乱"

       ending_scene:
         emotion: "満足感・次話への期待"
         engagement_level: "high"
         risk_points: "引きが弱いと継続率低下"

     engagement_strategies:
       hook_placement: "scene_001の最初300字以内"
       pace_variation: "緊張→緩和→急展開のリズム"
       cliffhanger_type: "新たな謎の提示"

     risk_mitigation:
       total_risk_points: 3
       critical_risks: 0
       mitigation_plans:
         - "導入は500字以内にフック設置"
         - "技術用語は段階的に説明"
         - "終盤に強い引きを設置"
   ```

4. **文字数配分ガイドラインによる確認**

   ```yaml
   word_count_allocation:
     target_total: 8000  # 目標総文字数（A38執筆段階準拠）
     acceptable_range: "7000-9000"

     act_distribution:
       act_1:
         percentage: 20
         words: "1400-1800"
         scenes: ["scene_001"]
         purpose: "状況設定・フック"

       act_2:
         percentage: 60
         words: "4200-5400"
         scenes: ["scene_002", "scene_003", "scene_004"]
         purpose: "対立・葳藤・展開"

       act_3:
         percentage: 20
         words: "1400-1800"
         scenes: ["scene_005"]
         purpose: "解決・次話への引き"

     scene_guidelines:
       major_scene: "800-1200字（Sランク）"
       standard_scene: "500-800字（Aランク）"
       minor_scene: "300-600字（Bランク）"
       transition: "150-300字（Cランク）"

     reading_time_estimate:
       total_minutes: "20-25"
       reading_speed: "300-400字/分（スマホ想定）"
   ```

5. **伏線整合性の最終確認**

   ```yaml
   foreshadowing_final_check:
     continuity_verification:
       previous_episodes: "前話からの伏線回収状況"
       current_episode: "今話での伏線状態変化"
       next_episodes: "次話以降への申し送り"

     consistency_matrix:
       - check: "伏線の論理的矛盾がないか"
         result: "passed"
       - check: "回収タイミングが適切か"
         result: "passed"
       - check: "読者が忘れるほど遠い伏線がないか"
         result: "passed"
   ```

6. **最終整形**

   * 完成したYAMLを一括で整形し、欠落のない完全版として提示

**出力指示**

* Claude Codeは、完成した話別プロットを **完全なYAML構造** として一括出力すること
* 出力は必ずMarkdownコードブロック内に記述すること
* 保存場所は `{project_root}/20_プロット/話別プロット/` とする

**自己検証チェックリスト**

* [ ] Stage 1〜4 の必須項目がすべて記入されているか
* [ ] synopsis が380〜420字で収まっているか
* [ ] 三幕構成・turning\_point・感情アークが欠落していないか
* [ ] emotion_tech_fusion（該当する場合）が機能しているか
* [ ] scene_structureとscene_balance_scoreが適切か
* [ ] viewpoint_consistencyが保たれているか
* [ ] foreshadowing_trackerの整合性が確認されているか
* [ ] word_count_allocationが目標範囲内か
* [ ] reader_response_predictionのリスクが管理されているか
* [ ] YAML構文エラーがないか（インデント・重複キーなし）
* [ ] 完成版YAMLがMarkdownコードブロック内に正しく出力されているか
```
