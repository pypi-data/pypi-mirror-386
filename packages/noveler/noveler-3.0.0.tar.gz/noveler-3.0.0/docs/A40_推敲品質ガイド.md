# A40_推敲品質ガイド - AI/人間協創推敲システム統合マスター（A24形式統一版）

**役割**: 推敲特化（POLISH - 最終仕上げ）

**Version**: 2.0.1
**Last Updated**: 2025-08-17
**Type**: 執筆後工程の品質向上統合システム（3Stage + 統合プロンプト）

> **技術的操作方法（HOW）は**: [A32_執筆コマンドガイド.md](A32_執筆コマンドガイド.md)
> **品質基準の定義（WHAT）は**: [A38_執筆プロンプトガイド.md](A38_執筆プロンプトガイド.md)内の品質基準セクション
> **品質管理チェック（CHECK）は**: [A33_執筆品質管理チェック.md](A33_執筆品質管理チェック.md)
> **統合ワークフロー（WORKFLOW）は**: [A34_一気通貫実践ガイド.md](A34_一気通貫実践ガイド.md)
> **AI協創執筆（AI）は**: [A36_AI協創執筆ガイド.md](A36_AI協創執筆ガイド.md)

## 📌 概要

このガイドは、執筆した原稿を推敲し、品質スコア80%以上を達成するための**A24形式統一プロンプト**を提供します。

**対象工程**: 初稿完成 → 推敲 → 品質チェック → 公開準備
**最適化対象**: Claude Code実行に特化した統合推敲システム

> 注記（表記統一・スコアの扱い）
> - 変数プレースホルダは `{project_root}` に統一しました（旧 `{PROJECT_ROOT}` は移行対象）。
> - 本ガイドのスコア表記は説明上「％（0–100）」を用いますが、テンプレート/ツール内部では「0–1」の実数を採用します（例: 80% ≒ 0.80）。

---

## 🧭 実行導線（MCP/CLI）


> 役割分離: `noveler check`=評価, `noveler polish`=改稿。テンプレートは `templates/quality/checks/` が正本（`backup/` は参照専用）。
<!-- CLI_SPLIT_A40 -->


本ガイドの3段階（Stage1/2/3）を、MCPツールで段階実行できます。

- Stage1 技術的推敲（自動修正・安全統一）
  - 反復自動改善（合格点まで）:
    - `noveler check <episode> --auto-fix`
      - 内部で `improve_quality_until` を使用し、`fix_quality_issues` の安全ルールを反復適用します。
  - 単発適用（差分確認）:
    - `noveler mcp call fix_quality_issues '{"episode_number": 1, "file_path": "40_原稿/第001話_タイトル.md", "dry_run": true, "include_diff": true}'`
  - 追加済みの安全自動修正（プロジェクト既定）:
    - 三点リーダー/ダッシュ統一、行末スペース/タブ/連続半角の是正
    - 会話文末の句点削除（『」。』→『」』）、閉じ括弧前の空白削除
    - 半角!/?→全角（！/？）統一、（必要時）！/？の直後に全角スペース補完
    - GRAMMAR_PUNCTUATION: 句読点連続の間引きと長文無読点の安全分割（会話行はスキップ）

- Stage2 内容的推敲（内容の磨き上げ）/ Stage3 読者体験最適化（没入度・可読性）
  - プロンプト生成導線（A40統合プロンプトを段階別に生成し、LLM実行に渡す）:
    - `noveler mcp call polish_manuscript '{"episode_number": 1, "file_path": "40_原稿/第001話_タイトル.md", "stages": ["stage2","stage3"], "dry_run": true}'`
    - 出力の `metadata.prompts.stage2` / `stage3` をClaude Codeに渡して改稿 → 原稿へ反映。
  - 改稿後は `run_quality_checks` を再実行し、A41チェックへ。

#### 便利エイリアス（polish）

```bash
# mode: apply（一気通貫）| prompt（プロンプト生成のみ）
noveler mcp call polish '{
  "episode_number": 1,
  "file_path": "40_原稿/第001話_タイトル.md",
  "mode": "apply",
  "stages": ["stage2", "stage3"],
  "dry_run": true
}'
```

### Stage1 設定（.novelerrc.yaml）

以下の既定値で安全自動修正を制御できます（必要に応じて上書き）。

```yaml
stage1:
  indent:
    enable: true               # 段落頭の字下げを有効化
    style: fullwidth           # fullwidth | spaces
    count: 1                   # 1=全角1字（spaces時は半角2×count）
    skip_dialogue: false       # 会話行（「〜」「『〜」）を字下げ対象外にする
    skip_markdown_blocks: true # ``` コードブロックは変更しない
  punctuation:
    exclamation_question_fullwidth_space: true  # ！/？直後に全角スペース補完（句読点/閉括弧直前は除外）
```

### 実戦リズム・文体ガイドライン（水平展開）

- 開始3行のフック設計
  - 「異常値＋具体＋行動/選択」を提示（何がズレていて今なにをするか）。
- シーン運びと情報開示
  - 1場面＝目的/障害/結果/余韻の最短ルート。説明は必要時に小出し、行動や会話に埋め込む。
  - Scene→Sequel（行動→内省→次の決断）を小さく回してテンポ維持。
  - 「1ターン1情報」原則で台詞・地の文の密度を最適化。
- キャラと感情線
  - 各場面で「開始→終了の感情変化」を1つ決め、身体反応→感情→思考→決断→行動の順で粒度を落として描く。
  - 対立は「正しさvs正しさ」で作り、賭け金を明示。
- 文体とリズム（数値は目安）
  - 文長のばらつき：短・中・長を交互に。長文はおおむね45字超で分割検討。
  - 読点密度：平均0.6–1.6個/文を目安に詰まり/息切れを回避。
  - 同語尾連発：4回以上で変化（〜か／〜ね。／〜だろう／―― など）。
  - 約物統一：三点リーダは偶数（……）、ダッシュは――。
  - セリフは冗語を削ぎ、改行で見通しを確保。
– 行幅に関する注意（本プロジェクト方針）
  - 行幅チェックおよび自動改行は提供しません。文章リズムや句読点で可読性を確保してください。

### 改稿パスの使い分け（推奨手順）

1. 粗稿完走パス：まず最後まで書く（推進力最優先）。
2. 構成・感情線パス：説明の後送り/削り、場面目的の明確化、感情変化の一本化。
3. 会話・行動パス：説明的台詞→行動/会話へ置換、情報を前に出す。
4. 文体・リズムパス：文長/読点/語尾/約物を整える（本ガイドの数値目安を使用）。

## 🎯 推敲の目的と目標

### 品質目標
- **品質スコア**: 80%以上（必須）、85%以上（推奨）
- **離脱率**: 20%以下（目標）、15%以下（理想）
- **文章品質**: プロレベルの読みやすさ

### 推敲の3つの視点
1. **技術的品質**: 文法・表記・形式の正確性
2. **内容的品質**: 展開・描写・キャラクターの魅力
3. **読者体験**: 没入感・感情移入・ページターン率

## 📋 前提条件

**A30_原稿執筆ガイド完了必須項目**：
- [ ] 初稿執筆完了
- [ ] 基本的な品質チェック実行済み
- [ ] 重要シーンの設計完了

## 🔧 Stage 1: 技術的推敲

```
あなたは `Technical Editor`（技術推敲者）です。
Web小説「なろう」向けの原稿について、文法・表記・形式の正確性を確保する技術的推敲を実行してください。

**インプット**
* 初稿原稿ファイル（`{project_root}/40_原稿/第XXX話_タイトル.md`）
* プロジェクト固有名詞リスト（自動検出）
* 品質基準設定（プロジェクト設定.yaml）

**作業内容**

1. 自動修正項目の適用：
   * 感嘆符・疑問符後の全角スペース挿入
   * 三点リーダーの偶数個統一（……）
   * ダッシュの全角統一（――）
   * 半角記号の全角化（!→！、?→？）
   * 段落頭の字下げ統一
   * 会話文末の句点削除
   * 閉じ括弧前の空白削除

2. 手動確認項目のチェック：
   * 視点の統一（1シーン1視点厳守）
   * 時制の一貫性（過去形統一）
   * 敬語・口調の統一性
   * 固有名詞の表記統一

3. 技術的品質の評価：
   * 誤字脱字：0件目標
   * 文法エラー：0件目標
   * 表記揺れ：0件目標

**出力指示**
* 修正済み原稿をMarkdownコードブロック内に出力すること
* 修正箇所リストを別途作成すること
* 技術的品質スコアを算出すること（100点満点）

**自己検証チェックリスト**
* [ ] 自動修正7項目がすべて適用されているか
* [ ] 視点・時制・敬語・固有名詞の統一が確認されているか
* [ ] 誤字脱字・文法エラーがゼロか
* [ ] 修正箇所リストが作成されているか
* [ ] 技術的品質スコアが80点以上か
```

## 📝 Stage 2: 内容的推敲

```
あなたは `Content Refiner`（内容推敲者）です。
技術的推敲を完了した原稿について、展開・描写・キャラクターの魅力を最大化する内容的推敲を実行してください。

**インプット**
* Stage 1完了原稿
* キャラクター設定（`{project_root}/30_設定集/キャラクター設定.yaml`）
* 章別プロット（参照用）

**作業内容**

1. 構成の最適化：
   * 冒頭3行での読者フック強化
   * 各シーンの目的明確化と不要シーンの削除
   * 章末クリフハンガーの設置
   * ペース配分の調整（緩急のメリハリ）

2. 描写の深化と具体化：
   * 感覚描写の追加（「緊張した」→「喉がからからに乾き、心臓が早鐘を打つ」）
   * 数値化（「たくさん」→「50人以上」）
   * 比喩表現（「速かった」→「風のように」）
   * 五感活用（視覚偏重から聴覚・触覚・嗅覚・味覚も）

3. 会話文の最適化：
   * キャラクター個性の差別化
   * 説明的台詞の自然な会話への変換
   * テンポとリズムの調整
   * 会話文と地の文の黄金比率（3:7）

4. キャラクター魅力の強化：
   * 行動の一貫性確保
   * 感情変化の説得力向上
   * 成長・変化の可視化
   * 魅力的な一面の演出

**出力指示**
* 推敲済み原稿をMarkdownコードブロック内に出力すること
* 主要改善点リストを作成すること
* 内容的品質スコアを算出すること（100点満点）

**自己検証チェックリスト**
* [ ] 冒頭3行で読者を掴む工夫がされているか
* [ ] 全シーンに明確な目的があるか
* [ ] 描写が五感を活用し具体的か
* [ ] 会話文がキャラクターの個性を表現しているか
* [ ] 内容的品質スコアが80点以上か
```

## 🎨 Stage 3: 読者体験の最適化

```
あなたは `Reader Experience Designer`（読者体験設計者）です。
内容的推敲を完了した原稿について、没入感・感情移入・ページターン率を最大化する読者体験最適化を実行してください。

**インプット**
* Stage 2完了原稿
* 5層深度分析の参考指標（`noveler mcp call run_quality_checks` の `metrics` を活用）
* 離脱率データ（過去エピソードの参考値）

**作業内容**

1. スマホ読みやすさの最適化：
   * 1段落2-4行以内への調整（スマホ画面基準）
   * 会話文前後の改行挿入
   * シーン転換での空行2行挿入
   * 漢字密度の適正化（読みやすさ重視）

2. 没入感阻害要素の削除：
   * メタ発言の削除（「この後の展開は〜」）
   * 作者コメントの削除（「〜と思う読者もいるだろう」）
   * 過度な説明の削減（読者の想像余地確保）

3. 没入感強化要素の追加：
   * 内面描写の5層深化（感覚・感情・思考・記憶・象徴）
   * 感情起伏の演出強化
   * 緊張と緩和のリズム設計

4. 離脱率対策の実装：
   * 冒頭フックの再強化（最初の3行）
   * 中だるみ部分の削除・圧縮
   * 章末への引きの追加・強化
   * 高リスク箇所（説明過多・日常回）の特別対策

**出力指示**
* 最終推敲版をMarkdownコードブロック内に出力すること
* 読者体験改善点リストを作成すること
* 総合品質スコアを算出すること（100点満点）
* 推定離脱率を算出すること（%）

**自己検証チェックリスト**
* [ ] スマホで読みやすい段落構成になっているか
* [ ] メタ発言・作者コメントが完全に削除されているか
* [ ] 5層内面描写が効果的に活用されているか
* [ ] 離脱率対策が実装されているか
* [ ] 総合品質スコアが80点以上か
```

---

## 🚀 統合推敲プロンプト（コピペ実行用）

```yaml
# ===== A40 推敲品質管理 統合プロンプト =====
# 実行前に episode_number を変更してください

task: "推敲品質向上"
mode: "comprehensive"  # quick / standard / comprehensive から選択

# 基本設定（必須）
episode_info:
  project_name: "10_Fランク魔法使いはDEBUGログを読む"
  episode_number: 22  # ← ここを変更
  file_path: "40_原稿/第022話_タイトル.md"

# 品質目標
quality_targets:
  technical_score: 85  # 技術的品質スコア目標
  content_score: 85    # 内容的品質スコア目標
  total_score: 80      # 総合スコア目標（必須）
  dropout_rate: 20     # 離脱率目標（%以下）

# 実行ステージ
execute_stages:
  - stage_1_technical   # 技術的推敲
  - stage_2_content     # 内容的推敲
  - stage_3_experience  # 読者体験最適化

# 出力設定
output:
  format: "polished_manuscript"
  save_path: "auto_detect"  # プロジェクトルート/40_原稿/
  quality_report: true
  improvement_list: true
  git_ready: true  # Gitコミット準備完了状態
```

**👆 これをClaude Codeにコピペして実行してください**

---

## 🎯 実行モード詳細

### Quick モード（15-20分）
```yaml
quick_mode:
  stages: [1]  # 技術的推敲のみ
  quality_target: 70-75
  use_case: "速度重視・基本品質確保"
```

### Standard モード（30-45分）
```yaml
standard_mode:
  stages: [1, 2]  # 技術的＋内容的推敲
  quality_target: 75-80
  use_case: "バランス重視・通常推敲"
```

### Comprehensive モード（1-2時間）
```yaml
comprehensive_mode:
  stages: [1, 2, 3]  # 全ステージ実行
  quality_target: 80-85
  additional_analysis:
    - "5層深度分析"
    - "離脱率予測"
    - "感情曲線最適化"
  use_case: "品質最優先・重要回"
```

---

## 📊 5層深度分析システム

### 内面描写深度分析システム
```bash
# 品質メトリクスを集計（5層深度は参考指標として活用）
noveler mcp call run_quality_checks '{"episode_number": 1, "format": "summary"}'
```

**5層深度分析結果の活用**：
1. **感覚層（20点満点）**: 身体感覚の描写
   - 低い場合：五感描写を追加（触覚・嗅覚・味覚重視）
   - 目標：15点以上（参考値）
   - ※プロジェクト設定.yamlに品質基準が定義されている場合はそちらを優先

2. **感情層（20点満点）**: 感情の直接表現
   - 低い場合：感情語彙を具体化（「悲しい」→「胸が締め付けられる」）
   - 目標：15点以上（参考値）
   - ※プロジェクト設定.yamlに品質基準が定義されている場合はそちらを優先

3. **思考層（20点満点）**: 内的独白・思考過程
   - 低い場合：心の声や思考の流れを追加
   - 目標：15点以上（参考値）
   - ※プロジェクト設定.yamlに品質基準が定義されている場合はそちらを優先

4. **記憶層（20点満点）**: 過去との対比・想起
   - 低い場合：過去の体験や記憶との関連付けを追加
   - 目標：15点以上（参考値）
   - ※プロジェクト設定.yamlに品質基準が定義されている場合はそちらを優先

5. **象徴層（20点満点）**: 比喻・暗喩・象徴表現
   - 低い場合：比喻表現や象徴的な描写を追加
   - 目標：15点以上（参考値）
   - ※プロジェクト設定.yamlに品質基準が定義されている場合はそちらを優先

**総合内面描写スコア目標**: 75点以上（参考値）
- ※プロジェクト設定.yamlに品質基準が定義されている場合はそちらを優先
- 設定方法：プロジェクト設定.yamlの`quality_thresholds.inner_description`で設定

## 📊 離脱率対策
```bash
# 参考: 品質メトリクスから高リスク話数を抽出（運用定義に応じて）
noveler mcp call run_quality_checks '{"episode_number": 1, "format": "summary"}'
```

**即効性のある修正**：
- 冒頭の書き直し（最初の3行）
- 中だるみ部分のカット
- 章末フックの追加

## ✅ 推敲完了チェックリスト

### 推敲前準備段階
- [ ] 初稿執筆完了
- [ ] 一晩寝かせて客観的視点を確保
- [ ] 品質チェックツールの準備完了
- [ ] 推敲に十分な時間を確保（参考値：2-3時間/話、個人のペースに応じて調整）

### Stage 1: 技術的推敲段階（自動＋手動）
#### 自動修正実行
- [ ] `novel check 第XXX話_タイトル.md --auto-fix` 実行
- [ ] 視点設定の確認（設定した視点タイプに応じた評価基準で品質チェック）
- [ ] 内面描写深度の確認（5層分析を参照）
- [ ] 品質スコア確認：＿＿点
- [ ] 自動修正結果の確認
- [ ] 固有名詞の誤修正がないか確認
- [ ] 固有名詞の誤修正確認（プロジェクト固有の用語・名前をチェック）

#### 文法・表記確認
- [ ] 視点統一（1シーン1視点厳守）
- [ ] 時制の一貫性（過去形で統一）
- [ ] 敬語レベルの統一
- [ ] 一人称の統一（俺/僕/私等）

#### 表記統一確認
- [ ] キャラクター名の表記統一
- [ ] 地名・組織名の表記統一
- [ ] 専門用語・魔法名の表記統一
- [ ] 数字表記の統一（算用数字/漢数字）

### Stage 2: 内容的推敲段階
#### 構成チェック
- [ ] 冒頭3行で読者の興味を引けているか
- [ ] 各シーンの目的が明確か
- [ ] 無駄なシーンがないか
- [ ] 章末に次話への引きがあるか

#### 描写強化
- [ ] 五感描写のバランス（視覚偏重になっていないか）
- [ ] 感情を身体感覚で表現しているか
- [ ] 具体的な数値・比喩を使っているか
- [ ] 情景描写と行動描写のバランス

#### 会話文改善
- [ ] キャラクターごとの口調の差別化
- [ ] 説明的すぎる台詞の修正
- [ ] 会話のテンポとリズム
- [ ] 会話文と地の文の比率（3:7程度）

#### キャラクター確認
- [ ] キャラクターの行動に一貫性があるか
- [ ] 感情の変化に説得力があるか
- [ ] 成長・変化が描けているか
- [ ] 魅力的な一面が表現できているか

#### 内面描写深度スコア目標値達成
- [ ] 感覚層：身体感覚描写の充実
- [ ] 感情層：感情語彙の具体化
- [ ] 思考層：内的独白の深化
- [ ] 記憶層：過去との関連性構築
- [ ] 象徴層：比喩・象徴表現の活用
- [ ] ※具体的な点数設定は各プロジェクトの品質基準に従う

### Stage 3: 読者体験最適化段階
#### スマホ読みやすさ
- [ ] 1段落3-4行以内になっているか
- [ ] 会話文の前後に適切な改行
- [ ] シーン転換の空行（2行）
- [ ] 漢字の密度は適切か

#### 没入感チェック
- [ ] メタ発言・作者コメントの削除
- [ ] 過度な説明の削減
- [ ] 読者の想像の余地を残しているか
- [ ] 感情移入しやすい描写か

#### テンポ・リズム
- [ ] 緩急のメリハリがあるか
- [ ] 中だるみ箇所がないか
- [ ] クライマックスへの盛り上がり
- [ ] 読了後の満足感

### 離脱率対策確認段階
#### 高リスク話数の特別チェック
- [ ] 第1-5話：世界観説明過多になっていないか
- [ ] 10話刻み：マンネリ化していないか
- [ ] 日常回：退屈になっていないか
- [ ] 説明回：テンポが悪くないか

#### 即効性対策の実施
- [ ] 冒頭フックの強化
- [ ] 章末クリフハンガーの設置
- [ ] 感情描写の身体化
- [ ] 展開の意外性確保

### 最終確認段階
#### 品質指標
- [ ] 品質スコア80%以上達成
- [ ] 想定離脱率が許容範囲内（参考値：20%以下、プロジェクト基準がある場合はそちらを優先）
- [ ] 文字数目標達成（参考値：4000-6000字、プロジェクト設定がある場合はそちらを優先）
- [ ] 誤字脱字ゼロ

#### 全体的な印象
- [ ] プロレベルの読みやすさか
- [ ] 続きが読みたくなるか
- [ ] キャラクターに魅力があるか
- [ ] この話の存在意義は明確か

#### 公開準備
- [ ] 最終品質チェック実行
- [ ] 品質記録の更新
- [ ] バックアップの作成
- [ ] 公開時刻の決定

### 推敲完了確認
- [ ] 全項目チェック完了
- [ ] 品質スコア：＿＿点（参考値：80点以上、プロジェクト基準がある場合はそちらを優先）
- [ ] 推敲時間：＿＿時間
- [ ] 自信を持って公開できる状態
- [ ] `novel complete [話数] --status 推敲済`で完了記録

## 📝 Git管理

推敲完了時は適切にバージョン管理を行い、品質向上の履歴を記録しましょう：

### 推敲段階でのコミット
```bash
# 技術的推敲完了時
# 話数別エピソードブランチで推敲作業（例：第5話の場合）
git checkout develop-episode-005
git add 40_原稿/第005話_タイトル.md
git commit -m "quality: 第005話技術的推敲完了（自動修正適用）"

# 内容的推敲完了時
git commit -m "style: 第005話内容的推敲完了（描写強化・会話改善）"

# 読者体験最適化完了時
git commit -m "refactor: 第005話読者体験最適化完了（スマホ対応・没入感強化）"

# 最終推敲完了時
git commit -m "quality: 第005話推敲完了（品質スコア：XX点達成）"
git tag ep/005-revised -m "第005話推敲完了版"
```

### 品質管理の記録
```bash
# 品質記録の更新
git add 50_管理資料/品質記録.yaml
git commit -m "docs: 第005話品質記録更新（スコア改善：XX→YY点）"

# 公開準備完了
git tag ep/005-ready -m "第005話公開準備完了（品質基準クリア）"

# 推敲完了後、mainブランチにマージ
git checkout main
git merge develop-episode-005
git push origin main --tags

# 作業ブランチの削除（オプション）
git branch -d develop-episode-005
```

**重要なポイント：**
- 推敲の各段階で進捗を記録
- 品質向上の履歴を残す
- 公開準備完了の明確なマーク

## 🚀 公開準備

### 最終確認
```bash
# 最終品質チェック
novel check 第XXX話_タイトル.md

# 品質記録の更新
novel record complete XXX --score [スコア]
```

### 次のステップ
- 公開タイミングの決定
- 読者反応の予測
- 次話への引き継ぎ確認

---

## 📚 関連ガイド

- **前工程**: [A38_執筆プロンプトガイド.md](A38_執筆プロンプトガイド.md) - v5.0.0統合版
- **プロット作成**: [A28_話別プロットプロンプト.md](A28_話別プロットプロンプト.md) - v2.2.0 統合実行版
- **品質管理**: [A33_執筆品質管理チェック.md](A33_執筆品質管理チェック.md)
- **ワークフロー**: [A34_一気通貫実践ガイド.md](A34_一気通貫実践ガイド.md)

## 📈 更新履歴

- **v2.0.0** (2025-08-17): A24形式統一版に全面改訂
  - ロール定義明確化（Technical Editor等）
  - 構造化セクション（インプット→作業内容→出力指示→自己検証）
  - 統合推敲プロンプト追加（コピペ実行対応）
  - Claude Code最適化完了
- **v1.0.0**: 初版リリース

---

**💡 ポイント**: 推敲は「削る勇気」と「足す技術」のバランスです。A24形式による構造化されたアプローチで、効率的にプロレベルの仕上がりを目指しましょう。

**このプロンプトはA38_執筆プロンプトガイド.mdやA28_話別プロットプロンプト.mdと同等の使いやすさを実現した統一フォーマット版です。**


> 長さポリシー: 1話の目標文字数（下限/上限）はプロジェクト設定から解決します（`プロジェクト設定.yaml` → `project_settings.yaml` （必須）。欠落/不正時はエラー（QC-009/QC-010））。テンプレでは `{target_min_chars}` / `{target_max_chars}` を使用します。
> 会話（Dialogue）は文長リズム評価から除外し、記号連打/同語尾の軽量警告のみ行います。
