{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "standard_response_schema.json",
  "title": "StandardResponseSchema",
  "description": "CLI実行成功時の標準レスポンススキーマ",
  "type": "object",
  "properties": {
    "success": {
      "type": "boolean",
      "description": "実行成功フラグ",
      "const": true
    },
    "command": {
      "type": "string",
      "description": "実行されたコマンド",
      "minLength": 1,
      "maxLength": 200
    },
    "timestamp": {
      "type": "string",
      "description": "実行時刻（ISO 8601）",
      "format": "date-time"
    },
    "execution_time_ms": {
      "type": "number",
      "description": "実行時間（ミリ秒）",
      "minimum": 0
    },
    "outputs": {
      "type": "object",
      "description": "出力ファイル参照コレクション",
      "properties": {
        "files": {
          "type": "array",
          "description": "ファイル参照一覧",
          "items": {"$ref": "../base/file_reference_schema.json"},
          "maxItems": 100
        },
        "total_files": {
          "type": "integer",
          "description": "総ファイル数",
          "minimum": 0
        },
        "total_size_bytes": {
          "type": "integer",
          "description": "総サイズ（バイト）",
          "minimum": 0
        }
      },
      "required": ["files", "total_files", "total_size_bytes"],
      "additionalProperties": false
    },
    "metadata": {
      "type": "object",
      "description": "追加メタデータ",
      "properties": {
        "session_id": {"type": "string"},
        "user_id": {"type": "string"},
        "project_id": {"type": "string"},
        "environment": {"type": "string"},
        "version": {"type": "string"},
        "git_commit": {"type": "string"},
        "word_count": {"type": "integer", "minimum": 0},
        "character_count": {"type": "integer", "minimum": 0},
        "quality_score": {"type": "number", "minimum": 0, "maximum": 100},
        "performance_metrics": {"type": "object"}
      },
      "additionalProperties": true
    }
  },
  "required": ["success", "command", "timestamp", "execution_time_ms", "outputs"],
  "additionalProperties": false
}
