{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "file_reference_schema.json",
  "title": "FileReferenceSchema",
  "description": "ファイル参照スキーマ - CLI出力ファイルへの参照情報",
  "type": "object",
  "properties": {
    "path": {
      "type": "string",
      "description": "ファイルの相対パス",
      "pattern": "^[^/].*$",
      "minLength": 1,
      "maxLength": 500
    },
    "sha256": {
      "type": "string",
      "description": "SHA256ハッシュ値（完全性保証用）",
      "pattern": "^[a-f0-9]{64}$"
    },
    "size_bytes": {
      "type": "integer",
      "description": "ファイルサイズ（バイト）",
      "minimum": 0,
      "maximum": 104857600
    },
    "content_type": {
      "type": "string",
      "description": "MIMEタイプ",
      "enum": ["text/markdown", "text/yaml", "application/json", "text/plain"]
    },
    "created_at": {
      "type": "string",
      "description": "作成日時（ISO 8601）",
      "format": "date-time"
    },
    "encoding": {
      "type": "string",
      "description": "ファイルエンコーディング",
      "default": "utf-8",
      "enum": ["utf-8", "utf-16", "ascii"]
    }
  },
  "required": ["path", "sha256", "size_bytes", "content_type", "created_at"],
  "additionalProperties": false
}
