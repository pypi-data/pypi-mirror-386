# Setup generated by:
#
#    Setup.to_yaml_file(setup, filename='/data/CSL/conf/SETUP_CSL_00081_210922_142259.yaml')
#
# Created on 2021-09-22T14:22:59.436+0000

Setup:
    site_id: CSL
    position: 2
    gse:
        hexapod:
            device: class//egse.hexapod.symetrie.puna.PunaProxy
            device_name: Symetrie Puna Hexapod
            ID: 1
            time_request_granularity: 1.000000E-01
            CID: 603382
            label: 172543 - PUNA
        stages:
            ID: 1
            BIG_ROTATION_STAGE_ID: 420-20912
            SMALL_ROTATION_STAGE_ID: 409-10662
            TRANSLATION_STAGE_ID: 5101.30-942
            device: class//egse.stages.huber.smc9300.HuberSMC9300Proxy
            device_name: Huber SMC9300 Stages
            calibration:
                height_collimated_beam: 523
                offset_phi: 0
                offset_alpha: 0
                offset_delta_x: 0
                sma_rotation_correction: [0.003652, 0]
                big_rotation_azimuth_correction: [[0.0, 2.0, 3.1, 4.0, 6.0, 6.85, 8.0, 8.3, 10.0, 12.0, 12.4, 14.0, 16.0, 16.33, 18.0, 20.0], [-90.1667, -4.9313, -3.2456, -2.5546, -1.7607, -1.5638, -1.364, -1.3211, -1.1264, -0.9682, -0.9428, -0.8556, -0.7713, -0.7594, -0.706, -0.654]]
            big_rotation_stage:
                avoidance: 3.000000E+00
                hardstop: 1.793160E+02
                default_speed: 20000
            small_rotation_stage:
                default_speed: 20000
            translation_stage:
                default_speed: 20000
            theta_correction_coefficients:
                frequency: -1.750000E-02
                amplitude: 1.965000E-01
                phase: -1.137000E+00
                offset: -1.800000E-03
        aeu:
            crio:
                device: class//egse.aeu.aeu.CRIOProxy
                device_name: AEU cRIO
                ID: National Instruments cRIO-9063
                calibration:
                    n_cam_ocp: [0.268, 0.462, 0.476, 0.156, -0.559, 1.262]
                    n_cam_ovp: [36.06, 16.775, 6.95, 6.95, -6.924, 4.819]
                    n_cam_uvp: [34, 15.7, 6.2, 6.2, -6.2, 4.45]
                    f_cam_ocp: [0.269, 1.135, 0.821, 2.0, -0.287, 3.861]
                    f_cam_ovp: [34.145, 17.76, 8.43, 5.992, -8.316, 5.94]
                    f_cam_uvp: [30.8, 15.6, 7.3, 5.0, -7.1, 4.9]
                    n_cam_ovp_t_t: [2.0, 2.0, 2.0, 2.0, 2.0, 2.0]
                    f_cam_ovp_t_t: [2.0, 2.0, 2.0, 2.0, 2.0, 2.0]
                    n_cam_uvp_t_t: [25.0, 25.0, 25.0, 25.0, 25.0, 25.0]
                    f_cam_uvp_t_t: [25.0, 25.0, 25.0, 25.0, 25.0, 25.0]
                    n_cam_ocp_t_t: [14.0, 21.0, 14.0, 14.0, 14.0, 17.0]
                    f_cam_ocp_t_t: [14.0, 21.0, 14.0, 14.0, 14.0, 17.0]
                    n_cam_ovp_s_t: [2.0, 2.0, 2.0, 2.0, 2.0, 2.0]
                    f_cam_ovp_s_t: [2.0, 2.0, 2.0, 2.0, 2.0, 2.0]
                    n_cam_uvp_s_t: [300.0, 300.0, 300.0, 300.0, 300.0, 300.0]
                    f_cam_uvp_s_t: [150.0, 150.0, 150.0, 150.0, 150.0, 150.0]
                    n_cam_ocp_s_t: [750.0, 750.0, 750.0, 750.0, 750.0, 750.0]
                    f_cam_ocp_s_t: [500.0, 500.0, 500.0, 500.0, 500.0, 500.0]
            psu1:
                device: class//egse.aeu.aeu.PSUProxy
                device_args: [1]
                device_name: AEU PSU1
                ID: KIKUSUI PMX35-1A
                calibration:
                    n_cam_current: 3.500000E-01
                    n_cam_ocp: 3.500000E-01
                    n_cam_voltage: 3.490000E+01
                    n_cam_ovp: 3.786000E+01
                    f_cam_current: 3.500000E-01
                    f_cam_ocp: 3.500000E-01
                    f_cam_voltage: 3.180000E+01
                    f_cam_ovp: 3.694000E+01
            psu2:
                device: class//egse.aeu.aeu.PSUProxy
                device_args: [2]
                device_name: AEU PSU2
                ID: KIKUSUI PMX18-2A
                calibration:
                    n_cam_current: 5.900000E-01
                    n_cam_ocp: 5.900000E-01
                    n_cam_voltage: 1.635000E+01
                    n_cam_ovp: 1.757500E+01
                    f_cam_current: 1.410000E+00
                    f_cam_ocp: 1.410000E+00
                    f_cam_voltage: 1.620000E+01
                    f_cam_ovp: 1.980000E+01
            psu3:
                device: class//egse.aeu.aeu.PSUProxy
                device_args: [3]
                device_name: AEU PSU3
                ID: KIKUSUI PMX18-2A
                calibration:
                    n_cam_current: 6.000000E-01
                    n_cam_ocp: 6.000000E-01
                    n_cam_voltage: 6.750000E+00
                    n_cam_ovp: 7.300000E+00
                    f_cam_current: 1.028000E+00
                    f_cam_ocp: 1.028000E+00
                    f_cam_voltage: 7.900000E+00
                    f_cam_ovp: 8.880000E+00
            psu4:
                device: class//egse.aeu.aeu.PSUProxy
                device_args: [4]
                device_name: AEU PSU4
                ID: KIKUSUI PMX18-2A
                calibration:
                    n_cam_current: 2.200000E-01
                    n_cam_ocp: 2.200000E-01
                    n_cam_voltage: 6.750000E+00
                    n_cam_ovp: 7.300000E+00
                    f_cam_current: 2.100000E+00
                    f_cam_ocp: 2.100000E+00
                    f_cam_voltage: 5.750000E+00
                    f_cam_ovp: 6.290000E+00
            psu5:
                device: class//egse.aeu.aeu.PSUProxy
                device_args: [5]
                device_name: AEU PSU5
                ID: KIKUSUI PMX18-2A
                calibration:
                    n_cam_current: 7.000000E-01
                    n_cam_ocp: 7.000000E-01
                    n_cam_voltage: 6.750000E+00
                    n_cam_ovp: 7.270000E+00
                    f_cam_current: 3.030000E-01
                    f_cam_ocp: 3.030000E-01
                    f_cam_voltage: 7.700000E+00
                    f_cam_ovp: 8.760000E+00
            psu6:
                device: class//egse.aeu.aeu.PSUProxy
                device_args: [6]
                device_name: AEU PSU6
                ID: KIKUSUI PMX18-5A
                calibration:
                    n_cam_current: 1.590000E+00
                    n_cam_ocp: 1.590000E+00
                    n_cam_voltage: 4.630000E+00
                    n_cam_ovp: 5.090000E+00
                    f_cam_current: 4.670000E+00
                    f_cam_ocp: 4.670000E+00
                    f_cam_voltage: 5.650000E+00
                    f_cam_ovp: 6.340000E+00
            awg1:
                device: class//egse.aeu.aeu.AWGProxy
                device_args: [1]
                device_name: AEU AWG1
                ID: THURLBY THANDAR TGF4162
                calibration:
                    output_load: 50
                    amplitude: 2.700000E+00
                    dc_offset: 1.350000E+00
                    duty_cycle: 50
                    frequency: 50000000
            awg2:
                device: class//egse.aeu.aeu.AWGProxy
                device_args: [2]
                device_name: AEU AWG2
                ID: THURLBY THANDAR TGF4042
                calibration:
                    output_load: 50
                    amplitude: 2.700000E+00
                    dc_offset: 1.350000E+00
                    n_cam_sync_data:
                        A: SyncData//(A | 25.00 | ArbDataFile//(N_CCD_READ_25_150MS) | ArbDataFile//(SVM_SYNC_CCD_READ_25) | 0.006667)
                        B: SyncData//(B | 31.25 | ArbDataFile//(N_CCD_READ_31_25) | ArbDataFile//(SVM_SYNC_CCD_READ_31_25) | 0.016)
                        C: SyncData//(C | 37.50 | ArbDataFile//(N_CCD_READ_37_50) | ArbDataFile//(SVM_SYNC_CCD_READ_37_50) | 0.006667)
                        D: SyncData//(D | 43.75 | ArbDataFile//(N_CCD_READ_43_75) | ArbDataFile//(SVM_SYNC_CCD_READ_43_75) | 0.0114286)
                        E: SyncData//(E | 50.00 | ArbDataFile//(N_CCD_READ_50) | ArbDataFile//(SVM_SYNC_CCD_READ_50) | 0.006667)
                    f_cam_sync_data:
                        F: SyncData//( | 2.5 | ArbDataFile//(F_CCD_READ) | ArbDataFile//(SVM_SYNC_F_CAM) | 0.006667)
        ogse:
            attenuation_factors: [0.0, 3e-09, 3e-08, 2e-07, 3e-07, 2e-06, 3e-06, 1.5e-05, 2e-05, 2.7e-05, 3e-05, 8e-05, 0.0001, 0.00015, 0.0002, 0.00027, 0.0003, 0.0008, 0.001, 0.0018, 0.002, 0.003, 0.008, 0.01, 0.015, 0.027, 0.03, 0.08, 0.1, 0.15, 0.27, 0.3, 0.4, 0.5, 0.72, 0.8, 0.9, 1.0]
            default_attenuation: 0.000000E+00
            device: class//egse.collimator.fcul.ogse.OGSEProxy
            device_name: OGSE
            fwc_calibration: 1.000000E+00
        DAQ6510:
            channels: (@101:105)
            sensors:
                PT100:
                    temperature:
                        TRANSDUCER: FRTD
                        RTD:
                            FOUR: PT100
                        UNIT: CELSIUS
                        AVERAGE:
                            COUNT: 10
                            TCONTROL: REPEAT
                            STATE: True
                        channels: (@101:105)
            route:
                scan:
                    COUNT:
                        SCAN: 10
                    INTERVAL: 1
                delay: 10
            device_name: DAQ
            device: class//egse.tempcontrol.keithley.daq6510.DAQ6510Proxy
            das:
                count: 1
                interval: 10
                delay: 10
        tcs: class//egse.tcs.tcs.TCSProxy
    camera:
        TOU:
            ID: STM
        fpa:
            avoidance:
                clearance_xy: 2.000000E+00
                clearance_z: 2.000000E+00
                vertices_nb: 60
                vertices_radius: 1.000000E+02
            ID: STM
        dpu:
            device: class//egse.dpu.DPUProxy
            device_name: DPU
        fee:
            type: N-FEE
            ID: 174057003
            time_request_granularity: 2
            time_row_parallel: 1.100000E-04
            time_row_clearout: 9.000000E-05
            time_pixel_readout: 3.400000E-07
            n_parallel_overscan: 30
            n_serial_prescan: 25
            n_serial_overscan: 15
            col_end: 2254
        ccd:
            num_rows: 4510
            num_column: 4510
            origin_offset_x: [-0.964, -0.991, -0.991, -0.958]
            origin_offset_y: [81.465, 81.483, 81.516, 81.504]
            orientation: [180.0007, 270.0028, 0.00265, 90.0046]
            pixel_size: 18
        fov:
            radius_degrees: 1.889080E+01
            radius_mm: 8.470000E+01
            radius_pixels: 4706
            distortion_coefficients: [0.316257210577, 0.066373219688, 0.372589221219]
            inverse_distortion_coefficients: [-0.317143032936, 0.242638513347, -0.459260203502]
            focal_length_mm: 2.475200E+02
    csl_model:
        default_refs:
            Master: Master
            gliso: Master
            glfix: glrot
            glrot: gliso
            hexiso: gliso
            hexplt: gliso
            hexobj: gliso
            hexusr: gliso
            fpaaln: gliso
            fpamec: gliso
            fpasen: gliso
            toumec: gliso
            toualn: gliso
            toulos: gliso
            toul6: gliso
            toubip: gliso
            bolt: gliso
            hartmann: gliso
            marialn: toualn
            camint: toumec
            cammec: toumec
            cambor: toualn
        model:
            Master: ReferenceFrame//([0.000000, 0.000000, 0.000000] | [0.000000, -0.000000, 0.000000] | Master | Master | ['gliso'])
            gliso: ReferenceFrame//([0.000000, 0.000000, 0.000000] | [0.000000, -0.000000, 0.000000] | gliso | Master | ['Master', 'glrot', 'hexiso', 'toumec'])
            glrot: ReferenceFrame//([0.000000, 0.000000, 0.000000] | [0.000000, -0.000000, 0.000000] | glrot | gliso | ['gliso'])
            glfix: ReferenceFrame//([0.000000, 0.000000, 0.000000] | [0.000000, -0.000000, 0.000000] | glfix | glrot | [])
            hexiso: ReferenceFrame//([0.230000, 0.136000, 230.188000] | [-0.007304, -0.015226, 0.033943] | hexiso | gliso | ['gliso', 'hexmec'])
            fpaaln: ReferenceFrame//([-105.675000, 90.368000, 523.801000] | [-0.086398, -0.046566, -120.175251] | fpaaln | gliso | ['fpamec'])
            fpamec: ReferenceFrame//([0.330000, 1.076000, 581.635000] | [-0.076764, -0.033880, -119.721270] | fpamec | gliso | ['fpasen', 'fpaaln'])
            fpasen: ReferenceFrame//([0.154000, 1.061000, 520.389000] | [-0.085699, -0.045664, -120.174353] | fpasen | gliso | ['hexobj', 'fpamec'])
            toumec: ReferenceFrame//([-0.025000, -0.005000, 606.443000] | [0.000506, -0.001611, -120.160708] | toumec | gliso | ['toul6', 'gliso', 'toubip', 'bolt', 'hartmann', 'hartflat', 'flatng'])
            toul6: ReferenceFrame//([-0.135000, -0.201000, 541.830000] | [0.000506, -0.001611, -120.160708] | toul6 | gliso | ['hexusr', 'toumec'])
            hartmann: ReferenceFrame//([-0.025000, -0.007000, 538.381000] | [-0.086897, 0.017046, -120.148501] | hartmann | gliso | ['toumec'])
            toubip: ReferenceFrame//([-0.025000, -0.007000, 538.151000] | [-0.034456, -0.008784, -120.148453] | toubip | gliso | ['toumec'])
            bolt: ReferenceFrame//([-0.025000, -0.007000, 538.099000] | [-0.034456, -0.008784, -120.148453] | bolt | gliso | ['toumec'])
            hexmec: ReferenceFrame//([0.000000, 0.000000, 0.000000] | [0.000000, -0.000000, 0.000000] | hexmec | hexiso | ['hexiso', 'hexusr'])
            hexplt: ReferenceFrame//([0.000000, 0.000000, 0.000000] | [0.000000, -0.000000, 0.000000] | hexplt | hexmec | ['hexobj'])
            hexusr: ReferenceFrame//([-0.282383, -0.376511, 311.642041] | [-0.016328, -0.002956, -120.194649] | hexusr | hexmec | ['hexmec', 'toul6'])
            hexobj: ReferenceFrame//([0.001667, 0.888050, 290.201125] | [-0.102532, -0.047013, -120.208281] | hexobj | hexplt | ['hexplt', 'hexobusr', 'fpasen'])
            hexobusr: ReferenceFrame//([-1.236954, -0.384377, -21.440962] | [-0.086205, -0.044053, -0.013645] | hexobusr | hexusr | ['hexobj'])
            hartflat: ReferenceFrame//([0.000000, 0.000000, -68.062000] | [-0.055000, -0.009000, 0.012200] | hartflat | toumec | ['toumec'])
            flatng: ReferenceFrame//([0.000000, 0.000000, -68.062000] | [-0.054940, -0.011276, 0.012200] | flatng | toumec | ['toumec'])
    measures:
        hartmann_plane:
            input_focal_plane_coordinates:
                x: [9.212, 32.774, 14.762, 52.576, 38.574, 15.503, 72.327, 60.88, 41.021, 15.894, -9.938, -33.476, -15.388, -53.274, -39.176, -16.047, -73.023, -61.47, -41.529, -16.356, 9.173, 32.712, 14.624, 52.51, 38.412, 15.283, 72.259, 60.705, 40.765, 15.592, -9.627, -33.188, -15.176, -52.99, -38.988, -15.917, -72.741, -61.294, -41.435, -16.308]
                y: [9.29, 14.791, 32.979, 15.65, 38.929, 52.777, 16.159, 41.933, 61.624, 72.626, 9.33, 14.929, 33.041, 15.87, 39.09, 52.843, 16.461, 42.187, 61.795, 72.693, -9.51, -15.109, -33.221, -16.05, -39.27, -53.023, -16.641, -42.367, -61.975, -72.873, -9.471, -14.972, -33.159, -15.831, -39.11, -52.958, -16.34, -42.114, -61.805, -72.807]
    history:
        9: STM - cleaned up Setup for position 2
        10: new hexapod ID
        11: new ID stages
        12: add FPA
        13: add TOU
        14: Incl fpa avoidance volume
        15: Include basic CSLReferenceFrameModel (hexapod only)
        16: Include basic CSLReferenceFrameModel (avoidance check with plate)
        17: Include basic CSLReferenceFrameModel (avoidance check with plate) -- 2mm clearance_z
        18: Added configuration for DAQ6510
        19: Added channels to Temperature function for DAQ6510
        20: Fixed naming (lower case) and added total channels for DAQ6510
        21: Changed Temperature units to Celsius for DAQ6510
        22: Added Temperature AVERAGE commands for DAQ6510
        23: Added the sensor type as an additional level for DAQ6510
        24: Changed TEMPERATURE:AVERAGE:TCONTROL to REPEAT for DAQ6510
        25: Changed TEMPERATURE:AVERAGE:STATE to ON for DAQ6510
        26: Include CSLReferenceFrameModel (avoidance check with FPA and plate)
        27: Include CSLReferenceFrameModel (avoidance check with FPA and plate, 2mm)
        28: Include basic CSLReferenceFrameModel (avoidance check with plate)
        29: Include basic CSLReferenceFrameModel (avoidance check with real TOU)
        30: Introduction of the AEU
        31: Extended AEU calibration data
        32: Added definition of dpu to camera
        33: Added definition of fee to camera
        34: Added definition of ogse to gse, introduced default_attenuation
        35: Added device for gse.ogse and moved DAQ6510 into gse branch
        36: Renamed gse.ogse.fwc_factor to gse.ogse.fwc_calibration
        37: Introduced height of the collimated beam at CSL [mm]
        38: Added definition of ccd to camera
        39: Added definition of tcs to gse
        40: Added definition of fov to camera
        41: Updated fpa and fee under camera
        42: Removed length_serial_prescan from ccd block (redundant)
        43: Corrected tcs device
        44: added route > scan to DAQ6510
        45: Introduced offset_phi.
        46: Set offset_phi to 45 for testing purposes.
        47: Set offset_phi back to 0.
        48: Introduced offset_alpha and offset_delta_z.
        49: changed time_request_granularity for fee to 2s
        50: Updated value for the height of the collimated beam [mm].
        51: Include device + device_name for DAQ
        52: Include DAQ data acquisition parameters
        53: Updated CCD location for EM
        54: Introduced avoidance + hardstop for big rotation stage
        55: Included default speed for the stages
        56: Introduced SMA rotation correction
        57: Updated SMA rotation correction
        58: Added start and trip timings for AEU
        59: increased the ocp start time to 600ms
        60: increased the ocp start time to 750ms
        61: set n_cam_uvp to [34, 15.7, 6.2, 6.2, -6.2, 4.45]
        62: increased the uvp start time to 300ms for n_cam
        63: Added calibration table for big rotation azimuth correction
        64: CSLReferenceFrameModel EM 003
        65: Added csl_model.laser_tracker_data to hold the filename with the data to produce the model
        66: CSLReferenceFrameModel EM 003
        67: CSLReferenceFrameModel EM 003 20210902 EOB
        68: CSLReferenceFrameModel EM 003 20210903 EOB - FPA on Hartmann plane
        69: CSLReferenceFrameModel EM 003 20210907 EOB - FPA [0, 0, -20] from Hartmann plane
        70: Included correction for boresight angle
        71: Included Hartmann plane focal-plane coordinates from LDO
        72: CSLReferenceFrameModel EM 004 - zero position
        73: CSLReferenceFrameModel EM 004 20210909 EOB - FPA at Hartmann plane
        74: Introduced inverse distortion coefficients
        75: Incl. ARB file with 150-ms short pulses for cycle time of 25s
        76: Added missing delay parameter to gse.DAQ6510.route
        77: Updated the number of channels in the DAQ6510 to include the TOU sensors
        78: CSLReferenceFrameModel EM 005 - after re-alignement
        79: CSLReferenceFrameModel EM 005
        80: CSLReferenceFrameModel EM 005 20210917 EOB - FPA at Hartmann plane
        81: CSLReferenceFrameModel EM 005 zero position
