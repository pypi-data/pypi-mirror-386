.admonition,
.topic,
div.versionadded,
div.versionchanged,
div.deprecated,
div.versionremoved {
  overflow: hidden;
  border-radius: var(--bz-border-radius);
  margin-inline: auto;
  font-size: var(--bz-topic-font-size);
  font-family: var(--bz-topic-font-family);
  padding: calc(var(--bz-spacing) * 4);
  padding-bottom: calc(var(--bz-spacing) * 5);
  margin-block: calc(var(--bz-spacing) * 6);
  box-shadow:
    0 1px 1px var(--bz-color-shadow),
    0 2px 2px var(--bz-color-shadow),
    0 4px 4px var(--bz-color-shadow),
    0 8px 8px var(--bz-color-shadow);
}

.topic {
  color: var(--bz-topic-color);
  background-color: var(--bz-topic-background-color);
}

.admonition,
div.versionadded,
div.versionchanged,
div.deprecated,
div.versionremoved {
  color: var(--bz-admonition-color);
  background-color: var(--bz-admonition-background-color);
  border-left: 3px solid var(--bz-admonition-accent-color);
}

div.versionadded,
div.versionchanged,
div.deprecated,
div.versionremoved {
  padding-block: calc(var(--bz-spacing) * 2);
  margin-block: calc(var(--bz-spacing) * 2);
}

p.admonition-title {
  display: flex;
  align-items: center;
  line-height: 1;
  font-weight: 500;
  font-size: var(--bz-admonition-title-font-size);
  font-family: var(--bz-admonition-title-font-family);
  background-color: color-mix(in oklab, var(--bz-admonition-accent-color) 25%, transparent);
  margin: calc(var(--bz-spacing) * -4);
  padding: calc(var(--bz-spacing) * 2);
  gap: calc(var(--bz-spacing) * 2);
  margin-bottom: 0;
}

p.topic-title {
  font-weight: 600;
  font-size: var(--bz-topic-title-font-size);
  font-family: var(--bz-topic-title-font-family);
  margin-block: calc(var(--bz-spacing) * -1);
}

p:where(.admonition-title, .topic-title) + * {
  margin-top: calc(var(--bz-spacing) * 2);
}

:where(.admonition, .topic) > :last-child {
  margin-bottom: calc(var(--bz-spacing) * -2);
}

:where(div.versionadded, div.versionchanged, div.deprecated, div.versionremoved) > :first-child {
  margin-bottom: calc(var(--bz-spacing) * -2);
}

:where(div.versionadded, div.versionchanged, div.deprecated, div.versionremoved) > :last-child {
  margin-bottom: 0;
}

:where(div.versionadded, div.versionchanged, div.deprecated, div.versionremoved) > :first-child {
  margin-top: 0;
  display: inline-flex;
  flex-wrap: wrap;
}

p.admonition-title::before {
  content: "";
  mask-image: var(--bz-admonition-icon);
  background-color: var(--bz-admonition-accent-color);
  height: 1rem;
  width: 1rem;
}

span.versionmodified {
  display: inline-flex;
  align-items: center;
  font-weight: 500;
  font-style: italic;
  margin-right: calc(var(--bz-spacing) * 2);
  gap: calc(var(--bz-spacing) * 2);
}

span.versionmodified::before {
  content: "";
  background-color: var(--bz-admonition-accent-color);
  mask-image: var(--bz-admonition-icon);
  height: 1rem;
  width: 1rem;
}

.admonition.attention {
  --bz-admonition-accent-color: var(--bz-admonition-attention-color);
  --bz-admonition-icon: var(--bz-admonition-attention-icon);
}

.admonition.caution {
  --bz-admonition-accent-color: var(--bz-admonition-caution-color);
  --bz-admonition-icon: var(--bz-admonition-caution-icon);
}

.admonition.danger {
  --bz-admonition-accent-color: var(--bz-admonition-danger-color);
  --bz-admonition-icon: var(--bz-admonition-danger-icon);
}

.admonition.error {
  --bz-admonition-accent-color: var(--bz-admonition-error-color);
  --bz-admonition-icon: var(--bz-admonition-error-icon);
}

.admonition.hint {
  --bz-admonition-accent-color: var(--bz-admonition-hint-color);
  --bz-admonition-icon: var(--bz-admonition-hint-icon);
}

.admonition.important {
  --bz-admonition-accent-color: var(--bz-admonition-important-color);
  --bz-admonition-icon: var(--bz-admonition-important-icon);
}

.admonition.note {
  --bz-admonition-accent-color: var(--bz-admonition-note-color);
  --bz-admonition-icon: var(--bz-admonition-note-icon);
}

.admonition.seealso {
  --bz-admonition-accent-color: var(--bz-admonition-seealso-color);
  --bz-admonition-icon: var(--bz-admonition-seealso-icon);
}

.admonition.admonition-todo {
  --bz-admonition-accent-color: var(--bz-admonition-todo-color);
  --bz-admonition-icon: var(--bz-admonition-todo-icon);
}

.admonition.warning {
  --bz-admonition-accent-color: var(--bz-admonition-warning-color);
  --bz-admonition-icon: var(--bz-admonition-warning-icon);
}

.admonition.tip {
  --bz-admonition-accent-color: var(--bz-admonition-tip-color);
  --bz-admonition-icon: var(--bz-admonition-tip-icon);
}

div.versionadded {
  --bz-admonition-accent-color: var(--bz-admonition-versionadded-color);
  --bz-admonition-icon: var(--bz-admonition-versionadded-icon);
}

div.versionchanged {
  --bz-admonition-accent-color: var(--bz-admonition-versionchanged-color);
  --bz-admonition-icon: var(--bz-admonition-versionchanged-icon);
}

div.deprecated {
  --bz-admonition-accent-color: var(--bz-admonition-deprecated-color);
  --bz-admonition-icon: var(--bz-admonition-deprecated-icon);
}

div.versionremoved {
  --bz-admonition-accent-color: var(--bz-admonition-versionremoved-color);
  --bz-admonition-icon: var(--bz-admonition-versionremoved-icon);
}
