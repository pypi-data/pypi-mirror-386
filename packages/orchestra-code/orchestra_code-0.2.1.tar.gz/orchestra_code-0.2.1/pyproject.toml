[project]
name = "orchestra-code"
version = "0.2.1"
description = "Terminal UI for managing multiple Claude sessions with tmux"
readme = "README.md"
requires-python = ">=3.11"
dependencies = [
    "textual==5.3.0",
    "mcp>=1.0.0",
    "fastapi>=0.117.1",
    "uvicorn>=0.37.0",
    "requests==2.30.0",
    "claude-agent-sdk>=0.1.0",
    "watchfiles>=0.24.0",
]

[project.scripts]
orchestra-setup = "orchestra.runners.setup:main"
orchestra = "orchestra.runners.launch:main"
orchestra-ui = "orchestra.runners.maestro:main"
maestro = "orchestra.runners.maestro:main"
orchestra-monitor-server = "orchestra.backend.monitor:main"
orchestra-mcp = "orchestra.backend.mcp_server:main"
orchestra-hook = "orchestra.runners.hook_monitor:main"

[tool.setuptools]
packages = ["orchestra", "orchestra.lib", "orchestra.runners", "orchestra.backend", "orchestra.frontend", "orchestra.frontend.widgets"]

[tool.setuptools.package-data]
orchestra = ["Dockerfile"]
"orchestra.runners" = ["orchestra-hook-forward.sh"]

[build-system]
requires = ["setuptools>=61.0"]
build-backend = "setuptools.build_meta"

[dependency-groups]
dev = [
    "ruff>=0.14.0",
    "pytest>=8.0.0",
    "pytest-asyncio>=0.23.0",
    "pytest-mock>=3.12.0",
    "pytest-cov>=4.1.0",
]

[tool.pytest.ini_options]
markers = [
    "slow: marks tests as slow (deselect with '-m \"not slow\"')",
]
testpaths = ["tests"]
python_files = ["test_*.py"]
python_classes = ["Test*"]
python_functions = ["test_*"]
