[build-system]
requires = ["setuptools>=45", "wheel", "setuptools_scm"]
build-backend = "setuptools.build_meta"

[project]
name = "dg-itest"
dynamic = ["version"]
authors = [
    {name = "yaitza", email = "yaitza@foxmail.com"},
]
description = "API Automation Test Framework"
readme = "README.md"
requires-python = ">=3.7"
classifiers = [
    "Programming Language :: Python :: 3",
    "Operating System :: OS Independent",
]

[project.urls]
Homepage = "https://github.com/yaitza/dg-itest"

[tool.setuptools_scm]
write_to = "dg_itest/_version.py"
write_to_template = '__version__ = "{version}"'
# 本地方案：无本地版本（关键配置）
local_scheme = "no-local-version"

# Git 描述配置
git_describe_command = [
    "git", "describe", "--dirty", "--tags", "--long",
    "--match", "[0-9]*", "--match", "v[0-9]*"
]
# 仅从带版本号的标签生成版本
tag_regex = "^v?(?P<version>[0-9].*)$"