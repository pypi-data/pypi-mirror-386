[build-system]
requires = ["setuptools>=68", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "team-digest"
# We read version from the package (__init__.__version__)
dynamic = ["version", "readme"]
description = "Generate daily/weekly/monthly team digests from Markdown logs; optional Slack posting."
requires-python = ">=3.9"
authors = [{ name = "Anuraj Deol" }]
license = { file = "LICENSE" }
keywords = ["digest", "email", "slack", "automation", "markdown", "teams"]
classifiers = [
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: 3 :: Only",
  "Programming Language :: Python :: 3.9",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
  "Programming Language :: Python :: 3.13",
  "License :: OSI Approved :: MIT License",
  "Operating System :: OS Independent",
  "Intended Audience :: Information Technology",
  "Topic :: Office/Business",
  "Topic :: Utilities",
]

dependencies = [
  "PyYAML>=6,<7",
  "python-dateutil>=2.8,<3",
  "regex>=2023.0.0",
  "requests>=2.31,<3",
  "tqdm>=4,<5",
]

[project.urls]
Homepage = "https://github.com/AnurajDeol1990/team-digest"
Repository = "https://github.com/AnurajDeol1990/team-digest"
Issues = "https://github.com/AnurajDeol1990/team-digest/issues"

[project.scripts]
team-digest = "team_digest.__main__:main"

# --- Dynamic fields ---
[tool.setuptools.dynamic]
# Use the root README.md for PyPI long description
readme = { file = ["README.md"], content-type = "text/markdown" }
# Pull version from team_digest.__init__.__version__
version = { attr = "team_digest.__init__.__version__" }

# --- Package discovery & data ---
[tool.setuptools]
package-dir = { "" = "src" }
include-package-data = true

[tool.setuptools.packages.find]
where = ["src"]

# Ship example assets inside the package
[tool.setuptools.package-data]
team_digest = ["examples/**"]

# Ship top-level docs alongside the installation (non-package data).
# These will be installed under: <prefix>/share/team-digest/
[tool.setuptools.data-files]
"share/team-digest" = ["README.md", "USAGE.md", "LICENSE"]

[tool.bumpver]
current_version = "1.1.17"
version_pattern = "MAJOR.MINOR.PATCH"
commit_message = "chore: bump version {old_version} â†’ {new_version}"
tag_message = "Release {new_version}"
push = true

[tool.bumpver.file_patterns]
"src/team_digest/__init__.py" = ['__version__ = "{version}"']
