<mujoco>

    <compiler angle="radian" meshdir="../meshes"/>
    <option timestep="0.002" />
    <!--  <size nuser_actuator="6"/>  -->
    <asset>
        <!--  Collision meshes  -->
        <mesh name="base_link" file="meshes/base_link.STL" />
        <mesh name="link1" file="meshes/link1.STL" />
        <mesh name="link2" file="meshes/link2.STL" />
        <mesh name="link3" file="meshes/link3.STL" />
        <mesh name="link4" file="meshes/link4.STL" />
        <mesh name="link5" file="meshes/link5.STL" />
        <mesh name="link6" file="meshes/link6.STL" />
        <mesh name="flange" file="meshes/flange.STL" />
        <mesh name="gripper_base" file="meshes/gripper_base.STL" />
        <mesh name="right_gear_link" file="meshes/right_gear_link.STL" />
        <mesh name="right_finger_link" file="meshes/right_finger_link.STL" />
        <mesh name="left_gear_link" file="meshes/left_gear_link.STL" />
        <mesh name="left_finger_link" file="meshes/left_finger_link.STL" />
        <mesh name="right_hinge_link" file="meshes/right_hinge_link.STL" />
        <mesh name="left_hinge_link" file="meshes/left_hinge_link.STL" />
    </asset>
    <contact>
        <exclude body1="link6" body2="left_gear_link" />
        <exclude body1="link6" body2="right_gear_link" />
        <exclude body1="link6" body2="left_hinge_link" />
        <exclude body1="link6" body2="right_hinge_link" />
        <exclude body1="right_finger" body2="right_hinge_link" />
        <exclude body1="left_finger" body2="left_hinge_link" />
        <exclude body1="left_finger" body2="right_finger" />
        <exclude body1="right_gear_link" body2="left_gear_link" />
    </contact>
    <default>
    <default class="robot">
      <joint armature="0.1" damping="1" range="-2.96706 2.96706" limited="true" />
      <general dyntype="none" biastype="affine" ctrlrange="-2.96706 2.96706"
        forcerange="-87 87" forcelimited="true" ctrllimited="true" />
    </default>
    <default class="driver">
      <joint range="0 0.7" armature="0.005" damping="0.1" solimplimit="0.95 0.99 0.001"
        solreflimit="0.005 1" limited="true" />
    </default>
    <default class="follower">
      <joint range="-0.872664 0.872664" pos="0 0 0" solimplimit="0.95 0.99 0.001"
        solreflimit="0.005 1" limited="true" />
    </default>
    <default class="coupler">
      <joint solimplimit="0.95 0.99 0.001" solreflimit="0.005 1" />
    </default>
  </default>

  <tendon>
    <fixed name="split">
      <joint joint="right_gear_joint" coef="0.5" />
      <joint joint="left_gear_joint" coef="0.5" />
    </fixed>
  </tendon>

  <equality>
    <connect anchor="0.021833 -0.005 -0.0072346" body1="right_finger"
      body2="right_hinge_link"
      solimp="0.95 0.99 0.001" solref="0.005 1" />
    <connect anchor="0.021833 -0.005 0.0072347" body1="left_finger"
      body2="left_hinge_link"
      solimp="0.95 0.99 0.001" solref="0.005 1" />
    <joint joint1="right_gear_joint" joint2="left_gear_joint" polycoef="0 1 0 0 0"
      solimp="0.95 0.99 0.001" solref="0.005 1" />
  </equality>

  <actuator>
    <motor class="robot" name="torq_j1" joint="joint1"
      ctrlrange="-80 80" ctrllimited="true" />
    <motor class="robot" name="torq_j2" joint="joint2"
      ctrlrange="-80 80" ctrllimited="true" />
    <motor class="robot" name="torq_j3" joint="joint3"
      ctrlrange="-80 80" ctrllimited="true" />
    <motor class="robot" name="torq_j4" joint="joint4"
      ctrlrange="-80 80" ctrllimited="true" />
    <motor class="robot" name="torq_j5" joint="joint5"
      ctrlrange="-12 12" ctrllimited="true" />
    <motor class="robot" name="torq_j6" joint="joint6"
      ctrlrange="-12 12" ctrllimited="true" />

    <general biastype="affine" name="fingers_actuator" tendon="split" forcerange="-5 5"
      ctrlrange="0 1" gainprm="70 0 0" biasprm="0 -100 -10" forcelimited="true"
      ctrllimited="true" />
  </actuator>

  <worldbody>

    <body name='robot'>
      <body name="link0" childclass="robot">
        <site name="left_arm_center" pos="0 0 0" size="0.005" rgba="1 0.3 0.3 1" group="2" />
        <geom type="mesh" group="1" density="0"
          rgba="0.792157 0.819608 0.933333 1" mesh="base_link" />
        <geom type="mesh" rgba="0.792157 0.819608 0.933333 1" mesh="base_link" />
        <body name="link1" pos="0 -0.0038673 0.0774">
          <inertial pos="0.00714921 -2.49114e-06 0.0385507"
            quat="0.979105 -0.000345724 0.203355 0.000174858" mass="0.0427369"
            diaginertia="4.25453e-05 3.72465e-05 1.28094e-05" />
          <joint name="joint1" pos="0 0 0" axis="0 0 -1" />
          <geom type="mesh" group="1" density="0"
            rgba="0.792157 0.819608 0.933333 1" mesh="link1" />
          <geom type="mesh" rgba="0.792157 0.819608 0.933333 1" mesh="link1" />
          <body name="link2" pos="0.03862 0 0.06">
            <inertial pos="0.0195673 -3.76182e-08 0.0516249"
              quat="0.999998 9.2767e-05 -0.00200461 9.66169e-05" mass="0.0668491"
              diaginertia="0.000167029 0.000158388 2.06202e-05" />
            <joint name="joint2" pos="0 0 0" axis="-1 0 0" />
            <geom type="mesh" group="1" density="0"
              rgba="0.792157 0.819608 0.933333 1" mesh="link2" />
            <geom type="mesh" rgba="0.792157 0.819608 0.933333 1" mesh="link2" />
            <body name="link3" pos="-0.006664 0 0.11">
              <inertial pos="-0.0231609 -5.61244e-07 0.0437186"
                quat="0.999737 3.49095e-05 -0.0229275 4.08218e-05" mass="0.0533251"
                diaginertia="0.000101777 9.73985e-05 1.35127e-05" />
              <joint name="joint3" pos="0 0 0" axis="1 0 0" />
              <geom type="mesh" group="1" density="0"
                rgba="0.792157 0.819608 0.933333 1" mesh="link3" />
              <geom type="mesh" rgba="0.792157 0.819608 0.933333 1" mesh="link3" />
              <body name="link4" pos="0.00046458 0 0.096">
                <inertial pos="0.0195553 1.43402e-05 0.00768729"
                  quat="0.000387903 0.385562 0.000244078 0.922682"
                  mass="0.0240612"
                  diaginertia="1.10891e-05 9.32651e-06 4.46821e-06" />
                <joint name="joint4" pos="0 0 0" axis="-1 0 0" />
                <geom type="mesh" group="1" density="0"
                  rgba="0.792157 0.819608 0.933333 1" mesh="link4" />
                <geom type="mesh" rgba="0.792157 0.819608 0.933333 1" mesh="link4" />
                <body name="link5" pos="0.03006 0 0.03263">
                  <inertial pos="2.48381e-05 -7.55802e-05 0.0267714"
                    quat="0.975475 0.00322907 0.220035 0.00469099"
                    mass="0.0327884"
                    diaginertia="1.48708e-05 1.33354e-05 7.13883e-06" />
                  <joint name="joint5" pos="0 0 0" axis="0 0 -1" />
                  <geom type="mesh" group="1" density="0"
                    rgba="0.792157 0.819608 0.933333 1" mesh="link5" />
                  <geom type="mesh" rgba="0.792157 0.819608 0.933333 1"
                    mesh="link5" />
                  <body name="link6" pos="0.026166 0 0.03733">
                    <inertial pos="0.0417978 -0.00630034 -0.000526342"
                      quat="-0.179978 0.674045 0.238998 0.675389"
                      mass="0.0649501"
                      diaginertia="5.36781e-05 5.12254e-05 2.74582e-05" />
                    <joint name="joint6" pos="0 0 0" axis="-1 0 0" />
                    <geom type="mesh" group="1" density="0"
                      rgba="0.792157 0.819608 0.933333 1" mesh="link6" />
                    <geom type="mesh" rgba="0.792157 0.819608 0.933333 1"
                      mesh="link6" />
                    <body name="flange">
                      <geom type="mesh" group="1" density="0"
                        rgba="0.792157 0.819608 0.933333 1" mesh="flange" />
                      <geom type="mesh" rgba="0.792157 0.819608 0.933333 1"
                        mesh="flange" />
                      <body name="gripper_camera_rgb_frame"
                        pos="0.025 -0.043 0">
                        <body name="gripper_camera_rgb_optical_frame"
                          pos="0 0 0"
                          quat="0.5 -0.5 0.5 -0.5">
                          <camera euler="3.1415 0 0" fovy="50"
                            name="gripper_camera_rgb" pos="0 0 0"></camera>
                        </body>
                      </body>
                      <body name="gripper_camera_depth_frame" pos="0 0.045 0">
                        <body name="gripper_camera_depth_optical_frame"
                          pos="0 0 0"
                          quat="0.5 -0.5 0.5 -0.5"></body>
                      </body>
                      <body euler="0 0 0" name="gripper_base">
                        <body name="eef" pos="0.125 -0.01 -0.001"
                          quat="1 0 0 0">
                          <site name="grip_site" pos="0 0 0"
                            size="0.001 0.001 0.001"
                            rgba="1 0 0 0.2"
                            type="sphere" group="1" />
                        </body>
                        <geom type="mesh" group="1" density="0"
                          rgba="0.792157 0.819608 0.933333 1"
                          mesh="gripper_base" />
                        <geom type="mesh"
                          rgba="0.792157 0.819608 0.933333 1"
                          mesh="gripper_base" />
                        <body name="right_gear_link"
                          pos="0.0626 -0.00505 0.01225">
                          <inertial pos="0.00313636 0.0026671 0.00586855"
                            quat="0.681896 0.190756 0.185171 0.681426"
                            mass="0.00306867"
                            diaginertia="5.4546e-07 4.35596e-07 1.20909e-07" />
                          <joint name="right_gear_joint" pos="0 0 0"
                            axis="0 1 0"
                            class="driver" />
                          <geom type="mesh" group="1" density="0"
                            rgba="0.792157 0.819608 0.933333 1"
                            mesh="right_gear_link" />
                          <geom type="mesh"
                            rgba="0.792157 0.819608 0.933333 1"
                            mesh="right_gear_link" />
                          <body name="right_finger"
                            pos="0.015573 -0.01 0.026804">
                            <inertial pos="0.0324451 0.005 -0.0109997"
                              quat="0 0.775032 0 0.631922"
                              mass="0.00694636"
                              diaginertia="1.60061e-06 1.45682e-06 2.82185e-07" />
                            <joint name="right_finger_joint" pos="0 0 0"
                              axis="0 -1 0"
                              class="follower" />
                            <geom type="mesh" group="1" density="0"
                              rgba="0.792157 0.819608 0.933333 1"
                              mesh="right_finger_link" />
                            <geom type="mesh"
                              rgba="0.792157 0.819608 0.933333 1"
                              mesh="right_finger_link" />
                            <body name="right_finger_layer">
                              <geom name="right_finger_layer"
                                type="box" size="0.013 0.01 0.001"
                                pos="0.041 0.005 -0.021"
                                condim="4" friction="2 0.3 0.1"
                                solref="-20000 -500"
                                solimp="0.999 0.999 0.001"></geom>
                            </body>
                          </body>
                        </body>
                        <body name="left_gear_link"
                          pos="0.0626 -0.00505 -0.01325">
                          <inertial
                            pos="0.00282687 0.00252761 -0.00562195"
                            quat="0.681488 -0.18894 -0.188164 0.68152"
                            mass="0.00317605"
                            diaginertia="5.58215e-07 4.42379e-07 1.28181e-07" />
                          <joint name="left_gear_joint" pos="0 0 0"
                            axis="0 -1 0"
                            class="driver" />
                          <geom type="mesh" group="1" density="0"
                            rgba="0.792157 0.819608 0.933333 1"
                            mesh="left_gear_link" />
                          <geom type="mesh"
                            rgba="0.792157 0.819608 0.933333 1"
                            mesh="left_gear_link" />
                          <body name="left_finger"
                            pos="0.015455 -0.01 -0.026873">
                            <inertial pos="0.0324451 0.005 0.0109997"
                              quat="0 0.631922 0 0.775032"
                              mass="0.00694636"
                              diaginertia="1.60061e-06 1.45682e-06 2.82185e-07" />
                            <joint name="left_finger_joint" pos="0 0 0"
                              axis="0 1 0"
                              class="follower" />
                            <geom type="mesh" group="1" density="0"
                              rgba="0.792157 0.819608 0.933333 1"
                              mesh="left_finger_link" />
                            <geom type="mesh"
                              rgba="0.792157 0.819608 0.933333 1"
                              mesh="left_finger_link" />
                            <body name="left_finger_layer">
                              <geom name="left_finger_layer"
                                type="box" size="0.013 0.01 0.001"
                                pos="0.041 0.005 0.021"
                                condim="4" friction="2 0.3 0.1"
                                solref="-20000 -500"
                                solimp="0.999 0.999 0.001"></geom>
                            </body>
                          </body>
                        </body>
                        <body name="right_hinge_link"
                          pos="0.08443 -0.02005 0.005">
                          <inertial pos="0.00766814 0.00999994 0.0132034"
                            quat="0.965593 0 0.260056 0"
                            mass="0.00272533"
                            diaginertia="4.80195e-07 3.55161e-07 1.60795e-07" />
                          <joint name="right_hinge_joint" pos="0 0 0"
                            axis="0 1 0"
                            class="coupler" />
                          <geom type="mesh" group="1" density="0"
                            rgba="0.792157 0.819608 0.933333 1"
                            mesh="right_hinge_link" />
                          <geom type="mesh"
                            rgba="0.792157 0.819608 0.933333 1"
                            mesh="right_hinge_link" />
                        </body>
                        <body name="left_hinge_link"
                          pos="0.08443 -0.02005 -0.006">
                          <inertial pos="0.00784767 0.00999994 -0.013651"
                            quat="0.966166 0 -0.257923 0"
                            mass="0.00272533"
                            diaginertia="4.80195e-07 3.55161e-07 1.60795e-07" />
                          <joint name="left_hinge_joint" pos="0 0 0"
                            axis="0 1 0" class="coupler" />
                          <geom type="mesh" group="1" density="0"
                            rgba="0.792157 0.819608 0.933333 1"
                            mesh="left_hinge_link" />
                          <geom type="mesh"
                            rgba="0.792157 0.819608 0.933333 1"
                            mesh="left_hinge_link" />
                        </body>
                        <body name="ee_camera_mount" pos="0 0 0.1">
                          <camera name="ee_cam" pos="0 0 0.05"
                            euler="0 0 0" />
                        </body>
                      </body>
                    </body>
                  </body>
                </body>
              </body>
            </body>
          </body>
        </body>
      </body>
    </body>

  </worldbody>
</mujoco>