Metadata-Version: 2.4
Name: dinox-api
Version: 0.3.0
Summary: Python client for DinoX API - A note-taking and knowledge management system
Home-page: https://github.com/JimEverest/DinoSync
Author: JimEverest
Author-email: 
Project-URL: Homepage, https://github.com/JimEverest/DinoSync
Project-URL: Bug Reports, https://github.com/JimEverest/DinoSync/issues
Project-URL: Source, https://github.com/JimEverest/DinoSync
Project-URL: Documentation, https://github.com/JimEverest/DinoSync/blob/main/README.md
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Classifier: Topic :: Office/Business :: News/Diary
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Operating System :: OS Independent
Requires-Python: >=3.7
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: aiohttp>=3.8.0
Requires-Dist: python-dotenv>=0.19.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-cov>=4.0.0; extra == "dev"
Requires-Dist: black>=22.0.0; extra == "dev"
Requires-Dist: isort>=5.0.0; extra == "dev"
Requires-Dist: flake8>=4.0.0; extra == "dev"
Dynamic: home-page
Dynamic: license-file
Dynamic: requires-python

# Dinox API Python å®¢æˆ·ç«¯

[![PyPI version](https://badge.fury.io/py/dinox-api.svg)](https://badge.fury.io/py/dinox-api)
[![Python Version](https://img.shields.io/badge/python-3.7+-blue.svg)](https://www.python.org/downloads/)
[![Tests](https://github.com/JimEverest/DinoSync/actions/workflows/test.yml/badge.svg)](https://github.com/JimEverest/DinoSync/actions/workflows/test.yml)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€æ˜“äºä½¿ç”¨çš„ Python å¼‚æ­¥å®¢æˆ·ç«¯åº“ï¼Œç”¨äºä¸ Dinox AI ç¬”è®°æœåŠ¡è¿›è¡Œäº¤äº’ã€‚

---

## ğŸ“¦ å®‰è£…

### æ–¹æ³•ä¸€ï¼šé€šè¿‡ PyPI å®‰è£…ï¼ˆæ¨èï¼‰

```bash
pip install dinox-api
```

### æ–¹æ³•äºŒï¼šä»æºç å®‰è£…

```bash
git clone https://github.com/JimEverest/DinoSync.git
cd DinoSync
pip install -e .
```

---

## âœ¨ ç‰¹æ€§

- âœ… **å®Œæ•´çš„ API è¦†ç›–** - æ”¯æŒæ‰€æœ‰å¯ç”¨çš„ Dinox API æ¥å£
- âœ… **å¼‚æ­¥æ”¯æŒ** - åŸºäº aiohttpï¼Œæ€§èƒ½ä¼˜å¼‚
- âœ… **ç±»å‹æç¤º** - å®Œæ•´çš„ç±»å‹æ³¨è§£ï¼ŒIDE å‹å¥½
- âœ… **é”™è¯¯å¤„ç†** - è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œå¼‚å¸¸å¤„ç†
- âœ… **æ˜“äºä½¿ç”¨** - ç®€æ´çš„ API è®¾è®¡ï¼Œä¸Šä¸‹æ–‡ç®¡ç†å™¨æ”¯æŒ
- âœ… **å®‰å…¨é…ç½®** - ä½¿ç”¨ .env æ–‡ä»¶ç®¡ç†æ•æ„Ÿä¿¡æ¯
- âœ… **å…¨é¢æµ‹è¯•** - 22 ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œ100% é€šè¿‡ç‡

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä½¿ç”¨ PyPI åŒ…ï¼ˆpip install dinox-apiï¼‰

å¦‚æœä½ é€šè¿‡ `pip install dinox-api` å®‰è£…ï¼Œå¯ä»¥ç›´æ¥å¼€å§‹ä½¿ç”¨ï¼š

```python
import asyncio
import os
from dinox_client import DinoxClient  # å¯¼å…¥æ–¹å¼å®Œå…¨ç›¸åŒ

async def main():
    # æ–¹å¼1ï¼šä»ç¯å¢ƒå˜é‡æˆ– .env æ–‡ä»¶è‡ªåŠ¨åŠ è½½ Tokenï¼ˆæ¨èï¼‰
    token = os.environ.get('DINOX_API_TOKEN', 'YOUR_TOKEN')
    
    async with DinoxClient(api_token=token) as client:
        # è·å–ç¬”è®°åˆ—è¡¨
        notes = await client.get_notes_list()
        print(f"è·å–åˆ° {len(notes)} å¤©çš„ç¬”è®°")

asyncio.run(main())
```

**é…ç½® Token çš„ä¸‰ç§æ–¹æ³•ï¼š**

1. **ç¯å¢ƒå˜é‡ï¼ˆæ¨èï¼‰**
   ```bash
   export DINOX_API_TOKEN="your_token"  # Linux/Mac
   $env:DINOX_API_TOKEN="your_token"    # Windows PowerShell
   ```

2. **.env æ–‡ä»¶ï¼ˆæ¨èï¼‰**
   ```
   # åˆ›å»º .env æ–‡ä»¶
   DINOX_API_TOKEN=your_token
   ```

3. **ä»£ç ä¸­ç›´æ¥æŒ‡å®š**
   ```python
   client = DinoxClient(api_token="YOUR_TOKEN")
   ```

**æ³¨æ„äº‹é¡¹ï¼š**
- ğŸ“Œ æ¨¡å—åæ˜¯ `dinox_client`ï¼ˆä¸‹åˆ’çº¿ï¼‰ï¼Œä¸æ˜¯ `dinox-api`ï¼ˆè¿å­—ç¬¦ï¼‰
- ğŸ“Œ ä½¿ç”¨æ–¹æ³•ä¸æºç å®‰è£…å®Œå…¨ç›¸åŒ
- ğŸ“Œ æ”¯æŒæ‰€æœ‰æ–‡æ¡£ä¸­æè¿°çš„åŠŸèƒ½å’Œé…ç½®é€‰é¡¹
- ğŸ“Œ Token å¯ä»¥ä»ç¯å¢ƒå˜é‡æˆ– .env æ–‡ä»¶è‡ªåŠ¨åŠ è½½

### ä»æºç ä½¿ç”¨

å¦‚æœä½ æ˜¯ä» GitHub å…‹éš†çš„é¡¹ç›®ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

#### 1. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

#### 2. é…ç½® API Token

å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿å¹¶é…ç½®æ‚¨çš„ Tokenï¼š

```bash
# Linux/Mac
cp env.example .env

# Windows
copy env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```bash
DINOX_API_TOKEN=your_actual_token_here
```

#### 3. åŸºç¡€ä½¿ç”¨

```python
import asyncio
import os
from dinox_client import DinoxClient

async def main():
    # ä»ç¯å¢ƒå˜é‡æˆ– .env æ–‡ä»¶è¯»å– Token
    token = os.environ.get('DINOX_API_TOKEN', 'YOUR_TOKEN')
    
    async with DinoxClient(api_token=token) as client:
        # è·å–ç¬”è®°åˆ—è¡¨
        notes = await client.get_notes_list()
        print(f"è·å–åˆ° {len(notes)} å¤©çš„ç¬”è®°")
        
        # éå†ç¬”è®°
        for day_note in notes:
            print(f"æ—¥æœŸ: {day_note['date']}")
            for note in day_note['notes']:
                print(f"  - {note['title']}")

asyncio.run(main())
```

---

## ğŸ“š ä¸»è¦åŠŸèƒ½

### PyPI åŒ…å®Œæ•´ä½¿ç”¨ç¤ºä¾‹

é€šè¿‡ `pip install dinox-api` å®‰è£…åï¼Œç›´æ¥ä½¿ç”¨ï¼š

```python
from dinox_client import DinoxClient
import asyncio
import os

async def example():
    # ä»ç¯å¢ƒå˜é‡è¯»å–Tokenï¼ˆæ¨èï¼‰
    token = os.environ.get('DINOX_API_TOKEN', 'YOUR_TOKEN')
    
    async with DinoxClient(api_token=token) as client:
        # æŸ¥è¯¢ç¬”è®°ï¼ˆè‡ªåŠ¨ä½¿ç”¨ç¬”è®°æœåŠ¡å™¨ï¼‰
        notes = await client.get_notes_list()
        print(f"è·å–åˆ° {len(notes)} å¤©çš„ç¬”è®°")
        
        # æœç´¢ç¬”è®°ï¼ˆè‡ªåŠ¨ä½¿ç”¨AIæœåŠ¡å™¨ï¼‰
        results = await client.search_notes(["Python", "AI"])
        print(f"æœç´¢ç»“æœ: {len(results.get('content', ''))} å­—ç¬¦")
        
        # åˆ›å»ºç¬”è®°ï¼ˆè‡ªåŠ¨ä½¿ç”¨AIæœåŠ¡å™¨ï¼‰
        await client.create_note("# æ–°ç¬”è®°\n\né€šè¿‡APIåˆ›å»º")
            
# è¿è¡Œ
asyncio.run(example())
```

### åœºæ™¯ 1ï¼šæŸ¥è¯¢ç¬”è®°

```python
async with DinoxClient(api_token=token) as client:
    # è·å–æ‰€æœ‰ç¬”è®°
    notes = await client.get_notes_list()
    
    # å¢é‡åŒæ­¥
    recent = await client.get_notes_list(last_sync_time="2025-10-18 00:00:00")
    
    # æ ¹æ® ID æŸ¥è¯¢
    note = await client.get_note_by_id("note-id-here")
```

### åœºæ™¯ 2ï¼šæœç´¢å’Œåˆ›å»ºç¬”è®°

```python
async with DinoxClient(api_token=token) as client:
    # æœç´¢ç¬”è®°
    result = await client.search_notes(["å…³é”®è¯"])
    print(result['content'])
    
    # åˆ›å»ºç¬”è®°
    await client.create_note("# æ ‡é¢˜\n\nå†…å®¹")
    
    # è·å–å¡ç‰‡ç›’
    boxes = await client.get_zettelboxes()
```

### åœºæ™¯ 3ï¼šå®Œæ•´å·¥ä½œæµ

```python
async def complete_workflow():
    token = "YOUR_TOKEN"
    
    async with DinoxClient(api_token=token) as client:
        # 1. åŒæ­¥ç¬”è®°
        print("æ­¥éª¤1: åŒæ­¥ç¬”è®°...")
        notes = await client.get_notes_list()
        print(f"è·å–åˆ° {len(notes)} å¤©çš„ç¬”è®°")
        
        # 2. æœç´¢å†…å®¹
        print("\næ­¥éª¤2: æœç´¢ç¬”è®°...")
        result = await client.search_notes(["Python", "API"])
        print(f"æ‰¾åˆ°ç›¸å…³å†…å®¹")
        
        # 3. åˆ›å»ºæ–°ç¬”è®°
        print("\næ­¥éª¤3: åˆ›å»ºæ–°ç¬”è®°...")
        await client.create_note("# æ–°ç¬”è®°\n\né€šè¿‡ API åˆ›å»º")
        print("åˆ›å»ºæˆåŠŸ")
```

---

## ğŸ§ª è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
python -m pytest test_dinox_client.py -v

# æŸ¥çœ‹ç¤ºä¾‹
python example.py
```

**æµ‹è¯•ç»“æœ**ï¼š
```
======================== 22 passed in 3.79s ========================
```

---

## ğŸ“– API å‚è€ƒ

### âœ¨ v0.2.0 è‡ªåŠ¨æœåŠ¡å™¨è·¯ç”±

**æ— éœ€é…ç½®æœåŠ¡å™¨ï¼** å®¢æˆ·ç«¯è‡ªåŠ¨æ ¹æ®è°ƒç”¨çš„æ–¹æ³•é€‰æ‹©æ­£ç¡®çš„æœåŠ¡å™¨ï¼š

```python
async with DinoxClient(api_token="YOUR_TOKEN") as client:
    # è‡ªåŠ¨ä½¿ç”¨ç¬”è®°æœåŠ¡å™¨
    notes = await client.get_notes_list()
    note = await client.get_note_by_id("note-id")
    
    # è‡ªåŠ¨ä½¿ç”¨ AI æœåŠ¡å™¨
    results = await client.search_notes(["å…³é”®è¯"])
    await client.create_note("# æ–°ç¬”è®°\n\nå†…å®¹")
    boxes = await client.get_zettelboxes()
```

**æœåŠ¡å™¨æ˜ å°„ï¼ˆè‡ªåŠ¨å¤„ç†ï¼‰ï¼š**

| æœåŠ¡å™¨ | URL | æ–¹æ³• |
|--------|-----|------|
| ç¬”è®°æœåŠ¡å™¨ | `dinoai.chatgo.pro` | `get_notes_list`, `get_note_by_id`, `update_note` |
| AIæœåŠ¡å™¨ | `aisdk.chatgo.pro` | `search_notes`, `create_note`, `get_zettelboxes` |

### å¯ç”¨çš„æ–¹æ³•

| æ–¹æ³• | åŠŸèƒ½ | æœåŠ¡å™¨ | çŠ¶æ€ |
|------|------|--------|------|
| `get_notes_list(...)` | è·å–ç¬”è®°åˆ—è¡¨ï¼Œæ”¯æŒå¢é‡åŒæ­¥ | ç¬”è®°æœåŠ¡å™¨ | âœ… å¯ç”¨ |
| `get_note_by_id(note_id)` | æ ¹æ® ID æŸ¥è¯¢ç¬”è®° | ç¬”è®°æœåŠ¡å™¨ | âœ… å¯ç”¨ |
| `search_notes(keywords)` | æœç´¢ç¬”è®° | AIæœåŠ¡å™¨ | âœ… å¯ç”¨ |
| `get_zettelboxes()` | è·å–å¡ç‰‡ç›’åˆ—è¡¨ | AIæœåŠ¡å™¨ | âœ… å¯ç”¨ |
| `create_note(content, ...)` | åˆ›å»ºç¬”è®°ï¼ˆæ”¯æŒå¡ç‰‡ç›’ï¼‰ | AIæœåŠ¡å™¨ | âœ… å¯ç”¨ |
| `create_text_note(content)` | åˆ›å»ºæ–‡å­—ç¬”è®° | AIæœåŠ¡å™¨ | âœ… å¯ç”¨ |
| `update_note(note_id, content_md)` | æ›´æ–°ç¬”è®°å†…å®¹ | ç¬”è®°æœåŠ¡å™¨ | âœ… å¯ç”¨ |
| `format_sync_time(dt)` | æ ¼å¼åŒ–åŒæ­¥æ—¶é—´ | æœ¬åœ° | âœ… å¯ç”¨ |

### ğŸ“š API å‚è€ƒ

**å®Œæ•´APIæ–‡æ¡£:** æŸ¥çœ‹ [API.md](API.md)

å¸¸ç”¨æ–¹æ³•å¿«é€Ÿå‚è€ƒï¼š

```python
# æŸ¥è¯¢
await client.get_notes_list(last_sync_time="2025-10-20 00:00:00")
await client.get_note_by_id(note_id)
await client.search_notes(["å…³é”®è¯"])

# åˆ›å»º/æ›´æ–°
await client.create_note(content="# æ ‡é¢˜\n\nå†…å®¹")
await client.update_note(note_id, content_md)

# å¡ç‰‡ç›’
await client.get_zettelboxes()

# å·¥å…·
DinoxClient.format_sync_time(datetime.now())
```

**è¯¦ç»†å‚æ•°è¯´æ˜:** è§ [API.md](API.md)

---

## âš ï¸ é”™è¯¯å¤„ç†

```python
from dinox_client import DinoxAPIError

try:
    async with DinoxClient(api_token=token) as client:
        notes = await client.get_notes_list()
except DinoxAPIError as e:
    print(f"é”™è¯¯: [{e.code}] {e.message}")
    print(f"HTTP çŠ¶æ€: {e.status_code}")
```

---

## ğŸ“ æ›´å¤šæ–‡æ¡£

- **API å‚è€ƒ:** [API.md](API.md) - å®Œæ•´æ–¹æ³•æ–‡æ¡£
- **å¼€å‘æŒ‡å—:** [DEVELOPMENT.md](DEVELOPMENT.md) - æµ‹è¯•ã€å‘å¸ƒæµç¨‹
- **æ•…éšœæ’æŸ¥:** [TROUBLESHOOTING.md](TROUBLESHOOTING.md) - å¸¸è§é—®é¢˜è§£å†³
- **ç‰ˆæœ¬å†å²:** [CHANGELOG.md](CHANGELOG.md) - æ›´æ–°è®°å½•

---

## ğŸ“– å¸¸è§é—®é¢˜

**Q: åŒ…åå’Œæ¨¡å—åä¸ºä»€ä¹ˆä¸ä¸€æ ·ï¼Ÿ**  
A: å®‰è£…ç”¨ `dinox-api`ï¼Œå¯¼å…¥ç”¨ `dinox_client`ï¼ˆPythoné™åˆ¶ï¼‰

**Q: é‡åˆ° 404 é”™è¯¯ï¼Ÿ**  
A: æŸ¥çœ‹ [TROUBLESHOOTING.md](TROUBLESHOOTING.md)

**Q: å¦‚ä½•è¿è¡Œæµ‹è¯•ï¼Ÿ**  
A: `pytest test_dinox_client.py -v` æˆ– `python health_check.py`

**Q: Token åœ¨å“ªè·å–ï¼Ÿ**  
A: è”ç³» Dinox ç®¡ç†å‘˜

**æ›´å¤šé—®é¢˜:** è§ [TROUBLESHOOTING.md](TROUBLESHOOTING.md)

---

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE)

## ğŸ“ æ”¯æŒ

- **GitHub:** https://github.com/JimEverest/DinoSync
- **PyPI:** https://pypi.org/project/dinox-api/
- **å®˜ç½‘:** https://dinox.info

