{#def identifier=None, creatibutorName=None, fallbackImage="/static/images/square-placeholder.png" #}
{%if identifier %}
    {% set scheme = identifier.scheme or "" %}
    {% set value = identifier.identifier or "" %}
    {% if scheme %}
      {% set lowercaseScheme = scheme.lower() %}
    {% else %} 
      {% set lowercaseScheme = "" %}
    {% endif %}

    {% set link = identifier.url %}
    {% set badgeTitle = creatibutorName + " " + scheme + ": " + value %}
    {% set icon = "/static/images/identifiers/{}.svg".format(lowercaseScheme) %}
    {% set alt = "{} logo".format(scheme)%}

  {% endif %}

  {% if link %}
  <a
    class="no-text-decoration mr-0"
    href="{{ link }}"
    aria-label="{{ badgeTitle }}"
    title="{{ badgeTitle }}"
    key="{{ link }}"
    rel="noopener noreferrer"
    target="_blank"
  >
    <img 
      class="inline-id-icon identifier-badge" 
      src="{{ icon }}" 
      alt="{{ alt }}" 
      onerror="this.onerror=null; this.src='{{fallbackImage}}';"
    />
  </a>
{% else %}
  <img 
    title="{{ badgeTitle }}" 
    class="inline-id-icon identifier-badge" 
    src="{{ icon }}" 
    alt="{{ alt }}" 
    onerror="this.onerror=null; this.src='{{fallbackImage}}';"
  />
{% endif %}

