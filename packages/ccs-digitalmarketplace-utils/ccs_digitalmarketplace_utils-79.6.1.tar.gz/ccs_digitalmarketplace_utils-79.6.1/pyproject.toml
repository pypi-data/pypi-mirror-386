[build-system]
requires = ["setuptools"]
build-backend = "setuptools.build_meta"

[project]
name = "ccs-digitalmarketplace-utils"
dynamic = ["version"]
dependencies = [
  'Flask-WTF>=1.2.1',
  'Flask>=3.0,<3.2',
  'Flask-gzip>=0.2',
  'Flask-Login>=0.6.3',
  'Flask-Session>=0.6.0,<0.9.0',
  'boto3<2,>=1.7.83',
  'contextlib2>=21.6.0',
  'cryptography>=41.0.4',
  'ccs-digitalmarketplace-apiclient>=37.1.1',
  'mailchimp3==3.0.21',
  'requests>=2.22.0,<3',
  'redis>=5.0.1',
  'fleep<1.1,>=1.0.1',
  'notifications-python-client>=8.1.0,<11.0.0',
  'odfpy>=1.4.1',
  'python-json-logger>=4.0.0,<5.0.0',
  'pytz',
  'unicodecsv>=0.14.1',
  'urllib3<3',
  'werkzeug>=3.0,<3.2',
  'workdays>=1.4',
]
requires-python = ">=3.11,<3.14"
authors = [
  {name = "GDS Developers"},
  {name = "CCS Developers"},
]
description = "Common utils for Digital Marketplace apps."
readme = "README.md"
license = {file = "LICENSE"}

[project.urls]
Homepage = "https://github.com/Crown-Commercial-Service/ccs-digitalmarketplace-utils"
Repository = "https://github.com/Crown-Commercial-Service/ccs-digitalmarketplace-utils.git"
Issues = "https://github.com/Crown-Commercial-Service/ccs-digitalmarketplace-utils/issues"
Changelog = "https://github.com/Crown-Commercial-Service/ccs-digitalmarketplace-utils/CHANGELOG.md"

[project.optional-dependencies]
dev = [
  'flake8==7.3.0',
  'freezegun==1.5.5',
  'hypothesis==6.142.1',
  'moto==5.1.15',
  'mypy==1.18.2',
  'pytest==8.4.2',
  'pytest-cov==7.0.0',
  'pytest-datadir==1.8.0',
  'requests-mock==1.12.1',
  'testfixtures==9.2.0',
  'ccs-digitalmarketplace-test-utils==7.0.1',
  'types-python-dateutil',
  'types-pytz',
  'types-redis',
  'types-requests',
  'pre-commit==4.3.0',
]

[tool.setuptools.dynamic]
version = {attr = "dmutils.__version__"}

[tool.setuptools.package-data]
"dmutils" = [
  "govuk_country_register/country.csv",
  "govuk_country_register/country.json",
  "py.typed",
]

[tool.pytest.ini_options]
addopts = "-p no:logging --cov=dmutils"
testpaths = "tests"
