{% extends base_template %}

{% block title %}Configuration::{{config.APP_NAME}}{% endblock %}



{% block content %}


<a id="configuration"></a>
<h2 class="text-center pt-3">Configuring This Website</h2>
<div class="w-75 mx-auto">
    <p>
        You should read the comments in <code>protein_turnover_website/config.py</code>.
        These should be set in
        <code><a href="https://flask.palletsprojects.com/en/3.0.x/config/#instance-folders">instance/turnover-web.toml</a></code>
        if running a multi user website or <code>~/.turnover.toml</code> (under <code>[website]</code>) if running as
        a single user site (e.g. as <code>turnover web</code>).
    <ul>
        <li>
            <code>JOBSDIR</code> = <code>"/path/to/jobs-directory"</code>
            where job files live. Default is <code>~/turnover_jobs</code>
        </li>
        <li>
            <code>CACHEDIR</code> = <code>"/path/to/cachedir"</code>
            where cache files live.  Default is <code>~/turnover_cache</code>
        </li>
        <li>
            <code>MOUNTPOINTS</code> A list of directories visible to users of this website.
            Represented as a list of
            <code>[/full/path/to/directory, nickname, optional regex *string* to restrict visible files]</code>.
            e.g.
            <pre>MOUNTPOINTS = [["/path/to/protein_turnover_data", "Turnover", '^.*\.(mzML|pep.xml)$'],
                ["/path/to/home", "HOME"]]</pre>
            Remember that <i>changing</i> MOUNTPOINTS may make filenames already stored in '<code>*.toml</code>'
            job
            files "inaccessible" to this website since the mapping of
            <code>absolute path => (mountpoint, relative path)</code> may be broken.
            <b>Also</b> remember that all files specified under <code>MOUNTPOINTS</code>
            are potentially visible to <i>everybody</i>!

            <p>
            The default is <code>[["~", "HOME"]]</code>
            </p>
        </li>
        <li>
            <code>SITE_PASSWORD</code>. Secure access to this site using a password.
            If this is a dictionary then it is assumed to be a dictionary of
            <code>{email: password}</code> otherwise just a string that all users
            need to know. If this is set you will <i>also</i> need to add
            a <code>SECRET_KEY</code>. (See <a
                href="https://flask.palletsprojects.com/en/2.2.x/config/#SECRET_KEY">here</a>)
        </li>
        <li>
            <code>ADMINS</code> a <i>list</i> of emails that will be used to
            log any unexpected problems with this website. (See also <code>LOG_MAIL_SERVER</code>)
        </li>
        <li>
            <code>LOG_MAIL_SERVER</code>. Where to send any emails generated by this website.
            You probably want to set this if you have set <code>ADMINS</code>!
        </li>
    </ul>
    </p>
</div>

<hr>
<a id="data"></a>
<h2 class="text-center">Data in Petides Table</h2>
<div class="w-75 mx-auto">
    {% include "table_meta.html" %}
</div>
</div>
{% endblock content %}
